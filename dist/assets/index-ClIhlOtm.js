var H$=Object.defineProperty;var w4=n=>{throw TypeError(n)};var V$=(n,e,t)=>e in n?H$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ke=(n,e,t)=>V$(n,typeof e!="symbol"?e+"":e,t),MO=(n,e,t)=>e.has(n)||w4("Cannot "+t);var q=(n,e,t)=>(MO(n,e,"read from private field"),t?t.call(n):e.get(n)),$e=(n,e,t)=>e.has(n)?w4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),pe=(n,e,t,r)=>(MO(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),_t=(n,e,t)=>(MO(n,e,"access private method"),t);var N1=(n,e,t,r)=>({set _(i){pe(n,e,i,t)},get _(){return q(n,e,r)}});function j$(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Cu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var TO={exports:{}},D1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S4;function W$(){if(S4)return D1;S4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return D1.Fragment=e,D1.jsx=t,D1.jsxs=t,D1}var A4;function q$(){return A4||(A4=1,TO.exports=W$()),TO.exports}var K=q$(),CO={exports:{}},vn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E4;function X$(){if(E4)return vn;E4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function A(B,Z,le){this.props=B,this.context=Z,this.refs=w,this.updater=le||x}A.prototype.isReactComponent={},A.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=A.prototype;function C(B,Z,le){this.props=B,this.context=Z,this.refs=w,this.updater=le||x}var O=C.prototype=new T;O.constructor=C,S(O,A.prototype),O.isPureReactComponent=!0;var R=Array.isArray;function D(){}var I={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function L(B,Z,le){var he=le.ref;return{$$typeof:n,type:B,key:Z,ref:he!==void 0?he:null,props:le}}function k(B,Z){return L(B.type,Z,B.props)}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function j(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(le){return Z[le]})}var Y=/\/+/g;function re(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):Z.toString(36)}function Q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(D,D):(B.status="pending",B.then(function(Z){B.status==="pending"&&(B.status="fulfilled",B.value=Z)},function(Z){B.status==="pending"&&(B.status="rejected",B.reason=Z)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function W(B,Z,le,he,ve){var ue=typeof B;(ue==="undefined"||ue==="boolean")&&(B=null);var ce=!1;if(B===null)ce=!0;else switch(ue){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(B.$$typeof){case n:case e:ce=!0;break;case h:return ce=B._init,W(ce(B._payload),Z,le,he,ve)}}if(ce)return ve=ve(B),ce=he===""?"."+re(B,0):he,R(ve)?(le="",ce!=null&&(le=ce.replace(Y,"$&/")+"/"),W(ve,Z,le,"",function(Ne){return Ne})):ve!=null&&(V(ve)&&(ve=k(ve,le+(ve.key==null||B&&B.key===ve.key?"":(""+ve.key).replace(Y,"$&/")+"/")+ce)),Z.push(ve)),1;ce=0;var Se=he===""?".":he+":";if(R(B))for(var me=0;me<B.length;me++)he=B[me],ue=Se+re(he,me),ce+=W(he,Z,le,ue,ve);else if(me=y(B),typeof me=="function")for(B=me.call(B),me=0;!(he=B.next()).done;)he=he.value,ue=Se+re(he,me++),ce+=W(he,Z,le,ue,ve);else if(ue==="object"){if(typeof B.then=="function")return W(Q(B),Z,le,he,ve);throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ce}function X(B,Z,le){if(B==null)return B;var he=[],ve=0;return W(B,he,"","",function(ue){return Z.call(le,ue,ve++)}),he}function se(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(le){(B._status===0||B._status===-1)&&(B._status=1,B._result=le)},function(le){(B._status===0||B._status===-1)&&(B._status=2,B._result=le)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var J=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ae={map:X,forEach:function(B,Z,le){X(B,function(){Z.apply(this,arguments)},le)},count:function(B){var Z=0;return X(B,function(){Z++}),Z},toArray:function(B){return X(B,function(Z){return Z})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return vn.Activity=p,vn.Children=ae,vn.Component=A,vn.Fragment=t,vn.Profiler=i,vn.PureComponent=C,vn.StrictMode=r,vn.Suspense=u,vn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vn.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},vn.cache=function(B){return function(){return B.apply(null,arguments)}},vn.cacheSignal=function(){return null},vn.cloneElement=function(B,Z,le){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var he=S({},B.props),ve=B.key;if(Z!=null)for(ue in Z.key!==void 0&&(ve=""+Z.key),Z)!F.call(Z,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&Z.ref===void 0||(he[ue]=Z[ue]);var ue=arguments.length-2;if(ue===1)he.children=le;else if(1<ue){for(var ce=Array(ue),Se=0;Se<ue;Se++)ce[Se]=arguments[Se+2];he.children=ce}return L(B.type,ve,he)},vn.createContext=function(B){return B={$$typeof:s,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},vn.createElement=function(B,Z,le){var he,ve={},ue=null;if(Z!=null)for(he in Z.key!==void 0&&(ue=""+Z.key),Z)F.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ve[he]=Z[he]);var ce=arguments.length-2;if(ce===1)ve.children=le;else if(1<ce){for(var Se=Array(ce),me=0;me<ce;me++)Se[me]=arguments[me+2];ve.children=Se}if(B&&B.defaultProps)for(he in ce=B.defaultProps,ce)ve[he]===void 0&&(ve[he]=ce[he]);return L(B,ue,ve)},vn.createRef=function(){return{current:null}},vn.forwardRef=function(B){return{$$typeof:o,render:B}},vn.isValidElement=V,vn.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:se}},vn.memo=function(B,Z){return{$$typeof:c,type:B,compare:Z===void 0?null:Z}},vn.startTransition=function(B){var Z=I.T,le={};I.T=le;try{var he=B(),ve=I.S;ve!==null&&ve(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(D,J)}catch(ue){J(ue)}finally{Z!==null&&le.types!==null&&(Z.types=le.types),I.T=Z}},vn.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vn.use=function(B){return I.H.use(B)},vn.useActionState=function(B,Z,le){return I.H.useActionState(B,Z,le)},vn.useCallback=function(B,Z){return I.H.useCallback(B,Z)},vn.useContext=function(B){return I.H.useContext(B)},vn.useDebugValue=function(){},vn.useDeferredValue=function(B,Z){return I.H.useDeferredValue(B,Z)},vn.useEffect=function(B,Z){return I.H.useEffect(B,Z)},vn.useEffectEvent=function(B){return I.H.useEffectEvent(B)},vn.useId=function(){return I.H.useId()},vn.useImperativeHandle=function(B,Z,le){return I.H.useImperativeHandle(B,Z,le)},vn.useInsertionEffect=function(B,Z){return I.H.useInsertionEffect(B,Z)},vn.useLayoutEffect=function(B,Z){return I.H.useLayoutEffect(B,Z)},vn.useMemo=function(B,Z){return I.H.useMemo(B,Z)},vn.useOptimistic=function(B,Z){return I.H.useOptimistic(B,Z)},vn.useReducer=function(B,Z,le){return I.H.useReducer(B,Z,le)},vn.useRef=function(B){return I.H.useRef(B)},vn.useState=function(B){return I.H.useState(B)},vn.useSyncExternalStore=function(B,Z,le){return I.H.useSyncExternalStore(B,Z,le)},vn.useTransition=function(){return I.H.useTransition()},vn.version="19.2.3",vn}var M4;function Qb(){return M4||(M4=1,CO.exports=X$()),CO.exports}var z=Qb();const Fw=Cu(z),Y$=j$({__proto__:null,default:Fw},[z]);var PO={exports:{}},I1={},OO={exports:{}},RO={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T4;function K$(){return T4||(T4=1,(function(n){function e(W,X){var se=W.length;W.push(X);e:for(;0<se;){var J=se-1>>>1,ae=W[J];if(0<i(ae,X))W[J]=X,W[se]=ae,se=J;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var X=W[0],se=W.pop();if(se!==X){W[0]=se;e:for(var J=0,ae=W.length,B=ae>>>1;J<B;){var Z=2*(J+1)-1,le=W[Z],he=Z+1,ve=W[he];if(0>i(le,se))he<ae&&0>i(ve,le)?(W[J]=ve,W[he]=se,J=he):(W[J]=le,W[Z]=se,J=Z);else if(he<ae&&0>i(ve,se))W[J]=ve,W[he]=se,J=he;else break e}}return X}function i(W,X){var se=W.sortIndex-X.sortIndex;return se!==0?se:W.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var u=[],c=[],h=1,p=null,v=3,y=!1,x=!1,S=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(W){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=W)r(c),X.sortIndex=X.expirationTime,e(u,X);else break;X=t(c)}}function R(W){if(S=!1,O(W),!x)if(t(u)!==null)x=!0,D||(D=!0,j());else{var X=t(c);X!==null&&Q(R,X.startTime-W)}}var D=!1,I=-1,F=5,L=-1;function k(){return w?!0:!(n.unstable_now()-L<F)}function V(){if(w=!1,D){var W=n.unstable_now();L=W;var X=!0;try{e:{x=!1,S&&(S=!1,T(I),I=-1),y=!0;var se=v;try{t:{for(O(W),p=t(u);p!==null&&!(p.expirationTime>W&&k());){var J=p.callback;if(typeof J=="function"){p.callback=null,v=p.priorityLevel;var ae=J(p.expirationTime<=W);if(W=n.unstable_now(),typeof ae=="function"){p.callback=ae,O(W),X=!0;break t}p===t(u)&&r(u),O(W)}else r(u);p=t(u)}if(p!==null)X=!0;else{var B=t(c);B!==null&&Q(R,B.startTime-W),X=!1}}break e}finally{p=null,v=se,y=!1}X=void 0}}finally{X?j():D=!1}}}var j;if(typeof C=="function")j=function(){C(V)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,re=Y.port2;Y.port1.onmessage=V,j=function(){re.postMessage(null)}}else j=function(){A(V,0)};function Q(W,X){I=A(function(){W(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(W){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var se=v;v=X;try{return W()}finally{v=se}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var se=v;v=W;try{return X()}finally{v=se}},n.unstable_scheduleCallback=function(W,X,se){var J=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?J+se:J):se=J,W){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=se+ae,W={id:h++,callback:X,priorityLevel:W,startTime:se,expirationTime:ae,sortIndex:-1},se>J?(W.sortIndex=se,e(c,W),t(u)===null&&W===t(c)&&(S?(T(I),I=-1):S=!0,Q(R,se-J))):(W.sortIndex=ae,e(u,W),x||y||(x=!0,D||(D=!0,j()))),W},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(W){var X=v;return function(){var se=v;v=X;try{return W.apply(this,arguments)}finally{v=se}}}})(RO)),RO}var C4;function qH(){return C4||(C4=1,OO.exports=K$()),OO.exports}var NO={exports:{}},_s={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4;function $$(){if(P4)return _s;P4=1;var n=Qb();function e(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,c,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:c,implementation:h}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return _s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_s.createPortal=function(u,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(u,c,null,h)},_s.flushSync=function(u){var c=s.T,h=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=c,r.p=h,r.d.f()}},_s.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(u,c))},_s.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},_s.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var h=c.as,p=o(h,c.crossOrigin),v=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},_s.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=o(c.as,c.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(u)},_s.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,p=o(h,c.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},_s.preloadModule=function(u,c){if(typeof u=="string")if(c){var h=o(c.as,c.crossOrigin);r.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(u)},_s.requestFormReset=function(u){r.d.r(u)},_s.unstable_batchedUpdates=function(u,c){return u(c)},_s.useFormState=function(u,c,h){return s.H.useFormState(u,c,h)},_s.useFormStatus=function(){return s.H.useHostTransitionStatus()},_s.version="19.2.3",_s}var O4;function XH(){if(O4)return NO.exports;O4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),NO.exports=$$(),NO.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R4;function Z$(){if(R4)return I1;R4=1;var n=qH(),e=Qb(),t=XH();function r(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var f=l,g=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(g=f.return),l=f.return;while(l)}return f.tag===3?g:null}function s(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function u(l){if(a(l)!==l)throw Error(r(188))}function c(l){var f=l.alternate;if(!f){if(f=a(l),f===null)throw Error(r(188));return f!==l?null:l}for(var g=l,b=f;;){var M=g.return;if(M===null)break;var P=M.alternate;if(P===null){if(b=M.return,b!==null){g=b;continue}break}if(M.child===P.child){for(P=M.child;P;){if(P===g)return u(M),l;if(P===b)return u(M),f;P=P.sibling}throw Error(r(188))}if(g.return!==b.return)g=M,b=P;else{for(var G=!1,ie=M.child;ie;){if(ie===g){G=!0,g=M,b=P;break}if(ie===b){G=!0,b=M,g=P;break}ie=ie.sibling}if(!G){for(ie=P.child;ie;){if(ie===g){G=!0,g=P,b=M;break}if(ie===b){G=!0,b=P,g=M;break}ie=ie.sibling}if(!G)throw Error(r(189))}}if(g.alternate!==b)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?l:f}function h(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=h(l),f!==null)return f;l=l.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(l){return l===null||typeof l!="object"?null:(l=V&&l[V]||l["@@iterator"],typeof l=="function"?l:null)}var Y=Symbol.for("react.client.reference");function re(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Y?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case S:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case x:return"Portal";case C:return l.displayName||"Context";case T:return(l._context.displayName||"Context")+".Consumer";case O:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case I:return f=l.displayName||null,f!==null?f:re(l.type)||"Memo";case F:f=l._payload,l=l._init;try{return re(l(f))}catch{}}return null}var Q=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},J=[],ae=-1;function B(l){return{current:l}}function Z(l){0>ae||(l.current=J[ae],J[ae]=null,ae--)}function le(l,f){ae++,J[ae]=l.current,l.current=f}var he=B(null),ve=B(null),ue=B(null),ce=B(null);function Se(l,f){switch(le(ue,f),le(ve,l),le(he,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?Wk(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=Wk(f),l=qk(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Z(he),le(he,l)}function me(){Z(he),Z(ve),Z(ue)}function Ne(l){l.memoizedState!==null&&le(ce,l);var f=he.current,g=qk(f,l.type);f!==g&&(le(ve,l),le(he,g))}function Be(l){ve.current===l&&(Z(he),Z(ve)),ce.current===l&&(Z(ce),C1._currentValue=se)}var ye,ut;function _e(l){if(ye===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);ye=f&&f[1]||"",ut=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+l+ut}var Le=!1;function Ce(l,f){if(!l||Le)return"";Le=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(et){var We=et}Reflect.construct(l,[],pt)}else{try{pt.call()}catch(et){We=et}l.call(pt.prototype)}}else{try{throw Error()}catch(et){We=et}(pt=l())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(et){if(et&&We&&typeof et.stack=="string")return[et.stack,We.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=b.DetermineComponentFrameRoot(),G=P[0],ie=P[1];if(G&&ie){var be=G.split(`
`),He=ie.split(`
`);for(M=b=0;b<be.length&&!be[b].includes("DetermineComponentFrameRoot");)b++;for(;M<He.length&&!He[M].includes("DetermineComponentFrameRoot");)M++;if(b===be.length||M===He.length)for(b=be.length-1,M=He.length-1;1<=b&&0<=M&&be[b]!==He[M];)M--;for(;1<=b&&0<=M;b--,M--)if(be[b]!==He[M]){if(b!==1||M!==1)do if(b--,M--,0>M||be[b]!==He[M]){var lt=`
`+be[b].replace(" at new "," at ");return l.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",l.displayName)),lt}while(1<=b&&0<=M);break}}}finally{Le=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?_e(g):""}function tt(l,f){switch(l.tag){case 26:case 27:case 5:return _e(l.type);case 16:return _e("Lazy");case 13:return l.child!==f&&f!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Ce(l.type,!1);case 11:return Ce(l.type.render,!1);case 1:return Ce(l.type,!0);case 31:return _e("Activity");default:return""}}function ne(l){try{var f="",g=null;do f+=tt(l,g),g=l,l=l.return;while(l);return f}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var ft=Object.prototype.hasOwnProperty,Ze=n.unstable_scheduleCallback,De=n.unstable_cancelCallback,qe=n.unstable_shouldYield,$=n.unstable_requestPaint,H=n.unstable_now,de=n.unstable_getCurrentPriorityLevel,Ue=n.unstable_ImmediatePriority,Pe=n.unstable_UserBlockingPriority,Ee=n.unstable_NormalPriority,ct=n.unstable_LowPriority,ot=n.unstable_IdlePriority,bt=n.log,Mt=n.unstable_setDisableYieldValue,Xe=null,Qe=null;function nt(l){if(typeof bt=="function"&&Mt(l),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Xe,l)}catch{}}var fe=Math.clz32?Math.clz32:ge,Te=Math.log,vt=Math.LN2;function ge(l){return l>>>=0,l===0?32:31-(Te(l)/vt|0)|0}var Ye=256,rt=262144,wt=4194304;function it(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ge(l,f,g){var b=l.pendingLanes;if(b===0)return 0;var M=0,P=l.suspendedLanes,G=l.pingedLanes;l=l.warmLanes;var ie=b&134217727;return ie!==0?(b=ie&~P,b!==0?M=it(b):(G&=ie,G!==0?M=it(G):g||(g=ie&~l,g!==0&&(M=it(g))))):(ie=b&~P,ie!==0?M=it(ie):G!==0?M=it(G):g||(g=b&~l,g!==0&&(M=it(g)))),M===0?0:f!==0&&f!==M&&(f&P)===0&&(P=M&-M,g=f&-f,P>=g||P===32&&(g&4194048)!==0)?f:M}function ht(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function Ct(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tt(){var l=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),l}function Gt(l){for(var f=[],g=0;31>g;g++)f.push(l);return f}function Mn(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function kn(l,f,g,b,M,P){var G=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var ie=l.entanglements,be=l.expirationTimes,He=l.hiddenUpdates;for(g=G&~g;0<g;){var lt=31-fe(g),pt=1<<lt;ie[lt]=0,be[lt]=-1;var We=He[lt];if(We!==null)for(He[lt]=null,lt=0;lt<We.length;lt++){var et=We[lt];et!==null&&(et.lane&=-536870913)}g&=~pt}b!==0&&pr(l,b,0),P!==0&&M===0&&l.tag!==0&&(l.suspendedLanes|=P&~(G&~f))}function pr(l,f,g){l.pendingLanes|=f,l.suspendedLanes&=~f;var b=31-fe(f);l.entangledLanes|=f,l.entanglements[b]=l.entanglements[b]|1073741824|g&261930}function wi(l,f){var g=l.entangledLanes|=f;for(l=l.entanglements;g;){var b=31-fe(g),M=1<<b;M&f|l[b]&f&&(l[b]|=f),g&=~M}}function xa(l,f){var g=f&-f;return g=(g&42)!==0?1:ji(g),(g&(l.suspendedLanes|f))!==0?0:g}function ji(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Wi(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Fa(){var l=X.p;return l!==0?l:(l=window.event,l===void 0?32:m4(l.type))}function _r(l,f){var g=X.p;try{return X.p=l,f()}finally{X.p=g}}var ur=Math.random().toString(36).slice(2),tr="__reactFiber$"+ur,Zr="__reactProps$"+ur,aa="__reactContainer$"+ur,za="__reactEvents$"+ur,_a="__reactListeners$"+ur,Ls="__reactHandles$"+ur,nl="__reactResources$"+ur,Us="__reactMarker$"+ur;function vo(l){delete l[tr],delete l[Zr],delete l[za],delete l[_a],delete l[Ls]}function cs(l){var f=l[tr];if(f)return f;for(var g=l.parentNode;g;){if(f=g[aa]||g[tr]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(l=Jk(l);l!==null;){if(g=l[tr])return g;l=Jk(l)}return f}l=g,g=l.parentNode}return null}function ks(l){if(l=l[tr]||l[aa]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function yo(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(r(33))}function Ft(l){var f=l[nl];return f||(f=l[nl]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function te(l){l[Us]=!0}var Me=new Set,je={};function Fe(l,f){Oe(l,f),Oe(l+"Capture",f)}function Oe(l,f){for(je[l]=f,l=0;l<f.length;l++)Me.add(f[l])}var St=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rt={},yt={};function Ut(l){return ft.call(yt,l)?!0:ft.call(Rt,l)?!1:St.test(l)?yt[l]=!0:(Rt[l]=!0,!1)}function kt(l,f,g){if(Ut(f))if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+g)}}function Kt(l,f,g){if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+g)}}function Bt(l,f,g,b){if(b===null)l.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(f,g,""+b)}}function Zt(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Tn(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ir(l,f,g){var b=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var M=b.get,P=b.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return M.call(this)},set:function(G){g=""+G,P.call(this,G)}}),Object.defineProperty(l,f,{enumerable:b.enumerable}),{getValue:function(){return g},setValue:function(G){g=""+G},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function Hn(l){if(!l._valueTracker){var f=Tn(l)?"checked":"value";l._valueTracker=ir(l,f,""+l[f])}}function on(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var g=f.getValue(),b="";return l&&(b=Tn(l)?l.checked?"true":"false":l.value),l=b,l!==g?(f.setValue(l),!0):!1}function Pt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Pn=/[\n"\\]/g;function qt(l){return l.replace(Pn,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Qr(l,f,g,b,M,P,G,ie){l.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?l.type=G:l.removeAttribute("type"),f!=null?G==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+Zt(f)):l.value!==""+Zt(f)&&(l.value=""+Zt(f)):G!=="submit"&&G!=="reset"||l.removeAttribute("value"),f!=null?nr(l,G,Zt(f)):g!=null?nr(l,G,Zt(g)):b!=null&&l.removeAttribute("value"),M==null&&P!=null&&(l.defaultChecked=!!P),M!=null&&(l.checked=M&&typeof M!="function"&&typeof M!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?l.name=""+Zt(ie):l.removeAttribute("name")}function wa(l,f,g,b,M,P,G,ie){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.type=P),f!=null||g!=null){if(!(P!=="submit"&&P!=="reset"||f!=null)){Hn(l);return}g=g!=null?""+Zt(g):"",f=f!=null?""+Zt(f):g,ie||f===l.value||(l.value=f),l.defaultValue=f}b=b??M,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=ie?l.checked:!!b,l.defaultChecked=!!b,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(l.name=G),Hn(l)}function nr(l,f,g){f==="number"&&Pt(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function qi(l,f,g,b){if(l=l.options,f){f={};for(var M=0;M<g.length;M++)f["$"+g[M]]=!0;for(g=0;g<l.length;g++)M=f.hasOwnProperty("$"+l[g].value),l[g].selected!==M&&(l[g].selected=M),M&&b&&(l[g].defaultSelected=!0)}else{for(g=""+Zt(g),f=null,M=0;M<l.length;M++){if(l[M].value===g){l[M].selected=!0,b&&(l[M].defaultSelected=!0);return}f!==null||l[M].disabled||(f=l[M])}f!==null&&(f.selected=!0)}}function Bn(l,f,g){if(f!=null&&(f=""+Zt(f),f!==l.value&&(l.value=f),g==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=g!=null?""+Zt(g):""}function Dr(l,f,g,b){if(f==null){if(b!=null){if(g!=null)throw Error(r(92));if(Q(b)){if(1<b.length)throw Error(r(93));b=b[0]}g=b}g==null&&(g=""),f=g}g=Zt(f),l.defaultValue=g,b=l.textContent,b===g&&b!==""&&b!==null&&(l.value=b),Hn(l)}function Ir(l,f){if(f){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=f;return}}l.textContent=f}var ci=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fi(l,f,g){var b=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":b?l.setProperty(f,g):typeof g!="number"||g===0||ci.has(f)?f==="float"?l.cssFloat=g:l[f]=(""+g).trim():l[f]=g+"px"}function rl(l,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(l=l.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var M in f)b=f[M],f.hasOwnProperty(M)&&g[M]!==b&&fi(l,M,b)}else for(var P in f)f.hasOwnProperty(P)&&fi(l,P,f[P])}function Xi(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(l){return wc.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Sa(){}var Nl=null;function zf(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Bs=null,xo=null;function Gf(l){var f=ks(l);if(f&&(l=f.stateNode)){var g=l[Zr]||null;e:switch(l=f.stateNode,f.type){case"input":if(Qr(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+qt(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var b=g[f];if(b!==l&&b.form===l.form){var M=b[Zr]||null;if(!M)throw Error(r(90));Qr(b,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(f=0;f<g.length;f++)b=g[f],b.form===l.form&&on(b)}break e;case"textarea":Bn(l,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&qi(l,!!g.multiple,f,!1)}}}var Hf=!1;function Sc(l,f,g){if(Hf)return l(f,g);Hf=!0;try{var b=l(f);return b}finally{if(Hf=!1,(Bs!==null||xo!==null)&&(fl(),Bs&&(f=Bs,l=xo,xo=Bs=null,Gf(f),l)))for(f=0;f<l.length;f++)Gf(l[f])}}function Dl(l,f){var g=l.stateNode;if(g===null)return null;var b=g[Zr]||null;if(b===null)return null;g=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ga=!1;if(Fs)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Ga=!1}var Aa=null,Vf=null,il=null;function Ac(){if(il)return il;var l,f=Vf,g=f.length,b,M="value"in Aa?Aa.value:Aa.textContent,P=M.length;for(l=0;l<g&&f[l]===M[l];l++);var G=g-l;for(b=1;b<=G&&f[g-b]===M[P-b];b++);return il=M.slice(l,1<b?1-b:void 0)}function Ec(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function _o(){return!0}function Mc(){return!1}function Lr(l){function f(g,b,M,P,G){this._reactName=g,this._targetInst=M,this.type=b,this.nativeEvent=P,this.target=G,this.currentTarget=null;for(var ie in l)l.hasOwnProperty(ie)&&(g=l[ie],this[ie]=g?g(P):P[ie]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?_o:Mc,this.isPropagationStopped=Mc,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),f}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=Lr(al),Ll=p({},al,{view:0,detail:0}),Tc=Lr(Ll),Cc,Ul,kl,Si=p({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G0,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==kl&&(kl&&l.type==="mousemove"?(Cc=l.screenX-kl.screenX,Ul=l.screenY-kl.screenY):Ul=Cc=0,kl=l),Cc)},movementY:function(l){return"movementY"in l?l.movementY:Ul}}),mm=Lr(Si),jf=p({},Si,{dataTransfer:0}),Wf=Lr(jf),Sd=p({},Ll,{relatedTarget:0}),Ad=Lr(Sd),sa=p({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),zs=Lr(sa),Ea=p({},al,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),sl=Lr(Ea),Pc=p({},al,{data:0}),F0=Lr(Pc),z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ES={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function px(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=ES[l])?!!f[l]:!1}function G0(){return px}var MS=p({},Ll,{key:function(l){if(l.key){var f=z0[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=Ec(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?AS[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G0,charCode:function(l){return l.type==="keypress"?Ec(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ec(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),qf=Lr(MS),H0=p({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mx=Lr(H0),gx=p({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G0}),TS=Lr(gx),CS=p({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),YP=Lr(CS),oa=p({},Si,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=Lr(oa),OS=p({},al,{newState:0,oldState:0}),RS=Lr(OS),NS=[9,13,27,32],Xf=Fs&&"CompositionEvent"in window,Ed=null;Fs&&"documentMode"in document&&(Ed=document.documentMode);var V0=Fs&&"TextEvent"in window&&!Ed,vx=Fs&&(!Xf||Ed&&8<Ed&&11>=Ed),DS=" ",gm=!1;function j0(l,f){switch(l){case"keyup":return NS.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yx(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Yf=!1;function IS(l,f){switch(l){case"compositionend":return yx(f);case"keypress":return f.which!==32?null:(gm=!0,DS);case"textInput":return l=f.data,l===DS&&gm?null:l;default:return null}}function bx(l,f){if(Yf)return l==="compositionend"||!Xf&&j0(l,f)?(l=Ac(),il=Vf=Aa=null,Yf=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return vx&&f.locale!=="ko"?null:f.data;default:return null}}var xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _x(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!xx[l.type]:f==="textarea"}function W0(l,f,g,b){Bs?xo?xo.push(b):xo=[b]:Bs=b,f=FA(f,"onChange"),0<f.length&&(g=new Ru("onChange","change",null,g,b),l.push({event:g,listeners:f}))}var Oc=null,Kf=null;function LS(l){Fk(l,0)}function Md(l){var f=yo(l);if(on(f))return l}function wx(l,f){if(l==="change")return f}var Bl=!1;if(Fs){var vm;if(Fs){var Sx="oninput"in document;if(!Sx){var Ax=document.createElement("div");Ax.setAttribute("oninput","return;"),Sx=typeof Ax.oninput=="function"}vm=Sx}else vm=!1;Bl=vm&&(!document.documentMode||9<document.documentMode)}function wo(){Oc&&(Oc.detachEvent("onpropertychange",ym),Kf=Oc=null)}function ym(l){if(l.propertyName==="value"&&Md(Kf)){var f=[];W0(f,Kf,l,zf(l)),Sc(LS,f)}}function US(l,f,g){l==="focusin"?(wo(),Oc=f,Kf=g,Oc.attachEvent("onpropertychange",ym)):l==="focusout"&&wo()}function Ex(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Md(Kf)}function kS(l,f){if(l==="click")return Md(f)}function BS(l,f){if(l==="input"||l==="change")return Md(f)}function Mx(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Ha=typeof Object.is=="function"?Object.is:Mx;function Td(l,f){if(Ha(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var g=Object.keys(l),b=Object.keys(f);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var M=g[b];if(!ft.call(f,M)||!Ha(l[M],f[M]))return!1}return!0}function bm(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Cd(l,f){var g=bm(l);l=0;for(var b;g;){if(g.nodeType===3){if(b=l+g.textContent.length,l<=f&&b>=f)return{node:g,offset:f-l};l=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=bm(g)}}function wr(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?wr(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function FS(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=Pt(l.document);f instanceof l.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)l=f.contentWindow;else break;f=Pt(l.document)}return f}function Tx(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var zS=Fs&&"documentMode"in document&&11>=document.documentMode,Fl=null,zl=null,Pd=null,q0=!1;function Od(l,f,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;q0||Fl==null||Fl!==Pt(b)||(b=Fl,"selectionStart"in b&&Tx(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Pd&&Td(Pd,b)||(Pd=b,b=FA(zl,"onSelect"),0<b.length&&(f=new Ru("onSelect","select",null,f,g),l.push({event:f,listeners:b}),f.target=Fl)))}function Ma(l,f){var g={};return g[l.toLowerCase()]=f.toLowerCase(),g["Webkit"+l]="webkit"+f,g["Moz"+l]="moz"+f,g}var $f={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},xm={},Cx={};Fs&&(Cx=document.createElement("div").style,"AnimationEvent"in window||(delete $f.animationend.animation,delete $f.animationiteration.animation,delete $f.animationstart.animation),"TransitionEvent"in window||delete $f.transitionend.transition);function Nu(l){if(xm[l])return xm[l];if(!$f[l])return l;var f=$f[l],g;for(g in f)if(f.hasOwnProperty(g)&&g in Cx)return xm[l]=f[g];return l}var X0=Nu("animationend"),_m=Nu("animationiteration"),Px=Nu("animationstart"),GS=Nu("transitionrun"),KP=Nu("transitionstart"),HS=Nu("transitioncancel"),Ox=Nu("transitionend"),So=new Map,wm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wm.push("scrollEnd");function Ao(l,f){So.set(l,f),Fe(f,[l])}var Sm=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Eo=[],Du=0,Yi=0;function Am(){for(var l=Du,f=Yi=Du=0;f<l;){var g=Eo[f];Eo[f++]=null;var b=Eo[f];Eo[f++]=null;var M=Eo[f];Eo[f++]=null;var P=Eo[f];if(Eo[f++]=null,b!==null&&M!==null){var G=b.pending;G===null?M.next=M:(M.next=G.next,G.next=M),b.pending=M}P!==0&&Rc(g,M,P)}}function Ki(l,f,g,b){Eo[Du++]=l,Eo[Du++]=f,Eo[Du++]=g,Eo[Du++]=b,Yi|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function Y0(l,f,g,b){return Ki(l,f,g,b),Mo(l)}function Va(l,f){return Ki(l,null,null,f),Mo(l)}function Rc(l,f,g){l.lanes|=g;var b=l.alternate;b!==null&&(b.lanes|=g);for(var M=!1,P=l.return;P!==null;)P.childLanes|=g,b=P.alternate,b!==null&&(b.childLanes|=g),P.tag===22&&(l=P.stateNode,l===null||l._visibility&1||(M=!0)),l=P,P=P.return;return l.tag===3?(P=l.stateNode,M&&f!==null&&(M=31-fe(g),l=P.hiddenUpdates,b=l[M],b===null?l[M]=[f]:b.push(f),f.lane=g|536870912),P):null}function Mo(l){if(50<$c)throw $c=0,mh=null,Error(r(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var Nc={};function Rx(l,f,g,b){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(l,f,g,b){return new Rx(l,f,g,b)}function K0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function fs(l,f){var g=l.alternate;return g===null?(g=Hr(l.tag,f,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=f,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,f=l.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Rd(l,f){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,f=g.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Gl(l,f,g,b,M,P){var G=0;if(b=l,typeof l=="function")K0(l)&&(G=1);else if(typeof l=="string")G=O$(l,g,he.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=Hr(31,g,f,M),l.elementType=L,l.lanes=P,l;case S:return Dc(g.children,M,P,f);case w:G=8,M|=24;break;case A:return l=Hr(12,g,f,M|2),l.elementType=A,l.lanes=P,l;case R:return l=Hr(13,g,f,M),l.elementType=R,l.lanes=P,l;case D:return l=Hr(19,g,f,M),l.elementType=D,l.lanes=P,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case C:G=10;break e;case T:G=9;break e;case O:G=11;break e;case I:G=14;break e;case F:G=16,b=null;break e}G=29,g=Error(r(130,l===null?"null":typeof l,"")),b=null}return f=Hr(G,g,f,M),f.elementType=l,f.type=b,f.lanes=P,f}function Dc(l,f,g,b){return l=Hr(7,l,b,f),l.lanes=g,l}function $0(l,f,g){return l=Hr(6,l,null,f),l.lanes=g,l}function Nd(l){var f=Hr(18,null,null,0);return f.stateNode=l,f}function Z0(l,f,g){return f=Hr(4,l.children!==null?l.children:[],l.key,f),f.lanes=g,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var Em=new WeakMap;function Gs(l,f){if(typeof l=="object"&&l!==null){var g=Em.get(l);return g!==void 0?g:(f={value:l,source:f,stack:ne(f)},Em.set(l,f),f)}return{value:l,source:f,stack:ne(f)}}var Ic=[],Lc=0,Dd=null,Id=0,hs=[],Ur=0,Iu=null,Vr=1,ol="";function Hl(l,f){Ic[Lc++]=Id,Ic[Lc++]=Dd,Dd=l,Id=f}function VS(l,f,g){hs[Ur++]=Vr,hs[Ur++]=ol,hs[Ur++]=Iu,Iu=l;var b=Vr;l=ol;var M=32-fe(b)-1;b&=~(1<<M),g+=1;var P=32-fe(f)+M;if(30<P){var G=M-M%5;P=(b&(1<<G)-1).toString(32),b>>=G,M-=G,Vr=1<<32-fe(f)+M|g<<M|b,ol=P+l}else Vr=1<<P|g<<M|b,ol=l}function Vl(l){l.return!==null&&(Hl(l,1),VS(l,1,0))}function Q0(l){for(;l===Dd;)Dd=Ic[--Lc],Ic[Lc]=null,Id=Ic[--Lc],Ic[Lc]=null;for(;l===Iu;)Iu=hs[--Ur],hs[Ur]=null,ol=hs[--Ur],hs[Ur]=null,Vr=hs[--Ur],hs[Ur]=null}function J0(l,f){hs[Ur++]=Vr,hs[Ur++]=ol,hs[Ur++]=Iu,Vr=f.id,ol=f.overflow,Iu=l}var Jr=null,Sr=null,Fn=!1,Lu=null,Hs=!1,Ld=Error(r(519));function jl(l){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Gs(f,l)),Ld}function jS(l){var f=l.stateNode,g=l.type,b=l.memoizedProps;switch(f[tr]=l,f[Zr]=b,g){case"dialog":jn("cancel",f),jn("close",f);break;case"iframe":case"object":case"embed":jn("load",f);break;case"video":case"audio":for(g=0;g<Fo.length;g++)jn(Fo[g],f);break;case"source":jn("error",f);break;case"img":case"image":case"link":jn("error",f),jn("load",f);break;case"details":jn("toggle",f);break;case"input":jn("invalid",f),wa(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":jn("invalid",f);break;case"textarea":jn("invalid",f),Dr(f,b.value,b.defaultValue,b.children)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||b.suppressHydrationWarning===!0||Vk(f.textContent,g)?(b.popover!=null&&(jn("beforetoggle",f),jn("toggle",f)),b.onScroll!=null&&jn("scroll",f),b.onScrollEnd!=null&&jn("scrollend",f),b.onClick!=null&&(f.onclick=Sa),f=!0):f=!1,f||jl(l,!0)}function WS(l){for(Jr=l.return;Jr;)switch(Jr.tag){case 5:case 31:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:Jr=Jr.return}}function Ud(l){if(l!==Jr)return!1;if(!Fn)return WS(l),Fn=!0,!1;var f=l.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||fO(l.type,l.memoizedProps)),g=!g),g&&Sr&&jl(l),WS(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Sr=Qk(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Sr=Qk(l)}else f===27?(f=Sr,np(l.type)?(l=gO,gO=null,Sr=l):Sr=f):Sr=Jr?au(l.stateNode.nextSibling):null;return!0}function Uc(){Sr=Jr=null,Fn=!1}function ev(){var l=Lu;return l!==null&&(ti===null?ti=l:ti.push.apply(ti,l),Lu=null),l}function Wl(l){Lu===null?Lu=[l]:Lu.push(l)}var kd=B(null),kc=null,ql=null;function Uu(l,f,g){le(kd,f._currentValue),f._currentValue=g}function Xl(l){l._currentValue=kd.current,Z(kd)}function tv(l,f,g){for(;l!==null;){var b=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),l===g)break;l=l.return}}function nv(l,f,g,b){var M=l.child;for(M!==null&&(M.return=l);M!==null;){var P=M.dependencies;if(P!==null){var G=M.child;P=P.firstContext;e:for(;P!==null;){var ie=P;P=M;for(var be=0;be<f.length;be++)if(ie.context===f[be]){P.lanes|=g,ie=P.alternate,ie!==null&&(ie.lanes|=g),tv(P.return,g,l),b||(G=null);break e}P=ie.next}}else if(M.tag===18){if(G=M.return,G===null)throw Error(r(341));G.lanes|=g,P=G.alternate,P!==null&&(P.lanes|=g),tv(G,g,l),G=null}else G=M.child;if(G!==null)G.return=M;else for(G=M;G!==null;){if(G===l){G=null;break}if(M=G.sibling,M!==null){M.return=G.return,G=M;break}G=G.return}M=G}}function Yl(l,f,g,b){l=null;for(var M=f,P=!1;M!==null;){if(!P){if((M.flags&524288)!==0)P=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var G=M.alternate;if(G===null)throw Error(r(387));if(G=G.memoizedProps,G!==null){var ie=M.type;Ha(M.pendingProps.value,G.value)||(l!==null?l.push(ie):l=[ie])}}else if(M===ce.current){if(G=M.alternate,G===null)throw Error(r(387));G.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(l!==null?l.push(C1):l=[C1])}M=M.return}l!==null&&nv(f,l,g,b),f.flags|=262144}function Mm(l){for(l=l.firstContext;l!==null;){if(!Ha(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Bc(l){kc=l,ql=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ln(l){return qS(kc,l)}function Bd(l,f){return kc===null&&Bc(l),qS(l,f)}function qS(l,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},ql===null){if(l===null)throw Error(r(308));ql=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else ql=ql.next=f;return g}var XS=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(g,b){l.push(b)}};this.abort=function(){f.aborted=!0,l.forEach(function(g){return g()})}},$P=n.unstable_scheduleCallback,ZP=n.unstable_NormalPriority,Ai={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nx(){return{controller:new XS,data:new Map,refCount:0}}function Zf(l){l.refCount--,l.refCount===0&&$P(ZP,function(){l.controller.abort()})}var Vs=null,rv=0,ku=0,To=null;function Dx(l,f){if(Vs===null){var g=Vs=[];rv=0,ku=Ke(),To={status:"pending",value:void 0,then:function(b){g.push(b)}}}return rv++,f.then(Ix,Ix),f}function Ix(){if(--rv===0&&Vs!==null){To!==null&&(To.status="fulfilled");var l=Vs;Vs=null,ku=0,To=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function Lx(l,f){var g=[],b={status:"pending",value:null,reason:null,then:function(M){g.push(M)}};return l.then(function(){b.status="fulfilled",b.value=f;for(var M=0;M<g.length;M++)(0,g[M])(f)},function(M){for(b.status="rejected",b.reason=M,M=0;M<g.length;M++)(0,g[M])(void 0)}),b}var YS=W.S;W.S=function(l,f){w1=H(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&Dx(l,f),YS!==null&&YS(l,f)};var Fc=B(null);function iv(){var l=Fc.current;return l!==null?l:hn.pooledCache}function Tm(l,f){f===null?le(Fc,Fc.current):le(Fc,f.pool)}function Ux(){var l=iv();return l===null?null:{parent:Ai._currentValue,pool:l}}var Qf=Error(r(460)),Cm=Error(r(474)),xn=Error(r(542)),av={then:function(){}};function ds(l){return l=l.status,l==="fulfilled"||l==="rejected"}function sv(l,f,g){switch(g=l[g],g===void 0?l.push(f):g!==f&&(f.then(Sa,Sa),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,th(l),l;default:if(typeof f.status=="string")f.then(Sa,Sa);else{if(l=hn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=f,l.status="pending",l.then(function(b){if(f.status==="pending"){var M=f;M.status="fulfilled",M.value=b}},function(b){if(f.status==="pending"){var M=f;M.status="rejected",M.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,th(l),l}throw Kl=f,Qf}}function Jf(l){try{var f=l._init;return f(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(Kl=g,Qf):g}}var Kl=null;function eh(){if(Kl===null)throw Error(r(459));var l=Kl;return Kl=null,l}function th(l){if(l===Qf||l===xn)throw Error(r(483))}var nh=null,rh=0;function Pm(l){var f=rh;return rh+=1,nh===null&&(nh=[]),sv(nh,l,f)}function Co(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Fd(l,f){throw f.$$typeof===v?Error(r(525)):(l=Object.prototype.toString.call(f),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function ov(l){function f(Re,we){if(l){var ze=Re.deletions;ze===null?(Re.deletions=[we],Re.flags|=16):ze.push(we)}}function g(Re,we){if(!l)return null;for(;we!==null;)f(Re,we),we=we.sibling;return null}function b(Re){for(var we=new Map;Re!==null;)Re.key!==null?we.set(Re.key,Re):we.set(Re.index,Re),Re=Re.sibling;return we}function M(Re,we){return Re=fs(Re,we),Re.index=0,Re.sibling=null,Re}function P(Re,we,ze){return Re.index=ze,l?(ze=Re.alternate,ze!==null?(ze=ze.index,ze<we?(Re.flags|=67108866,we):ze):(Re.flags|=67108866,we)):(Re.flags|=1048576,we)}function G(Re){return l&&Re.alternate===null&&(Re.flags|=67108866),Re}function ie(Re,we,ze,dt){return we===null||we.tag!==6?(we=$0(ze,Re.mode,dt),we.return=Re,we):(we=M(we,ze),we.return=Re,we)}function be(Re,we,ze,dt){var Jt=ze.type;return Jt===S?lt(Re,we,ze.props.children,dt,ze.key):we!==null&&(we.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===F&&Jf(Jt)===we.type)?(we=M(we,ze.props),Co(we,ze),we.return=Re,we):(we=Gl(ze.type,ze.key,ze.props,null,Re.mode,dt),Co(we,ze),we.return=Re,we)}function He(Re,we,ze,dt){return we===null||we.tag!==4||we.stateNode.containerInfo!==ze.containerInfo||we.stateNode.implementation!==ze.implementation?(we=Z0(ze,Re.mode,dt),we.return=Re,we):(we=M(we,ze.children||[]),we.return=Re,we)}function lt(Re,we,ze,dt,Jt){return we===null||we.tag!==7?(we=Dc(ze,Re.mode,dt,Jt),we.return=Re,we):(we=M(we,ze),we.return=Re,we)}function pt(Re,we,ze){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=$0(""+we,Re.mode,ze),we.return=Re,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case y:return ze=Gl(we.type,we.key,we.props,null,Re.mode,ze),Co(ze,we),ze.return=Re,ze;case x:return we=Z0(we,Re.mode,ze),we.return=Re,we;case F:return we=Jf(we),pt(Re,we,ze)}if(Q(we)||j(we))return we=Dc(we,Re.mode,ze,null),we.return=Re,we;if(typeof we.then=="function")return pt(Re,Pm(we),ze);if(we.$$typeof===C)return pt(Re,Bd(Re,we),ze);Fd(Re,we)}return null}function We(Re,we,ze,dt){var Jt=we!==null?we.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Jt!==null?null:ie(Re,we,""+ze,dt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case y:return ze.key===Jt?be(Re,we,ze,dt):null;case x:return ze.key===Jt?He(Re,we,ze,dt):null;case F:return ze=Jf(ze),We(Re,we,ze,dt)}if(Q(ze)||j(ze))return Jt!==null?null:lt(Re,we,ze,dt,null);if(typeof ze.then=="function")return We(Re,we,Pm(ze),dt);if(ze.$$typeof===C)return We(Re,we,Bd(Re,ze),dt);Fd(Re,ze)}return null}function et(Re,we,ze,dt,Jt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Re=Re.get(ze)||null,ie(we,Re,""+dt,Jt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case y:return Re=Re.get(dt.key===null?ze:dt.key)||null,be(we,Re,dt,Jt);case x:return Re=Re.get(dt.key===null?ze:dt.key)||null,He(we,Re,dt,Jt);case F:return dt=Jf(dt),et(Re,we,ze,dt,Jt)}if(Q(dt)||j(dt))return Re=Re.get(ze)||null,lt(we,Re,dt,Jt,null);if(typeof dt.then=="function")return et(Re,we,ze,Pm(dt),Jt);if(dt.$$typeof===C)return et(Re,we,ze,Bd(we,dt),Jt);Fd(we,dt)}return null}function Wt(Re,we,ze,dt){for(var Jt=null,ar=null,Xt=we,Cn=we=0,qn=null;Xt!==null&&Cn<ze.length;Cn++){Xt.index>Cn?(qn=Xt,Xt=null):qn=Xt.sibling;var sr=We(Re,Xt,ze[Cn],dt);if(sr===null){Xt===null&&(Xt=qn);break}l&&Xt&&sr.alternate===null&&f(Re,Xt),we=P(sr,we,Cn),ar===null?Jt=sr:ar.sibling=sr,ar=sr,Xt=qn}if(Cn===ze.length)return g(Re,Xt),Fn&&Hl(Re,Cn),Jt;if(Xt===null){for(;Cn<ze.length;Cn++)Xt=pt(Re,ze[Cn],dt),Xt!==null&&(we=P(Xt,we,Cn),ar===null?Jt=Xt:ar.sibling=Xt,ar=Xt);return Fn&&Hl(Re,Cn),Jt}for(Xt=b(Xt);Cn<ze.length;Cn++)qn=et(Xt,Re,Cn,ze[Cn],dt),qn!==null&&(l&&qn.alternate!==null&&Xt.delete(qn.key===null?Cn:qn.key),we=P(qn,we,Cn),ar===null?Jt=qn:ar.sibling=qn,ar=qn);return l&&Xt.forEach(function(op){return f(Re,op)}),Fn&&Hl(Re,Cn),Jt}function rn(Re,we,ze,dt){if(ze==null)throw Error(r(151));for(var Jt=null,ar=null,Xt=we,Cn=we=0,qn=null,sr=ze.next();Xt!==null&&!sr.done;Cn++,sr=ze.next()){Xt.index>Cn?(qn=Xt,Xt=null):qn=Xt.sibling;var op=We(Re,Xt,sr.value,dt);if(op===null){Xt===null&&(Xt=qn);break}l&&Xt&&op.alternate===null&&f(Re,Xt),we=P(op,we,Cn),ar===null?Jt=op:ar.sibling=op,ar=op,Xt=qn}if(sr.done)return g(Re,Xt),Fn&&Hl(Re,Cn),Jt;if(Xt===null){for(;!sr.done;Cn++,sr=ze.next())sr=pt(Re,sr.value,dt),sr!==null&&(we=P(sr,we,Cn),ar===null?Jt=sr:ar.sibling=sr,ar=sr);return Fn&&Hl(Re,Cn),Jt}for(Xt=b(Xt);!sr.done;Cn++,sr=ze.next())sr=et(Xt,Re,Cn,sr.value,dt),sr!==null&&(l&&sr.alternate!==null&&Xt.delete(sr.key===null?Cn:sr.key),we=P(sr,we,Cn),ar===null?Jt=sr:ar.sibling=sr,ar=sr);return l&&Xt.forEach(function(G$){return f(Re,G$)}),Fn&&Hl(Re,Cn),Jt}function Mr(Re,we,ze,dt){if(typeof ze=="object"&&ze!==null&&ze.type===S&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case y:e:{for(var Jt=ze.key;we!==null;){if(we.key===Jt){if(Jt=ze.type,Jt===S){if(we.tag===7){g(Re,we.sibling),dt=M(we,ze.props.children),dt.return=Re,Re=dt;break e}}else if(we.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===F&&Jf(Jt)===we.type){g(Re,we.sibling),dt=M(we,ze.props),Co(dt,ze),dt.return=Re,Re=dt;break e}g(Re,we);break}else f(Re,we);we=we.sibling}ze.type===S?(dt=Dc(ze.props.children,Re.mode,dt,ze.key),dt.return=Re,Re=dt):(dt=Gl(ze.type,ze.key,ze.props,null,Re.mode,dt),Co(dt,ze),dt.return=Re,Re=dt)}return G(Re);case x:e:{for(Jt=ze.key;we!==null;){if(we.key===Jt)if(we.tag===4&&we.stateNode.containerInfo===ze.containerInfo&&we.stateNode.implementation===ze.implementation){g(Re,we.sibling),dt=M(we,ze.children||[]),dt.return=Re,Re=dt;break e}else{g(Re,we);break}else f(Re,we);we=we.sibling}dt=Z0(ze,Re.mode,dt),dt.return=Re,Re=dt}return G(Re);case F:return ze=Jf(ze),Mr(Re,we,ze,dt)}if(Q(ze))return Wt(Re,we,ze,dt);if(j(ze)){if(Jt=j(ze),typeof Jt!="function")throw Error(r(150));return ze=Jt.call(ze),rn(Re,we,ze,dt)}if(typeof ze.then=="function")return Mr(Re,we,Pm(ze),dt);if(ze.$$typeof===C)return Mr(Re,we,Bd(Re,ze),dt);Fd(Re,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,we!==null&&we.tag===6?(g(Re,we.sibling),dt=M(we,ze),dt.return=Re,Re=dt):(g(Re,we),dt=$0(ze,Re.mode,dt),dt.return=Re,Re=dt),G(Re)):g(Re,we)}return function(Re,we,ze,dt){try{rh=0;var Jt=Mr(Re,we,ze,dt);return nh=null,Jt}catch(Xt){if(Xt===Qf||Xt===xn)throw Xt;var ar=Hr(29,Xt,null,Re.mode);return ar.lanes=dt,ar.return=Re,ar}finally{}}}var Bu=ov(!0),lv=ov(!1),ja=!1;function Om(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kx(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Fu(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function zc(l,f,g){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Yt&2)!==0){var M=b.pending;return M===null?f.next=f:(f.next=M.next,M.next=f),b.pending=f,f=Mo(l),Rc(l,null,g),f}return Ki(l,b,f,g),Mo(l)}function Gc(l,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var b=f.lanes;b&=l.pendingLanes,g|=b,f.lanes=g,wi(l,g)}}function Qt(l,f){var g=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var M=null,P=null;if(g=g.firstBaseUpdate,g!==null){do{var G={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};P===null?M=P=G:P=P.next=G,g=g.next}while(g!==null);P===null?M=P=f:P=P.next=f}else M=P=f;g={baseState:b.baseState,firstBaseUpdate:M,lastBaseUpdate:P,shared:b.shared,callbacks:b.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=f}var Bx=!1;function Rm(){if(Bx){var l=To;if(l!==null)throw l}}function zd(l,f,g,b){Bx=!1;var M=l.updateQueue;ja=!1;var P=M.firstBaseUpdate,G=M.lastBaseUpdate,ie=M.shared.pending;if(ie!==null){M.shared.pending=null;var be=ie,He=be.next;be.next=null,G===null?P=He:G.next=He,G=be;var lt=l.alternate;lt!==null&&(lt=lt.updateQueue,ie=lt.lastBaseUpdate,ie!==G&&(ie===null?lt.firstBaseUpdate=He:ie.next=He,lt.lastBaseUpdate=be))}if(P!==null){var pt=M.baseState;G=0,lt=He=be=null,ie=P;do{var We=ie.lane&-536870913,et=We!==ie.lane;if(et?(bn&We)===We:(b&We)===We){We!==0&&We===ku&&(Bx=!0),lt!==null&&(lt=lt.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var Wt=l,rn=ie;We=f;var Mr=g;switch(rn.tag){case 1:if(Wt=rn.payload,typeof Wt=="function"){pt=Wt.call(Mr,pt,We);break e}pt=Wt;break e;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=rn.payload,We=typeof Wt=="function"?Wt.call(Mr,pt,We):Wt,We==null)break e;pt=p({},pt,We);break e;case 2:ja=!0}}We=ie.callback,We!==null&&(l.flags|=64,et&&(l.flags|=8192),et=M.callbacks,et===null?M.callbacks=[We]:et.push(We))}else et={lane:We,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},lt===null?(He=lt=et,be=pt):lt=lt.next=et,G|=We;if(ie=ie.next,ie===null){if(ie=M.shared.pending,ie===null)break;et=ie,ie=et.next,et.next=null,M.lastBaseUpdate=et,M.shared.pending=null}}while(!0);lt===null&&(be=pt),M.baseState=be,M.firstBaseUpdate=He,M.lastBaseUpdate=lt,P===null&&(M.shared.lanes=0),nu|=G,l.lanes=G,l.memoizedState=pt}}function Gd(l,f){if(typeof l!="function")throw Error(r(191,l));l.call(f)}function KS(l,f){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)Gd(g[l],f)}var Hd=B(null),uv=B(0);function $S(l,f){l=Xs,le(uv,l),le(Hd,f),Xs=l|f.baseLanes}function Fx(){le(uv,Xs),le(Hd,Hd.current)}function Nm(){Xs=uv.current,Z(Hd),Z(uv)}var ps=B(null),Wa=null;function zu(l){var f=l.alternate;le(zn,zn.current&1),le(ps,l),Wa===null&&(f===null||Hd.current!==null||f.memoizedState!==null)&&(Wa=l)}function zx(l){le(zn,zn.current),le(ps,l),Wa===null&&(Wa=l)}function ZS(l){l.tag===22?(le(zn,zn.current),le(ps,l),Wa===null&&(Wa=l)):ms()}function ms(){le(zn,zn.current),le(ps,ps.current)}function hi(l){Z(ps),Wa===l&&(Wa=null),Z(zn)}var zn=B(0);function js(l){for(var f=l;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||pO(g)||mO(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var kr=0,mn=null,mr=null,In=null,Po=!1,Vd=!1,ih=!1,cv=0,Dm=0,jd=null,Gx=0;function jr(){throw Error(r(321))}function Hx(l,f){if(f===null)return!1;for(var g=0;g<f.length&&g<l.length;g++)if(!Ha(l[g],f[g]))return!1;return!0}function fv(l,f,g,b,M,P){return kr=P,mn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,W.H=l===null||l.memoizedState===null?PA:l1,ih=!1,P=g(b,M),ih=!1,Vd&&(P=ah(f,g,b,M)),QS(l),P}function QS(l){W.H=Wd;var f=mr!==null&&mr.next!==null;if(kr=0,In=mr=mn=null,Po=!1,Dm=0,jd=null,f)throw Error(r(300));l===null||Ei||(l=l.dependencies,l!==null&&Mm(l)&&(Ei=!0))}function ah(l,f,g,b){mn=l;var M=0;do{if(Vd&&(jd=null),Dm=0,Vd=!1,25<=M)throw Error(r(301));if(M+=1,In=mr=null,l.updateQueue!=null){var P=l.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}W.H=Oo,P=f(g,b)}while(Vd);return P}function sh(){var l=W.H,f=l.useState()[0];return f=typeof f.then=="function"?Im(f):f,l=l.useState()[0],(mr!==null?mr.memoizedState:null)!==l&&(mn.flags|=1024),f}function Vx(){var l=cv!==0;return cv=0,l}function jx(l,f,g){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~g}function Wx(l){if(Po){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Po=!1}kr=0,In=mr=mn=null,Vd=!1,Dm=cv=0,jd=null}function Ri(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?mn.memoizedState=In=l:In=In.next=l,In}function di(){if(mr===null){var l=mn.alternate;l=l!==null?l.memoizedState:null}else l=mr.next;var f=In===null?mn.memoizedState:In.next;if(f!==null)In=f,mr=l;else{if(l===null)throw mn.alternate===null?Error(r(467)):Error(r(310));mr=l,l={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},In===null?mn.memoizedState=In=l:In=In.next=l}return In}function hv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Im(l){var f=Dm;return Dm+=1,jd===null&&(jd=[]),l=sv(jd,l,f),f=mn,(In===null?f.memoizedState:In.next)===null&&(f=f.alternate,W.H=f===null||f.memoizedState===null?PA:l1),l}function Hc(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Im(l);if(l.$$typeof===C)return ln(l)}throw Error(r(438,String(l)))}function qx(l){var f=null,g=mn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var b=mn.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(M){return M.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=hv(),mn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(l),b=0;b<l;b++)g[b]=k;return f.index++,g}function Gu(l,f){return typeof f=="function"?f(l):f}function dv(l){var f=di();return Xx(f,mr,l)}function Xx(l,f,g){var b=l.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=g;var M=l.baseQueue,P=b.pending;if(P!==null){if(M!==null){var G=M.next;M.next=P.next,P.next=G}f.baseQueue=M=P,b.pending=null}if(P=l.baseState,M===null)l.memoizedState=P;else{f=M.next;var ie=G=null,be=null,He=f,lt=!1;do{var pt=He.lane&-536870913;if(pt!==He.lane?(bn&pt)===pt:(kr&pt)===pt){var We=He.revertLane;if(We===0)be!==null&&(be=be.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),pt===ku&&(lt=!0);else if((kr&We)===We){He=He.next,We===ku&&(lt=!0);continue}else pt={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},be===null?(ie=be=pt,G=P):be=be.next=pt,mn.lanes|=We,nu|=We;pt=He.action,ih&&g(P,pt),P=He.hasEagerState?He.eagerState:g(P,pt)}else We={lane:pt,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},be===null?(ie=be=We,G=P):be=be.next=We,mn.lanes|=pt,nu|=pt;He=He.next}while(He!==null&&He!==f);if(be===null?G=P:be.next=ie,!Ha(P,l.memoizedState)&&(Ei=!0,lt&&(g=To,g!==null)))throw g;l.memoizedState=P,l.baseState=G,l.baseQueue=be,b.lastRenderedState=P}return M===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function Yx(l){var f=di(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=l;var b=g.dispatch,M=g.pending,P=f.memoizedState;if(M!==null){g.pending=null;var G=M=M.next;do P=l(P,G.action),G=G.next;while(G!==M);Ha(P,f.memoizedState)||(Ei=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),g.lastRenderedState=P}return[P,b]}function JS(l,f,g){var b=mn,M=di(),P=Fn;if(P){if(g===void 0)throw Error(r(407));g=g()}else g=f();var G=!Ha((mr||M).memoizedState,g);if(G&&(M.memoizedState=g,Ei=!0),M=M.queue,n1(nA.bind(null,b,M,l),[l]),M.getSnapshot!==f||G||In!==null&&In.memoizedState.tag&1){if(b.flags|=2048,Vc(9,{destroy:void 0},tA.bind(null,b,M,g,f),null),hn===null)throw Error(r(349));P||(kr&127)!==0||eA(b,f,g)}return g}function eA(l,f,g){l.flags|=16384,l={getSnapshot:f,value:g},f=mn.updateQueue,f===null?(f=hv(),mn.updateQueue=f,f.stores=[l]):(g=f.stores,g===null?f.stores=[l]:g.push(l))}function tA(l,f,g,b){f.value=g,f.getSnapshot=b,rA(f)&&iA(l)}function nA(l,f,g){return g(function(){rA(f)&&iA(l)})}function rA(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!Ha(l,g)}catch{return!0}}function iA(l){var f=Va(l,2);f!==null&&wn(f,l,2)}function Kx(l){var f=Ri();if(typeof l=="function"){var g=l;if(l=g(),ih){nt(!0);try{g()}finally{nt(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:l},f}function $x(l,f,g,b){return l.baseState=g,Xx(l,mr,typeof b=="function"?b:Gu)}function QP(l,f,g,b,M){if(vv(l))throw Error(r(485));if(l=f.action,l!==null){var P={payload:M,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){P.listeners.push(G)}};W.T!==null?g(!0):P.isTransition=!1,b(P),g=f.pending,g===null?(P.next=f.pending=P,aA(f,P)):(P.next=g.next,f.pending=g.next=P)}}function aA(l,f){var g=f.action,b=f.payload,M=l.state;if(f.isTransition){var P=W.T,G={};W.T=G;try{var ie=g(M,b),be=W.S;be!==null&&be(G,ie),sA(l,f,ie)}catch(He){Zx(l,f,He)}finally{P!==null&&G.types!==null&&(P.types=G.types),W.T=P}}else try{P=g(M,b),sA(l,f,P)}catch(He){Zx(l,f,He)}}function sA(l,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){oA(l,f,b)},function(b){return Zx(l,f,b)}):oA(l,f,g)}function oA(l,f,g){f.status="fulfilled",f.value=g,lA(f),l.state=g,f=l.pending,f!==null&&(g=f.next,g===f?l.pending=null:(g=g.next,f.next=g,aA(l,g)))}function Zx(l,f,g){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=g,lA(f),f=f.next;while(f!==b)}l.action=null}function lA(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function Qx(l,f){return f}function Jx(l,f){if(Fn){var g=hn.formState;if(g!==null){e:{var b=mn;if(Fn){if(Sr){t:{for(var M=Sr,P=Hs;M.nodeType!==8;){if(!P){M=null;break t}if(M=au(M.nextSibling),M===null){M=null;break t}}P=M.data,M=P==="F!"||P==="F"?M:null}if(M){Sr=au(M.nextSibling),b=M.data==="F!";break e}}jl(b)}b=!1}b&&(f=g[0])}}return g=Ri(),g.memoizedState=g.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qx,lastRenderedState:f},g.queue=b,g=MA.bind(null,mn,b),b.dispatch=g,b=Kx(!1),P=o1.bind(null,mn,!1,b.queue),b=Ri(),M={state:f,dispatch:null,action:l,pending:null},b.queue=M,g=QP.bind(null,mn,M,P,g),M.dispatch=g,b.memoizedState=l,[f,g,!1]}function uA(l){var f=di();return e1(f,mr,l)}function e1(l,f,g){if(f=Xx(l,f,Qx)[0],l=dv(Gu)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=Im(f)}catch(G){throw G===Qf?xn:G}else b=f;f=di();var M=f.queue,P=M.dispatch;return g!==f.memoizedState&&(mn.flags|=2048,Vc(9,{destroy:void 0},cA.bind(null,M,g),null)),[b,P,l]}function cA(l,f){l.action=f}function t1(l){var f=di(),g=mr;if(g!==null)return e1(f,g,l);di(),f=f.memoizedState,g=di();var b=g.queue.dispatch;return g.memoizedState=l,[f,b,!1]}function Vc(l,f,g,b){return l={tag:l,create:g,deps:b,inst:f,next:null},f=mn.updateQueue,f===null&&(f=hv(),mn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=l.next=l:(b=g.next,g.next=l,l.next=b,f.lastEffect=l),l}function pv(){return di().memoizedState}function mv(l,f,g,b){var M=Ri();mn.flags|=l,M.memoizedState=Vc(1|f,{destroy:void 0},g,b===void 0?null:b)}function gv(l,f,g,b){var M=di();b=b===void 0?null:b;var P=M.memoizedState.inst;mr!==null&&b!==null&&Hx(b,mr.memoizedState.deps)?M.memoizedState=Vc(f,P,g,b):(mn.flags|=l,M.memoizedState=Vc(1|f,P,g,b))}function fA(l,f){mv(8390656,8,l,f)}function n1(l,f){gv(2048,8,l,f)}function hA(l){mn.flags|=4;var f=mn.updateQueue;if(f===null)f=hv(),mn.updateQueue=f,f.events=[l];else{var g=f.events;g===null?f.events=[l]:g.push(l)}}function dA(l){var f=di().memoizedState;return hA({ref:f,nextImpl:l}),function(){if((Yt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function pA(l,f){return gv(4,2,l,f)}function mA(l,f){return gv(4,4,l,f)}function gA(l,f){if(typeof f=="function"){l=l();var g=f(l);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function vA(l,f,g){g=g!=null?g.concat([l]):null,gv(4,4,gA.bind(null,f,l),g)}function r1(){}function yA(l,f){var g=di();f=f===void 0?null:f;var b=g.memoizedState;return f!==null&&Hx(f,b[1])?b[0]:(g.memoizedState=[l,f],l)}function bA(l,f){var g=di();f=f===void 0?null:f;var b=g.memoizedState;if(f!==null&&Hx(f,b[1]))return b[0];if(b=l(),ih){nt(!0);try{l()}finally{nt(!1)}}return g.memoizedState=[b,f],b}function i1(l,f,g){return g===void 0||(kr&1073741824)!==0&&(bn&261930)===0?l.memoizedState=f:(l.memoizedState=g,l=On(),mn.lanes|=l,nu|=l,g)}function xA(l,f,g,b){return Ha(g,f)?g:Hd.current!==null?(l=i1(l,g,b),Ha(l,f)||(Ei=!0),l):(kr&42)===0||(kr&1073741824)!==0&&(bn&261930)===0?(Ei=!0,l.memoizedState=g):(l=On(),mn.lanes|=l,nu|=l,f)}function _A(l,f,g,b,M){var P=X.p;X.p=P!==0&&8>P?P:8;var G=W.T,ie={};W.T=ie,o1(l,!1,f,g);try{var be=M(),He=W.S;if(He!==null&&He(ie,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var lt=Lx(be,b);Lm(l,f,lt,Ks(l))}else Lm(l,f,b,Ks(l))}catch(pt){Lm(l,f,{then:function(){},status:"rejected",reason:pt},Ks())}finally{X.p=P,G!==null&&ie.types!==null&&(G.types=ie.types),W.T=G}}function JP(){}function a1(l,f,g,b){if(l.tag!==5)throw Error(r(476));var M=wA(l).queue;_A(l,M,f,se,g===null?JP:function(){return SA(l),g(b)})}function wA(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:se},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:g},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function SA(l){var f=wA(l);f.next===null&&(f=l.alternate.memoizedState),Lm(l,f.next.queue,{},Ks())}function s1(){return ln(C1)}function AA(){return di().memoizedState}function EA(){return di().memoizedState}function eO(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var g=Ks();l=Fu(g);var b=zc(f,l,g);b!==null&&(wn(b,f,g),Gc(b,f,g)),f={cache:Nx()},l.payload=f;return}f=f.return}}function tO(l,f,g){var b=Ks();g={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},vv(l)?TA(f,g):(g=Y0(l,f,g,b),g!==null&&(wn(g,l,b),CA(g,f,b)))}function MA(l,f,g){var b=Ks();Lm(l,f,g,b)}function Lm(l,f,g,b){var M={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(vv(l))TA(f,M);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var G=f.lastRenderedState,ie=P(G,g);if(M.hasEagerState=!0,M.eagerState=ie,Ha(ie,G))return Ki(l,f,M,0),hn===null&&Am(),!1}catch{}finally{}if(g=Y0(l,f,M,b),g!==null)return wn(g,l,b),CA(g,f,b),!0}return!1}function o1(l,f,g,b){if(b={lane:2,revertLane:Ke(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},vv(l)){if(f)throw Error(r(479))}else f=Y0(l,g,b,2),f!==null&&wn(f,l,2)}function vv(l){var f=l.alternate;return l===mn||f!==null&&f===mn}function TA(l,f){Vd=Po=!0;var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}function CA(l,f,g){if((g&4194048)!==0){var b=f.lanes;b&=l.pendingLanes,g|=b,f.lanes=g,wi(l,g)}}var Wd={readContext:ln,use:Hc,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useInsertionEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useSyncExternalStore:jr,useId:jr,useHostTransitionStatus:jr,useFormState:jr,useActionState:jr,useOptimistic:jr,useMemoCache:jr,useCacheRefresh:jr};Wd.useEffectEvent=jr;var PA={readContext:ln,use:Hc,useCallback:function(l,f){return Ri().memoizedState=[l,f===void 0?null:f],l},useContext:ln,useEffect:fA,useImperativeHandle:function(l,f,g){g=g!=null?g.concat([l]):null,mv(4194308,4,gA.bind(null,f,l),g)},useLayoutEffect:function(l,f){return mv(4194308,4,l,f)},useInsertionEffect:function(l,f){mv(4,2,l,f)},useMemo:function(l,f){var g=Ri();f=f===void 0?null:f;var b=l();if(ih){nt(!0);try{l()}finally{nt(!1)}}return g.memoizedState=[b,f],b},useReducer:function(l,f,g){var b=Ri();if(g!==void 0){var M=g(f);if(ih){nt(!0);try{g(f)}finally{nt(!1)}}}else M=f;return b.memoizedState=b.baseState=M,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:M},b.queue=l,l=l.dispatch=tO.bind(null,mn,l),[b.memoizedState,l]},useRef:function(l){var f=Ri();return l={current:l},f.memoizedState=l},useState:function(l){l=Kx(l);var f=l.queue,g=MA.bind(null,mn,f);return f.dispatch=g,[l.memoizedState,g]},useDebugValue:r1,useDeferredValue:function(l,f){var g=Ri();return i1(g,l,f)},useTransition:function(){var l=Kx(!1);return l=_A.bind(null,mn,l.queue,!0,!1),Ri().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,g){var b=mn,M=Ri();if(Fn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),hn===null)throw Error(r(349));(bn&127)!==0||eA(b,f,g)}M.memoizedState=g;var P={value:g,getSnapshot:f};return M.queue=P,fA(nA.bind(null,b,P,l),[l]),b.flags|=2048,Vc(9,{destroy:void 0},tA.bind(null,b,P,g,f),null),g},useId:function(){var l=Ri(),f=hn.identifierPrefix;if(Fn){var g=ol,b=Vr;g=(b&~(1<<32-fe(b)-1)).toString(32)+g,f="_"+f+"R_"+g,g=cv++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=Gx++,f="_"+f+"r_"+g.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:s1,useFormState:Jx,useActionState:Jx,useOptimistic:function(l){var f=Ri();f.memoizedState=f.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=o1.bind(null,mn,!0,g),g.dispatch=f,[l,f]},useMemoCache:qx,useCacheRefresh:function(){return Ri().memoizedState=eO.bind(null,mn)},useEffectEvent:function(l){var f=Ri(),g={impl:l};return f.memoizedState=g,function(){if((Yt&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},l1={readContext:ln,use:Hc,useCallback:yA,useContext:ln,useEffect:n1,useImperativeHandle:vA,useInsertionEffect:pA,useLayoutEffect:mA,useMemo:bA,useReducer:dv,useRef:pv,useState:function(){return dv(Gu)},useDebugValue:r1,useDeferredValue:function(l,f){var g=di();return xA(g,mr.memoizedState,l,f)},useTransition:function(){var l=dv(Gu)[0],f=di().memoizedState;return[typeof l=="boolean"?l:Im(l),f]},useSyncExternalStore:JS,useId:AA,useHostTransitionStatus:s1,useFormState:uA,useActionState:uA,useOptimistic:function(l,f){var g=di();return $x(g,mr,l,f)},useMemoCache:qx,useCacheRefresh:EA};l1.useEffectEvent=dA;var Oo={readContext:ln,use:Hc,useCallback:yA,useContext:ln,useEffect:n1,useImperativeHandle:vA,useInsertionEffect:pA,useLayoutEffect:mA,useMemo:bA,useReducer:Yx,useRef:pv,useState:function(){return Yx(Gu)},useDebugValue:r1,useDeferredValue:function(l,f){var g=di();return mr===null?i1(g,l,f):xA(g,mr.memoizedState,l,f)},useTransition:function(){var l=Yx(Gu)[0],f=di().memoizedState;return[typeof l=="boolean"?l:Im(l),f]},useSyncExternalStore:JS,useId:AA,useHostTransitionStatus:s1,useFormState:t1,useActionState:t1,useOptimistic:function(l,f){var g=di();return mr!==null?$x(g,mr,l,f):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:qx,useCacheRefresh:EA};Oo.useEffectEvent=dA;function yv(l,f,g,b){f=l.memoizedState,g=g(b,f),g=g==null?f:p({},f,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Um={enqueueSetState:function(l,f,g){l=l._reactInternals;var b=Ks(),M=Fu(b);M.payload=f,g!=null&&(M.callback=g),f=zc(l,M,b),f!==null&&(wn(f,l,b),Gc(f,l,b))},enqueueReplaceState:function(l,f,g){l=l._reactInternals;var b=Ks(),M=Fu(b);M.tag=1,M.payload=f,g!=null&&(M.callback=g),f=zc(l,M,b),f!==null&&(wn(f,l,b),Gc(f,l,b))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var g=Ks(),b=Fu(g);b.tag=2,f!=null&&(b.callback=f),f=zc(l,b,g),f!==null&&(wn(f,l,g),Gc(f,l,g))}};function u1(l,f,g,b,M,P,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,P,G):f.prototype&&f.prototype.isPureReactComponent?!Td(g,b)||!Td(M,P):!0}function c1(l,f,g,b){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,b),f.state!==l&&Um.enqueueReplaceState(f,f.state,null)}function jc(l,f){var g=f;if("ref"in f){g={};for(var b in f)b!=="ref"&&(g[b]=f[b])}if(l=l.defaultProps){g===f&&(g=p({},g));for(var M in l)g[M]===void 0&&(g[M]=l[M])}return g}function OA(l){Sm(l)}function f1(l){console.error(l)}function h1(l){Sm(l)}function bv(l,f){try{var g=l.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function RA(l,f,g){try{var b=l.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function d1(l,f,g){return g=Fu(g),g.tag=3,g.payload={element:null},g.callback=function(){bv(l,f)},g}function p1(l){return l=Fu(l),l.tag=3,l}function NA(l,f,g,b){var M=g.type.getDerivedStateFromError;if(typeof M=="function"){var P=b.value;l.payload=function(){return M(P)},l.callback=function(){RA(f,g,b)}}var G=g.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(l.callback=function(){RA(f,g,b),typeof M!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var ie=b.stack;this.componentDidCatch(b.value,{componentStack:ie!==null?ie:""})})}function Ni(l,f,g,b,M){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=g.alternate,f!==null&&Yl(f,g,M,!0),g=ps.current,g!==null){switch(g.tag){case 31:case 13:return Wa===null?Qd():g.alternate===null&&Wr===0&&(Wr=3),g.flags&=-257,g.flags|=65536,g.lanes=M,b===av?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([b]):f.add(b),Ym(l,b,M)),!1;case 22:return g.flags|=65536,b===av?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([b]):g.add(b)),Ym(l,b,M)),!1}throw Error(r(435,g.tag))}return Ym(l,b,M),Qd(),!1}if(Fn)return f=ps.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=M,b!==Ld&&(l=Error(r(422),{cause:b}),Wl(Gs(l,g)))):(b!==Ld&&(f=Error(r(423),{cause:b}),Wl(Gs(f,g))),l=l.current.alternate,l.flags|=65536,M&=-M,l.lanes|=M,b=Gs(b,g),M=d1(l.stateNode,b,M),Qt(l,M),Wr!==4&&(Wr=2)),!1;var P=Error(r(520),{cause:b});if(P=Gs(P,g),ph===null?ph=[P]:ph.push(P),Wr!==4&&(Wr=2),f===null)return!0;b=Gs(b,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,l=M&-M,g.lanes|=l,l=d1(g.stateNode,b,l),Qt(g,l),!1;case 1:if(f=g.type,P=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(gi===null||!gi.has(P))))return g.flags|=65536,M&=-M,g.lanes|=M,M=p1(M),NA(M,l,g,b),Qt(g,M),!1}g=g.return}while(g!==null);return!1}var xv=Error(r(461)),Ei=!1;function $i(l,f,g,b){f.child=l===null?lv(f,null,g,b):Bu(f,l.child,g,b)}function m1(l,f,g,b,M){g=g.render;var P=f.ref;if("ref"in b){var G={};for(var ie in b)ie!=="ref"&&(G[ie]=b[ie])}else G=b;return Bc(f),b=fv(l,f,g,G,P,M),ie=Vx(),l!==null&&!Ei?(jx(l,f,M),pi(l,f,M)):(Fn&&ie&&Vl(f),f.flags|=1,$i(l,f,b,M),f.child)}function oh(l,f,g,b,M){if(l===null){var P=g.type;return typeof P=="function"&&!K0(P)&&P.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=P,_v(l,f,P,b,M)):(l=Gl(g.type,null,b,f,f.mode,M),l.ref=f.ref,l.return=f,f.child=l)}if(P=l.child,!Tv(l,M)){var G=P.memoizedProps;if(g=g.compare,g=g!==null?g:Td,g(G,b)&&l.ref===f.ref)return pi(l,f,M)}return f.flags|=1,l=fs(P,b),l.ref=f.ref,l.return=f,f.child=l}function _v(l,f,g,b,M){if(l!==null){var P=l.memoizedProps;if(Td(P,b)&&l.ref===f.ref)if(Ei=!1,f.pendingProps=b=P,Tv(l,M))(l.flags&131072)!==0&&(Ei=!0);else return f.lanes=l.lanes,pi(l,f,M)}return qd(l,f,g,b,M)}function lh(l,f,g,b){var M=b.children,P=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((f.flags&128)!==0){if(P=P!==null?P.baseLanes|g:g,l!==null){for(b=f.child=l.child,M=0;b!==null;)M=M|b.lanes|b.childLanes,b=b.sibling;b=M&~P}else b=0,f.child=null;return gs(l,f,P,g,b)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&Tm(f,P!==null?P.cachePool:null),P!==null?$S(f,P):Fx(),ZS(f);else return b=f.lanes=536870912,gs(l,f,P!==null?P.baseLanes|g:g,g,b)}else P!==null?(Tm(f,P.cachePool),$S(f,P),ms(),f.memoizedState=null):(l!==null&&Tm(f,null),Fx(),ms());return $i(l,f,M,g),f.child}function $l(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function gs(l,f,g,b,M){var P=iv();return P=P===null?null:{parent:Ai._currentValue,pool:P},f.memoizedState={baseLanes:g,cachePool:P},l!==null&&Tm(f,null),Fx(),ZS(f),l!==null&&Yl(l,f,b,!0),f.childLanes=M,null}function wv(l,f){return f=Mv({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function DA(l,f,g){return Bu(f,l.child,null,g),l=wv(f,f.pendingProps),l.flags|=2,hi(f),f.memoizedState=null,l}function Sv(l,f,g){var b=f.pendingProps,M=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(Fn){if(b.mode==="hidden")return l=wv(f,b),f.lanes=536870912,$l(null,l);if(zx(f),(l=Sr)?(l=Zk(l,Hs),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Iu!==null?{id:Vr,overflow:ol}:null,retryLane:536870912,hydrationErrors:null},g=Nd(l),g.return=f,f.child=g,Jr=f,Sr=null)):l=null,l===null)throw jl(f);return f.lanes=536870912,null}return wv(f,b)}var P=l.memoizedState;if(P!==null){var G=P.dehydrated;if(zx(f),M)if(f.flags&256)f.flags&=-257,f=DA(l,f,g);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(r(558));else if(Ei||Yl(l,f,g,!1),M=(g&l.childLanes)!==0,Ei||M){if(b=hn,b!==null&&(G=xa(b,g),G!==0&&G!==P.retryLane))throw P.retryLane=G,Va(l,G),wn(b,l,G),xv;Qd(),f=DA(l,f,g)}else l=P.treeContext,Sr=au(G.nextSibling),Jr=f,Fn=!0,Lu=null,Hs=!1,l!==null&&J0(f,l),f=wv(f,b),f.flags|=4096;return f}return l=fs(l.child,{mode:b.mode,children:b.children}),l.ref=f.ref,f.child=l,l.return=f,l}function uh(l,f){var g=f.ref;if(g===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(l===null||l.ref!==g)&&(f.flags|=4194816)}}function qd(l,f,g,b,M){return Bc(f),g=fv(l,f,g,b,void 0,M),b=Vx(),l!==null&&!Ei?(jx(l,f,M),pi(l,f,M)):(Fn&&b&&Vl(f),f.flags|=1,$i(l,f,g,M),f.child)}function km(l,f,g,b,M,P){return Bc(f),f.updateQueue=null,g=ah(f,b,g,M),QS(l),b=Vx(),l!==null&&!Ei?(jx(l,f,P),pi(l,f,P)):(Fn&&b&&Vl(f),f.flags|=1,$i(l,f,g,P),f.child)}function Av(l,f,g,b,M){if(Bc(f),f.stateNode===null){var P=Nc,G=g.contextType;typeof G=="object"&&G!==null&&(P=ln(G)),P=new g(b,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Um,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=b,P.state=f.memoizedState,P.refs={},Om(f),G=g.contextType,P.context=typeof G=="object"&&G!==null?ln(G):Nc,P.state=f.memoizedState,G=g.getDerivedStateFromProps,typeof G=="function"&&(yv(f,g,G,b),P.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(G=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),G!==P.state&&Um.enqueueReplaceState(P,P.state,null),zd(f,b,P,M),Rm(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(l===null){P=f.stateNode;var ie=f.memoizedProps,be=jc(g,ie);P.props=be;var He=P.context,lt=g.contextType;G=Nc,typeof lt=="object"&&lt!==null&&(G=ln(lt));var pt=g.getDerivedStateFromProps;lt=typeof pt=="function"||typeof P.getSnapshotBeforeUpdate=="function",ie=f.pendingProps!==ie,lt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ie||He!==G)&&c1(f,P,b,G),ja=!1;var We=f.memoizedState;P.state=We,zd(f,b,P,M),Rm(),He=f.memoizedState,ie||We!==He||ja?(typeof pt=="function"&&(yv(f,g,pt,b),He=f.memoizedState),(be=ja||u1(f,g,be,b,We,He,G))?(lt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=He),P.props=b,P.state=He,P.context=G,b=be):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{P=f.stateNode,kx(l,f),G=f.memoizedProps,lt=jc(g,G),P.props=lt,pt=f.pendingProps,We=P.context,He=g.contextType,be=Nc,typeof He=="object"&&He!==null&&(be=ln(He)),ie=g.getDerivedStateFromProps,(He=typeof ie=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(G!==pt||We!==be)&&c1(f,P,b,be),ja=!1,We=f.memoizedState,P.state=We,zd(f,b,P,M),Rm();var et=f.memoizedState;G!==pt||We!==et||ja||l!==null&&l.dependencies!==null&&Mm(l.dependencies)?(typeof ie=="function"&&(yv(f,g,ie,b),et=f.memoizedState),(lt=ja||u1(f,g,lt,b,We,et,be)||l!==null&&l.dependencies!==null&&Mm(l.dependencies))?(He||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(b,et,be),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(b,et,be)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||G===l.memoizedProps&&We===l.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&We===l.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=et),P.props=b,P.state=et,P.context=be,b=lt):(typeof P.componentDidUpdate!="function"||G===l.memoizedProps&&We===l.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&We===l.memoizedState||(f.flags|=1024),b=!1)}return P=b,uh(l,f),b=(f.flags&128)!==0,P||b?(P=f.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,l!==null&&b?(f.child=Bu(f,l.child,null,M),f.child=Bu(f,null,g,M)):$i(l,f,g,M),f.memoizedState=P.state,l=f.child):l=pi(l,f,M),l}function IA(l,f,g,b){return Uc(),f.flags|=256,$i(l,f,g,b),f.child}var g1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ta(l){return{baseLanes:l,cachePool:Ux()}}function Ev(l,f,g){return l=l!==null?l.childLanes&~g:0,f&&(l|=Ya),l}function LA(l,f,g){var b=f.pendingProps,M=!1,P=(f.flags&128)!==0,G;if((G=P)||(G=l!==null&&l.memoizedState===null?!1:(zn.current&2)!==0),G&&(M=!0,f.flags&=-129),G=(f.flags&32)!==0,f.flags&=-33,l===null){if(Fn){if(M?zu(f):ms(),(l=Sr)?(l=Zk(l,Hs),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Iu!==null?{id:Vr,overflow:ol}:null,retryLane:536870912,hydrationErrors:null},g=Nd(l),g.return=f,f.child=g,Jr=f,Sr=null)):l=null,l===null)throw jl(f);return mO(l)?f.lanes=32:f.lanes=536870912,null}var ie=b.children;return b=b.fallback,M?(ms(),M=f.mode,ie=Mv({mode:"hidden",children:ie},M),b=Dc(b,M,g,null),ie.return=f,b.return=f,ie.sibling=b,f.child=ie,b=f.child,b.memoizedState=Ta(g),b.childLanes=Ev(l,G,g),f.memoizedState=g1,$l(null,b)):(zu(f),Bm(f,ie))}var be=l.memoizedState;if(be!==null&&(ie=be.dehydrated,ie!==null)){if(P)f.flags&256?(zu(f),f.flags&=-257,f=v1(l,f,g)):f.memoizedState!==null?(ms(),f.child=l.child,f.flags|=128,f=null):(ms(),ie=b.fallback,M=f.mode,b=Mv({mode:"visible",children:b.children},M),ie=Dc(ie,M,g,null),ie.flags|=2,b.return=f,ie.return=f,b.sibling=ie,f.child=b,Bu(f,l.child,null,g),b=f.child,b.memoizedState=Ta(g),b.childLanes=Ev(l,G,g),f.memoizedState=g1,f=$l(null,b));else if(zu(f),mO(ie)){if(G=ie.nextSibling&&ie.nextSibling.dataset,G)var He=G.dgst;G=He,b=Error(r(419)),b.stack="",b.digest=G,Wl({value:b,source:null,stack:null}),f=v1(l,f,g)}else if(Ei||Yl(l,f,g,!1),G=(g&l.childLanes)!==0,Ei||G){if(G=hn,G!==null&&(b=xa(G,g),b!==0&&b!==be.retryLane))throw be.retryLane=b,Va(l,b),wn(G,l,b),xv;pO(ie)||Qd(),f=v1(l,f,g)}else pO(ie)?(f.flags|=192,f.child=l.child,f=null):(l=be.treeContext,Sr=au(ie.nextSibling),Jr=f,Fn=!0,Lu=null,Hs=!1,l!==null&&J0(f,l),f=Bm(f,b.children),f.flags|=4096);return f}return M?(ms(),ie=b.fallback,M=f.mode,be=l.child,He=be.sibling,b=fs(be,{mode:"hidden",children:b.children}),b.subtreeFlags=be.subtreeFlags&65011712,He!==null?ie=fs(He,ie):(ie=Dc(ie,M,g,null),ie.flags|=2),ie.return=f,b.return=f,b.sibling=ie,f.child=b,$l(null,b),b=f.child,ie=l.child.memoizedState,ie===null?ie=Ta(g):(M=ie.cachePool,M!==null?(be=Ai._currentValue,M=M.parent!==be?{parent:be,pool:be}:M):M=Ux(),ie={baseLanes:ie.baseLanes|g,cachePool:M}),b.memoizedState=ie,b.childLanes=Ev(l,G,g),f.memoizedState=g1,$l(l.child,b)):(zu(f),g=l.child,l=g.sibling,g=fs(g,{mode:"visible",children:b.children}),g.return=f,g.sibling=null,l!==null&&(G=f.deletions,G===null?(f.deletions=[l],f.flags|=16):G.push(l)),f.child=g,f.memoizedState=null,g)}function Bm(l,f){return f=Mv({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function Mv(l,f){return l=Hr(22,l,null,f),l.lanes=0,l}function v1(l,f,g){return Bu(f,l.child,null,g),l=Bm(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function UA(l,f,g){l.lanes|=f;var b=l.alternate;b!==null&&(b.lanes|=f),tv(l.return,f,g)}function ch(l,f,g,b,M,P){var G=l.memoizedState;G===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:M,treeForkCount:P}:(G.isBackwards=f,G.rendering=null,G.renderingStartTime=0,G.last=b,G.tail=g,G.tailMode=M,G.treeForkCount=P)}function vs(l,f,g){var b=f.pendingProps,M=b.revealOrder,P=b.tail;b=b.children;var G=zn.current,ie=(G&2)!==0;if(ie?(G=G&1|2,f.flags|=128):G&=1,le(zn,G),$i(l,f,b,g),b=Fn?Id:0,!ie&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&UA(l,g,f);else if(l.tag===19)UA(l,g,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(M){case"forwards":for(g=f.child,M=null;g!==null;)l=g.alternate,l!==null&&js(l)===null&&(M=g),g=g.sibling;g=M,g===null?(M=f.child,f.child=null):(M=g.sibling,g.sibling=null),ch(f,!1,M,g,P,b);break;case"backwards":case"unstable_legacy-backwards":for(g=null,M=f.child,f.child=null;M!==null;){if(l=M.alternate,l!==null&&js(l)===null){f.child=M;break}l=M.sibling,M.sibling=g,g=M,M=l}ch(f,!0,g,null,P,b);break;case"together":ch(f,!1,null,null,void 0,b);break;default:f.memoizedState=null}return f.child}function pi(l,f,g){if(l!==null&&(f.dependencies=l.dependencies),nu|=f.lanes,(g&f.childLanes)===0)if(l!==null){if(Yl(l,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(r(153));if(f.child!==null){for(l=f.child,g=fs(l,l.pendingProps),f.child=g,g.return=f;l.sibling!==null;)l=l.sibling,g=g.sibling=fs(l,l.pendingProps),g.return=f;g.sibling=null}return f.child}function Tv(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Mm(l)))}function nO(l,f,g){switch(f.tag){case 3:Se(f,f.stateNode.containerInfo),Uu(f,Ai,l.memoizedState.cache),Uc();break;case 27:case 5:Ne(f);break;case 4:Se(f,f.stateNode.containerInfo);break;case 10:Uu(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,zx(f),null;break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(zu(f),f.flags|=128,null):(g&f.child.childLanes)!==0?LA(l,f,g):(zu(f),l=pi(l,f,g),l!==null?l.sibling:null);zu(f);break;case 19:var M=(l.flags&128)!==0;if(b=(g&f.childLanes)!==0,b||(Yl(l,f,g,!1),b=(g&f.childLanes)!==0),M){if(b)return vs(l,f,g);f.flags|=128}if(M=f.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),le(zn,zn.current),b)break;return null;case 22:return f.lanes=0,lh(l,f,g,f.pendingProps);case 24:Uu(f,Ai,l.memoizedState.cache)}return pi(l,f,g)}function Cv(l,f,g){if(l!==null)if(l.memoizedProps!==f.pendingProps)Ei=!0;else{if(!Tv(l,g)&&(f.flags&128)===0)return Ei=!1,nO(l,f,g);Ei=(l.flags&131072)!==0}else Ei=!1,Fn&&(f.flags&1048576)!==0&&VS(f,Id,f.index);switch(f.lanes=0,f.tag){case 16:e:{var b=f.pendingProps;if(l=Jf(f.elementType),f.type=l,typeof l=="function")K0(l)?(b=jc(l,b),f.tag=1,f=Av(null,f,l,b,g)):(f.tag=0,f=qd(null,f,l,b,g));else{if(l!=null){var M=l.$$typeof;if(M===O){f.tag=11,f=m1(null,f,l,b,g);break e}else if(M===I){f.tag=14,f=oh(null,f,l,b,g);break e}}throw f=re(l)||l,Error(r(306,f,""))}}return f;case 0:return qd(l,f,f.type,f.pendingProps,g);case 1:return b=f.type,M=jc(b,f.pendingProps),Av(l,f,b,M,g);case 3:e:{if(Se(f,f.stateNode.containerInfo),l===null)throw Error(r(387));b=f.pendingProps;var P=f.memoizedState;M=P.element,kx(l,f),zd(f,b,null,g);var G=f.memoizedState;if(b=G.cache,Uu(f,Ai,b),b!==P.cache&&nv(f,[Ai],g,!0),Rm(),b=G.element,P.isDehydrated)if(P={element:b,isDehydrated:!1,cache:G.cache},f.updateQueue.baseState=P,f.memoizedState=P,f.flags&256){f=IA(l,f,b,g);break e}else if(b!==M){M=Gs(Error(r(424)),f),Wl(M),f=IA(l,f,b,g);break e}else{switch(l=f.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Sr=au(l.firstChild),Jr=f,Fn=!0,Lu=null,Hs=!0,g=lv(f,null,b,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Uc(),b===M){f=pi(l,f,g);break e}$i(l,f,b,g)}f=f.child}return f;case 26:return uh(l,f),l===null?(g=r4(f.type,null,f.pendingProps,null))?f.memoizedState=g:Fn||(g=f.type,l=f.pendingProps,b=zA(ue.current).createElement(g),b[tr]=f,b[Zr]=l,$a(b,g,l),te(b),f.stateNode=b):f.memoizedState=r4(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return Ne(f),l===null&&Fn&&(b=f.stateNode=e4(f.type,f.pendingProps,ue.current),Jr=f,Hs=!0,M=Sr,np(f.type)?(gO=M,Sr=au(b.firstChild)):Sr=M),$i(l,f,f.pendingProps.children,g),uh(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&Fn&&((M=b=Sr)&&(b=v$(b,f.type,f.pendingProps,Hs),b!==null?(f.stateNode=b,Jr=f,Sr=au(b.firstChild),Hs=!1,M=!0):M=!1),M||jl(f)),Ne(f),M=f.type,P=f.pendingProps,G=l!==null?l.memoizedProps:null,b=P.children,fO(M,P)?b=null:G!==null&&fO(M,G)&&(f.flags|=32),f.memoizedState!==null&&(M=fv(l,f,sh,null,null,g),C1._currentValue=M),uh(l,f),$i(l,f,b,g),f.child;case 6:return l===null&&Fn&&((l=g=Sr)&&(g=y$(g,f.pendingProps,Hs),g!==null?(f.stateNode=g,Jr=f,Sr=null,l=!0):l=!1),l||jl(f)),null;case 13:return LA(l,f,g);case 4:return Se(f,f.stateNode.containerInfo),b=f.pendingProps,l===null?f.child=Bu(f,null,b,g):$i(l,f,b,g),f.child;case 11:return m1(l,f,f.type,f.pendingProps,g);case 7:return $i(l,f,f.pendingProps,g),f.child;case 8:return $i(l,f,f.pendingProps.children,g),f.child;case 12:return $i(l,f,f.pendingProps.children,g),f.child;case 10:return b=f.pendingProps,Uu(f,f.type,b.value),$i(l,f,b.children,g),f.child;case 9:return M=f.type._context,b=f.pendingProps.children,Bc(f),M=ln(M),b=b(M),f.flags|=1,$i(l,f,b,g),f.child;case 14:return oh(l,f,f.type,f.pendingProps,g);case 15:return _v(l,f,f.type,f.pendingProps,g);case 19:return vs(l,f,g);case 31:return Sv(l,f,g);case 22:return lh(l,f,g,f.pendingProps);case 24:return Bc(f),b=ln(Ai),l===null?(M=iv(),M===null&&(M=hn,P=Nx(),M.pooledCache=P,P.refCount++,P!==null&&(M.pooledCacheLanes|=g),M=P),f.memoizedState={parent:b,cache:M},Om(f),Uu(f,Ai,M)):((l.lanes&g)!==0&&(kx(l,f),zd(f,null,null,g),Rm()),M=l.memoizedState,P=f.memoizedState,M.parent!==b?(M={parent:b,cache:b},f.memoizedState=M,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=M),Uu(f,Ai,b)):(b=P.cache,Uu(f,Ai,b),b!==M.cache&&nv(f,[Ai],g,!0))),$i(l,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function Zl(l){l.flags|=4}function Fm(l,f,g,b,M){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(M&335544128)===M)if(l.stateNode.complete)l.flags|=8192;else if(Xr())l.flags|=8192;else throw Kl=av,Cm}else l.flags&=-16777217}function y1(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!l4(f))if(Xr())l.flags|=8192;else throw Kl=av,Cm}function Hu(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?Tt():536870912,l.lanes|=f,Pr|=f)}function Ql(l,f){if(!Fn)switch(l.tailMode){case"hidden":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function gr(l){var f=l.alternate!==null&&l.alternate.child===l.child,g=0,b=0;if(f)for(var M=l.child;M!==null;)g|=M.lanes|M.childLanes,b|=M.subtreeFlags&65011712,b|=M.flags&65011712,M.return=l,M=M.sibling;else for(M=l.child;M!==null;)g|=M.lanes|M.childLanes,b|=M.subtreeFlags,b|=M.flags,M.return=l,M=M.sibling;return l.subtreeFlags|=b,l.childLanes=g,f}function zm(l,f,g){var b=f.pendingProps;switch(Q0(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(f),null;case 1:return gr(f),null;case 3:return g=f.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),Xl(Ai),me(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Ud(f)?Zl(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,ev())),gr(f),null;case 26:var M=f.type,P=f.memoizedState;return l===null?(Zl(f),P!==null?(gr(f),y1(f,P)):(gr(f),Fm(f,M,null,b,g))):P?P!==l.memoizedState?(Zl(f),gr(f),y1(f,P)):(gr(f),f.flags&=-16777217):(l=l.memoizedProps,l!==b&&Zl(f),gr(f),Fm(f,M,l,b,g)),null;case 27:if(Be(f),g=ue.current,M=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==b&&Zl(f);else{if(!b){if(f.stateNode===null)throw Error(r(166));return gr(f),null}l=he.current,Ud(f)?jS(f):(l=e4(M,b,g),f.stateNode=l,Zl(f))}return gr(f),null;case 5:if(Be(f),M=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==b&&Zl(f);else{if(!b){if(f.stateNode===null)throw Error(r(166));return gr(f),null}if(P=he.current,Ud(f))jS(f);else{var G=zA(ue.current);switch(P){case 1:P=G.createElementNS("http://www.w3.org/2000/svg",M);break;case 2:P=G.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;default:switch(M){case"svg":P=G.createElementNS("http://www.w3.org/2000/svg",M);break;case"math":P=G.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;case"script":P=G.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof b.is=="string"?G.createElement("select",{is:b.is}):G.createElement("select"),b.multiple?P.multiple=!0:b.size&&(P.size=b.size);break;default:P=typeof b.is=="string"?G.createElement(M,{is:b.is}):G.createElement(M)}}P[tr]=f,P[Zr]=b;e:for(G=f.child;G!==null;){if(G.tag===5||G.tag===6)P.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===f)break e;for(;G.sibling===null;){if(G.return===null||G.return===f)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}f.stateNode=P;e:switch($a(P,M,b),M){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Zl(f)}}return gr(f),Fm(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,g),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==b&&Zl(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(r(166));if(l=ue.current,Ud(f)){if(l=f.stateNode,g=f.memoizedProps,b=null,M=Jr,M!==null)switch(M.tag){case 27:case 5:b=M.memoizedProps}l[tr]=f,l=!!(l.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||Vk(l.nodeValue,g)),l||jl(f,!0)}else l=zA(l).createTextNode(b),l[tr]=f,f.stateNode=l}return gr(f),null;case 31:if(g=f.memoizedState,l===null||l.memoizedState!==null){if(b=Ud(f),g!==null){if(l===null){if(!b)throw Error(r(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[tr]=f}else Uc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;gr(f),l=!1}else g=ev(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return f.flags&256?(hi(f),f):(hi(f),null);if((f.flags&128)!==0)throw Error(r(558))}return gr(f),null;case 13:if(b=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(M=Ud(f),b!==null&&b.dehydrated!==null){if(l===null){if(!M)throw Error(r(318));if(M=f.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[tr]=f}else Uc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;gr(f),M=!1}else M=ev(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=M),M=!0;if(!M)return f.flags&256?(hi(f),f):(hi(f),null)}return hi(f),(f.flags&128)!==0?(f.lanes=g,f):(g=b!==null,l=l!==null&&l.memoizedState!==null,g&&(b=f.child,M=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(M=b.alternate.memoizedState.cachePool.pool),P=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(P=b.memoizedState.cachePool.pool),P!==M&&(b.flags|=2048)),g!==l&&g&&(f.child.flags|=8192),Hu(f,f.updateQueue),gr(f),null);case 4:return me(),l===null&&sO(f.stateNode.containerInfo),gr(f),null;case 10:return Xl(f.type),gr(f),null;case 19:if(Z(zn),b=f.memoizedState,b===null)return gr(f),null;if(M=(f.flags&128)!==0,P=b.rendering,P===null)if(M)Ql(b,!1);else{if(Wr!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(P=js(l),P!==null){for(f.flags|=128,Ql(b,!1),l=P.updateQueue,f.updateQueue=l,Hu(f,l),f.subtreeFlags=0,l=g,g=f.child;g!==null;)Rd(g,l),g=g.sibling;return le(zn,zn.current&1|2),Fn&&Hl(f,b.treeForkCount),f.child}l=l.sibling}b.tail!==null&&H()>mi&&(f.flags|=128,M=!0,Ql(b,!1),f.lanes=4194304)}else{if(!M)if(l=js(P),l!==null){if(f.flags|=128,M=!0,l=l.updateQueue,f.updateQueue=l,Hu(f,l),Ql(b,!0),b.tail===null&&b.tailMode==="hidden"&&!P.alternate&&!Fn)return gr(f),null}else 2*H()-b.renderingStartTime>mi&&g!==536870912&&(f.flags|=128,M=!0,Ql(b,!1),f.lanes=4194304);b.isBackwards?(P.sibling=f.child,f.child=P):(l=b.last,l!==null?l.sibling=P:f.child=P,b.last=P)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=H(),l.sibling=null,g=zn.current,le(zn,M?g&1|2:g&1),Fn&&Hl(f,b.treeForkCount),l):(gr(f),null);case 22:case 23:return hi(f),Nm(),b=f.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(g&536870912)!==0&&(f.flags&128)===0&&(gr(f),f.subtreeFlags&6&&(f.flags|=8192)):gr(f),g=f.updateQueue,g!==null&&Hu(f,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048),l!==null&&Z(Fc),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Xl(Ai),gr(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function Ro(l,f){switch(Q0(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return Xl(Ai),me(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return Be(f),null;case 31:if(f.memoizedState!==null){if(hi(f),f.alternate===null)throw Error(r(340));Uc()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(hi(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Uc()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return Z(zn),null;case 4:return me(),null;case 10:return Xl(f.type),null;case 22:case 23:return hi(f),Nm(),l!==null&&Z(Fc),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return Xl(Ai),null;case 25:return null;default:return null}}function Ws(l,f){switch(Q0(f),f.tag){case 3:Xl(Ai),me();break;case 26:case 27:case 5:Be(f);break;case 4:me();break;case 31:f.memoizedState!==null&&hi(f);break;case 13:hi(f);break;case 19:Z(zn);break;case 10:Xl(f.type);break;case 22:case 23:hi(f),Nm(),l!==null&&Z(Fc);break;case 24:Xl(Ai)}}function No(l,f){try{var g=f.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var M=b.next;g=M;do{if((g.tag&l)===l){b=void 0;var P=g.create,G=g.inst;b=P(),G.destroy=b}g=g.next}while(g!==M)}}catch(ie){Kn(f,f.return,ie)}}function la(l,f,g){try{var b=f.updateQueue,M=b!==null?b.lastEffect:null;if(M!==null){var P=M.next;b=P;do{if((b.tag&l)===l){var G=b.inst,ie=G.destroy;if(ie!==void 0){G.destroy=void 0,M=f;var be=g,He=ie;try{He()}catch(lt){Kn(M,be,lt)}}}b=b.next}while(b!==P)}}catch(lt){Kn(f,f.return,lt)}}function ll(l){var f=l.updateQueue;if(f!==null){var g=l.stateNode;try{KS(f,g)}catch(b){Kn(l,l.return,b)}}}function Zi(l,f,g){g.props=jc(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(b){Kn(l,f,b)}}function Vu(l,f){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var b=l.stateNode;break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof g=="function"?l.refCleanup=g(b):g.current=b}}catch(M){Kn(l,f,M)}}function ua(l,f){var g=l.ref,b=l.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(M){Kn(l,f,M)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(M){Kn(l,f,M)}else g.current=null}function Gm(l){var f=l.type,g=l.memoizedProps,b=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break e;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(M){Kn(l,l.return,M)}}function Di(l,f,g){try{var b=l.stateNode;f$(b,l.type,g,f),b[Zr]=f}catch(M){Kn(l,l.return,M)}}function Br(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&np(l.type)||l.tag===4}function Ln(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Br(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&np(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Jl(l,f,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(l),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Sa));else if(b!==4&&(b===27&&np(l.type)&&(g=l.stateNode,f=null),l=l.child,l!==null))for(Jl(l,f,g),l=l.sibling;l!==null;)Jl(l,f,g),l=l.sibling}function qa(l,f,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?g.insertBefore(l,f):g.appendChild(l);else if(b!==4&&(b===27&&np(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(qa(l,f,g),l=l.sibling;l!==null;)qa(l,f,g),l=l.sibling}function Pv(l){var f=l.stateNode,g=l.memoizedProps;try{for(var b=l.type,M=f.attributes;M.length;)f.removeAttributeNode(M[0]);$a(f,b,g),f[tr]=l,f[Zr]=g}catch(P){Kn(l,l.return,P)}}var Do=!1,Ar=!1,ul=!1,kA=typeof WeakSet=="function"?WeakSet:Set,Qi=null;function rO(l,f){if(l=l.containerInfo,uO=XA,l=FS(l),Tx(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var M=b.anchorOffset,P=b.focusNode;b=b.focusOffset;try{g.nodeType,P.nodeType}catch{g=null;break e}var G=0,ie=-1,be=-1,He=0,lt=0,pt=l,We=null;t:for(;;){for(var et;pt!==g||M!==0&&pt.nodeType!==3||(ie=G+M),pt!==P||b!==0&&pt.nodeType!==3||(be=G+b),pt.nodeType===3&&(G+=pt.nodeValue.length),(et=pt.firstChild)!==null;)We=pt,pt=et;for(;;){if(pt===l)break t;if(We===g&&++He===M&&(ie=G),We===P&&++lt===b&&(be=G),(et=pt.nextSibling)!==null)break;pt=We,We=pt.parentNode}pt=et}g=ie===-1||be===-1?null:{start:ie,end:be}}else g=null}g=g||{start:0,end:0}}else g=null;for(cO={focusedElem:l,selectionRange:g},XA=!1,Qi=f;Qi!==null;)if(f=Qi,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,Qi=l;else for(;Qi!==null;){switch(f=Qi,P=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(g=0;g<l.length;g++)M=l[g],M.ref.impl=M.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&P!==null){l=void 0,g=f,M=P.memoizedProps,P=P.memoizedState,b=g.stateNode;try{var Wt=jc(g.type,M);l=b.getSnapshotBeforeUpdate(Wt,P),b.__reactInternalSnapshotBeforeUpdate=l}catch(rn){Kn(g,g.return,rn)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,g=l.nodeType,g===9)dO(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":dO(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=f.sibling,l!==null){l.return=f.return,Qi=l;break}Qi=f.return}}function Fr(l,f,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:Uo(l,g),b&4&&No(5,g);break;case 1:if(Uo(l,g),b&4)if(l=g.stateNode,f===null)try{l.componentDidMount()}catch(G){Kn(g,g.return,G)}else{var M=jc(g.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(M,f,l.__reactInternalSnapshotBeforeUpdate)}catch(G){Kn(g,g.return,G)}}b&64&&ll(g),b&512&&Vu(g,g.return);break;case 3:if(Uo(l,g),b&64&&(l=g.updateQueue,l!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{KS(l,f)}catch(G){Kn(g,g.return,G)}}break;case 27:f===null&&b&4&&Pv(g);case 26:case 5:Uo(l,g),f===null&&b&4&&Gm(g),b&512&&Vu(g,g.return);break;case 12:Uo(l,g);break;case 31:Uo(l,g),b&4&&Wc(l,g);break;case 13:Uo(l,g),b&4&&Xd(l,g),b&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=_.bind(null,g),b$(l,g))));break;case 22:if(b=g.memoizedState!==null||Do,!b){f=f!==null&&f.memoizedState!==null||Ar,M=Do;var P=Ar;Do=b,(Ar=f)&&!P?Xa(l,g,(g.subtreeFlags&8772)!==0):Uo(l,g),Do=M,Ar=P}break;case 30:break;default:Uo(l,g)}}function Hm(l){var f=l.alternate;f!==null&&(l.alternate=null,Hm(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&vo(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var cr=null,Ca=!1;function Io(l,f,g){for(g=g.child;g!==null;)Ov(l,f,g),g=g.sibling}function Ov(l,f,g){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Xe,g)}catch{}switch(g.tag){case 26:Ar||ua(g,f),Io(l,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Ar||ua(g,f);var b=cr,M=Ca;np(g.type)&&(cr=g.stateNode,Ca=!1),Io(l,f,g),E1(g.stateNode),cr=b,Ca=M;break;case 5:Ar||ua(g,f);case 6:if(b=cr,M=Ca,cr=null,Io(l,f,g),cr=b,Ca=M,cr!==null)if(Ca)try{(cr.nodeType===9?cr.body:cr.nodeName==="HTML"?cr.ownerDocument.body:cr).removeChild(g.stateNode)}catch(P){Kn(g,f,P)}else try{cr.removeChild(g.stateNode)}catch(P){Kn(g,f,P)}break;case 18:cr!==null&&(Ca?(l=cr,Kk(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),Bv(l)):Kk(cr,g.stateNode));break;case 4:b=cr,M=Ca,cr=g.stateNode.containerInfo,Ca=!0,Io(l,f,g),cr=b,Ca=M;break;case 0:case 11:case 14:case 15:la(2,g,f),Ar||la(4,g,f),Io(l,f,g);break;case 1:Ar||(ua(g,f),b=g.stateNode,typeof b.componentWillUnmount=="function"&&Zi(g,f,b)),Io(l,f,g);break;case 21:Io(l,f,g);break;case 22:Ar=(b=Ar)||g.memoizedState!==null,Io(l,f,g),Ar=b;break;default:Io(l,f,g)}}function Wc(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Bv(l)}catch(g){Kn(f,f.return,g)}}}function Xd(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Bv(l)}catch(g){Kn(f,f.return,g)}}function b1(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new kA),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new kA),f;default:throw Error(r(435,l.tag))}}function ju(l,f){var g=b1(l);f.forEach(function(b){if(!g.has(b)){g.add(b);var M=E.bind(null,l,b);b.then(M,M)}})}function Ii(l,f){var g=f.deletions;if(g!==null)for(var b=0;b<g.length;b++){var M=g[b],P=l,G=f,ie=G;e:for(;ie!==null;){switch(ie.tag){case 27:if(np(ie.type)){cr=ie.stateNode,Ca=!1;break e}break;case 5:cr=ie.stateNode,Ca=!1;break e;case 3:case 4:cr=ie.stateNode.containerInfo,Ca=!0;break e}ie=ie.return}if(cr===null)throw Error(r(160));Ov(P,G,M),cr=null,Ca=!1,P=M.alternate,P!==null&&(P.return=null),M.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)qc(f,l),f=f.sibling}var Lo=null;function qc(l,f){var g=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ii(f,l),Li(l),b&4&&(la(3,l,l.return),No(3,l),la(5,l,l.return));break;case 1:Ii(f,l),Li(l),b&512&&(Ar||g===null||ua(g,g.return)),b&64&&Do&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var M=Lo;if(Ii(f,l),Li(l),b&512&&(Ar||g===null||ua(g,g.return)),b&4){var P=g!==null?g.memoizedState:null;if(b=l.memoizedState,g===null)if(b===null)if(l.stateNode===null){e:{b=l.type,g=l.memoizedProps,M=M.ownerDocument||M;t:switch(b){case"title":P=M.getElementsByTagName("title")[0],(!P||P[Us]||P[tr]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=M.createElement(b),M.head.insertBefore(P,M.querySelector("head > title"))),$a(P,b,g),P[tr]=l,te(P),b=P;break e;case"link":var G=s4("link","href",M).get(b+(g.href||""));if(G){for(var ie=0;ie<G.length;ie++)if(P=G[ie],P.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&P.getAttribute("rel")===(g.rel==null?null:g.rel)&&P.getAttribute("title")===(g.title==null?null:g.title)&&P.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){G.splice(ie,1);break t}}P=M.createElement(b),$a(P,b,g),M.head.appendChild(P);break;case"meta":if(G=s4("meta","content",M).get(b+(g.content||""))){for(ie=0;ie<G.length;ie++)if(P=G[ie],P.getAttribute("content")===(g.content==null?null:""+g.content)&&P.getAttribute("name")===(g.name==null?null:g.name)&&P.getAttribute("property")===(g.property==null?null:g.property)&&P.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&P.getAttribute("charset")===(g.charSet==null?null:g.charSet)){G.splice(ie,1);break t}}P=M.createElement(b),$a(P,b,g),M.head.appendChild(P);break;default:throw Error(r(468,b))}P[tr]=l,te(P),b=P}l.stateNode=b}else o4(M,l.type,l.stateNode);else l.stateNode=a4(M,b,l.memoizedProps);else P!==b?(P===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):P.count--,b===null?o4(M,l.type,l.stateNode):a4(M,b,l.memoizedProps)):b===null&&l.stateNode!==null&&Di(l,l.memoizedProps,g.memoizedProps)}break;case 27:Ii(f,l),Li(l),b&512&&(Ar||g===null||ua(g,g.return)),g!==null&&b&4&&Di(l,l.memoizedProps,g.memoizedProps);break;case 5:if(Ii(f,l),Li(l),b&512&&(Ar||g===null||ua(g,g.return)),l.flags&32){M=l.stateNode;try{Ir(M,"")}catch(Wt){Kn(l,l.return,Wt)}}b&4&&l.stateNode!=null&&(M=l.memoizedProps,Di(l,M,g!==null?g.memoizedProps:M)),b&1024&&(ul=!0);break;case 6:if(Ii(f,l),Li(l),b&4){if(l.stateNode===null)throw Error(r(162));b=l.memoizedProps,g=l.stateNode;try{g.nodeValue=b}catch(Wt){Kn(l,l.return,Wt)}}break;case 3:if(VA=null,M=Lo,Lo=GA(f.containerInfo),Ii(f,l),Lo=M,Li(l),b&4&&g!==null&&g.memoizedState.isDehydrated)try{Bv(f.containerInfo)}catch(Wt){Kn(l,l.return,Wt)}ul&&(ul=!1,Rv(l));break;case 4:b=Lo,Lo=GA(l.stateNode.containerInfo),Ii(f,l),Li(l),Lo=b;break;case 12:Ii(f,l),Li(l);break;case 31:Ii(f,l),Li(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,ju(l,b)));break;case 13:Ii(f,l),Li(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Yd=H()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,ju(l,b)));break;case 22:M=l.memoizedState!==null;var be=g!==null&&g.memoizedState!==null,He=Do,lt=Ar;if(Do=He||M,Ar=lt||be,Ii(f,l),Ar=lt,Do=He,Li(l),b&8192)e:for(f=l.stateNode,f._visibility=M?f._visibility&-2:f._visibility|1,M&&(g===null||be||Do||Ar||eu(l)),g=null,f=l;;){if(f.tag===5||f.tag===26){if(g===null){be=g=f;try{if(P=be.stateNode,M)G=P.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ie=be.stateNode;var pt=be.memoizedProps.style,We=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;ie.style.display=We==null||typeof We=="boolean"?"":(""+We).trim()}}catch(Wt){Kn(be,be.return,Wt)}}}else if(f.tag===6){if(g===null){be=f;try{be.stateNode.nodeValue=M?"":be.memoizedProps}catch(Wt){Kn(be,be.return,Wt)}}}else if(f.tag===18){if(g===null){be=f;try{var et=be.stateNode;M?$k(et,!0):$k(be.stateNode,!1)}catch(Wt){Kn(be,be.return,Wt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=l.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,ju(l,g))));break;case 19:Ii(f,l),Li(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,ju(l,b)));break;case 30:break;case 21:break;default:Ii(f,l),Li(l)}}function Li(l){var f=l.flags;if(f&2){try{for(var g,b=l.return;b!==null;){if(Br(b)){g=b;break}b=b.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var M=g.stateNode,P=Ln(l);qa(l,P,M);break;case 5:var G=g.stateNode;g.flags&32&&(Ir(G,""),g.flags&=-33);var ie=Ln(l);qa(l,ie,G);break;case 3:case 4:var be=g.stateNode.containerInfo,He=Ln(l);Jl(l,He,be);break;default:throw Error(r(161))}}catch(lt){Kn(l,l.return,lt)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function Rv(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;Rv(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function Uo(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Fr(l,f.alternate,f),f=f.sibling}function eu(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:la(4,f,f.return),eu(f);break;case 1:ua(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&Zi(f,f.return,g),eu(f);break;case 27:E1(f.stateNode);case 26:case 5:ua(f,f.return),eu(f);break;case 22:f.memoizedState===null&&eu(f);break;case 30:eu(f);break;default:eu(f)}l=l.sibling}}function Xa(l,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,M=l,P=f,G=P.flags;switch(P.tag){case 0:case 11:case 15:Xa(M,P,g),No(4,P);break;case 1:if(Xa(M,P,g),b=P,M=b.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(He){Kn(b,b.return,He)}if(b=P,M=b.updateQueue,M!==null){var ie=b.stateNode;try{var be=M.shared.hiddenCallbacks;if(be!==null)for(M.shared.hiddenCallbacks=null,M=0;M<be.length;M++)Gd(be[M],ie)}catch(He){Kn(b,b.return,He)}}g&&G&64&&ll(P),Vu(P,P.return);break;case 27:Pv(P);case 26:case 5:Xa(M,P,g),g&&b===null&&G&4&&Gm(P),Vu(P,P.return);break;case 12:Xa(M,P,g);break;case 31:Xa(M,P,g),g&&G&4&&Wc(M,P);break;case 13:Xa(M,P,g),g&&G&4&&Xd(M,P);break;case 22:P.memoizedState===null&&Xa(M,P,g),Vu(P,P.return);break;case 30:break;default:Xa(M,P,g)}f=f.sibling}}function Xc(l,f){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Zf(g))}function fh(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Zf(l))}function ca(l,f,g,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)x1(l,f,g,b),f=f.sibling}function x1(l,f,g,b){var M=f.flags;switch(f.tag){case 0:case 11:case 15:ca(l,f,g,b),M&2048&&No(9,f);break;case 1:ca(l,f,g,b);break;case 3:ca(l,f,g,b),M&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Zf(l)));break;case 12:if(M&2048){ca(l,f,g,b),l=f.stateNode;try{var P=f.memoizedProps,G=P.id,ie=P.onPostCommit;typeof ie=="function"&&ie(G,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(be){Kn(f,f.return,be)}}else ca(l,f,g,b);break;case 31:ca(l,f,g,b);break;case 13:ca(l,f,g,b);break;case 23:break;case 22:P=f.stateNode,G=f.alternate,f.memoizedState!==null?P._visibility&2?ca(l,f,g,b):tu(l,f):P._visibility&2?ca(l,f,g,b):(P._visibility|=2,fa(l,f,g,b,(f.subtreeFlags&10256)!==0||!1)),M&2048&&Xc(G,f);break;case 24:ca(l,f,g,b),M&2048&&fh(f.alternate,f);break;default:ca(l,f,g,b)}}function fa(l,f,g,b,M){for(M=M&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var P=l,G=f,ie=g,be=b,He=G.flags;switch(G.tag){case 0:case 11:case 15:fa(P,G,ie,be,M),No(8,G);break;case 23:break;case 22:var lt=G.stateNode;G.memoizedState!==null?lt._visibility&2?fa(P,G,ie,be,M):tu(P,G):(lt._visibility|=2,fa(P,G,ie,be,M)),M&&He&2048&&Xc(G.alternate,G);break;case 24:fa(P,G,ie,be,M),M&&He&2048&&fh(G.alternate,G);break;default:fa(P,G,ie,be,M)}f=f.sibling}}function tu(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=l,b=f,M=b.flags;switch(b.tag){case 22:tu(g,b),M&2048&&Xc(b.alternate,b);break;case 24:tu(g,b),M&2048&&fh(b.alternate,b);break;default:tu(g,b)}f=f.sibling}}var hh=8192;function qs(l,f,g){if(l.subtreeFlags&hh)for(l=l.child;l!==null;)Nv(l,f,g),l=l.sibling}function Nv(l,f,g){switch(l.tag){case 26:qs(l,f,g),l.flags&hh&&l.memoizedState!==null&&R$(g,Lo,l.memoizedState,l.memoizedProps);break;case 5:qs(l,f,g);break;case 3:case 4:var b=Lo;Lo=GA(l.stateNode.containerInfo),qs(l,f,g),Lo=b;break;case 22:l.memoizedState===null&&(b=l.alternate,b!==null&&b.memoizedState!==null?(b=hh,hh=16777216,qs(l,f,g),hh=b):qs(l,f,g));break;default:qs(l,f,g)}}function dh(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function Yc(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];Qi=b,ei(b,l)}dh(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ys(l),l=l.sibling}function ys(l){switch(l.tag){case 0:case 11:case 15:Yc(l),l.flags&2048&&la(9,l,l.return);break;case 3:Yc(l);break;case 12:Yc(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,bs(l)):Yc(l);break;default:Yc(l)}}function bs(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];Qi=b,ei(b,l)}dh(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:la(8,f,f.return),bs(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,bs(f));break;default:bs(f)}l=l.sibling}}function ei(l,f){for(;Qi!==null;){var g=Qi;switch(g.tag){case 0:case 11:case 15:la(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Zf(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,Qi=b;else e:for(g=l;Qi!==null;){b=Qi;var M=b.sibling,P=b.return;if(Hm(b),b===g){Qi=null;break e}if(M!==null){M.return=P,Qi=M;break e}Qi=P}}}var Wu={getCacheForType:function(l){var f=ln(Ai),g=f.data.get(l);return g===void 0&&(g=l(),f.data.set(l,g)),g},cacheSignal:function(){return ln(Ai).controller.signal}},gn=typeof WeakMap=="function"?WeakMap:Map,Yt=0,hn=null,_n=null,bn=0,Vn=0,Pa=null,ko=!1,cl=!1,_1=!1,Xs=0,Wr=0,nu=0,Kc=0,Vm=0,Ya=0,Pr=0,ph=null,ti=null,ni=!1,Yd=0,w1=0,mi=1/0,qr=null,gi=null,fr=0,Ys=null,Kd=null,Bo=0,$d=0,Zd=null,jm=null,$c=0,mh=null;function Ks(){return(Yt&2)!==0&&bn!==0?bn&-bn:W.T!==null?Ke():Fa()}function On(){if(Ya===0)if((bn&536870912)===0||Fn){var l=rt;rt<<=1,(rt&3932160)===0&&(rt=262144),Ya=l}else Ya=536870912;return l=ps.current,l!==null&&(l.flags|=32),Ya}function wn(l,f,g){(l===hn&&(Vn===2||Vn===9)||l.cancelPendingCommit!==null)&&(Qc(l,0),Mi(l,bn,Ya,!1)),Mn(l,g),((Yt&2)===0||l!==hn)&&(l===hn&&((Yt&2)===0&&(Kc|=g),Wr===4&&Mi(l,bn,Ya,!1)),xt(l))}function Rn(l,f,g){if((Yt&6)!==0)throw Error(r(327));var b=!g&&(f&127)===0&&(f&l.expiredLanes)===0||ht(l,f),M=b?Wm(l,f):Ka(l,f,!0),P=b;do{if(M===0){cl&&!b&&Mi(l,f,0,!1);break}else{if(g=l.current.alternate,P&&!hr(g)){M=Ka(l,f,!1),P=!1;continue}if(M===2){if(P=f,l.errorRecoveryDisabledLanes&P)var G=0;else G=l.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){f=G;e:{var ie=l;M=ph;var be=ie.current.memoizedState.isDehydrated;if(be&&(Qc(ie,G).flags|=256),G=Ka(ie,G,!1),G!==2){if(_1&&!be){ie.errorRecoveryDisabledLanes|=P,Kc|=P,M=4;break e}P=ti,ti=M,P!==null&&(ti===null?ti=P:ti.push.apply(ti,P))}M=G}if(P=!1,M!==2)continue}}if(M===1){Qc(l,0),Mi(l,f,0,!0);break}e:{switch(b=l,P=M,P){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:Mi(b,f,Ya,!ko);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(M=Yd+300-H(),10<M)){if(Mi(b,f,Ya,!ko),Ge(b,0,!0)!==0)break e;Bo=f,b.timeoutHandle=Xk(Un.bind(null,b,g,ti,qr,ni,f,Ya,Kc,Pr,ko,P,"Throttled",-0,0),M);break e}Un(b,g,ti,qr,ni,f,Ya,Kc,Pr,ko,P,null,-0,0)}}break}while(!0);xt(l)}function Un(l,f,g,b,M,P,G,ie,be,He,lt,pt,We,et){if(l.timeoutHandle=-1,pt=f.subtreeFlags,pt&8192||(pt&16785408)===16785408){pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},Nv(f,P,pt);var Wt=(P&62914560)===P?Yd-H():(P&4194048)===P?w1-H():0;if(Wt=N$(pt,Wt),Wt!==null){Bo=P,l.cancelPendingCommit=Wt(Xu.bind(null,l,f,P,g,b,M,G,ie,be,lt,pt,null,We,et)),Mi(l,P,G,!He);return}}Xu(l,f,P,g,b,M,G,ie,be)}function hr(l){for(var f=l;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var M=g[b],P=M.getSnapshot;M=M.value;try{if(!Ha(P(),M))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Mi(l,f,g,b){f&=~Vm,f&=~Kc,l.suspendedLanes|=f,l.pingedLanes&=~f,b&&(l.warmLanes|=f),b=l.expirationTimes;for(var M=f;0<M;){var P=31-fe(M),G=1<<P;b[P]=-1,M&=~G}g!==0&&pr(l,g,f)}function fl(){return(Yt&6)===0?(It(0),!1):!0}function Zc(){if(_n!==null){if(Vn===0)var l=_n.return;else l=_n,ql=kc=null,Wx(l),nh=null,rh=0,l=_n;for(;l!==null;)Ws(l.alternate,l),l=l.return;_n=null}}function Qc(l,f){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,p$(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Bo=0,Zc(),hn=l,_n=g=fs(l.current,null),bn=f,Vn=0,Pa=null,ko=!1,cl=ht(l,f),_1=!1,Pr=Ya=Vm=Kc=nu=Wr=0,ti=ph=null,ni=!1,(f&8)!==0&&(f|=f&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=f;0<b;){var M=31-fe(b),P=1<<M;f|=l[M],b&=~P}return Xs=f,Am(),g}function ru(l,f){mn=null,W.H=Wd,f===Qf||f===xn?(f=eh(),Vn=3):f===Cm?(f=eh(),Vn=4):Vn=f===xv?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Pa=f,_n===null&&(Wr=1,bv(l,Gs(f,l.current)))}function Xr(){var l=ps.current;return l===null?!0:(bn&4194048)===bn?Wa===null:(bn&62914560)===bn||(bn&536870912)!==0?l===Wa:!1}function qu(){var l=W.H;return W.H=Wd,l===null?Wd:l}function Jc(){var l=W.A;return W.A=Wu,l}function Qd(){Wr=4,ko||(bn&4194048)!==bn&&ps.current!==null||(cl=!0),(nu&134217727)===0&&(Kc&134217727)===0||hn===null||Mi(hn,bn,Ya,!1)}function Ka(l,f,g){var b=Yt;Yt|=2;var M=qu(),P=Jc();(hn!==l||bn!==f)&&(qr=null,Qc(l,f)),f=!1;var G=Wr;e:do try{if(Vn!==0&&_n!==null){var ie=_n,be=Pa;switch(Vn){case 8:Zc(),G=6;break e;case 3:case 2:case 9:case 6:ps.current===null&&(f=!0);var He=Vn;if(Vn=0,Pa=null,gh(l,ie,be,He),g&&cl){G=0;break e}break;default:He=Vn,Vn=0,Pa=null,gh(l,ie,be,He)}}Jd(),G=Wr;break}catch(lt){ru(l,lt)}while(!0);return f&&l.shellSuspendCounter++,ql=kc=null,Yt=b,W.H=M,W.A=P,_n===null&&(hn=null,bn=0,Am()),G}function Jd(){for(;_n!==null;)Dv(_n)}function Wm(l,f){var g=Yt;Yt|=2;var b=qu(),M=Jc();hn!==l||bn!==f?(qr=null,mi=H()+500,Qc(l,f)):cl=ht(l,f);e:do try{if(Vn!==0&&_n!==null){f=_n;var P=Pa;t:switch(Vn){case 1:Vn=0,Pa=null,gh(l,f,P,1);break;case 2:case 9:if(ds(P)){Vn=0,Pa=null,qm(f);break}f=function(){Vn!==2&&Vn!==9||hn!==l||(Vn=7),xt(l)},P.then(f,f);break e;case 3:Vn=7;break e;case 4:Vn=5;break e;case 7:ds(P)?(Vn=0,Pa=null,qm(f)):(Vn=0,Pa=null,gh(l,f,P,7));break;case 5:var G=null;switch(_n.tag){case 26:G=_n.memoizedState;case 5:case 27:var ie=_n;if(G?l4(G):ie.stateNode.complete){Vn=0,Pa=null;var be=ie.sibling;if(be!==null)_n=be;else{var He=ie.return;He!==null?(_n=He,ef(He)):_n=null}break t}}Vn=0,Pa=null,gh(l,f,P,5);break;case 6:Vn=0,Pa=null,gh(l,f,P,6);break;case 8:Zc(),Wr=6;break e;default:throw Error(r(462))}}xs();break}catch(lt){ru(l,lt)}while(!0);return ql=kc=null,W.H=b,W.A=M,Yt=g,_n!==null?0:(hn=null,bn=0,Am(),Wr)}function xs(){for(;_n!==null&&!qe();)Dv(_n)}function Dv(l){var f=Cv(l.alternate,l,Xs);l.memoizedProps=l.pendingProps,f===null?ef(l):_n=f}function qm(l){var f=l,g=f.alternate;switch(f.tag){case 15:case 0:f=km(g,f,f.pendingProps,f.type,void 0,bn);break;case 11:f=km(g,f,f.pendingProps,f.type.render,f.ref,bn);break;case 5:Wx(f);default:Ws(g,f),f=_n=Rd(f,Xs),f=Cv(g,f,Xs)}l.memoizedProps=l.pendingProps,f===null?ef(l):_n=f}function gh(l,f,g,b){ql=kc=null,Wx(f),nh=null,rh=0;var M=f.return;try{if(Ni(l,M,f,g,bn)){Wr=1,bv(l,Gs(g,l.current)),_n=null;return}}catch(P){if(M!==null)throw _n=M,P;Wr=1,bv(l,Gs(g,l.current)),_n=null;return}f.flags&32768?(Fn||b===1?l=!0:cl||(bn&536870912)!==0?l=!1:(ko=l=!0,(b===2||b===9||b===3||b===6)&&(b=ps.current,b!==null&&b.tag===13&&(b.flags|=16384))),Xm(f,l)):ef(f)}function ef(l){var f=l;do{if((f.flags&32768)!==0){Xm(f,ko);return}l=f.return;var g=zm(f.alternate,f,Xs);if(g!==null){_n=g;return}if(f=f.sibling,f!==null){_n=f;return}_n=f=l}while(f!==null);Wr===0&&(Wr=5)}function Xm(l,f){do{var g=Ro(l.alternate,l);if(g!==null){g.flags&=32767,_n=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(l=l.sibling,l!==null)){_n=l;return}_n=l=g}while(l!==null);Wr=6,_n=null}function Xu(l,f,g,b,M,P,G,ie,be){l.cancelPendingCommit=null;do ep();while(fr!==0);if((Yt&6)!==0)throw Error(r(327));if(f!==null){if(f===l.current)throw Error(r(177));if(P=f.lanes|f.childLanes,P|=Yi,kn(l,g,P,G,ie,be),l===hn&&(_n=hn=null,bn=0),Kd=f,Ys=l,Bo=g,$d=P,Zd=M,jm=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,N(Ee,function(){return Iv(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=W.T,W.T=null,M=X.p,X.p=2,G=Yt,Yt|=4;try{rO(l,f,g)}finally{Yt=G,X.p=M,W.T=b}}fr=1,Ti(),Yu(),vh()}}function Ti(){if(fr===1){fr=0;var l=Ys,f=Kd,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=W.T,W.T=null;var b=X.p;X.p=2;var M=Yt;Yt|=4;try{qc(f,l);var P=cO,G=FS(l.containerInfo),ie=P.focusedElem,be=P.selectionRange;if(G!==ie&&ie&&ie.ownerDocument&&wr(ie.ownerDocument.documentElement,ie)){if(be!==null&&Tx(ie)){var He=be.start,lt=be.end;if(lt===void 0&&(lt=He),"selectionStart"in ie)ie.selectionStart=He,ie.selectionEnd=Math.min(lt,ie.value.length);else{var pt=ie.ownerDocument||document,We=pt&&pt.defaultView||window;if(We.getSelection){var et=We.getSelection(),Wt=ie.textContent.length,rn=Math.min(be.start,Wt),Mr=be.end===void 0?rn:Math.min(be.end,Wt);!et.extend&&rn>Mr&&(G=Mr,Mr=rn,rn=G);var Re=Cd(ie,rn),we=Cd(ie,Mr);if(Re&&we&&(et.rangeCount!==1||et.anchorNode!==Re.node||et.anchorOffset!==Re.offset||et.focusNode!==we.node||et.focusOffset!==we.offset)){var ze=pt.createRange();ze.setStart(Re.node,Re.offset),et.removeAllRanges(),rn>Mr?(et.addRange(ze),et.extend(we.node,we.offset)):(ze.setEnd(we.node,we.offset),et.addRange(ze))}}}}for(pt=[],et=ie;et=et.parentNode;)et.nodeType===1&&pt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<pt.length;ie++){var dt=pt[ie];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}XA=!!uO,cO=uO=null}finally{Yt=M,X.p=b,W.T=g}}l.current=f,fr=2}}function Yu(){if(fr===2){fr=0;var l=Ys,f=Kd,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=W.T,W.T=null;var b=X.p;X.p=2;var M=Yt;Yt|=4;try{Fr(l,f.alternate,f)}finally{Yt=M,X.p=b,W.T=g}}fr=3}}function vh(){if(fr===4||fr===3){fr=0,$();var l=Ys,f=Kd,g=Bo,b=jm;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?fr=5:(fr=0,Kd=Ys=null,iu(l,l.pendingLanes));var M=l.pendingLanes;if(M===0&&(gi=null),Wi(g),f=f.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Xe,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=W.T,M=X.p,X.p=2,W.T=null;try{for(var P=l.onRecoverableError,G=0;G<b.length;G++){var ie=b[G];P(ie.value,{componentStack:ie.stack})}}finally{W.T=f,X.p=M}}(Bo&3)!==0&&ep(),xt(l),M=l.pendingLanes,(g&261930)!==0&&(M&42)!==0?l===mh?$c++:($c=0,mh=l):$c=0,It(0)}}function iu(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,Zf(f)))}function ep(){return Ti(),Yu(),vh(),Iv()}function Iv(){if(fr!==5)return!1;var l=Ys,f=$d;$d=0;var g=Wi(Bo),b=W.T,M=X.p;try{X.p=32>g?32:g,W.T=null,g=Zd,Zd=null;var P=Ys,G=Bo;if(fr=0,Kd=Ys=null,Bo=0,(Yt&6)!==0)throw Error(r(331));var ie=Yt;if(Yt|=4,ys(P.current),x1(P,P.current,G,g),Yt=ie,It(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Xe,P)}catch{}return!0}finally{X.p=M,W.T=b,iu(l,f)}}function S1(l,f,g){f=Gs(g,f),f=d1(l.stateNode,f,2),l=zc(l,f,2),l!==null&&(Mn(l,2),xt(l))}function Kn(l,f,g){if(l.tag===3)S1(l,l,g);else for(;f!==null;){if(f.tag===3){S1(f,l,g);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(gi===null||!gi.has(b))){l=Gs(g,l),g=p1(2),b=zc(f,g,2),b!==null&&(NA(g,b,f,l),Mn(b,2),xt(b));break}}f=f.return}}function Ym(l,f,g){var b=l.pingCache;if(b===null){b=l.pingCache=new gn;var M=new Set;b.set(f,M)}else M=b.get(f),M===void 0&&(M=new Set,b.set(f,M));M.has(g)||(_1=!0,M.add(g),l=d.bind(null,l,f,g),f.then(l,l))}function d(l,f,g){var b=l.pingCache;b!==null&&b.delete(f),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,hn===l&&(bn&g)===g&&(Wr===4||Wr===3&&(bn&62914560)===bn&&300>H()-Yd?(Yt&2)===0&&Qc(l,0):Vm|=g,Pr===bn&&(Pr=0)),xt(l)}function m(l,f){f===0&&(f=Tt()),l=Va(l,f),l!==null&&(Mn(l,f),xt(l))}function _(l){var f=l.memoizedState,g=0;f!==null&&(g=f.retryLane),m(l,g)}function E(l,f){var g=0;switch(l.tag){case 31:case 13:var b=l.stateNode,M=l.memoizedState;M!==null&&(g=M.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(f),m(l,g)}function N(l,f){return Ze(l,f)}var U=null,ee=null,xe=!1,Je=!1,gt=!1,Et=0;function xt(l){l!==ee&&l.next===null&&(ee===null?U=ee=l:ee=ee.next=l),Je=!0,xe||(xe=!0,Ie())}function It(l,f){if(!gt&&Je){gt=!0;do for(var g=!1,b=U;b!==null;){if(l!==0){var M=b.pendingLanes;if(M===0)var P=0;else{var G=b.suspendedLanes,ie=b.pingedLanes;P=(1<<31-fe(42|l)+1)-1,P&=M&~(G&~ie),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(g=!0,Ve(b,P))}else P=bn,P=Ge(b,b===hn?P:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(P&3)===0||ht(b,P)||(g=!0,Ve(b,P));b=b.next}while(g);gt=!1}}function pn(){vi()}function vi(){Je=xe=!1;var l=0;Et!==0&&d$()&&(l=Et);for(var f=H(),g=null,b=U;b!==null;){var M=b.next,P=tp(b,f);P===0?(b.next=null,g===null?U=M:g.next=M,M===null&&(ee=g)):(g=b,(l!==0||(P&3)!==0)&&(Je=!0)),b=M}fr!==0&&fr!==5||It(l),Et!==0&&(Et=0)}function tp(l,f){for(var g=l.suspendedLanes,b=l.pingedLanes,M=l.expirationTimes,P=l.pendingLanes&-62914561;0<P;){var G=31-fe(P),ie=1<<G,be=M[G];be===-1?((ie&g)===0||(ie&b)!==0)&&(M[G]=Ct(ie,f)):be<=f&&(l.expiredLanes|=ie),P&=~ie}if(f=hn,g=bn,g=Ge(l,l===f?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b=l.callbackNode,g===0||l===f&&(Vn===2||Vn===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&De(b),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||ht(l,g)){if(f=g&-g,f===l.callbackPriority)return f;switch(b!==null&&De(b),Wi(g)){case 2:case 8:g=Pe;break;case 32:g=Ee;break;case 268435456:g=ot;break;default:g=Ee}return b=tf.bind(null,l),g=Ze(g,b),l.callbackPriority=f,l.callbackNode=g,f}return b!==null&&b!==null&&De(b),l.callbackPriority=2,l.callbackNode=null,2}function tf(l,f){if(fr!==0&&fr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(ep()&&l.callbackNode!==g)return null;var b=bn;return b=Ge(l,l===hn?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b===0?null:(Rn(l,b,f),tp(l,H()),l.callbackNode!=null&&l.callbackNode===g?tf.bind(null,l):null)}function Ve(l,f){if(ep())return null;Rn(l,f,!0)}function Ie(){m$(function(){(Yt&6)!==0?Ze(Ue,pn):vi()})}function Ke(){if(Et===0){var l=ku;l===0&&(l=Ye,Ye<<=1,(Ye&261888)===0&&(Ye=256)),Et=l}return Et}function At(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:bo(""+l)}function en(l,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,l.id&&g.setAttribute("form",l.id),f.parentNode.insertBefore(g,f),l=new FormData(l),g.parentNode.removeChild(g),l}function Yr(l,f,g,b,M){if(f==="submit"&&g&&g.stateNode===M){var P=At((M[Zr]||null).action),G=b.submitter;G&&(f=(f=G[Zr]||null)?At(f.formAction):G.getAttribute("formAction"),f!==null&&(P=f,G=null));var ie=new Ru("action","action",null,b,M);l.push({event:ie,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Et!==0){var be=G?en(M,G):new FormData(M);a1(g,{pending:!0,data:be,method:M.method,action:P},null,be)}}else typeof P=="function"&&(ie.preventDefault(),be=G?en(M,G):new FormData(M),a1(g,{pending:!0,data:be,method:M.method,action:P},P,be))},currentTarget:M}]})}}for(var tn=0;tn<wm.length;tn++){var Wn=wm[tn],Ji=Wn.toLowerCase(),Jn=Wn[0].toUpperCase()+Wn.slice(1);Ao(Ji,"on"+Jn)}Ao(X0,"onAnimationEnd"),Ao(_m,"onAnimationIteration"),Ao(Px,"onAnimationStart"),Ao("dblclick","onDoubleClick"),Ao("focusin","onFocus"),Ao("focusout","onBlur"),Ao(GS,"onTransitionRun"),Ao(KP,"onTransitionStart"),Ao(HS,"onTransitionCancel"),Ao(Ox,"onTransitionEnd"),Oe("onMouseEnter",["mouseout","mouseover"]),Oe("onMouseLeave",["mouseout","mouseover"]),Oe("onPointerEnter",["pointerout","pointerover"]),Oe("onPointerLeave",["pointerout","pointerover"]),Fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function Fk(l,f){f=(f&4)!==0;for(var g=0;g<l.length;g++){var b=l[g],M=b.event;b=b.listeners;e:{var P=void 0;if(f)for(var G=b.length-1;0<=G;G--){var ie=b[G],be=ie.instance,He=ie.currentTarget;if(ie=ie.listener,be!==P&&M.isPropagationStopped())break e;P=ie,M.currentTarget=He;try{P(M)}catch(lt){Sm(lt)}M.currentTarget=null,P=be}else for(G=0;G<b.length;G++){if(ie=b[G],be=ie.instance,He=ie.currentTarget,ie=ie.listener,be!==P&&M.isPropagationStopped())break e;P=ie,M.currentTarget=He;try{P(M)}catch(lt){Sm(lt)}M.currentTarget=null,P=be}}}}function jn(l,f){var g=f[za];g===void 0&&(g=f[za]=new Set);var b=l+"__bubble";g.has(b)||(zk(f,l,2,!1),g.add(b))}function aO(l,f,g){var b=0;f&&(b|=4),zk(g,l,b,f)}var BA="_reactListening"+Math.random().toString(36).slice(2);function sO(l){if(!l[BA]){l[BA]=!0,Me.forEach(function(g){g!=="selectionchange"&&(iO.has(g)||aO(g,!1,l),aO(g,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[BA]||(f[BA]=!0,aO("selectionchange",!1,f))}}function zk(l,f,g,b){switch(m4(f)){case 2:var M=L$;break;case 8:M=U$;break;default:M=_O}g=M.bind(null,f,g,l),M=void 0,!Ga||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(M=!0),b?M!==void 0?l.addEventListener(f,g,{capture:!0,passive:M}):l.addEventListener(f,g,!0):M!==void 0?l.addEventListener(f,g,{passive:M}):l.addEventListener(f,g,!1)}function oO(l,f,g,b,M){var P=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var G=b.tag;if(G===3||G===4){var ie=b.stateNode.containerInfo;if(ie===M)break;if(G===4)for(G=b.return;G!==null;){var be=G.tag;if((be===3||be===4)&&G.stateNode.containerInfo===M)return;G=G.return}for(;ie!==null;){if(G=cs(ie),G===null)return;if(be=G.tag,be===5||be===6||be===26||be===27){b=P=G;continue e}ie=ie.parentNode}}b=b.return}Sc(function(){var He=P,lt=zf(g),pt=[];e:{var We=So.get(l);if(We!==void 0){var et=Ru,Wt=l;switch(l){case"keypress":if(Ec(g)===0)break e;case"keydown":case"keyup":et=qf;break;case"focusin":Wt="focus",et=Ad;break;case"focusout":Wt="blur",et=Ad;break;case"beforeblur":case"afterblur":et=Ad;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=TS;break;case X0:case _m:case Px:et=zs;break;case Ox:et=YP;break;case"scroll":case"scrollend":et=Tc;break;case"wheel":et=PS;break;case"copy":case"cut":case"paste":et=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=mx;break;case"toggle":case"beforetoggle":et=RS}var rn=(f&4)!==0,Mr=!rn&&(l==="scroll"||l==="scrollend"),Re=rn?We!==null?We+"Capture":null:We;rn=[];for(var we=He,ze;we!==null;){var dt=we;if(ze=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||ze===null||Re===null||(dt=Dl(we,Re),dt!=null&&rn.push(A1(we,dt,ze))),Mr)break;we=we.return}0<rn.length&&(We=new et(We,Wt,null,g,lt),pt.push({event:We,listeners:rn}))}}if((f&7)===0){e:{if(We=l==="mouseover"||l==="pointerover",et=l==="mouseout"||l==="pointerout",We&&g!==Nl&&(Wt=g.relatedTarget||g.fromElement)&&(cs(Wt)||Wt[aa]))break e;if((et||We)&&(We=lt.window===lt?lt:(We=lt.ownerDocument)?We.defaultView||We.parentWindow:window,et?(Wt=g.relatedTarget||g.toElement,et=He,Wt=Wt?cs(Wt):null,Wt!==null&&(Mr=a(Wt),rn=Wt.tag,Wt!==Mr||rn!==5&&rn!==27&&rn!==6)&&(Wt=null)):(et=null,Wt=He),et!==Wt)){if(rn=mm,dt="onMouseLeave",Re="onMouseEnter",we="mouse",(l==="pointerout"||l==="pointerover")&&(rn=mx,dt="onPointerLeave",Re="onPointerEnter",we="pointer"),Mr=et==null?We:yo(et),ze=Wt==null?We:yo(Wt),We=new rn(dt,we+"leave",et,g,lt),We.target=Mr,We.relatedTarget=ze,dt=null,cs(lt)===He&&(rn=new rn(Re,we+"enter",Wt,g,lt),rn.target=ze,rn.relatedTarget=Mr,dt=rn),Mr=dt,et&&Wt)t:{for(rn=l$,Re=et,we=Wt,ze=0,dt=Re;dt;dt=rn(dt))ze++;dt=0;for(var Jt=we;Jt;Jt=rn(Jt))dt++;for(;0<ze-dt;)Re=rn(Re),ze--;for(;0<dt-ze;)we=rn(we),dt--;for(;ze--;){if(Re===we||we!==null&&Re===we.alternate){rn=Re;break t}Re=rn(Re),we=rn(we)}rn=null}else rn=null;et!==null&&Gk(pt,We,et,rn,!1),Wt!==null&&Mr!==null&&Gk(pt,Mr,Wt,rn,!0)}}e:{if(We=He?yo(He):window,et=We.nodeName&&We.nodeName.toLowerCase(),et==="select"||et==="input"&&We.type==="file")var ar=wx;else if(_x(We))if(Bl)ar=BS;else{ar=Ex;var Xt=US}else et=We.nodeName,!et||et.toLowerCase()!=="input"||We.type!=="checkbox"&&We.type!=="radio"?He&&Xi(He.elementType)&&(ar=wx):ar=kS;if(ar&&(ar=ar(l,He))){W0(pt,ar,g,lt);break e}Xt&&Xt(l,We,He),l==="focusout"&&He&&We.type==="number"&&He.memoizedProps.value!=null&&nr(We,"number",We.value)}switch(Xt=He?yo(He):window,l){case"focusin":(_x(Xt)||Xt.contentEditable==="true")&&(Fl=Xt,zl=He,Pd=null);break;case"focusout":Pd=zl=Fl=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,Od(pt,g,lt);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Od(pt,g,lt)}var Cn;if(Xf)e:{switch(l){case"compositionstart":var qn="onCompositionStart";break e;case"compositionend":qn="onCompositionEnd";break e;case"compositionupdate":qn="onCompositionUpdate";break e}qn=void 0}else Yf?j0(l,g)&&(qn="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(qn="onCompositionStart");qn&&(vx&&g.locale!=="ko"&&(Yf||qn!=="onCompositionStart"?qn==="onCompositionEnd"&&Yf&&(Cn=Ac()):(Aa=lt,Vf="value"in Aa?Aa.value:Aa.textContent,Yf=!0)),Xt=FA(He,qn),0<Xt.length&&(qn=new F0(qn,l,null,g,lt),pt.push({event:qn,listeners:Xt}),Cn?qn.data=Cn:(Cn=yx(g),Cn!==null&&(qn.data=Cn)))),(Cn=V0?IS(l,g):bx(l,g))&&(qn=FA(He,"onBeforeInput"),0<qn.length&&(Xt=new F0("onBeforeInput","beforeinput",null,g,lt),pt.push({event:Xt,listeners:qn}),Xt.data=Cn)),Yr(pt,l,He,g,lt)}Fk(pt,f)})}function A1(l,f,g){return{instance:l,listener:f,currentTarget:g}}function FA(l,f){for(var g=f+"Capture",b=[];l!==null;){var M=l,P=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||P===null||(M=Dl(l,g),M!=null&&b.unshift(A1(l,M,P)),M=Dl(l,f),M!=null&&b.push(A1(l,M,P))),l.tag===3)return b;l=l.return}return[]}function l$(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Gk(l,f,g,b,M){for(var P=f._reactName,G=[];g!==null&&g!==b;){var ie=g,be=ie.alternate,He=ie.stateNode;if(ie=ie.tag,be!==null&&be===b)break;ie!==5&&ie!==26&&ie!==27||He===null||(be=He,M?(He=Dl(g,P),He!=null&&G.unshift(A1(g,He,be))):M||(He=Dl(g,P),He!=null&&G.push(A1(g,He,be)))),g=g.return}G.length!==0&&l.push({event:f,listeners:G})}var u$=/\r\n?/g,c$=/\u0000|\uFFFD/g;function Hk(l){return(typeof l=="string"?l:""+l).replace(u$,`
`).replace(c$,"")}function Vk(l,f){return f=Hk(f),Hk(l)===f}function Er(l,f,g,b,M,P){switch(g){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||Ir(l,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&Ir(l,""+b);break;case"className":Kt(l,"class",b);break;case"tabIndex":Kt(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Kt(l,g,b);break;case"style":rl(l,b,P);break;case"data":if(f!=="object"){Kt(l,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||g!=="href")){l.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=bo(""+b),l.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(g==="formAction"?(f!=="input"&&Er(l,f,"name",M.name,M,null),Er(l,f,"formEncType",M.formEncType,M,null),Er(l,f,"formMethod",M.formMethod,M,null),Er(l,f,"formTarget",M.formTarget,M,null)):(Er(l,f,"encType",M.encType,M,null),Er(l,f,"method",M.method,M,null),Er(l,f,"target",M.target,M,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=bo(""+b),l.setAttribute(g,b);break;case"onClick":b!=null&&(l.onclick=Sa);break;case"onScroll":b!=null&&jn("scroll",l);break;case"onScrollEnd":b!=null&&jn("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(M.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}g=bo(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""+b):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":b===!0?l.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,b):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(g,b):l.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(g):l.setAttribute(g,b);break;case"popover":jn("beforetoggle",l),jn("toggle",l),kt(l,"popover",b);break;case"xlinkActuate":Bt(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Bt(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Bt(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Bt(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Bt(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Bt(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Bt(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Bt(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Bt(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":kt(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=pm.get(g)||g,kt(l,g,b))}}function lO(l,f,g,b,M,P){switch(g){case"style":rl(l,b,P);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(M.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"children":typeof b=="string"?Ir(l,b):(typeof b=="number"||typeof b=="bigint")&&Ir(l,""+b);break;case"onScroll":b!=null&&jn("scroll",l);break;case"onScrollEnd":b!=null&&jn("scrollend",l);break;case"onClick":b!=null&&(l.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!je.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(M=g.endsWith("Capture"),f=g.slice(2,M?g.length-7:void 0),P=l[Zr]||null,P=P!=null?P[g]:null,typeof P=="function"&&l.removeEventListener(f,P,M),typeof b=="function")){typeof P!="function"&&P!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(f,b,M);break e}g in l?l[g]=b:b===!0?l.setAttribute(g,""):kt(l,g,b)}}}function $a(l,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jn("error",l),jn("load",l);var b=!1,M=!1,P;for(P in g)if(g.hasOwnProperty(P)){var G=g[P];if(G!=null)switch(P){case"src":b=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Er(l,f,P,G,g,null)}}M&&Er(l,f,"srcSet",g.srcSet,g,null),b&&Er(l,f,"src",g.src,g,null);return;case"input":jn("invalid",l);var ie=P=G=M=null,be=null,He=null;for(b in g)if(g.hasOwnProperty(b)){var lt=g[b];if(lt!=null)switch(b){case"name":M=lt;break;case"type":G=lt;break;case"checked":be=lt;break;case"defaultChecked":He=lt;break;case"value":P=lt;break;case"defaultValue":ie=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,f));break;default:Er(l,f,b,lt,g,null)}}wa(l,P,ie,be,He,G,M,!1);return;case"select":jn("invalid",l),b=G=P=null;for(M in g)if(g.hasOwnProperty(M)&&(ie=g[M],ie!=null))switch(M){case"value":P=ie;break;case"defaultValue":G=ie;break;case"multiple":b=ie;default:Er(l,f,M,ie,g,null)}f=P,g=G,l.multiple=!!b,f!=null?qi(l,!!b,f,!1):g!=null&&qi(l,!!b,g,!0);return;case"textarea":jn("invalid",l),P=M=b=null;for(G in g)if(g.hasOwnProperty(G)&&(ie=g[G],ie!=null))switch(G){case"value":b=ie;break;case"defaultValue":M=ie;break;case"children":P=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(91));break;default:Er(l,f,G,ie,g,null)}Dr(l,b,M,P);return;case"option":for(be in g)if(g.hasOwnProperty(be)&&(b=g[be],b!=null))switch(be){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Er(l,f,be,b,g,null)}return;case"dialog":jn("beforetoggle",l),jn("toggle",l),jn("cancel",l),jn("close",l);break;case"iframe":case"object":jn("load",l);break;case"video":case"audio":for(b=0;b<Fo.length;b++)jn(Fo[b],l);break;case"image":jn("error",l),jn("load",l);break;case"details":jn("toggle",l);break;case"embed":case"source":case"link":jn("error",l),jn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(He in g)if(g.hasOwnProperty(He)&&(b=g[He],b!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Er(l,f,He,b,g,null)}return;default:if(Xi(f)){for(lt in g)g.hasOwnProperty(lt)&&(b=g[lt],b!==void 0&&lO(l,f,lt,b,g,void 0));return}}for(ie in g)g.hasOwnProperty(ie)&&(b=g[ie],b!=null&&Er(l,f,ie,b,g,null))}function f$(l,f,g,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,P=null,G=null,ie=null,be=null,He=null,lt=null;for(et in g){var pt=g[et];if(g.hasOwnProperty(et)&&pt!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":be=pt;default:b.hasOwnProperty(et)||Er(l,f,et,null,b,pt)}}for(var We in b){var et=b[We];if(pt=g[We],b.hasOwnProperty(We)&&(et!=null||pt!=null))switch(We){case"type":P=et;break;case"name":M=et;break;case"checked":He=et;break;case"defaultChecked":lt=et;break;case"value":G=et;break;case"defaultValue":ie=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,f));break;default:et!==pt&&Er(l,f,We,et,b,pt)}}Qr(l,G,ie,be,He,lt,P,M);return;case"select":et=G=ie=We=null;for(P in g)if(be=g[P],g.hasOwnProperty(P)&&be!=null)switch(P){case"value":break;case"multiple":et=be;default:b.hasOwnProperty(P)||Er(l,f,P,null,b,be)}for(M in b)if(P=b[M],be=g[M],b.hasOwnProperty(M)&&(P!=null||be!=null))switch(M){case"value":We=P;break;case"defaultValue":ie=P;break;case"multiple":G=P;default:P!==be&&Er(l,f,M,P,b,be)}f=ie,g=G,b=et,We!=null?qi(l,!!g,We,!1):!!b!=!!g&&(f!=null?qi(l,!!g,f,!0):qi(l,!!g,g?[]:"",!1));return;case"textarea":et=We=null;for(ie in g)if(M=g[ie],g.hasOwnProperty(ie)&&M!=null&&!b.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:Er(l,f,ie,null,b,M)}for(G in b)if(M=b[G],P=g[G],b.hasOwnProperty(G)&&(M!=null||P!=null))switch(G){case"value":We=M;break;case"defaultValue":et=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:M!==P&&Er(l,f,G,M,b,P)}Bn(l,We,et);return;case"option":for(var Wt in g)if(We=g[Wt],g.hasOwnProperty(Wt)&&We!=null&&!b.hasOwnProperty(Wt))switch(Wt){case"selected":l.selected=!1;break;default:Er(l,f,Wt,null,b,We)}for(be in b)if(We=b[be],et=g[be],b.hasOwnProperty(be)&&We!==et&&(We!=null||et!=null))switch(be){case"selected":l.selected=We&&typeof We!="function"&&typeof We!="symbol";break;default:Er(l,f,be,We,b,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rn in g)We=g[rn],g.hasOwnProperty(rn)&&We!=null&&!b.hasOwnProperty(rn)&&Er(l,f,rn,null,b,We);for(He in b)if(We=b[He],et=g[He],b.hasOwnProperty(He)&&We!==et&&(We!=null||et!=null))switch(He){case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,f));break;default:Er(l,f,He,We,b,et)}return;default:if(Xi(f)){for(var Mr in g)We=g[Mr],g.hasOwnProperty(Mr)&&We!==void 0&&!b.hasOwnProperty(Mr)&&lO(l,f,Mr,void 0,b,We);for(lt in b)We=b[lt],et=g[lt],!b.hasOwnProperty(lt)||We===et||We===void 0&&et===void 0||lO(l,f,lt,We,b,et);return}}for(var Re in g)We=g[Re],g.hasOwnProperty(Re)&&We!=null&&!b.hasOwnProperty(Re)&&Er(l,f,Re,null,b,We);for(pt in b)We=b[pt],et=g[pt],!b.hasOwnProperty(pt)||We===et||We==null&&et==null||Er(l,f,pt,We,b,et)}function jk(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h$(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,g=performance.getEntriesByType("resource"),b=0;b<g.length;b++){var M=g[b],P=M.transferSize,G=M.initiatorType,ie=M.duration;if(P&&ie&&jk(G)){for(G=0,ie=M.responseEnd,b+=1;b<g.length;b++){var be=g[b],He=be.startTime;if(He>ie)break;var lt=be.transferSize,pt=be.initiatorType;lt&&jk(pt)&&(be=be.responseEnd,G+=lt*(be<ie?1:(ie-He)/(be-He)))}if(--b,f+=8*(P+G)/(M.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var uO=null,cO=null;function zA(l){return l.nodeType===9?l:l.ownerDocument}function Wk(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qk(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function fO(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var hO=null;function d$(){var l=window.event;return l&&l.type==="popstate"?l===hO?!1:(hO=l,!0):(hO=null,!1)}var Xk=typeof setTimeout=="function"?setTimeout:void 0,p$=typeof clearTimeout=="function"?clearTimeout:void 0,Yk=typeof Promise=="function"?Promise:void 0,m$=typeof queueMicrotask=="function"?queueMicrotask:typeof Yk<"u"?function(l){return Yk.resolve(null).then(l).catch(g$)}:Xk;function g$(l){setTimeout(function(){throw l})}function np(l){return l==="head"}function Kk(l,f){var g=f,b=0;do{var M=g.nextSibling;if(l.removeChild(g),M&&M.nodeType===8)if(g=M.data,g==="/$"||g==="/&"){if(b===0){l.removeChild(M),Bv(f);return}b--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")b++;else if(g==="html")E1(l.ownerDocument.documentElement);else if(g==="head"){g=l.ownerDocument.head,E1(g);for(var P=g.firstChild;P;){var G=P.nextSibling,ie=P.nodeName;P[Us]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&P.rel.toLowerCase()==="stylesheet"||g.removeChild(P),P=G}}else g==="body"&&E1(l.ownerDocument.body);g=M}while(g);Bv(f)}function $k(l,f){var g=l;l=0;do{var b=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),b&&b.nodeType===8)if(g=b.data,g==="/$"){if(l===0)break;l--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||l++;g=b}while(g)}function dO(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":dO(g),vo(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function v$(l,f,g,b){for(;l.nodeType===1;){var M=g;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[Us])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(P=l.getAttribute("rel"),P==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(P!==M.rel||l.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||l.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||l.getAttribute("title")!==(M.title==null?null:M.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(P=l.getAttribute("src"),(P!==(M.src==null?null:M.src)||l.getAttribute("type")!==(M.type==null?null:M.type)||l.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&P&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var P=M.name==null?null:""+M.name;if(M.type==="hidden"&&l.getAttribute("name")===P)return l}else return l;if(l=au(l.nextSibling),l===null)break}return null}function y$(l,f,g){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=au(l.nextSibling),l===null))return null;return l}function Zk(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=au(l.nextSibling),l===null))return null;return l}function pO(l){return l.data==="$?"||l.data==="$~"}function mO(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function b$(l,f){var g=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||g.readyState!=="loading")f();else{var b=function(){f(),g.removeEventListener("DOMContentLoaded",b)};g.addEventListener("DOMContentLoaded",b),l._reactRetry=b}}function au(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var gO=null;function Qk(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"||g==="/&"){if(f===0)return au(l.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}l=l.nextSibling}return null}function Jk(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return l;f--}else g!=="/$"&&g!=="/&"||f++}l=l.previousSibling}return null}function e4(l,f,g){switch(f=zA(g),l){case"html":if(l=f.documentElement,!l)throw Error(r(452));return l;case"head":if(l=f.head,!l)throw Error(r(453));return l;case"body":if(l=f.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function E1(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);vo(l)}var su=new Map,t4=new Set;function GA(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var yh=X.d;X.d={f:x$,r:_$,D:w$,C:S$,L:A$,m:E$,X:T$,S:M$,M:C$};function x$(){var l=yh.f(),f=fl();return l||f}function _$(l){var f=ks(l);f!==null&&f.tag===5&&f.type==="form"?SA(f):yh.r(l)}var Lv=typeof document>"u"?null:document;function n4(l,f,g){var b=Lv;if(b&&typeof f=="string"&&f){var M=qt(f);M='link[rel="'+l+'"][href="'+M+'"]',typeof g=="string"&&(M+='[crossorigin="'+g+'"]'),t4.has(M)||(t4.add(M),l={rel:l,crossOrigin:g,href:f},b.querySelector(M)===null&&(f=b.createElement("link"),$a(f,"link",l),te(f),b.head.appendChild(f)))}}function w$(l){yh.D(l),n4("dns-prefetch",l,null)}function S$(l,f){yh.C(l,f),n4("preconnect",l,f)}function A$(l,f,g){yh.L(l,f,g);var b=Lv;if(b&&l&&f){var M='link[rel="preload"][as="'+qt(f)+'"]';f==="image"&&g&&g.imageSrcSet?(M+='[imagesrcset="'+qt(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(M+='[imagesizes="'+qt(g.imageSizes)+'"]')):M+='[href="'+qt(l)+'"]';var P=M;switch(f){case"style":P=Uv(l);break;case"script":P=kv(l)}su.has(P)||(l=p({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:l,as:f},g),su.set(P,l),b.querySelector(M)!==null||f==="style"&&b.querySelector(M1(P))||f==="script"&&b.querySelector(T1(P))||(f=b.createElement("link"),$a(f,"link",l),te(f),b.head.appendChild(f)))}}function E$(l,f){yh.m(l,f);var g=Lv;if(g&&l){var b=f&&typeof f.as=="string"?f.as:"script",M='link[rel="modulepreload"][as="'+qt(b)+'"][href="'+qt(l)+'"]',P=M;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=kv(l)}if(!su.has(P)&&(l=p({rel:"modulepreload",href:l},f),su.set(P,l),g.querySelector(M)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(T1(P)))return}b=g.createElement("link"),$a(b,"link",l),te(b),g.head.appendChild(b)}}}function M$(l,f,g){yh.S(l,f,g);var b=Lv;if(b&&l){var M=Ft(b).hoistableStyles,P=Uv(l);f=f||"default";var G=M.get(P);if(!G){var ie={loading:0,preload:null};if(G=b.querySelector(M1(P)))ie.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":f},g),(g=su.get(P))&&vO(l,g);var be=G=b.createElement("link");te(be),$a(be,"link",l),be._p=new Promise(function(He,lt){be.onload=He,be.onerror=lt}),be.addEventListener("load",function(){ie.loading|=1}),be.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,HA(G,f,b)}G={type:"stylesheet",instance:G,count:1,state:ie},M.set(P,G)}}}function T$(l,f){yh.X(l,f);var g=Lv;if(g&&l){var b=Ft(g).hoistableScripts,M=kv(l),P=b.get(M);P||(P=g.querySelector(T1(M)),P||(l=p({src:l,async:!0},f),(f=su.get(M))&&yO(l,f),P=g.createElement("script"),te(P),$a(P,"link",l),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},b.set(M,P))}}function C$(l,f){yh.M(l,f);var g=Lv;if(g&&l){var b=Ft(g).hoistableScripts,M=kv(l),P=b.get(M);P||(P=g.querySelector(T1(M)),P||(l=p({src:l,async:!0,type:"module"},f),(f=su.get(M))&&yO(l,f),P=g.createElement("script"),te(P),$a(P,"link",l),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},b.set(M,P))}}function r4(l,f,g,b){var M=(M=ue.current)?GA(M):null;if(!M)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=Uv(g.href),g=Ft(M).hoistableStyles,b=g.get(f),b||(b={type:"style",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=Uv(g.href);var P=Ft(M).hoistableStyles,G=P.get(l);if(G||(M=M.ownerDocument||M,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(l,G),(P=M.querySelector(M1(l)))&&!P._p&&(G.instance=P,G.state.loading=5),su.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},su.set(l,g),P||P$(M,l,g,G.state))),f&&b===null)throw Error(r(528,""));return G}if(f&&b!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=kv(g),g=Ft(M).hoistableScripts,b=g.get(f),b||(b={type:"script",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Uv(l){return'href="'+qt(l)+'"'}function M1(l){return'link[rel="stylesheet"]['+l+"]"}function i4(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function P$(l,f,g,b){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=l.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),$a(f,"link",g),te(f),l.head.appendChild(f))}function kv(l){return'[src="'+qt(l)+'"]'}function T1(l){return"script[async]"+l}function a4(l,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var b=l.querySelector('style[data-href~="'+qt(g.href)+'"]');if(b)return f.instance=b,te(b),b;var M=p({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),te(b),$a(b,"style",M),HA(b,g.precedence,l),f.instance=b;case"stylesheet":M=Uv(g.href);var P=l.querySelector(M1(M));if(P)return f.state.loading|=4,f.instance=P,te(P),P;b=i4(g),(M=su.get(M))&&vO(b,M),P=(l.ownerDocument||l).createElement("link"),te(P);var G=P;return G._p=new Promise(function(ie,be){G.onload=ie,G.onerror=be}),$a(P,"link",b),f.state.loading|=4,HA(P,g.precedence,l),f.instance=P;case"script":return P=kv(g.src),(M=l.querySelector(T1(P)))?(f.instance=M,te(M),M):(b=g,(M=su.get(P))&&(b=p({},g),yO(b,M)),l=l.ownerDocument||l,M=l.createElement("script"),te(M),$a(M,"link",b),l.head.appendChild(M),f.instance=M);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(b=f.instance,f.state.loading|=4,HA(b,g.precedence,l));return f.instance}function HA(l,f,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=b.length?b[b.length-1]:null,P=M,G=0;G<b.length;G++){var ie=b[G];if(ie.dataset.precedence===f)P=ie;else if(P!==M)break}P?P.parentNode.insertBefore(l,P.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(l,f.firstChild))}function vO(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function yO(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var VA=null;function s4(l,f,g){if(VA===null){var b=new Map,M=VA=new Map;M.set(g,b)}else M=VA,b=M.get(g),b||(b=new Map,M.set(g,b));if(b.has(l))return b;for(b.set(l,null),g=g.getElementsByTagName(l),M=0;M<g.length;M++){var P=g[M];if(!(P[Us]||P[tr]||l==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var G=P.getAttribute(f)||"";G=l+G;var ie=b.get(G);ie?ie.push(P):b.set(G,[P])}}return b}function o4(l,f,g){l=l.ownerDocument||l,l.head.insertBefore(g,f==="title"?l.querySelector("head > title"):null)}function O$(l,f,g){if(g===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function l4(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function R$(l,f,g,b){if(g.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var M=Uv(b.href),P=f.querySelector(M1(M));if(P){f=P._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=jA.bind(l),f.then(l,l)),g.state.loading|=4,g.instance=P,te(P);return}P=f.ownerDocument||f,b=i4(b),(M=su.get(M))&&vO(b,M),P=P.createElement("link"),te(P);var G=P;G._p=new Promise(function(ie,be){G.onload=ie,G.onerror=be}),$a(P,"link",b),g.instance=P}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(l.count++,g=jA.bind(l),f.addEventListener("load",g),f.addEventListener("error",g))}}var bO=0;function N$(l,f){return l.stylesheets&&l.count===0&&qA(l,l.stylesheets),0<l.count||0<l.imgCount?function(g){var b=setTimeout(function(){if(l.stylesheets&&qA(l,l.stylesheets),l.unsuspend){var P=l.unsuspend;l.unsuspend=null,P()}},6e4+f);0<l.imgBytes&&bO===0&&(bO=62500*h$());var M=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&qA(l,l.stylesheets),l.unsuspend)){var P=l.unsuspend;l.unsuspend=null,P()}},(l.imgBytes>bO?50:800)+f);return l.unsuspend=g,function(){l.unsuspend=null,clearTimeout(b),clearTimeout(M)}}:null}function jA(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qA(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var WA=null;function qA(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,WA=new Map,f.forEach(D$,l),WA=null,jA.call(l))}function D$(l,f){if(!(f.state.loading&4)){var g=WA.get(l);if(g)var b=g.get(null);else{g=new Map,WA.set(l,g);for(var M=l.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<M.length;P++){var G=M[P];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(g.set(G.dataset.precedence,G),b=G)}b&&g.set(null,b)}M=f.instance,G=M.getAttribute("data-precedence"),P=g.get(G)||b,P===b&&g.set(null,M),g.set(G,M),this.count++,b=jA.bind(this),M.addEventListener("load",b),M.addEventListener("error",b),P?P.parentNode.insertBefore(M,P.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(M,l.firstChild)),f.state.loading|=4}}var C1={$$typeof:C,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function I$(l,f,g,b,M,P,G,ie,be){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=b,this.onUncaughtError=M,this.onCaughtError=P,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function u4(l,f,g,b,M,P,G,ie,be,He,lt,pt){return l=new I$(l,f,g,G,be,He,lt,pt,ie),f=1,P===!0&&(f|=24),P=Hr(3,null,null,f),l.current=P,P.stateNode=l,f=Nx(),f.refCount++,l.pooledCache=f,f.refCount++,P.memoizedState={element:b,isDehydrated:g,cache:f},Om(P),l}function c4(l){return l?(l=Nc,l):Nc}function f4(l,f,g,b,M,P){M=c4(M),b.context===null?b.context=M:b.pendingContext=M,b=Fu(f),b.payload={element:g},P=P===void 0?null:P,P!==null&&(b.callback=P),g=zc(l,b,f),g!==null&&(wn(g,l,f),Gc(g,l,f))}function h4(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<f?g:f}}function xO(l,f){h4(l,f),(l=l.alternate)&&h4(l,f)}function d4(l){if(l.tag===13||l.tag===31){var f=Va(l,67108864);f!==null&&wn(f,l,67108864),xO(l,67108864)}}function p4(l){if(l.tag===13||l.tag===31){var f=Ks();f=ji(f);var g=Va(l,f);g!==null&&wn(g,l,f),xO(l,f)}}var XA=!0;function L$(l,f,g,b){var M=W.T;W.T=null;var P=X.p;try{X.p=2,_O(l,f,g,b)}finally{X.p=P,W.T=M}}function U$(l,f,g,b){var M=W.T;W.T=null;var P=X.p;try{X.p=8,_O(l,f,g,b)}finally{X.p=P,W.T=M}}function _O(l,f,g,b){if(XA){var M=wO(b);if(M===null)oO(l,f,b,YA,g),g4(l,b);else if(B$(M,l,f,g,b))b.stopPropagation();else if(g4(l,b),f&4&&-1<k$.indexOf(l)){for(;M!==null;){var P=ks(M);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var G=it(P.pendingLanes);if(G!==0){var ie=P;for(ie.pendingLanes|=2,ie.entangledLanes|=2;G;){var be=1<<31-fe(G);ie.entanglements[1]|=be,G&=~be}xt(P),(Yt&6)===0&&(mi=H()+500,It(0))}}break;case 31:case 13:ie=Va(P,2),ie!==null&&wn(ie,P,2),fl(),xO(P,2)}if(P=wO(b),P===null&&oO(l,f,b,YA,g),P===M)break;M=P}M!==null&&b.stopPropagation()}else oO(l,f,b,null,g)}}function wO(l){return l=zf(l),SO(l)}var YA=null;function SO(l){if(YA=null,l=cs(l),l!==null){var f=a(l);if(f===null)l=null;else{var g=f.tag;if(g===13){if(l=s(f),l!==null)return l;l=null}else if(g===31){if(l=o(f),l!==null)return l;l=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return YA=l,null}function m4(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case Ue:return 2;case Pe:return 8;case Ee:case ct:return 32;case ot:return 268435456;default:return 32}default:return 32}}var AO=!1,rp=null,ip=null,ap=null,P1=new Map,O1=new Map,sp=[],k$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g4(l,f){switch(l){case"focusin":case"focusout":rp=null;break;case"dragenter":case"dragleave":ip=null;break;case"mouseover":case"mouseout":ap=null;break;case"pointerover":case"pointerout":P1.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":O1.delete(f.pointerId)}}function R1(l,f,g,b,M,P){return l===null||l.nativeEvent!==P?(l={blockedOn:f,domEventName:g,eventSystemFlags:b,nativeEvent:P,targetContainers:[M]},f!==null&&(f=ks(f),f!==null&&d4(f)),l):(l.eventSystemFlags|=b,f=l.targetContainers,M!==null&&f.indexOf(M)===-1&&f.push(M),l)}function B$(l,f,g,b,M){switch(f){case"focusin":return rp=R1(rp,l,f,g,b,M),!0;case"dragenter":return ip=R1(ip,l,f,g,b,M),!0;case"mouseover":return ap=R1(ap,l,f,g,b,M),!0;case"pointerover":var P=M.pointerId;return P1.set(P,R1(P1.get(P)||null,l,f,g,b,M)),!0;case"gotpointercapture":return P=M.pointerId,O1.set(P,R1(O1.get(P)||null,l,f,g,b,M)),!0}return!1}function v4(l){var f=cs(l.target);if(f!==null){var g=a(f);if(g!==null){if(f=g.tag,f===13){if(f=s(g),f!==null){l.blockedOn=f,_r(l.priority,function(){p4(g)});return}}else if(f===31){if(f=o(g),f!==null){l.blockedOn=f,_r(l.priority,function(){p4(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function KA(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var g=wO(l.nativeEvent);if(g===null){g=l.nativeEvent;var b=new g.constructor(g.type,g);Nl=b,g.target.dispatchEvent(b),Nl=null}else return f=ks(g),f!==null&&d4(f),l.blockedOn=g,!1;f.shift()}return!0}function y4(l,f,g){KA(l)&&g.delete(f)}function F$(){AO=!1,rp!==null&&KA(rp)&&(rp=null),ip!==null&&KA(ip)&&(ip=null),ap!==null&&KA(ap)&&(ap=null),P1.forEach(y4),O1.forEach(y4)}function $A(l,f){l.blockedOn===f&&(l.blockedOn=null,AO||(AO=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,F$)))}var ZA=null;function b4(l){ZA!==l&&(ZA=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ZA===l&&(ZA=null);for(var f=0;f<l.length;f+=3){var g=l[f],b=l[f+1],M=l[f+2];if(typeof b!="function"){if(SO(b||g)===null)continue;break}var P=ks(g);P!==null&&(l.splice(f,3),f-=3,a1(P,{pending:!0,data:M,method:g.method,action:b},b,M))}}))}function Bv(l){function f(be){return $A(be,l)}rp!==null&&$A(rp,l),ip!==null&&$A(ip,l),ap!==null&&$A(ap,l),P1.forEach(f),O1.forEach(f);for(var g=0;g<sp.length;g++){var b=sp[g];b.blockedOn===l&&(b.blockedOn=null)}for(;0<sp.length&&(g=sp[0],g.blockedOn===null);)v4(g),g.blockedOn===null&&sp.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var M=g[b],P=g[b+1],G=M[Zr]||null;if(typeof P=="function")G||b4(g);else if(G){var ie=null;if(P&&P.hasAttribute("formAction")){if(M=P,G=P[Zr]||null)ie=G.formAction;else if(SO(M)!==null)continue}else ie=G.action;typeof ie=="function"?g[b+1]=ie:(g.splice(b,3),b-=3),b4(g)}}}function x4(){function l(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(G){return M=G})},focusReset:"manual",scroll:"manual"})}function f(){M!==null&&(M(),M=null),b||setTimeout(g,20)}function g(){if(!b&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,M=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){b=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),M!==null&&(M(),M=null)}}}function EO(l){this._internalRoot=l}QA.prototype.render=EO.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,b=Ks();f4(g,b,l,f,null,null)},QA.prototype.unmount=EO.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;f4(l.current,2,null,l,null,null),fl(),f[aa]=null}};function QA(l){this._internalRoot=l}QA.prototype.unstable_scheduleHydration=function(l){if(l){var f=Fa();l={blockedOn:null,target:l,priority:f};for(var g=0;g<sp.length&&f!==0&&f<sp[g].priority;g++);sp.splice(g,0,l),g===0&&v4(l)}};var _4=e.version;if(_4!=="19.2.3")throw Error(r(527,_4,"19.2.3"));X.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(f),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var z$={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var JA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!JA.isDisabled&&JA.supportsFiber)try{Xe=JA.inject(z$),Qe=JA}catch{}}return I1.createRoot=function(l,f){if(!i(l))throw Error(r(299));var g=!1,b="",M=OA,P=f1,G=h1;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(M=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(G=f.onRecoverableError)),f=u4(l,1,!1,null,null,g,b,null,M,P,G,x4),l[aa]=f.current,sO(l),new EO(f)},I1.hydrateRoot=function(l,f,g){if(!i(l))throw Error(r(299));var b=!1,M="",P=OA,G=f1,ie=h1,be=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onUncaughtError!==void 0&&(P=g.onUncaughtError),g.onCaughtError!==void 0&&(G=g.onCaughtError),g.onRecoverableError!==void 0&&(ie=g.onRecoverableError),g.formState!==void 0&&(be=g.formState)),f=u4(l,1,!0,f,g??null,b,M,be,P,G,ie,x4),f.context=c4(null),g=f.current,b=Ks(),b=ji(b),M=Fu(b),M.callback=null,zc(g,M,b),g=b,f.current.lanes=g,Mn(f,g),xt(f),l[aa]=f.current,sO(l),new QA(f)},I1.version="19.2.3",I1}var N4;function Q$(){if(N4)return PO.exports;N4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),PO.exports=Z$(),PO.exports}var J$=Q$();const eZ=Cu(J$);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const O0="182",dg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},pg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},YH=0,BD=1,KH=2,tZ=3,$H=0,Oy=1,v_=2,Tg=3,nd=0,fo=1,_u=2,Cf=0,r0=1,$M=2,FD=3,zD=4,ZH=5,Sp=100,QH=101,JH=102,eV=103,tV=104,nV=200,rV=201,iV=202,aV=203,ZM=204,QM=205,sV=206,oV=207,lV=208,uV=209,cV=210,fV=211,hV=212,dV=213,pV=214,JM=0,eT=1,tT=2,d0=3,nT=4,rT=5,iT=6,aT=7,zw=0,mV=1,gV=2,Su=0,VL=1,jL=2,WL=3,o3=4,qL=5,XL=6,YL=7,GD="attached",vV="detached",l3=300,Nf=301,$p=302,I_=303,L_=304,Jb=306,U_=1e3,$o=1001,k_=1002,Hi=1003,KL=1004,nZ=1004,by=1005,rZ=1005,Or=1006,y_=1007,iZ=1007,Af=1008,aZ=1008,no=1009,$L=1010,ZL=1011,Mb=1012,u3=1013,Au=1014,ao=1015,Df=1016,c3=1017,f3=1018,Tb=1020,QL=35902,JL=35899,eU=1021,tU=1022,Os=1023,If=1026,jp=1027,h3=1028,Gw=1029,p0=1030,d3=1031,sZ=1032,p3=1033,b_=33776,x_=33777,__=33778,w_=33779,sT=35840,oT=35841,lT=35842,uT=35843,cT=36196,fT=37492,hT=37496,dT=37488,pT=37489,mT=37490,gT=37491,vT=37808,yT=37809,bT=37810,xT=37811,_T=37812,wT=37813,ST=37814,AT=37815,ET=37816,MT=37817,TT=37818,CT=37819,PT=37820,OT=37821,RT=36492,NT=36494,DT=36495,IT=36283,LT=36284,UT=36285,kT=36286,yV=2200,bV=2201,xV=2202,B_=2300,BT=2301,MM=2302,Cg=2400,Pg=2401,F_=2402,m3=2500,nU=2501,oZ=0,lZ=1,uZ=2,_V=3200,wV=3201,cZ=3202,fZ=3203,sm=0,SV=1,Hh="",Ps="srgb",Zp="srgb-linear",z_="linear",vr="srgb",hZ="",dZ="rg",pZ="ga",mZ=0,mg=7680,gZ=7681,vZ=7682,yZ=7683,bZ=34055,xZ=34056,_Z=5386,wZ=512,SZ=513,AZ=514,EZ=515,MZ=516,TZ=517,CZ=518,HD=519,AV=512,EV=513,MV=514,g3=515,TV=516,CV=517,v3=518,PV=519,G_=35044,PZ=35048,OZ=35040,RZ=35045,NZ=35049,DZ=35041,IZ=35046,LZ=35050,UZ=35042,kZ="100",VD="300 es",wl=2e3,Cb=2001,BZ={COMPUTE:"compute",RENDER:"render"},FZ={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},zZ={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function OV(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const GZ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function xy(n,e){return new GZ[n](e)}function RV(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function H_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function NV(){const n=H_("canvas");return n.style.display="block",n}const D4={};let Qp=null;function HZ(n){Qp=n}function VZ(){return Qp}function V_(...n){const e="THREE."+n.shift();Qp?Qp("log",e,...n):console.log(e,...n)}function Dt(...n){const e="THREE."+n.shift();Qp?Qp("warn",e,...n):console.warn(e,...n)}function $t(...n){const e="THREE."+n.shift();Qp?Qp("error",e,...n):console.error(e,...n)}function Pb(...n){const e=n.join(" ");e in D4||(D4[e]=!0,Dt(...n))}function jZ(n,e,t){return new Promise(function(r,i){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}let Uf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}};const ws=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let I4=1234567;const i0=Math.PI/180,Ob=180/Math.PI;function El(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ws[n&255]+ws[n>>8&255]+ws[n>>16&255]+ws[n>>24&255]+"-"+ws[e&255]+ws[e>>8&255]+"-"+ws[e>>16&15|64]+ws[e>>24&255]+"-"+ws[t&63|128]+ws[t>>8&255]+"-"+ws[t>>16&255]+ws[t>>24&255]+ws[r&255]+ws[r>>8&255]+ws[r>>16&255]+ws[r>>24&255]).toLowerCase()}function cn(n,e,t){return Math.max(e,Math.min(t,n))}function rU(n,e){return(n%e+e)%e}function WZ(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function qZ(n,e,t){return n!==e?(t-n)/(e-n):0}function S_(n,e,t){return(1-t)*n+t*e}function XZ(n,e,t,r){return S_(n,e,1-Math.exp(-t*r))}function YZ(n,e=1){return e-Math.abs(rU(n,e*2)-e)}function KZ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function $Z(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function ZZ(n,e){return n+Math.floor(Math.random()*(e-n+1))}function QZ(n,e){return n+Math.random()*(e-n)}function JZ(n){return n*(.5-Math.random())}function eQ(n){n!==void 0&&(I4=n);let e=I4+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function tQ(n){return n*i0}function nQ(n){return n*Ob}function rQ(n){return(n&n-1)===0&&n!==0}function iQ(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function aQ(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function sQ(n,e,t,r,i){const a=Math.cos,s=Math.sin,o=a(t/2),u=s(t/2),c=a((e+r)/2),h=s((e+r)/2),p=a((e-r)/2),v=s((e-r)/2),y=a((r-e)/2),x=s((r-e)/2);switch(i){case"XYX":n.set(o*h,u*p,u*v,o*c);break;case"YZY":n.set(u*v,o*h,u*p,o*c);break;case"ZXZ":n.set(u*p,u*v,o*h,o*c);break;case"XZX":n.set(o*h,u*x,u*y,o*c);break;case"YXY":n.set(u*y,o*h,u*x,o*c);break;case"ZYZ":n.set(u*x,u*y,o*h,o*c);break;default:Dt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ro(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function An(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const A_={DEG2RAD:i0,RAD2DEG:Ob,generateUUID:El,clamp:cn,euclideanModulo:rU,mapLinear:WZ,inverseLerp:qZ,lerp:S_,damp:XZ,pingpong:YZ,smoothstep:KZ,smootherstep:$Z,randInt:ZZ,randFloat:QZ,randFloatSpread:JZ,seededRandom:eQ,degToRad:tQ,radToDeg:nQ,isPowerOfTwo:rQ,ceilPowerOfTwo:iQ,floorPowerOfTwo:aQ,setQuaternionFromProperEuler:sQ,normalize:An,denormalize:ro};class st{constructor(e=0,t=0){st.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=cn(this.x,e.x,t.x),this.y=cn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=cn(this.x,e,t),this.y=cn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(cn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(cn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Rs{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,s,o){let u=r[i+0],c=r[i+1],h=r[i+2],p=r[i+3],v=a[s+0],y=a[s+1],x=a[s+2],S=a[s+3];if(o<=0){e[t+0]=u,e[t+1]=c,e[t+2]=h,e[t+3]=p;return}if(o>=1){e[t+0]=v,e[t+1]=y,e[t+2]=x,e[t+3]=S;return}if(p!==S||u!==v||c!==y||h!==x){let w=u*v+c*y+h*x+p*S;w<0&&(v=-v,y=-y,x=-x,S=-S,w=-w);let A=1-o;if(w<.9995){const T=Math.acos(w),C=Math.sin(T);A=Math.sin(A*T)/C,o=Math.sin(o*T)/C,u=u*A+v*o,c=c*A+y*o,h=h*A+x*o,p=p*A+S*o}else{u=u*A+v*o,c=c*A+y*o,h=h*A+x*o,p=p*A+S*o;const T=1/Math.sqrt(u*u+c*c+h*h+p*p);u*=T,c*=T,h*=T,p*=T}}e[t]=u,e[t+1]=c,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,r,i,a,s){const o=r[i],u=r[i+1],c=r[i+2],h=r[i+3],p=a[s],v=a[s+1],y=a[s+2],x=a[s+3];return e[t]=o*x+h*p+u*y-c*v,e[t+1]=u*x+h*v+c*p-o*y,e[t+2]=c*x+h*y+o*v-u*p,e[t+3]=h*x-o*p-u*v-c*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,u=Math.sin,c=o(r/2),h=o(i/2),p=o(a/2),v=u(r/2),y=u(i/2),x=u(a/2);switch(s){case"XYZ":this._x=v*h*p+c*y*x,this._y=c*y*p-v*h*x,this._z=c*h*x+v*y*p,this._w=c*h*p-v*y*x;break;case"YXZ":this._x=v*h*p+c*y*x,this._y=c*y*p-v*h*x,this._z=c*h*x-v*y*p,this._w=c*h*p+v*y*x;break;case"ZXY":this._x=v*h*p-c*y*x,this._y=c*y*p+v*h*x,this._z=c*h*x+v*y*p,this._w=c*h*p-v*y*x;break;case"ZYX":this._x=v*h*p-c*y*x,this._y=c*y*p+v*h*x,this._z=c*h*x-v*y*p,this._w=c*h*p+v*y*x;break;case"YZX":this._x=v*h*p+c*y*x,this._y=c*y*p+v*h*x,this._z=c*h*x-v*y*p,this._w=c*h*p-v*y*x;break;case"XZY":this._x=v*h*p-c*y*x,this._y=c*y*p-v*h*x,this._z=c*h*x+v*y*p,this._w=c*h*p+v*y*x;break;default:Dt("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],u=t[9],c=t[2],h=t[6],p=t[10],v=r+o+p;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(h-u)*y,this._y=(a-c)*y,this._z=(s-i)*y}else if(r>o&&r>p){const y=2*Math.sqrt(1+r-o-p);this._w=(h-u)/y,this._x=.25*y,this._y=(i+s)/y,this._z=(a+c)/y}else if(o>p){const y=2*Math.sqrt(1+o-r-p);this._w=(a-c)/y,this._x=(i+s)/y,this._y=.25*y,this._z=(u+h)/y}else{const y=2*Math.sqrt(1+p-r-o);this._w=(s-i)/y,this._x=(a+c)/y,this._y=(u+h)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(cn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,u=t._y,c=t._z,h=t._w;return this._x=r*h+s*o+i*c-a*u,this._y=i*h+s*u+a*o-r*c,this._z=a*h+s*c+r*u-i*o,this._w=s*h-r*o-i*u-a*c,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let r=e._x,i=e._y,a=e._z,s=e._w,o=this.dot(e);o<0&&(r=-r,i=-i,a=-a,s=-s,o=-o);let u=1-t;if(o<.9995){const c=Math.acos(o),h=Math.sin(c);u=Math.sin(u*c)/h,t=Math.sin(t*c)/h,this._x=this._x*u+r*t,this._y=this._y*u+i*t,this._z=this._z*u+a*t,this._w=this._w*u+s*t,this._onChangeCallback()}else this._x=this._x*u+r*t,this._y=this._y*u+i*t,this._z=this._z*u+a*t,this._w=this._w*u+s*t,this.normalize();return this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oe{constructor(e=0,t=0,r=0){oe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(L4.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(L4.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,u=e.w,c=2*(s*i-o*r),h=2*(o*t-a*i),p=2*(a*r-s*t);return this.x=t+u*c+s*p-o*h,this.y=r+u*h+o*c-a*p,this.z=i+u*p+a*h-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=cn(this.x,e.x,t.x),this.y=cn(this.y,e.y,t.y),this.z=cn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=cn(this.x,e,t),this.y=cn(this.y,e,t),this.z=cn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(cn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,u=t.z;return this.x=i*u-a*o,this.y=a*s-r*u,this.z=r*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return DO.copy(this).projectOnVector(e),this.sub(DO)}reflect(e){return this.sub(DO.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(cn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const DO=new oe,L4=new Rs;class yn{constructor(e,t,r,i,a,s,o,u,c){yn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,u,c)}set(e,t,r,i,a,s,o,u,c){const h=this.elements;return h[0]=e,h[1]=i,h[2]=o,h[3]=t,h[4]=a,h[5]=u,h[6]=r,h[7]=s,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],u=r[6],c=r[1],h=r[4],p=r[7],v=r[2],y=r[5],x=r[8],S=i[0],w=i[3],A=i[6],T=i[1],C=i[4],O=i[7],R=i[2],D=i[5],I=i[8];return a[0]=s*S+o*T+u*R,a[3]=s*w+o*C+u*D,a[6]=s*A+o*O+u*I,a[1]=c*S+h*T+p*R,a[4]=c*w+h*C+p*D,a[7]=c*A+h*O+p*I,a[2]=v*S+y*T+x*R,a[5]=v*w+y*C+x*D,a[8]=v*A+y*O+x*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],c=e[7],h=e[8];return t*s*h-t*o*c-r*a*h+r*o*u+i*a*c-i*s*u}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],c=e[7],h=e[8],p=h*s-o*c,v=o*u-h*a,y=c*a-s*u,x=t*p+r*v+i*y;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=p*S,e[1]=(i*c-h*r)*S,e[2]=(o*r-i*s)*S,e[3]=v*S,e[4]=(h*t-i*u)*S,e[5]=(i*a-o*t)*S,e[6]=y*S,e[7]=(r*u-c*t)*S,e[8]=(s*t-r*a)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){const u=Math.cos(a),c=Math.sin(a);return this.set(r*u,r*c,-r*(u*s+c*o)+s+e,-i*c,i*u,-i*(-c*s+u*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(IO.makeScale(e,t)),this}rotate(e){return this.premultiply(IO.makeRotation(-e)),this}translate(e,t){return this.premultiply(IO.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const IO=new yn,U4=new yn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),k4=new yn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function oQ(){const n={enabled:!0,workingColorSpace:Zp,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===vr&&(i.r=$h(i.r),i.g=$h(i.g),i.b=$h(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===vr&&(i.r=Ry(i.r),i.g=Ry(i.g),i.b=Ry(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Hh?z_:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return Pb("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return Pb("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Zp]:{primaries:e,whitePoint:r,transfer:z_,toXYZ:U4,fromXYZ:k4,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ps},outputColorSpaceConfig:{drawingBufferColorSpace:Ps}},[Ps]:{primaries:e,whitePoint:r,transfer:vr,toXYZ:U4,fromXYZ:k4,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ps}}}),n}const Xn=oQ();function $h(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Ry(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Fv;class DV{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Fv===void 0&&(Fv=H_("canvas")),Fv.width=e.width,Fv.height=e.height;const i=Fv.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Fv}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=H_("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=$h(a[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor($h(t[r]/255)*255):t[r]=$h(t[r]);return{data:t,width:e.width,height:e.height}}else return Dt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let lQ=0;class Wp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:lQ++}),this.uuid=El(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(LO(i[s].image)):a.push(LO(i[s]))}else a=LO(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function LO(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?DV.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(Dt("Texture: Unable to serialize Texture."),{})}let uQ=0;const UO=new oe;class _i extends Uf{constructor(e=_i.DEFAULT_IMAGE,t=_i.DEFAULT_MAPPING,r=$o,i=$o,a=Or,s=Af,o=Os,u=no,c=_i.DEFAULT_ANISOTROPY,h=Hh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:uQ++}),this.uuid=El(),this.name="",this.source=new Wp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=u,this.offset=new st(0,0),this.repeat=new st(1,1),this.center=new st(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new yn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(UO).x}get height(){return this.source.getSize(UO).y}get depth(){return this.source.getSize(UO).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){Dt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Dt(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==l3)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case U_:e.x=e.x-Math.floor(e.x);break;case $o:e.x=e.x<0?0:1;break;case k_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case U_:e.y=e.y-Math.floor(e.y);break;case $o:e.y=e.y<0?0:1;break;case k_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}_i.DEFAULT_IMAGE=null;_i.DEFAULT_MAPPING=l3;_i.DEFAULT_ANISOTROPY=1;class Qn{constructor(e=0,t=0,r=0,i=1){Qn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const u=e.elements,c=u[0],h=u[4],p=u[8],v=u[1],y=u[5],x=u[9],S=u[2],w=u[6],A=u[10];if(Math.abs(h-v)<.01&&Math.abs(p-S)<.01&&Math.abs(x-w)<.01){if(Math.abs(h+v)<.1&&Math.abs(p+S)<.1&&Math.abs(x+w)<.1&&Math.abs(c+y+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(c+1)/2,O=(y+1)/2,R=(A+1)/2,D=(h+v)/4,I=(p+S)/4,F=(x+w)/4;return C>O&&C>R?C<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(C),i=D/r,a=I/r):O>R?O<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(O),r=D/i,a=F/i):R<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(R),r=I/a,i=F/a),this.set(r,i,a,t),this}let T=Math.sqrt((w-x)*(w-x)+(p-S)*(p-S)+(v-h)*(v-h));return Math.abs(T)<.001&&(T=1),this.x=(w-x)/T,this.y=(p-S)/T,this.z=(v-h)/T,this.w=Math.acos((c+y+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=cn(this.x,e.x,t.x),this.y=cn(this.y,e.y,t.y),this.z=cn(this.z,e.z,t.z),this.w=cn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=cn(this.x,e,t),this.y=cn(this.y,e,t),this.z=cn(this.z,e,t),this.w=cn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(cn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class iU extends Uf{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Or,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new Qn(0,0,e,t),this.scissorTest=!1,this.viewport=new Qn(0,0,e,t);const i={width:e,height:t,depth:r.depth},a=new _i(i);this.textures=[];const s=r.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Or,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new Wp(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ml extends iU{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class y3 extends _i{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Hi,this.minFilter=Hi,this.wrapR=$o,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class cQ extends Ml{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new y3(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class b3 extends _i{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Hi,this.minFilter=Hi,this.wrapR=$o,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fQ extends Ml{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new b3(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Vi{constructor(e=new oe(1/0,1/0,1/0),t=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Ku.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Ku.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ku.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Ku):Ku.fromBufferAttribute(a,s),Ku.applyMatrix4(e.matrixWorld),this.expandByPoint(Ku);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),eE.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),eE.copy(r.boundingBox)),eE.applyMatrix4(e.matrixWorld),this.union(eE)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ku),Ku.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(L1),tE.subVectors(this.max,L1),zv.subVectors(e.a,L1),Gv.subVectors(e.b,L1),Hv.subVectors(e.c,L1),lp.subVectors(Gv,zv),up.subVectors(Hv,Gv),Km.subVectors(zv,Hv);let t=[0,-lp.z,lp.y,0,-up.z,up.y,0,-Km.z,Km.y,lp.z,0,-lp.x,up.z,0,-up.x,Km.z,0,-Km.x,-lp.y,lp.x,0,-up.y,up.x,0,-Km.y,Km.x,0];return!kO(t,zv,Gv,Hv,tE)||(t=[1,0,0,0,1,0,0,0,1],!kO(t,zv,Gv,Hv,tE))?!1:(nE.crossVectors(lp,up),t=[nE.x,nE.y,nE.z],kO(t,zv,Gv,Hv,tE))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ku).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ku).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(bh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),bh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),bh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),bh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),bh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),bh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),bh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),bh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(bh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const bh=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],Ku=new oe,eE=new Vi,zv=new oe,Gv=new oe,Hv=new oe,lp=new oe,up=new oe,Km=new oe,L1=new oe,tE=new oe,nE=new oe,$m=new oe;function kO(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){$m.fromArray(n,a);const o=i.x*Math.abs($m.x)+i.y*Math.abs($m.y)+i.z*Math.abs($m.z),u=e.dot($m),c=t.dot($m),h=r.dot($m);if(Math.max(-Math.max(u,c,h),Math.min(u,c,h))>o)return!1}return!0}const hQ=new Vi,U1=new oe,BO=new oe;class ra{constructor(e=new oe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):hQ.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;U1.subVectors(e,this.center);const t=U1.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(U1,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(BO.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(U1.copy(e.center).add(BO)),this.expandByPoint(U1.copy(e.center).sub(BO))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const xh=new oe,FO=new oe,rE=new oe,cp=new oe,zO=new oe,iE=new oe,GO=new oe;class R0{constructor(e=new oe,t=new oe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,xh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=xh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(xh.copy(this.origin).addScaledVector(this.direction,t),xh.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){FO.copy(e).add(t).multiplyScalar(.5),rE.copy(t).sub(e).normalize(),cp.copy(this.origin).sub(FO);const a=e.distanceTo(t)*.5,s=-this.direction.dot(rE),o=cp.dot(this.direction),u=-cp.dot(rE),c=cp.lengthSq(),h=Math.abs(1-s*s);let p,v,y,x;if(h>0)if(p=s*u-o,v=s*o-u,x=a*h,p>=0)if(v>=-x)if(v<=x){const S=1/h;p*=S,v*=S,y=p*(p+s*v+2*o)+v*(s*p+v+2*u)+c}else v=a,p=Math.max(0,-(s*v+o)),y=-p*p+v*(v+2*u)+c;else v=-a,p=Math.max(0,-(s*v+o)),y=-p*p+v*(v+2*u)+c;else v<=-x?(p=Math.max(0,-(-s*a+o)),v=p>0?-a:Math.min(Math.max(-a,-u),a),y=-p*p+v*(v+2*u)+c):v<=x?(p=0,v=Math.min(Math.max(-a,-u),a),y=v*(v+2*u)+c):(p=Math.max(0,-(s*a+o)),v=p>0?a:Math.min(Math.max(-a,-u),a),y=-p*p+v*(v+2*u)+c);else v=s>0?-a:a,p=Math.max(0,-(s*v+o)),y=-p*p+v*(v+2*u)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(FO).addScaledVector(rE,v),y}intersectSphere(e,t){xh.subVectors(e.center,this.origin);const r=xh.dot(this.direction),i=xh.dot(xh)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,u=r+s;return u<0?null:o<0?this.at(u,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,u;const c=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,v=this.origin;return c>=0?(r=(e.min.x-v.x)*c,i=(e.max.x-v.x)*c):(r=(e.max.x-v.x)*c,i=(e.min.x-v.x)*c),h>=0?(a=(e.min.y-v.y)*h,s=(e.max.y-v.y)*h):(a=(e.max.y-v.y)*h,s=(e.min.y-v.y)*h),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),p>=0?(o=(e.min.z-v.z)*p,u=(e.max.z-v.z)*p):(o=(e.max.z-v.z)*p,u=(e.min.z-v.z)*p),r>u||o>i)||((o>r||r!==r)&&(r=o),(u<i||i!==i)&&(i=u),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,xh)!==null}intersectTriangle(e,t,r,i,a){zO.subVectors(t,e),iE.subVectors(r,e),GO.crossVectors(zO,iE);let s=this.direction.dot(GO),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;cp.subVectors(this.origin,e);const u=o*this.direction.dot(iE.crossVectors(cp,iE));if(u<0)return null;const c=o*this.direction.dot(zO.cross(cp));if(c<0||u+c>s)return null;const h=-o*cp.dot(GO);return h<0?null:this.at(h/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class sn{constructor(e,t,r,i,a,s,o,u,c,h,p,v,y,x,S,w){sn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,u,c,h,p,v,y,x,S,w)}set(e,t,r,i,a,s,o,u,c,h,p,v,y,x,S,w){const A=this.elements;return A[0]=e,A[4]=t,A[8]=r,A[12]=i,A[1]=a,A[5]=s,A[9]=o,A[13]=u,A[2]=c,A[6]=h,A[10]=p,A[14]=v,A[3]=y,A[7]=x,A[11]=S,A[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new sn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,r=e.elements,i=1/Vv.setFromMatrixColumn(e,0).length(),a=1/Vv.setFromMatrixColumn(e,1).length(),s=1/Vv.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),u=Math.cos(i),c=Math.sin(i),h=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const v=s*h,y=s*p,x=o*h,S=o*p;t[0]=u*h,t[4]=-u*p,t[8]=c,t[1]=y+x*c,t[5]=v-S*c,t[9]=-o*u,t[2]=S-v*c,t[6]=x+y*c,t[10]=s*u}else if(e.order==="YXZ"){const v=u*h,y=u*p,x=c*h,S=c*p;t[0]=v+S*o,t[4]=x*o-y,t[8]=s*c,t[1]=s*p,t[5]=s*h,t[9]=-o,t[2]=y*o-x,t[6]=S+v*o,t[10]=s*u}else if(e.order==="ZXY"){const v=u*h,y=u*p,x=c*h,S=c*p;t[0]=v-S*o,t[4]=-s*p,t[8]=x+y*o,t[1]=y+x*o,t[5]=s*h,t[9]=S-v*o,t[2]=-s*c,t[6]=o,t[10]=s*u}else if(e.order==="ZYX"){const v=s*h,y=s*p,x=o*h,S=o*p;t[0]=u*h,t[4]=x*c-y,t[8]=v*c+S,t[1]=u*p,t[5]=S*c+v,t[9]=y*c-x,t[2]=-c,t[6]=o*u,t[10]=s*u}else if(e.order==="YZX"){const v=s*u,y=s*c,x=o*u,S=o*c;t[0]=u*h,t[4]=S-v*p,t[8]=x*p+y,t[1]=p,t[5]=s*h,t[9]=-o*h,t[2]=-c*h,t[6]=y*p+x,t[10]=v-S*p}else if(e.order==="XZY"){const v=s*u,y=s*c,x=o*u,S=o*c;t[0]=u*h,t[4]=-p,t[8]=c*h,t[1]=v*p+S,t[5]=s*h,t[9]=y*p-x,t[2]=x*p-y,t[6]=o*h,t[10]=S*p+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(dQ,e,pQ)}lookAt(e,t,r){const i=this.elements;return hl.subVectors(e,t),hl.lengthSq()===0&&(hl.z=1),hl.normalize(),fp.crossVectors(r,hl),fp.lengthSq()===0&&(Math.abs(r.z)===1?hl.x+=1e-4:hl.z+=1e-4,hl.normalize(),fp.crossVectors(r,hl)),fp.normalize(),aE.crossVectors(hl,fp),i[0]=fp.x,i[4]=aE.x,i[8]=hl.x,i[1]=fp.y,i[5]=aE.y,i[9]=hl.y,i[2]=fp.z,i[6]=aE.z,i[10]=hl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],u=r[8],c=r[12],h=r[1],p=r[5],v=r[9],y=r[13],x=r[2],S=r[6],w=r[10],A=r[14],T=r[3],C=r[7],O=r[11],R=r[15],D=i[0],I=i[4],F=i[8],L=i[12],k=i[1],V=i[5],j=i[9],Y=i[13],re=i[2],Q=i[6],W=i[10],X=i[14],se=i[3],J=i[7],ae=i[11],B=i[15];return a[0]=s*D+o*k+u*re+c*se,a[4]=s*I+o*V+u*Q+c*J,a[8]=s*F+o*j+u*W+c*ae,a[12]=s*L+o*Y+u*X+c*B,a[1]=h*D+p*k+v*re+y*se,a[5]=h*I+p*V+v*Q+y*J,a[9]=h*F+p*j+v*W+y*ae,a[13]=h*L+p*Y+v*X+y*B,a[2]=x*D+S*k+w*re+A*se,a[6]=x*I+S*V+w*Q+A*J,a[10]=x*F+S*j+w*W+A*ae,a[14]=x*L+S*Y+w*X+A*B,a[3]=T*D+C*k+O*re+R*se,a[7]=T*I+C*V+O*Q+R*J,a[11]=T*F+C*j+O*W+R*ae,a[15]=T*L+C*Y+O*X+R*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],u=e[9],c=e[13],h=e[2],p=e[6],v=e[10],y=e[14],x=e[3],S=e[7],w=e[11],A=e[15],T=u*y-c*v,C=o*y-c*p,O=o*v-u*p,R=s*y-c*h,D=s*v-u*h,I=s*p-o*h;return t*(S*T-w*C+A*O)-r*(x*T-w*R+A*D)+i*(x*C-S*R+A*I)-a*(x*O-S*D+w*I)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],c=e[7],h=e[8],p=e[9],v=e[10],y=e[11],x=e[12],S=e[13],w=e[14],A=e[15],T=p*w*c-S*v*c+S*u*y-o*w*y-p*u*A+o*v*A,C=x*v*c-h*w*c-x*u*y+s*w*y+h*u*A-s*v*A,O=h*S*c-x*p*c+x*o*y-s*S*y-h*o*A+s*p*A,R=x*p*u-h*S*u-x*o*v+s*S*v+h*o*w-s*p*w,D=t*T+r*C+i*O+a*R;if(D===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/D;return e[0]=T*I,e[1]=(S*v*a-p*w*a-S*i*y+r*w*y+p*i*A-r*v*A)*I,e[2]=(o*w*a-S*u*a+S*i*c-r*w*c-o*i*A+r*u*A)*I,e[3]=(p*u*a-o*v*a-p*i*c+r*v*c+o*i*y-r*u*y)*I,e[4]=C*I,e[5]=(h*w*a-x*v*a+x*i*y-t*w*y-h*i*A+t*v*A)*I,e[6]=(x*u*a-s*w*a-x*i*c+t*w*c+s*i*A-t*u*A)*I,e[7]=(s*v*a-h*u*a+h*i*c-t*v*c-s*i*y+t*u*y)*I,e[8]=O*I,e[9]=(x*p*a-h*S*a-x*r*y+t*S*y+h*r*A-t*p*A)*I,e[10]=(s*S*a-x*o*a+x*r*c-t*S*c-s*r*A+t*o*A)*I,e[11]=(h*o*a-s*p*a-h*r*c+t*p*c+s*r*y-t*o*y)*I,e[12]=R*I,e[13]=(h*S*i-x*p*i+x*r*v-t*S*v-h*r*w+t*p*w)*I,e[14]=(x*o*i-s*S*i-x*r*u+t*S*u+s*r*w-t*o*w)*I,e[15]=(s*p*i-h*o*i+h*r*u-t*p*u-s*r*v+t*o*v)*I,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,u=e.z,c=a*s,h=a*o;return this.set(c*s+r,c*o-i*u,c*u+i*o,0,c*o+i*u,h*o+r,h*u-i*s,0,c*u-i*o,h*u+i*s,a*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,s=t._y,o=t._z,u=t._w,c=a+a,h=s+s,p=o+o,v=a*c,y=a*h,x=a*p,S=s*h,w=s*p,A=o*p,T=u*c,C=u*h,O=u*p,R=r.x,D=r.y,I=r.z;return i[0]=(1-(S+A))*R,i[1]=(y+O)*R,i[2]=(x-C)*R,i[3]=0,i[4]=(y-O)*D,i[5]=(1-(v+A))*D,i[6]=(w+T)*D,i[7]=0,i[8]=(x+C)*I,i[9]=(w-T)*I,i[10]=(1-(v+S))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),t.identity(),this;let a=Vv.set(i[0],i[1],i[2]).length();const s=Vv.set(i[4],i[5],i[6]).length(),o=Vv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),$u.copy(this);const c=1/a,h=1/s,p=1/o;return $u.elements[0]*=c,$u.elements[1]*=c,$u.elements[2]*=c,$u.elements[4]*=h,$u.elements[5]*=h,$u.elements[6]*=h,$u.elements[8]*=p,$u.elements[9]*=p,$u.elements[10]*=p,t.setFromRotationMatrix($u),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s,o=wl,u=!1){const c=this.elements,h=2*a/(t-e),p=2*a/(r-i),v=(t+e)/(t-e),y=(r+i)/(r-i);let x,S;if(u)x=a/(s-a),S=s*a/(s-a);else if(o===wl)x=-(s+a)/(s-a),S=-2*s*a/(s-a);else if(o===Cb)x=-s/(s-a),S=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=h,c[4]=0,c[8]=v,c[12]=0,c[1]=0,c[5]=p,c[9]=y,c[13]=0,c[2]=0,c[6]=0,c[10]=x,c[14]=S,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,r,i,a,s,o=wl,u=!1){const c=this.elements,h=2/(t-e),p=2/(r-i),v=-(t+e)/(t-e),y=-(r+i)/(r-i);let x,S;if(u)x=1/(s-a),S=s/(s-a);else if(o===wl)x=-2/(s-a),S=-(s+a)/(s-a);else if(o===Cb)x=-1/(s-a),S=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=h,c[4]=0,c[8]=0,c[12]=v,c[1]=0,c[5]=p,c[9]=0,c[13]=y,c[2]=0,c[6]=0,c[10]=x,c[14]=S,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Vv=new oe,$u=new sn,dQ=new oe(0,0,0),pQ=new oe(1,1,1),fp=new oe,aE=new oe,hl=new oe,B4=new sn,F4=new Rs;class Cl{constructor(e=0,t=0,r=0,i=Cl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],u=i[1],c=i[5],h=i[9],p=i[2],v=i[6],y=i[10];switch(t){case"XYZ":this._y=Math.asin(cn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,y),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(v,c),this._z=0);break;case"YXZ":this._x=Math.asin(-cn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,y),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(cn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-p,y),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-cn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(cn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(o,y));break;case"XZY":this._z=Math.asin(-cn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(v,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-h,y),this._y=0);break;default:Dt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return B4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(B4,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return F4.setFromEuler(this),this.setFromQuaternion(F4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Cl.DEFAULT_ORDER="XYZ";let Rb=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},mQ=0;const z4=new oe,jv=new Rs,_h=new sn,sE=new oe,k1=new oe,gQ=new oe,vQ=new Rs,G4=new oe(1,0,0),H4=new oe(0,1,0),V4=new oe(0,0,1),j4={type:"added"},yQ={type:"removed"},Wv={type:"childadded",child:null},HO={type:"childremoved",child:null};class er extends Uf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:mQ++}),this.uuid=El(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=er.DEFAULT_UP.clone();const e=new oe,t=new Cl,r=new Rs,i=new oe(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new sn},normalMatrix:{value:new yn}}),this.matrix=new sn,this.matrixWorld=new sn,this.matrixAutoUpdate=er.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=er.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Rb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return jv.setFromAxisAngle(e,t),this.quaternion.multiply(jv),this}rotateOnWorldAxis(e,t){return jv.setFromAxisAngle(e,t),this.quaternion.premultiply(jv),this}rotateX(e){return this.rotateOnAxis(G4,e)}rotateY(e){return this.rotateOnAxis(H4,e)}rotateZ(e){return this.rotateOnAxis(V4,e)}translateOnAxis(e,t){return z4.copy(e).applyQuaternion(this.quaternion),this.position.add(z4.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(G4,e)}translateY(e){return this.translateOnAxis(H4,e)}translateZ(e){return this.translateOnAxis(V4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_h.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?sE.copy(e):sE.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),k1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_h.lookAt(k1,sE,this.up):_h.lookAt(sE,k1,this.up),this.quaternion.setFromRotationMatrix(_h),i&&(_h.extractRotation(i.matrixWorld),jv.setFromRotationMatrix(_h),this.quaternion.premultiply(jv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?($t("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(j4),Wv.child=e,this.dispatchEvent(Wv),Wv.child=null):$t("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(yQ),HO.child=e,this.dispatchEvent(HO),HO.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_h.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_h.multiply(e.parent.matrixWorld)),e.applyMatrix4(_h),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(j4),Wv.child=e,this.dispatchEvent(Wv),Wv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(k1,e,gQ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(k1,vQ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(o,u){return o[u.uuid]===void 0&&(o[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const u=o.shapes;if(Array.isArray(u))for(let c=0,h=u.length;c<h;c++){const p=u[c];a(e.shapes,p)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let u=0,c=this.material.length;u<c;u++)o.push(a(e.materials,this.material[u]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const u=this.animations[o];i.animations.push(a(e.animations,u))}}if(t){const o=s(e.geometries),u=s(e.materials),c=s(e.textures),h=s(e.images),p=s(e.shapes),v=s(e.skeletons),y=s(e.animations),x=s(e.nodes);o.length>0&&(r.geometries=o),u.length>0&&(r.materials=u),c.length>0&&(r.textures=c),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),v.length>0&&(r.skeletons=v),y.length>0&&(r.animations=y),x.length>0&&(r.nodes=x)}return r.object=i,r;function s(o){const u=[];for(const c in o){const h=o[c];delete h.metadata,u.push(h)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}er.DEFAULT_UP=new oe(0,1,0);er.DEFAULT_MATRIX_AUTO_UPDATE=!0;er.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Zu=new oe,wh=new oe,VO=new oe,Sh=new oe,qv=new oe,Xv=new oe,W4=new oe,jO=new oe,WO=new oe,qO=new oe,XO=new Qn,YO=new Qn,KO=new Qn;class Yo{constructor(e=new oe,t=new oe,r=new oe){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Zu.subVectors(e,t),i.cross(Zu);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){Zu.subVectors(i,t),wh.subVectors(r,t),VO.subVectors(e,t);const s=Zu.dot(Zu),o=Zu.dot(wh),u=Zu.dot(VO),c=wh.dot(wh),h=wh.dot(VO),p=s*c-o*o;if(p===0)return a.set(0,0,0),null;const v=1/p,y=(c*u-o*h)*v,x=(s*h-o*u)*v;return a.set(1-y-x,x,y)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Sh)===null?!1:Sh.x>=0&&Sh.y>=0&&Sh.x+Sh.y<=1}static getInterpolation(e,t,r,i,a,s,o,u){return this.getBarycoord(e,t,r,i,Sh)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,Sh.x),u.addScaledVector(s,Sh.y),u.addScaledVector(o,Sh.z),u)}static getInterpolatedAttribute(e,t,r,i,a,s){return XO.setScalar(0),YO.setScalar(0),KO.setScalar(0),XO.fromBufferAttribute(e,t),YO.fromBufferAttribute(e,r),KO.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(XO,a.x),s.addScaledVector(YO,a.y),s.addScaledVector(KO,a.z),s}static isFrontFacing(e,t,r,i){return Zu.subVectors(r,t),wh.subVectors(e,t),Zu.cross(wh).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Zu.subVectors(this.c,this.b),wh.subVectors(this.a,this.b),Zu.cross(wh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Yo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Yo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,a){return Yo.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return Yo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Yo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let s,o;qv.subVectors(i,r),Xv.subVectors(a,r),jO.subVectors(e,r);const u=qv.dot(jO),c=Xv.dot(jO);if(u<=0&&c<=0)return t.copy(r);WO.subVectors(e,i);const h=qv.dot(WO),p=Xv.dot(WO);if(h>=0&&p<=h)return t.copy(i);const v=u*p-h*c;if(v<=0&&u>=0&&h<=0)return s=u/(u-h),t.copy(r).addScaledVector(qv,s);qO.subVectors(e,a);const y=qv.dot(qO),x=Xv.dot(qO);if(x>=0&&y<=x)return t.copy(a);const S=y*c-u*x;if(S<=0&&c>=0&&x<=0)return o=c/(c-x),t.copy(r).addScaledVector(Xv,o);const w=h*x-y*p;if(w<=0&&p-h>=0&&y-x>=0)return W4.subVectors(a,i),o=(p-h)/(p-h+(y-x)),t.copy(i).addScaledVector(W4,o);const A=1/(w+S+v);return s=S*A,o=v*A,t.copy(r).addScaledVector(qv,s).addScaledVector(Xv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const IV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hp={h:0,s:0,l:0},oE={h:0,s:0,l:0};function $O(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let Ot=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ps){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xn.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=Xn.workingColorSpace){return this.r=e,this.g=t,this.b=r,Xn.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=Xn.workingColorSpace){if(e=rU(e,1),t=cn(t,0,1),r=cn(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=$O(s,a,e+1/3),this.g=$O(s,a,e),this.b=$O(s,a,e-1/3)}return Xn.colorSpaceToWorking(this,i),this}setStyle(e,t=Ps){function r(a){a!==void 0&&parseFloat(a)<1&&Dt("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:Dt("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);Dt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ps){const r=IV[e.toLowerCase()];return r!==void 0?this.setHex(r,t):Dt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$h(e.r),this.g=$h(e.g),this.b=$h(e.b),this}copyLinearToSRGB(e){return this.r=Ry(e.r),this.g=Ry(e.g),this.b=Ry(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ps){return Xn.workingToColorSpace(Ss.copy(this),e),Math.round(cn(Ss.r*255,0,255))*65536+Math.round(cn(Ss.g*255,0,255))*256+Math.round(cn(Ss.b*255,0,255))}getHexString(e=Ps){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Xn.workingColorSpace){Xn.workingToColorSpace(Ss.copy(this),t);const r=Ss.r,i=Ss.g,a=Ss.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let u,c;const h=(o+s)/2;if(o===s)u=0,c=0;else{const p=s-o;switch(c=h<=.5?p/(s+o):p/(2-s-o),s){case r:u=(i-a)/p+(i<a?6:0);break;case i:u=(a-r)/p+2;break;case a:u=(r-i)/p+4;break}u/=6}return e.h=u,e.s=c,e.l=h,e}getRGB(e,t=Xn.workingColorSpace){return Xn.workingToColorSpace(Ss.copy(this),t),e.r=Ss.r,e.g=Ss.g,e.b=Ss.b,e}getStyle(e=Ps){Xn.workingToColorSpace(Ss.copy(this),e);const t=Ss.r,r=Ss.g,i=Ss.b;return e!==Ps?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(hp),this.setHSL(hp.h+e,hp.s+t,hp.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(hp),e.getHSL(oE);const r=S_(hp.h,oE.h,t),i=S_(hp.s,oE.s,t),a=S_(hp.l,oE.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ss=new Ot;Ot.NAMES=IV;let bQ=0;class Is extends Uf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bQ++}),this.uuid=El(),this.name="",this.type="Material",this.blending=r0,this.side=nd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ZM,this.blendDst=QM,this.blendEquation=Sp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ot(0,0,0),this.blendAlpha=0,this.depthFunc=d0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=HD,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=mg,this.stencilZFail=mg,this.stencilZPass=mg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){Dt(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Dt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==r0&&(r.blending=this.blending),this.side!==nd&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ZM&&(r.blendSrc=this.blendSrc),this.blendDst!==QM&&(r.blendDst=this.blendDst),this.blendEquation!==Sp&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==d0&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==HD&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==mg&&(r.stencilFail=this.stencilFail),this.stencilZFail!==mg&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==mg&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const u=a[o];delete u.metadata,s.push(u)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class md extends Is{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Cl,this.combine=zw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Vh=xQ();function xQ(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[u|256]=32768,i[u]=24,i[u|256]=24):c<-14?(r[u]=1024>>-c-14,r[u|256]=1024>>-c-14|32768,i[u]=-c-1,i[u|256]=-c-1):c<=15?(r[u]=c+15<<10,r[u|256]=c+15<<10|32768,i[u]=13,i[u|256]=13):c<128?(r[u]=31744,r[u|256]=64512,i[u]=24,i[u|256]=24):(r[u]=31744,r[u|256]=64512,i[u]=13,i[u|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,h=0;for(;(c&8388608)===0;)c<<=1,h-=8388608;c&=-8388609,h+=947912704,a[u]=c|h}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(o[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function Go(n){Math.abs(n)>65504&&Dt("DataUtils.toHalfFloat(): Value out of range."),n=cn(n,-65504,65504),Vh.floatView[0]=n;const e=Vh.uint32View[0],t=e>>23&511;return Vh.baseTable[t]+((e&8388607)>>Vh.shiftTable[t])}function s_(n){const e=n>>10;return Vh.uint32View[0]=Vh.mantissaTable[Vh.offsetTable[e]+(n&1023)]+Vh.exponentTable[e],Vh.floatView[0]}class _Q{static toHalfFloat(e){return Go(e)}static fromHalfFloat(e){return s_(e)}}const ea=new oe,lE=new st;let wQ=0;class Yn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:wQ++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=G_,this.updateRanges=[],this.gpuType=ao,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)lE.fromBufferAttribute(this,t),lE.applyMatrix3(e),this.setXY(t,lE.x,lE.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ea.fromBufferAttribute(this,t),ea.applyMatrix3(e),this.setXYZ(t,ea.x,ea.y,ea.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ea.fromBufferAttribute(this,t),ea.applyMatrix4(e),this.setXYZ(t,ea.x,ea.y,ea.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ea.fromBufferAttribute(this,t),ea.applyNormalMatrix(e),this.setXYZ(t,ea.x,ea.y,ea.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ea.fromBufferAttribute(this,t),ea.transformDirection(e),this.setXYZ(t,ea.x,ea.y,ea.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=ro(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=An(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ro(t,this.array)),t}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ro(t,this.array)),t}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ro(t,this.array)),t}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ro(t,this.array)),t}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),r=An(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array),a=An(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==G_&&(e.usage=this.usage),e}}class SQ extends Yn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class AQ extends Yn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class EQ extends Yn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class MQ extends Yn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class aU extends Yn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class TQ extends Yn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class sU extends Yn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class CQ extends Yn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=s_(this.array[e*this.itemSize]);return this.normalized&&(t=ro(t,this.array)),t}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize]=Go(t),this}getY(e){let t=s_(this.array[e*this.itemSize+1]);return this.normalized&&(t=ro(t,this.array)),t}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+1]=Go(t),this}getZ(e){let t=s_(this.array[e*this.itemSize+2]);return this.normalized&&(t=ro(t,this.array)),t}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+2]=Go(t),this}getW(e){let t=s_(this.array[e*this.itemSize+3]);return this.normalized&&(t=ro(t,this.array)),t}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+3]=Go(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),r=An(r,this.array)),this.array[e+0]=Go(t),this.array[e+1]=Go(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array)),this.array[e+0]=Go(t),this.array[e+1]=Go(r),this.array[e+2]=Go(i),this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array),a=An(a,this.array)),this.array[e+0]=Go(t),this.array[e+1]=Go(r),this.array[e+2]=Go(i),this.array[e+3]=Go(a),this}}class zt extends Yn{constructor(e,t,r){super(new Float32Array(e),t,r)}}let PQ=0;const ou=new sn,ZO=new er,Yv=new oe,dl=new Vi,B1=new Vi,Oa=new oe;class dn extends Uf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:PQ++}),this.uuid=El(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(OV(e)?sU:aU)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new yn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ou.makeRotationFromQuaternion(e),this.applyMatrix4(ou),this}rotateX(e){return ou.makeRotationX(e),this.applyMatrix4(ou),this}rotateY(e){return ou.makeRotationY(e),this.applyMatrix4(ou),this}rotateZ(e){return ou.makeRotationZ(e),this.applyMatrix4(ou),this}translate(e,t,r){return ou.makeTranslation(e,t,r),this.applyMatrix4(ou),this}scale(e,t,r){return ou.makeScale(e,t,r),this.applyMatrix4(ou),this}lookAt(e){return ZO.lookAt(e),ZO.updateMatrix(),this.applyMatrix4(ZO.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Yv).negate(),this.translate(Yv.x,Yv.y,Yv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new zt(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&Dt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){$t("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];dl.setFromBufferAttribute(a),this.morphTargetsRelative?(Oa.addVectors(this.boundingBox.min,dl.min),this.boundingBox.expandByPoint(Oa),Oa.addVectors(this.boundingBox.max,dl.max),this.boundingBox.expandByPoint(Oa)):(this.boundingBox.expandByPoint(dl.min),this.boundingBox.expandByPoint(dl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&$t('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ra);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){$t("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new oe,1/0);return}if(e){const r=this.boundingSphere.center;if(dl.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];B1.setFromBufferAttribute(o),this.morphTargetsRelative?(Oa.addVectors(dl.min,B1.min),dl.expandByPoint(Oa),Oa.addVectors(dl.max,B1.max),dl.expandByPoint(Oa)):(dl.expandByPoint(B1.min),dl.expandByPoint(B1.max))}dl.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Oa.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Oa));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],u=this.morphTargetsRelative;for(let c=0,h=o.count;c<h;c++)Oa.fromBufferAttribute(o,c),u&&(Yv.fromBufferAttribute(e,c),Oa.add(Yv)),i=Math.max(i,r.distanceToSquared(Oa))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&$t('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){$t("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yn(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),o=[],u=[];for(let F=0;F<r.count;F++)o[F]=new oe,u[F]=new oe;const c=new oe,h=new oe,p=new oe,v=new st,y=new st,x=new st,S=new oe,w=new oe;function A(F,L,k){c.fromBufferAttribute(r,F),h.fromBufferAttribute(r,L),p.fromBufferAttribute(r,k),v.fromBufferAttribute(a,F),y.fromBufferAttribute(a,L),x.fromBufferAttribute(a,k),h.sub(c),p.sub(c),y.sub(v),x.sub(v);const V=1/(y.x*x.y-x.x*y.y);isFinite(V)&&(S.copy(h).multiplyScalar(x.y).addScaledVector(p,-y.y).multiplyScalar(V),w.copy(p).multiplyScalar(y.x).addScaledVector(h,-x.x).multiplyScalar(V),o[F].add(S),o[L].add(S),o[k].add(S),u[F].add(w),u[L].add(w),u[k].add(w))}let T=this.groups;T.length===0&&(T=[{start:0,count:e.count}]);for(let F=0,L=T.length;F<L;++F){const k=T[F],V=k.start,j=k.count;for(let Y=V,re=V+j;Y<re;Y+=3)A(e.getX(Y+0),e.getX(Y+1),e.getX(Y+2))}const C=new oe,O=new oe,R=new oe,D=new oe;function I(F){R.fromBufferAttribute(i,F),D.copy(R);const L=o[F];C.copy(L),C.sub(R.multiplyScalar(R.dot(L))).normalize(),O.crossVectors(D,L);const V=O.dot(u[F])<0?-1:1;s.setXYZW(F,C.x,C.y,C.z,V)}for(let F=0,L=T.length;F<L;++F){const k=T[F],V=k.start,j=k.count;for(let Y=V,re=V+j;Y<re;Y+=3)I(e.getX(Y+0)),I(e.getX(Y+1)),I(e.getX(Y+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Yn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let v=0,y=r.count;v<y;v++)r.setXYZ(v,0,0,0);const i=new oe,a=new oe,s=new oe,o=new oe,u=new oe,c=new oe,h=new oe,p=new oe;if(e)for(let v=0,y=e.count;v<y;v+=3){const x=e.getX(v+0),S=e.getX(v+1),w=e.getX(v+2);i.fromBufferAttribute(t,x),a.fromBufferAttribute(t,S),s.fromBufferAttribute(t,w),h.subVectors(s,a),p.subVectors(i,a),h.cross(p),o.fromBufferAttribute(r,x),u.fromBufferAttribute(r,S),c.fromBufferAttribute(r,w),o.add(h),u.add(h),c.add(h),r.setXYZ(x,o.x,o.y,o.z),r.setXYZ(S,u.x,u.y,u.z),r.setXYZ(w,c.x,c.y,c.z)}else for(let v=0,y=t.count;v<y;v+=3)i.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),s.fromBufferAttribute(t,v+2),h.subVectors(s,a),p.subVectors(i,a),h.cross(p),r.setXYZ(v+0,h.x,h.y,h.z),r.setXYZ(v+1,h.x,h.y,h.z),r.setXYZ(v+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Oa.fromBufferAttribute(e,t),Oa.normalize(),e.setXYZ(t,Oa.x,Oa.y,Oa.z)}toNonIndexed(){function e(o,u){const c=o.array,h=o.itemSize,p=o.normalized,v=new c.constructor(u.length*h);let y=0,x=0;for(let S=0,w=u.length;S<w;S++){o.isInterleavedBufferAttribute?y=u[S]*o.data.stride+o.offset:y=u[S]*h;for(let A=0;A<h;A++)v[x++]=c[y++]}return new Yn(v,h,p)}if(this.index===null)return Dt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new dn,r=this.index.array,i=this.attributes;for(const o in i){const u=i[o],c=e(u,r);t.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const u=[],c=a[o];for(let h=0,p=c.length;h<p;h++){const v=c[h],y=e(v,r);u.push(y)}t.morphAttributes[o]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,u=s.length;o<u;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r){const c=r[u];e.data.attributes[u]=c.toJSON(e.data)}const i={};let a=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],h=[];for(let p=0,v=c.length;p<v;p++){const y=c[p];h.push(y.toJSON(e.data))}h.length>0&&(i[u]=h,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const h=i[c];this.setAttribute(c,h.clone(t))}const a=e.morphAttributes;for(const c in a){const h=[],p=a[c];for(let v=0,y=p.length;v<y;v++)h.push(p[v].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,h=s.length;c<h;c++){const p=s[c];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const q4=new sn,Zm=new R0,uE=new ra,X4=new oe,cE=new oe,fE=new oe,hE=new oe,QO=new oe,dE=new oe,Y4=new oe,pE=new oe;class li extends er{constructor(e=new dn,t=new md){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){dE.set(0,0,0);for(let u=0,c=a.length;u<c;u++){const h=o[u],p=a[u];h!==0&&(QO.fromBufferAttribute(p,e),s?dE.addScaledVector(QO,h):dE.addScaledVector(QO.sub(t),h))}t.add(dE)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),uE.copy(r.boundingSphere),uE.applyMatrix4(a),Zm.copy(e.ray).recast(e.near),!(uE.containsPoint(Zm.origin)===!1&&(Zm.intersectSphere(uE,X4)===null||Zm.origin.distanceToSquared(X4)>(e.far-e.near)**2))&&(q4.copy(a).invert(),Zm.copy(e.ray).applyMatrix4(q4),!(r.boundingBox!==null&&Zm.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Zm)))}_computeIntersections(e,t,r){let i;const a=this.geometry,s=this.material,o=a.index,u=a.attributes.position,c=a.attributes.uv,h=a.attributes.uv1,p=a.attributes.normal,v=a.groups,y=a.drawRange;if(o!==null)if(Array.isArray(s))for(let x=0,S=v.length;x<S;x++){const w=v[x],A=s[w.materialIndex],T=Math.max(w.start,y.start),C=Math.min(o.count,Math.min(w.start+w.count,y.start+y.count));for(let O=T,R=C;O<R;O+=3){const D=o.getX(O),I=o.getX(O+1),F=o.getX(O+2);i=mE(this,A,e,r,c,h,p,D,I,F),i&&(i.faceIndex=Math.floor(O/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const x=Math.max(0,y.start),S=Math.min(o.count,y.start+y.count);for(let w=x,A=S;w<A;w+=3){const T=o.getX(w),C=o.getX(w+1),O=o.getX(w+2);i=mE(this,s,e,r,c,h,p,T,C,O),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}else if(u!==void 0)if(Array.isArray(s))for(let x=0,S=v.length;x<S;x++){const w=v[x],A=s[w.materialIndex],T=Math.max(w.start,y.start),C=Math.min(u.count,Math.min(w.start+w.count,y.start+y.count));for(let O=T,R=C;O<R;O+=3){const D=O,I=O+1,F=O+2;i=mE(this,A,e,r,c,h,p,D,I,F),i&&(i.faceIndex=Math.floor(O/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const x=Math.max(0,y.start),S=Math.min(u.count,y.start+y.count);for(let w=x,A=S;w<A;w+=3){const T=w,C=w+1,O=w+2;i=mE(this,s,e,r,c,h,p,T,C,O),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}}}function OQ(n,e,t,r,i,a,s,o){let u;if(e.side===fo?u=r.intersectTriangle(s,a,i,!0,o):u=r.intersectTriangle(i,a,s,e.side===nd,o),u===null)return null;pE.copy(o),pE.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(pE);return c<t.near||c>t.far?null:{distance:c,point:pE.clone(),object:n}}function mE(n,e,t,r,i,a,s,o,u,c){n.getVertexPosition(o,cE),n.getVertexPosition(u,fE),n.getVertexPosition(c,hE);const h=OQ(n,e,t,r,cE,fE,hE,Y4);if(h){const p=new oe;Yo.getBarycoord(Y4,cE,fE,hE,p),i&&(h.uv=Yo.getInterpolatedAttribute(i,o,u,c,p,new st)),a&&(h.uv1=Yo.getInterpolatedAttribute(a,o,u,c,p,new st)),s&&(h.normal=Yo.getInterpolatedAttribute(s,o,u,c,p,new oe),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const v={a:o,b:u,c,normal:new oe,materialIndex:0};Yo.getNormal(cE,fE,hE,v.normal),h.face=v,h.barycoord=p}return h}class N0 extends dn{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const u=[],c=[],h=[],p=[];let v=0,y=0;x("z","y","x",-1,-1,r,t,e,s,a,0),x("z","y","x",1,-1,r,t,-e,s,a,1),x("x","z","y",1,1,e,r,t,i,s,2),x("x","z","y",1,-1,e,r,-t,i,s,3),x("x","y","z",1,-1,e,t,r,i,a,4),x("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(u),this.setAttribute("position",new zt(c,3)),this.setAttribute("normal",new zt(h,3)),this.setAttribute("uv",new zt(p,2));function x(S,w,A,T,C,O,R,D,I,F,L){const k=O/I,V=R/F,j=O/2,Y=R/2,re=D/2,Q=I+1,W=F+1;let X=0,se=0;const J=new oe;for(let ae=0;ae<W;ae++){const B=ae*V-Y;for(let Z=0;Z<Q;Z++){const le=Z*k-j;J[S]=le*T,J[w]=B*C,J[A]=re,c.push(J.x,J.y,J.z),J[S]=0,J[w]=0,J[A]=D>0?1:-1,h.push(J.x,J.y,J.z),p.push(Z/I),p.push(1-ae/F),X+=1}}for(let ae=0;ae<F;ae++)for(let B=0;B<I;B++){const Z=v+B+Q*ae,le=v+B+Q*(ae+1),he=v+(B+1)+Q*(ae+1),ve=v+(B+1)+Q*ae;u.push(Z,le,ve),u.push(le,he,ve),se+=6}o.addGroup(y,se,L),y+=se,v+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new N0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Nb(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Dt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Zs(n){const e={};for(let t=0;t<n.length;t++){const r=Nb(n[t]);for(const i in r)e[i]=r[i]}return e}function RQ(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function LV(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Xn.workingColorSpace}const j_={clone:Nb,merge:Zs};var NQ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,DQ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ho extends Is{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=NQ,this.fragmentShader=DQ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nb(e.uniforms),this.uniformsGroups=RQ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class x3 extends er{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new sn,this.projectionMatrix=new sn,this.projectionMatrixInverse=new sn,this.coordinateSystem=wl,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const dp=new oe,K4=new st,$4=new st;class Fi extends x3{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ob*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(i0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ob*2*Math.atan(Math.tan(i0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){dp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(dp.x,dp.y).multiplyScalar(-e/dp.z),dp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(dp.x,dp.y).multiplyScalar(-e/dp.z)}getViewSize(e,t){return this.getViewBounds(e,K4,$4),t.subVectors($4,K4)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(i0*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/u,t-=s.offsetY*r/c,i*=s.width/u,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Kv=-90,$v=1;class UV extends er{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Fi(Kv,$v,e,t);i.layers=this.layers,this.add(i);const a=new Fi(Kv,$v,e,t);a.layers=this.layers,this.add(a);const s=new Fi(Kv,$v,e,t);s.layers=this.layers,this.add(s);const o=new Fi(Kv,$v,e,t);o.layers=this.layers,this.add(o);const u=new Fi(Kv,$v,e,t);u.layers=this.layers,this.add(u);const c=new Fi(Kv,$v,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,s,o,u]=t;for(const c of t)this.remove(c);if(e===wl)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===Cb)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,u,c,h]=this.children,p=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,s),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,u),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(t,h),e.setRenderTarget(p,v,y),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class Hw extends _i{constructor(e=[],t=Nf,r,i,a,s,o,u,c,h){super(e,t,r,i,a,s,o,u,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oU extends Ml{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Hw(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new N0(5,5,5),a=new ho({name:"CubemapFromEquirect",uniforms:Nb(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:fo,blending:Cf});a.uniforms.tEquirect.value=t;const s=new li(i,a),o=t.minFilter;return t.minFilter===Af&&(t.minFilter=Or),new UV(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}}class _y extends er{constructor(){super(),this.isGroup=!0,this.type="Group"}}const IQ={type:"move"};class TM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new _y,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new _y,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new _y,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null;const o=this._targetRay,u=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const S of e.hand.values()){const w=t.getJointPose(S,r),A=this._getHandJoint(c,S);w!==null&&(A.matrix.fromArray(w.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=w.radius),A.visible=w!==null}const h=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],v=h.position.distanceTo(p.position),y=.02,x=.005;c.inputState.pinching&&v>y+x?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&v<=y-x&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(IQ)))}return o!==null&&(o.visible=i!==null),u!==null&&(u.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new _y;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class _3{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ot(e),this.density=t}clone(){return new _3(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class w3{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ot(e),this.near=t,this.far=r}clone(){return new w3(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class lU extends er{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Cl,this.environmentIntensity=1,this.environmentRotation=new Cl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class S3{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=G_,this.updateRanges=[],this.version=0,this.uuid=El()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=El()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=El()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $s=new oe;class Sl{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)$s.fromBufferAttribute(this,t),$s.applyMatrix4(e),this.setXYZ(t,$s.x,$s.y,$s.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)$s.fromBufferAttribute(this,t),$s.applyNormalMatrix(e),this.setXYZ(t,$s.x,$s.y,$s.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)$s.fromBufferAttribute(this,t),$s.transformDirection(e),this.setXYZ(t,$s.x,$s.y,$s.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=ro(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=An(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ro(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ro(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ro(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ro(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),r=An(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array),a=An(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){V_("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Yn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Sl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){V_("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class uU extends Is{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ot(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Zv;const F1=new oe,Qv=new oe,Jv=new oe,ey=new st,z1=new st,kV=new sn,gE=new oe,G1=new oe,vE=new oe,Z4=new st,JO=new st,Q4=new st;class BV extends er{constructor(e=new uU){if(super(),this.isSprite=!0,this.type="Sprite",Zv===void 0){Zv=new dn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new S3(t,5);Zv.setIndex([0,1,2,0,2,3]),Zv.setAttribute("position",new Sl(r,3,0,!1)),Zv.setAttribute("uv",new Sl(r,2,3,!1))}this.geometry=Zv,this.material=e,this.center=new st(.5,.5),this.count=1}raycast(e,t){e.camera===null&&$t('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Qv.setFromMatrixScale(this.matrixWorld),kV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Jv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Qv.multiplyScalar(-Jv.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;yE(gE.set(-.5,-.5,0),Jv,s,Qv,i,a),yE(G1.set(.5,-.5,0),Jv,s,Qv,i,a),yE(vE.set(.5,.5,0),Jv,s,Qv,i,a),Z4.set(0,0),JO.set(1,0),Q4.set(1,1);let o=e.ray.intersectTriangle(gE,G1,vE,!1,F1);if(o===null&&(yE(G1.set(-.5,.5,0),Jv,s,Qv,i,a),JO.set(0,1),o=e.ray.intersectTriangle(gE,vE,G1,!1,F1),o===null))return;const u=e.ray.origin.distanceTo(F1);u<e.near||u>e.far||t.push({distance:u,point:F1.clone(),uv:Yo.getInterpolation(F1,gE,G1,vE,Z4,JO,Q4,new st),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function yE(n,e,t,r,i,a){ey.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(z1.x=a*ey.x-i*ey.y,z1.y=i*ey.x+a*ey.y):z1.copy(ey),n.copy(e),n.x+=z1.x,n.y+=z1.y,n.applyMatrix4(kV)}const bE=new oe,J4=new oe;class FV extends er{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){bE.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(bE);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){bE.setFromMatrixPosition(e.matrixWorld),J4.setFromMatrixPosition(this.matrixWorld);const r=bE.distanceTo(J4)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),r>=s)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const eB=new oe,tB=new Qn,nB=new Qn,LQ=new oe,rB=new sn,xE=new oe,eR=new ra,iB=new sn,tR=new R0;class zV extends li{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=GD,this.bindMatrix=new sn,this.bindMatrixInverse=new sn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Vi),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,xE),this.boundingBox.expandByPoint(xE)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ra),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,xE),this.boundingSphere.expandByPoint(xE)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),eR.copy(this.boundingSphere),eR.applyMatrix4(i),e.ray.intersectsSphere(eR)!==!1&&(iB.copy(i).invert(),tR.copy(e.ray).applyMatrix4(iB),!(this.boundingBox!==null&&tR.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,tR)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Qn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===GD?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===vV?this.bindMatrixInverse.copy(this.bindMatrix).invert():Dt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;tB.fromBufferAttribute(i.attributes.skinIndex,e),nB.fromBufferAttribute(i.attributes.skinWeight,e),eB.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=nB.getComponent(a);if(s!==0){const o=tB.getComponent(a);rB.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(LQ.copy(eB).applyMatrix4(rB),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class cU extends er{constructor(){super(),this.isBone=!0,this.type="Bone"}}class pc extends _i{constructor(e=null,t=1,r=1,i,a,s,o,u,c=Hi,h=Hi,p,v){super(null,s,o,u,c,h,i,a,p,v),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const aB=new sn,UQ=new sn;class A3{constructor(e=[],t=[]){this.uuid=El(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Dt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new sn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new sn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:UQ;aB.multiplyMatrices(o,t[a]),aB.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new A3(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new pc(t,e,e,Os,ao);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let s=t[a];s===void 0&&(Dt("Skeleton: No bone found with UUID:",a),s=new cU),this.bones.push(s),this.boneInverses.push(new sn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const s=t[i];e.bones.push(s.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class m0 extends Yn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ty=new sn,sB=new sn,_E=[],oB=new Vi,kQ=new sn,H1=new li,V1=new ra;class GV extends li{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new m0(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,kQ)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Vi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,ty),oB.copy(e.boundingBox).applyMatrix4(ty),this.boundingBox.union(oB)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ra),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,ty),V1.copy(e.boundingSphere).applyMatrix4(ty),this.boundingSphere.union(V1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,s=e*a+1;for(let o=0;o<r.length;o++)r[o]=i[s+o]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(H1.geometry=this.geometry,H1.material=this.material,H1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),V1.copy(this.boundingSphere),V1.applyMatrix4(r),e.ray.intersectsSphere(V1)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,ty),sB.multiplyMatrices(r,ty),H1.matrixWorld=sB,H1.raycast(e,_E);for(let s=0,o=_E.length;s<o;s++){const u=_E[s];u.instanceId=a,u.object=this,t.push(u)}_E.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new m0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new pc(new Float32Array(i*this.count),i,this.count,h3,ao));const a=this.morphTexture.source.data.data;let s=0;for(let c=0;c<r.length;c++)s+=r[c];const o=this.geometry.morphTargetsRelative?1:1-s,u=i*e;a[u]=o,a.set(r,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const nR=new oe,BQ=new oe,FQ=new yn;class Ch{constructor(e=new oe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=nR.subVectors(r,t).cross(BQ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(nR),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||FQ.getNormalMatrix(e),i=this.coplanarPoint(nR).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Qm=new ra,zQ=new st(.5,.5),wE=new oe;class ex{constructor(e=new Ch,t=new Ch,r=new Ch,i=new Ch,a=new Ch,s=new Ch){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=wl,r=!1){const i=this.planes,a=e.elements,s=a[0],o=a[1],u=a[2],c=a[3],h=a[4],p=a[5],v=a[6],y=a[7],x=a[8],S=a[9],w=a[10],A=a[11],T=a[12],C=a[13],O=a[14],R=a[15];if(i[0].setComponents(c-s,y-h,A-x,R-T).normalize(),i[1].setComponents(c+s,y+h,A+x,R+T).normalize(),i[2].setComponents(c+o,y+p,A+S,R+C).normalize(),i[3].setComponents(c-o,y-p,A-S,R-C).normalize(),r)i[4].setComponents(u,v,w,O).normalize(),i[5].setComponents(c-u,y-v,A-w,R-O).normalize();else if(i[4].setComponents(c-u,y-v,A-w,R-O).normalize(),t===wl)i[5].setComponents(c+u,y+v,A+w,R+O).normalize();else if(t===Cb)i[5].setComponents(u,v,w,O).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Qm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Qm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Qm)}intersectsSprite(e){Qm.center.set(0,0,0);const t=zQ.distanceTo(e.center);return Qm.radius=.7071067811865476+t,Qm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qm)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(wE.x=i.normal.x>0?e.max.x:e.min.x,wE.y=i.normal.y>0?e.max.y:e.min.y,wE.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(wE)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const nf=new sn,rf=new ex;class E3{constructor(){this.coordinateSystem=wl}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(nf.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rf.setFromProjectionMatrix(nf,i.coordinateSystem,i.reversedDepth),rf.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(nf.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rf.setFromProjectionMatrix(nf,i.coordinateSystem,i.reversedDepth),rf.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(nf.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rf.setFromProjectionMatrix(nf,i.coordinateSystem,i.reversedDepth),rf.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(nf.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rf.setFromProjectionMatrix(nf,i.coordinateSystem,i.reversedDepth),rf.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(nf.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rf.setFromProjectionMatrix(nf,i.coordinateSystem,i.reversedDepth),rf.containsPoint(e))return!0}return!1}clone(){return new E3}}function rR(n,e){return n-e}function GQ(n,e){return n.z-e.z}function HQ(n,e){return e.z-n.z}class VQ{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const zo=new sn,jQ=new Ot(1,1,1),lB=new ex,WQ=new E3,SE=new Vi,Jm=new ra,j1=new oe,uB=new oe,qQ=new oe,iR=new VQ,As=new li,AE=[];function XQ(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let a=0;a<i;a++)for(let s=0;s<r;s++)e.setComponent(a+t,s,n.getComponent(a,s))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function eg(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class HV extends li{constructor(e,t,r=t*2,i){super(new dn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new pc(t,e,e,Os,ao);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new pc(t,e,e,Gw,Au);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new pc(t,e,e,Os,ao);r.colorSpace=Xn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:u,normalized:c}=s,h=new o.constructor(r*u),p=new Yn(h,u,c);t.setAttribute(a,p)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Yn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=t.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vi);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,zo),this.getBoundingBoxAt(a,SE).applyMatrix4(zo),e.union(SE)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ra);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,zo),this.getBoundingSphereAt(a,Jm).applyMatrix4(zo),e.union(Jm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(rR),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;zo.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(jQ.toArray(s.image.data,i*4),s.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?s.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(rR),u=this._availableGeometryIds.shift(),a[u]=i):(u=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(u,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(i&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const h in r.attributes){const p=t.getAttribute(h),v=r.getAttribute(h);XQ(p,v,u);const y=p.itemSize;for(let x=p.count,S=c;x<S;x++){const w=u+x;for(let A=0;A<y;A++)v.setComponent(w,A,0)}v.needsUpdate=!0,v.addUpdateRange(u*y,c*y)}if(i){const h=o.indexStart,p=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let v=0;v<s.count;v++)a.setX(h+v,u+s.getX(v));for(let v=s.count,y=p;v<y;v++)a.setX(h+v,u);a.needsUpdate=!0,a.addUpdateRange(h,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,a=r.length;i<a;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((s,o)=>o).sort((s,o)=>r[s].vertexStart-r[o].vertexStart),a=this.geometry;for(let s=0,o=r.length;s<o;s++){const u=i[s],c=r[u];if(c.active!==!1){if(a.index!==null){if(c.indexStart!==t){const{indexStart:h,vertexStart:p,reservedIndexCount:v}=c,y=a.index,x=y.array,S=e-p;for(let w=h;w<h+v;w++)x[w]=x[w]+S;y.array.copyWithin(t,h,h+v),y.addUpdateRange(t,v),y.needsUpdate=!0,c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:h,reservedVertexCount:p}=c,v=a.attributes;for(const y in v){const x=v[y],{array:S,itemSize:w}=x;S.copyWithin(e*w,h*w,(h+p)*w),x.addUpdateRange(e*w,p*w),x.needsUpdate=!0}c.vertexStart=e}e+=c.reservedVertexCount,c.start=a.index?c.indexStart:c.vertexStart,this._nextIndexStart=a.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new Vi,s=r.index,o=r.attributes.position;for(let u=i.start,c=i.start+i.count;u<c;u++){let h=u;s&&(h=s.getX(h)),a.expandByPoint(j1.fromBufferAttribute(o,h))}i.boundingBox=a}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new ra;this.getBoundingBoxAt(e,SE),SE.getCenter(a.center);const s=r.index,o=r.attributes.position;let u=0;for(let c=i.start,h=i.start+i.count;c<h;c++){let p=c;s&&(p=s.getX(p)),j1.fromBufferAttribute(o,p),u=Math.max(u,a.center.distanceToSquared(j1))}a.radius=Math.sqrt(u),i.boundingSphere=a}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(rR);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);eg(this._multiDrawCounts,i),eg(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,u=this._colorsTexture;s.dispose(),this._initIndirectTexture(),eg(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),eg(o.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),eg(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new dn,this._initializeGeometry(a));const s=this.geometry;a.index&&eg(a.index.array,s.index.array);for(const o in a.attributes)eg(a.attributes[o].array,s.attributes[o].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,s=this.geometry;As.material=this.material,As.geometry.index=s.index,As.geometry.attributes=s.attributes,As.geometry.boundingBox===null&&(As.geometry.boundingBox=new Vi),As.geometry.boundingSphere===null&&(As.geometry.boundingSphere=new ra);for(let o=0,u=r.length;o<u;o++){if(!r[o].visible||!r[o].active)continue;const c=r[o].geometryIndex,h=i[c];As.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(o,As.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,As.geometry.boundingBox),this.getBoundingSphereAt(c,As.geometry.boundingSphere),As.raycast(e,AE);for(let p=0,v=AE.length;p<v;p++){const y=AE[p];y.object=this,y.batchId=o,t.push(y)}AE.length=0}As.material=null,As.geometry.index=null,As.geometry.attributes={},As.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,u=this._instanceInfo,c=this._multiDrawStarts,h=this._multiDrawCounts,p=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,x=y.image.data,S=r.isArrayCamera?WQ:lB;v&&!r.isArrayCamera&&(zo.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),lB.setFromProjectionMatrix(zo,r.coordinateSystem,r.reversedDepth));let w=0;if(this.sortObjects){zo.copy(this.matrixWorld).invert(),j1.setFromMatrixPosition(r.matrixWorld).applyMatrix4(zo),uB.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(zo);for(let C=0,O=u.length;C<O;C++)if(u[C].visible&&u[C].active){const R=u[C].geometryIndex;this.getMatrixAt(C,zo),this.getBoundingSphereAt(R,Jm).applyMatrix4(zo);let D=!1;if(v&&(D=!S.intersectsSphere(Jm,r)),!D){const I=p[R],F=qQ.subVectors(Jm.center,j1).dot(uB);iR.push(I.start,I.count,F,C)}}const A=iR.list,T=this.customSort;T===null?A.sort(a.transparent?HQ:GQ):T.call(this,A,r);for(let C=0,O=A.length;C<O;C++){const R=A[C];c[w]=R.start*o,h[w]=R.count,x[w]=R.index,w++}iR.reset()}else for(let A=0,T=u.length;A<T;A++)if(u[A].visible&&u[A].active){const C=u[A].geometryIndex;let O=!1;if(v&&(this.getMatrixAt(A,zo),this.getBoundingSphereAt(C,Jm).applyMatrix4(zo),O=!S.intersectsSphere(Jm,r)),!O){const R=p[C];c[w]=R.start*o,h[w]=R.count,x[w]=A,w++}}y.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,a,s){this.onBeforeRender(e,null,i,a,s)}}class mo extends Is{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const FT=new oe,zT=new oe,cB=new sn,W1=new R0,EE=new ra,aR=new oe,fB=new oe;let Jp=class extends er{constructor(e=new dn,t=new mo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)FT.fromBufferAttribute(t,i-1),zT.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=FT.distanceTo(zT);e.setAttribute("lineDistance",new zt(r,1))}else Dt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),EE.copy(r.boundingSphere),EE.applyMatrix4(i),EE.radius+=a,e.ray.intersectsSphere(EE)===!1)return;cB.copy(i).invert(),W1.copy(e.ray).applyMatrix4(cB);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=o*o,c=this.isLineSegments?2:1,h=r.index,v=r.attributes.position;if(h!==null){const y=Math.max(0,s.start),x=Math.min(h.count,s.start+s.count);for(let S=y,w=x-1;S<w;S+=c){const A=h.getX(S),T=h.getX(S+1),C=ME(this,e,W1,u,A,T,S);C&&t.push(C)}if(this.isLineLoop){const S=h.getX(x-1),w=h.getX(y),A=ME(this,e,W1,u,S,w,x-1);A&&t.push(A)}}else{const y=Math.max(0,s.start),x=Math.min(v.count,s.start+s.count);for(let S=y,w=x-1;S<w;S+=c){const A=ME(this,e,W1,u,S,S+1,S);A&&t.push(A)}if(this.isLineLoop){const S=ME(this,e,W1,u,x-1,y,x-1);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}};function ME(n,e,t,r,i,a,s){const o=n.geometry.attributes.position;if(FT.fromBufferAttribute(o,i),zT.fromBufferAttribute(o,a),t.distanceSqToSegment(FT,zT,aR,fB)>r)return;aR.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(aR);if(!(c<e.near||c>e.far))return{distance:c,point:fB.clone().applyMatrix4(n.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:n}}const hB=new oe,dB=new oe;class kf extends Jp{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)hB.fromBufferAttribute(t,i),dB.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+hB.distanceTo(dB);e.setAttribute("lineDistance",new zt(r,1))}else Dt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class VV extends Jp{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class fU extends Is{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ot(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const pB=new sn,jD=new R0,TE=new ra,CE=new oe;class jV extends er{constructor(e=new dn,t=new fU){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),TE.copy(r.boundingSphere),TE.applyMatrix4(i),TE.radius+=a,e.ray.intersectsSphere(TE)===!1)return;pB.copy(i).invert(),jD.copy(e.ray).applyMatrix4(pB);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=o*o,c=r.index,p=r.attributes.position;if(c!==null){const v=Math.max(0,s.start),y=Math.min(c.count,s.start+s.count);for(let x=v,S=y;x<S;x++){const w=c.getX(x);CE.fromBufferAttribute(p,w),mB(CE,w,u,i,e,t,this)}}else{const v=Math.max(0,s.start),y=Math.min(p.count,s.start+s.count);for(let x=v,S=y;x<S;x++)CE.fromBufferAttribute(p,x),mB(CE,x,u,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function mB(n,e,t,r,i,a,s){const o=jD.distanceSqToPoint(n);if(o<t){const u=new oe;jD.closestPointToPoint(n,u),u.applyMatrix4(r);const c=i.ray.origin.distanceTo(u);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class WV extends _i{constructor(e,t,r,i,a=Or,s=Or,o,u,c){super(e,t,r,i,a,s,o,u,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const h=this;function p(){h.needsUpdate=!0,h._requestVideoFrameCallbackId=e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(p))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class YQ extends WV{constructor(e,t,r,i,a,s,o,u){super({},e,t,r,i,a,s,o,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class KQ extends _i{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Hi,this.minFilter=Hi,this.generateMipmaps=!1,this.needsUpdate=!0}}class M3 extends _i{constructor(e,t,r,i,a,s,o,u,c,h,p,v){super(null,s,o,u,c,h,i,a,p,v),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class $Q extends M3{constructor(e,t,r,i,a,s){super(e,t,r,a,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=$o,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ZQ extends M3{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Nf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class QQ extends _i{constructor(e,t,r,i,a,s,o,u,c){super(e,t,r,i,a,s,o,u,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Db extends _i{constructor(e,t,r=Au,i,a,s,o=Hi,u=Hi,c,h=If,p=1){if(h!==If&&h!==jp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:p};super(v,i,a,s,o,u,h,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Wp(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class qV extends Db{constructor(e,t=Au,r=Nf,i,a,s=Hi,o=Hi,u,c=If){const h={width:e,height:e,depth:1},p=[h,h,h,h,h,h];super(e,e,t,r,i,a,s,o,u,c),this.image=p,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class hU extends _i{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class T3 extends dn{constructor(e=1,t=1,r=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:a},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const s=[],o=[],u=[],c=[],h=t/2,p=Math.PI/2*e,v=t,y=2*p+v,x=r*2+a,S=i+1,w=new oe,A=new oe;for(let T=0;T<=x;T++){let C=0,O=0,R=0,D=0;if(T<=r){const L=T/r,k=L*Math.PI/2;O=-h-e*Math.cos(k),R=e*Math.sin(k),D=-e*Math.cos(k),C=L*p}else if(T<=r+a){const L=(T-r)/a;O=-h+L*t,R=e,D=0,C=p+L*v}else{const L=(T-r-a)/r,k=L*Math.PI/2;O=h+e*Math.sin(k),R=e*Math.cos(k),D=e*Math.sin(k),C=p+v+L*p}const I=Math.max(0,Math.min(1,C/y));let F=0;T===0?F=.5/i:T===x&&(F=-.5/i);for(let L=0;L<=i;L++){const k=L/i,V=k*Math.PI*2,j=Math.sin(V),Y=Math.cos(V);A.x=-R*Y,A.y=O,A.z=R*j,o.push(A.x,A.y,A.z),w.set(-R*Y,D,R*j),w.normalize(),u.push(w.x,w.y,w.z),c.push(k+F,I)}if(T>0){const L=(T-1)*S;for(let k=0;k<i;k++){const V=L+k,j=L+k+1,Y=T*S+k,re=T*S+k+1;s.push(V,j,Y),s.push(j,re,Y)}}}this.setIndex(s),this.setAttribute("position",new zt(o,3)),this.setAttribute("normal",new zt(u,3)),this.setAttribute("uv",new zt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new T3(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class C3 extends dn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],s=[],o=[],u=[],c=new oe,h=new st;s.push(0,0,0),o.push(0,0,1),u.push(.5,.5);for(let p=0,v=3;p<=t;p++,v+=3){const y=r+p/t*i;c.x=e*Math.cos(y),c.y=e*Math.sin(y),s.push(c.x,c.y,c.z),o.push(0,0,1),h.x=(s[v]/e+1)/2,h.y=(s[v+1]/e+1)/2,u.push(h.x,h.y)}for(let p=1;p<=t;p++)a.push(p,p+1,0);this.setIndex(a),this.setAttribute("position",new zt(s,3)),this.setAttribute("normal",new zt(o,3)),this.setAttribute("uv",new zt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C3(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Vw extends dn{constructor(e=1,t=1,r=1,i=32,a=1,s=!1,o=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:u};const c=this;i=Math.floor(i),a=Math.floor(a);const h=[],p=[],v=[],y=[];let x=0;const S=[],w=r/2;let A=0;T(),s===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(h),this.setAttribute("position",new zt(p,3)),this.setAttribute("normal",new zt(v,3)),this.setAttribute("uv",new zt(y,2));function T(){const O=new oe,R=new oe;let D=0;const I=(t-e)/r;for(let F=0;F<=a;F++){const L=[],k=F/a,V=k*(t-e)+e;for(let j=0;j<=i;j++){const Y=j/i,re=Y*u+o,Q=Math.sin(re),W=Math.cos(re);R.x=V*Q,R.y=-k*r+w,R.z=V*W,p.push(R.x,R.y,R.z),O.set(Q,I,W).normalize(),v.push(O.x,O.y,O.z),y.push(Y,1-k),L.push(x++)}S.push(L)}for(let F=0;F<i;F++)for(let L=0;L<a;L++){const k=S[L][F],V=S[L+1][F],j=S[L+1][F+1],Y=S[L][F+1];(e>0||L!==0)&&(h.push(k,V,Y),D+=3),(t>0||L!==a-1)&&(h.push(V,j,Y),D+=3)}c.addGroup(A,D,0),A+=D}function C(O){const R=x,D=new st,I=new oe;let F=0;const L=O===!0?e:t,k=O===!0?1:-1;for(let j=1;j<=i;j++)p.push(0,w*k,0),v.push(0,k,0),y.push(.5,.5),x++;const V=x;for(let j=0;j<=i;j++){const re=j/i*u+o,Q=Math.cos(re),W=Math.sin(re);I.x=L*W,I.y=w*k,I.z=L*Q,p.push(I.x,I.y,I.z),v.push(0,k,0),D.x=Q*.5+.5,D.y=W*.5*k+.5,y.push(D.x,D.y),x++}for(let j=0;j<i;j++){const Y=R+j,re=V+j;O===!0?h.push(re,re+1,Y):h.push(re+1,re,Y),F+=3}c.addGroup(A,F,O===!0?1:2),A+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jw extends Vw{constructor(e=1,t=1,r=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new jw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class om extends dn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],s=[];o(i),c(r),h(),this.setAttribute("position",new zt(a,3)),this.setAttribute("normal",new zt(a.slice(),3)),this.setAttribute("uv",new zt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(T){const C=new oe,O=new oe,R=new oe;for(let D=0;D<t.length;D+=3)y(t[D+0],C),y(t[D+1],O),y(t[D+2],R),u(C,O,R,T)}function u(T,C,O,R){const D=R+1,I=[];for(let F=0;F<=D;F++){I[F]=[];const L=T.clone().lerp(O,F/D),k=C.clone().lerp(O,F/D),V=D-F;for(let j=0;j<=V;j++)j===0&&F===D?I[F][j]=L:I[F][j]=L.clone().lerp(k,j/V)}for(let F=0;F<D;F++)for(let L=0;L<2*(D-F)-1;L++){const k=Math.floor(L/2);L%2===0?(v(I[F][k+1]),v(I[F+1][k]),v(I[F][k])):(v(I[F][k+1]),v(I[F+1][k+1]),v(I[F+1][k]))}}function c(T){const C=new oe;for(let O=0;O<a.length;O+=3)C.x=a[O+0],C.y=a[O+1],C.z=a[O+2],C.normalize().multiplyScalar(T),a[O+0]=C.x,a[O+1]=C.y,a[O+2]=C.z}function h(){const T=new oe;for(let C=0;C<a.length;C+=3){T.x=a[C+0],T.y=a[C+1],T.z=a[C+2];const O=w(T)/2/Math.PI+.5,R=A(T)/Math.PI+.5;s.push(O,1-R)}x(),p()}function p(){for(let T=0;T<s.length;T+=6){const C=s[T+0],O=s[T+2],R=s[T+4],D=Math.max(C,O,R),I=Math.min(C,O,R);D>.9&&I<.1&&(C<.2&&(s[T+0]+=1),O<.2&&(s[T+2]+=1),R<.2&&(s[T+4]+=1))}}function v(T){a.push(T.x,T.y,T.z)}function y(T,C){const O=T*3;C.x=e[O+0],C.y=e[O+1],C.z=e[O+2]}function x(){const T=new oe,C=new oe,O=new oe,R=new oe,D=new st,I=new st,F=new st;for(let L=0,k=0;L<a.length;L+=9,k+=6){T.set(a[L+0],a[L+1],a[L+2]),C.set(a[L+3],a[L+4],a[L+5]),O.set(a[L+6],a[L+7],a[L+8]),D.set(s[k+0],s[k+1]),I.set(s[k+2],s[k+3]),F.set(s[k+4],s[k+5]),R.copy(T).add(C).add(O).divideScalar(3);const V=w(R);S(D,k+0,T,V),S(I,k+2,C,V),S(F,k+4,O,V)}}function S(T,C,O,R){R<0&&T.x===1&&(s[C]=T.x-1),O.x===0&&O.z===0&&(s[C]=R/2/Math.PI+.5)}function w(T){return Math.atan2(T.z,-T.x)}function A(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new om(e.vertices,e.indices,e.radius,e.detail)}}class P3 extends om{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new P3(e.radius,e.detail)}}const PE=new oe,OE=new oe,sR=new oe,RE=new Yo;class XV extends dn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(i0*t),s=e.getIndex(),o=e.getAttribute("position"),u=s?s.count:o.count,c=[0,0,0],h=["a","b","c"],p=new Array(3),v={},y=[];for(let x=0;x<u;x+=3){s?(c[0]=s.getX(x),c[1]=s.getX(x+1),c[2]=s.getX(x+2)):(c[0]=x,c[1]=x+1,c[2]=x+2);const{a:S,b:w,c:A}=RE;if(S.fromBufferAttribute(o,c[0]),w.fromBufferAttribute(o,c[1]),A.fromBufferAttribute(o,c[2]),RE.getNormal(sR),p[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,p[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,p[2]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let T=0;T<3;T++){const C=(T+1)%3,O=p[T],R=p[C],D=RE[h[T]],I=RE[h[C]],F=`${O}_${R}`,L=`${R}_${O}`;L in v&&v[L]?(sR.dot(v[L].normal)<=a&&(y.push(D.x,D.y,D.z),y.push(I.x,I.y,I.z)),v[L]=null):F in v||(v[F]={index0:c[T],index1:c[C],normal:sR.clone()})}}for(const x in v)if(v[x]){const{index0:S,index1:w}=v[x];PE.fromBufferAttribute(o,S),OE.fromBufferAttribute(o,w),y.push(PE.x,PE.y,PE.z),y.push(OE.x,OE.y,OE.z)}this.setAttribute("position",new zt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let bc=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Dt("Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const a=r.length;let s;t?s=t:s=e*r[a-1];let o=0,u=a-1,c;for(;o<=u;)if(i=Math.floor(o+(u-o)/2),c=r[i]-s,c<0)o=i+1;else if(c>0)u=i-1;else{u=i;break}if(i=u,r[i]===s)return i/(a-1);const h=r[i],v=r[i+1]-h,y=(s-h)/v;return(i+y)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),u=t||(s.isVector2?new st:new oe);return u.copy(o).sub(s).normalize(),u}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new oe,i=[],a=[],s=[],o=new oe,u=new sn;for(let y=0;y<=e;y++){const x=y/e;i[y]=this.getTangentAt(x,new oe)}a[0]=new oe,s[0]=new oe;let c=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),v=Math.abs(i[0].z);h<=c&&(c=h,r.set(1,0,0)),p<=c&&(c=p,r.set(0,1,0)),v<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),s[y]=s[y-1].clone(),o.crossVectors(i[y-1],i[y]),o.length()>Number.EPSILON){o.normalize();const x=Math.acos(cn(i[y-1].dot(i[y]),-1,1));a[y].applyMatrix4(u.makeRotationAxis(o,x))}s[y].crossVectors(i[y],a[y])}if(t===!0){let y=Math.acos(cn(a[0].dot(a[e]),-1,1));y/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(y=-y);for(let x=1;x<=e;x++)a[x].applyMatrix4(u.makeRotationAxis(i[x],y*x)),s[x].crossVectors(i[x],a[x])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class O3 extends bc{constructor(e=0,t=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=u}getPoint(e,t=new st){const r=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),v=u-this.aX,y=c-this.aY;u=v*h-y*p+this.aX,c=v*p+y*h+this.aY}return r.set(u,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class YV extends O3{constructor(e,t,r,i,a,s){super(e,t,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function dU(){let n=0,e=0,t=0,r=0;function i(a,s,o,u){n=a,e=o,t=-3*a+3*s-2*o-u,r=2*a-2*s+o+u}return{initCatmullRom:function(a,s,o,u,c){i(s,o,c*(o-a),c*(u-s))},initNonuniformCatmullRom:function(a,s,o,u,c,h,p){let v=(s-a)/c-(o-a)/(c+h)+(o-s)/h,y=(o-s)/h-(u-s)/(h+p)+(u-o)/p;v*=h,y*=h,i(s,o,v,y)},calc:function(a){const s=a*a,o=s*a;return n+e*a+t*s+r*o}}}const NE=new oe,oR=new dU,lR=new dU,uR=new dU;class KV extends bc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new oe){const r=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),u=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:u===0&&o===a-1&&(o=a-2,u=1);let c,h;this.closed||o>0?c=i[(o-1)%a]:(NE.subVectors(i[0],i[1]).add(i[0]),c=NE);const p=i[o%a],v=i[(o+1)%a];if(this.closed||o+2<a?h=i[(o+2)%a]:(NE.subVectors(i[a-1],i[a-2]).add(i[a-1]),h=NE),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let x=Math.pow(c.distanceToSquared(p),y),S=Math.pow(p.distanceToSquared(v),y),w=Math.pow(v.distanceToSquared(h),y);S<1e-4&&(S=1),x<1e-4&&(x=S),w<1e-4&&(w=S),oR.initNonuniformCatmullRom(c.x,p.x,v.x,h.x,x,S,w),lR.initNonuniformCatmullRom(c.y,p.y,v.y,h.y,x,S,w),uR.initNonuniformCatmullRom(c.z,p.z,v.z,h.z,x,S,w)}else this.curveType==="catmullrom"&&(oR.initCatmullRom(c.x,p.x,v.x,h.x,this.tension),lR.initCatmullRom(c.y,p.y,v.y,h.y,this.tension),uR.initCatmullRom(c.z,p.z,v.z,h.z,this.tension));return r.set(oR.calc(u),lR.calc(u),uR.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new oe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function gB(n,e,t,r,i){const a=(r-e)*.5,s=(i-t)*.5,o=n*n,u=n*o;return(2*t-2*r+a+s)*u+(-3*t+3*r-2*a-s)*o+a*n+t}function JQ(n,e){const t=1-n;return t*t*e}function eJ(n,e){return 2*(1-n)*n*e}function tJ(n,e){return n*n*e}function E_(n,e,t,r){return JQ(n,e)+eJ(n,t)+tJ(n,r)}function nJ(n,e){const t=1-n;return t*t*t*e}function rJ(n,e){const t=1-n;return 3*t*t*n*e}function iJ(n,e){return 3*(1-n)*n*n*e}function aJ(n,e){return n*n*n*e}function M_(n,e,t,r,i){return nJ(n,e)+rJ(n,t)+iJ(n,r)+aJ(n,i)}class pU extends bc{constructor(e=new st,t=new st,r=new st,i=new st){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new st){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(M_(e,i.x,a.x,s.x,o.x),M_(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $V extends bc{constructor(e=new oe,t=new oe,r=new oe,i=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new oe){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(M_(e,i.x,a.x,s.x,o.x),M_(e,i.y,a.y,s.y,o.y),M_(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mU extends bc{constructor(e=new st,t=new st){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new st){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new st){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ZV extends bc{constructor(e=new oe,t=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new oe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new oe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gU extends bc{constructor(e=new st,t=new st,r=new st){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new st){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(E_(e,i.x,a.x,s.x),E_(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vU extends bc{constructor(e=new oe,t=new oe,r=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new oe){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(E_(e,i.x,a.x,s.x),E_(e,i.y,a.y,s.y),E_(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yU extends bc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new st){const r=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,u=i[s===0?s:s-1],c=i[s],h=i[s>i.length-2?i.length-1:s+1],p=i[s>i.length-3?i.length-1:s+2];return r.set(gB(o,u.x,c.x,h.x,p.x),gB(o,u.y,c.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new st().fromArray(i))}return this}}var GT=Object.freeze({__proto__:null,ArcCurve:YV,CatmullRomCurve3:KV,CubicBezierCurve:pU,CubicBezierCurve3:$V,EllipseCurve:O3,LineCurve:mU,LineCurve3:ZV,QuadraticBezierCurve:gU,QuadraticBezierCurve3:vU,SplineCurve:yU});class QV extends bc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new GT[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const s=i[a]-r,o=this.curves[a],u=o.getLength(),c=u===0?0:1-s/u;return o.getPointAt(c,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,u=s.getPoints(o);for(let c=0;c<u.length;c++){const h=u[c];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new GT[i.type]().fromJSON(i))}return this}}let HT=class extends QV{constructor(e){super(),this.type="Path",this.currentPoint=new st,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new mU(this.currentPoint.clone(),new st(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new gU(this.currentPoint.clone(),new st(e,t),new st(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,s){const o=new pU(this.currentPoint.clone(),new st(e,t),new st(r,i),new st(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new yU(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,s){const o=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+o,t+u,r,i,a,s),this}absarc(e,t,r,i,a,s){return this.absellipse(e,t,r,r,i,a,s),this}ellipse(e,t,r,i,a,s,o,u){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,r,i,a,s,o,u),this}absellipse(e,t,r,i,a,s,o,u){const c=new O3(e,t,r,i,a,s,o,u);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},a0=class extends HT{constructor(e){super(e),this.uuid=El(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new HT().fromJSON(i))}return this}};function sJ(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=JV(n,0,i,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,u,c;if(r&&(a=fJ(n,e,a,t)),n.length>80*t){o=n[0],u=n[1];let h=o,p=u;for(let v=t;v<i;v+=t){const y=n[v],x=n[v+1];y<o&&(o=y),x<u&&(u=x),y>h&&(h=y),x>p&&(p=x)}c=Math.max(h-o,p-u),c=c!==0?32767/c:0}return W_(a,s,t,o,u,c,0),s}function JV(n,e,t,r,i){let a;if(i===wJ(n,e,t,r)>0)for(let s=e;s<t;s+=r)a=vB(s/r|0,n[s],n[s+1],a);else for(let s=t-r;s>=e;s-=r)a=vB(s/r|0,n[s],n[s+1],a);return a&&Ib(a,a.next)&&(X_(a),a=a.next),a}function g0(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Ib(t,t.next)||xi(t.prev,t,t.next)===0)){if(X_(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function W_(n,e,t,r,i,a,s){if(!n)return;!s&&a&&gJ(n,r,i,a);let o=n;for(;n.prev!==n.next;){const u=n.prev,c=n.next;if(a?lJ(n,r,i,a):oJ(n)){e.push(u.i,n.i,c.i),X_(n),n=c.next,o=c.next;continue}if(n=c,n===o){s?s===1?(n=uJ(g0(n),e),W_(n,e,t,r,i,a,2)):s===2&&cJ(n,e,t,r,i,a):W_(g0(n),e,t,r,i,a,1);break}}}function oJ(n){const e=n.prev,t=n,r=n.next;if(xi(e,t,r)>=0)return!1;const i=e.x,a=t.x,s=r.x,o=e.y,u=t.y,c=r.y,h=Math.min(i,a,s),p=Math.min(o,u,c),v=Math.max(i,a,s),y=Math.max(o,u,c);let x=r.next;for(;x!==e;){if(x.x>=h&&x.x<=v&&x.y>=p&&x.y<=y&&o_(i,o,a,u,s,c,x.x,x.y)&&xi(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function lJ(n,e,t,r){const i=n.prev,a=n,s=n.next;if(xi(i,a,s)>=0)return!1;const o=i.x,u=a.x,c=s.x,h=i.y,p=a.y,v=s.y,y=Math.min(o,u,c),x=Math.min(h,p,v),S=Math.max(o,u,c),w=Math.max(h,p,v),A=WD(y,x,e,t,r),T=WD(S,w,e,t,r);let C=n.prevZ,O=n.nextZ;for(;C&&C.z>=A&&O&&O.z<=T;){if(C.x>=y&&C.x<=S&&C.y>=x&&C.y<=w&&C!==i&&C!==s&&o_(o,h,u,p,c,v,C.x,C.y)&&xi(C.prev,C,C.next)>=0||(C=C.prevZ,O.x>=y&&O.x<=S&&O.y>=x&&O.y<=w&&O!==i&&O!==s&&o_(o,h,u,p,c,v,O.x,O.y)&&xi(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;C&&C.z>=A;){if(C.x>=y&&C.x<=S&&C.y>=x&&C.y<=w&&C!==i&&C!==s&&o_(o,h,u,p,c,v,C.x,C.y)&&xi(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;O&&O.z<=T;){if(O.x>=y&&O.x<=S&&O.y>=x&&O.y<=w&&O!==i&&O!==s&&o_(o,h,u,p,c,v,O.x,O.y)&&xi(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function uJ(n,e){let t=n;do{const r=t.prev,i=t.next.next;!Ib(r,i)&&tj(r,t,t.next,i)&&q_(r,i)&&q_(i,r)&&(e.push(r.i,t.i,i.i),X_(t),X_(t.next),t=n=i),t=t.next}while(t!==n);return g0(t)}function cJ(n,e,t,r,i,a){let s=n;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&bJ(s,o)){let u=nj(s,o);s=g0(s,s.next),u=g0(u,u.next),W_(s,e,t,r,i,a,0),W_(u,e,t,r,i,a,0);return}o=o.next}s=s.next}while(s!==n)}function fJ(n,e,t,r){const i=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*r,u=a<s-1?e[a+1]*r:n.length,c=JV(n,o,u,r,!1);c===c.next&&(c.steiner=!0),i.push(yJ(c))}i.sort(hJ);for(let a=0;a<i.length;a++)t=dJ(i[a],t);return t}function hJ(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function dJ(n,e){const t=pJ(n,e);if(!t)return e;const r=nj(t,n);return g0(r,r.next),g0(t,t.next)}function pJ(n,e){let t=e;const r=n.x,i=n.y;let a=-1/0,s;if(Ib(n,t))return t;do{if(Ib(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>a&&(a=p,s=t.x<t.next.x?t:t.next,p===r))return s}t=t.next}while(t!==e);if(!s)return null;const o=s,u=s.x,c=s.y;let h=1/0;t=s;do{if(r>=t.x&&t.x>=u&&r!==t.x&&ej(i<c?r:a,i,u,c,i<c?a:r,i,t.x,t.y)){const p=Math.abs(i-t.y)/(r-t.x);q_(t,n)&&(p<h||p===h&&(t.x>s.x||t.x===s.x&&mJ(s,t)))&&(s=t,h=p)}t=t.next}while(t!==o);return s}function mJ(n,e){return xi(n.prev,n,e.prev)<0&&xi(e.next,n,n.next)<0}function gJ(n,e,t,r){let i=n;do i.z===0&&(i.z=WD(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,vJ(i)}function vJ(n){let e,t=1;do{let r=n,i;n=null;let a=null;for(e=0;r;){e++;let s=r,o=0;for(let c=0;c<t&&(o++,s=s.nextZ,!!s);c++);let u=t;for(;o>0||u>0&&s;)o!==0&&(u===0||!s||r.z<=s.z)?(i=r,r=r.nextZ,o--):(i=s,s=s.nextZ,u--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;r=s}a.nextZ=null,t*=2}while(e>1);return n}function WD(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function yJ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function ej(n,e,t,r,i,a,s,o){return(i-s)*(e-o)>=(n-s)*(a-o)&&(n-s)*(r-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(i-s)*(r-o)}function o_(n,e,t,r,i,a,s,o){return!(n===s&&e===o)&&ej(n,e,t,r,i,a,s,o)}function bJ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xJ(n,e)&&(q_(n,e)&&q_(e,n)&&_J(n,e)&&(xi(n.prev,n,e.prev)||xi(n,e.prev,e))||Ib(n,e)&&xi(n.prev,n,n.next)>0&&xi(e.prev,e,e.next)>0)}function xi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Ib(n,e){return n.x===e.x&&n.y===e.y}function tj(n,e,t,r){const i=IE(xi(n,e,t)),a=IE(xi(n,e,r)),s=IE(xi(t,r,n)),o=IE(xi(t,r,e));return!!(i!==a&&s!==o||i===0&&DE(n,t,e)||a===0&&DE(n,r,e)||s===0&&DE(t,n,r)||o===0&&DE(t,e,r))}function DE(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function IE(n){return n>0?1:n<0?-1:0}function xJ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&tj(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function q_(n,e){return xi(n.prev,n,n.next)<0?xi(n,e,n.next)>=0&&xi(n,n.prev,e)>=0:xi(n,e,n.prev)<0||xi(n,n.next,e)<0}function _J(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function nj(n,e){const t=qD(n.i,n.x,n.y),r=qD(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function vB(n,e,t,r){const i=qD(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function X_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function qD(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function wJ(n,e,t,r){let i=0;for(let a=e,s=t-r;a<t;a+=r)i+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return i}class SJ{static triangulate(e,t,r=2){return sJ(e,t,r)}}class hc{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return hc.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];yB(e),bB(r,e);let s=e.length;t.forEach(yB);for(let u=0;u<t.length;u++)i.push(s),s+=t[u].length,bB(r,t[u]);const o=SJ.triangulate(r,i);for(let u=0;u<o.length;u+=3)a.push(o.slice(u,u+3));return a}}function yB(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function bB(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class R3 extends dn{constructor(e=new a0([new st(.5,.5),new st(-.5,.5),new st(-.5,-.5),new st(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let o=0,u=e.length;o<u;o++){const c=e[o];s(c)}this.setAttribute("position",new zt(i,3)),this.setAttribute("uv",new zt(a,2)),this.computeVertexNormals();function s(o){const u=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:y-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,T=t.UVGenerator!==void 0?t.UVGenerator:AJ;let C,O=!1,R,D,I,F;if(A){C=A.getSpacedPoints(h),O=!0,v=!1;const _e=A.isCatmullRomCurve3?A.closed:!1;R=A.computeFrenetFrames(h,_e),D=new oe,I=new oe,F=new oe}v||(w=0,y=0,x=0,S=0);const L=o.extractPoints(c);let k=L.shape;const V=L.holes;if(!hc.isClockWise(k)){k=k.reverse();for(let _e=0,Le=V.length;_e<Le;_e++){const Ce=V[_e];hc.isClockWise(Ce)&&(V[_e]=Ce.reverse())}}function Y(_e){const Ce=10000000000000001e-36;let tt=_e[0];for(let ne=1;ne<=_e.length;ne++){const ft=ne%_e.length,Ze=_e[ft],De=Ze.x-tt.x,qe=Ze.y-tt.y,$=De*De+qe*qe,H=Math.max(Math.abs(Ze.x),Math.abs(Ze.y),Math.abs(tt.x),Math.abs(tt.y)),de=Ce*H*H;if($<=de){_e.splice(ft,1),ne--;continue}tt=Ze}}Y(k),V.forEach(Y);const re=V.length,Q=k;for(let _e=0;_e<re;_e++){const Le=V[_e];k=k.concat(Le)}function W(_e,Le,Ce){return Le||$t("ExtrudeGeometry: vec does not exist"),_e.clone().addScaledVector(Le,Ce)}const X=k.length;function se(_e,Le,Ce){let tt,ne,ft;const Ze=_e.x-Le.x,De=_e.y-Le.y,qe=Ce.x-_e.x,$=Ce.y-_e.y,H=Ze*Ze+De*De,de=Ze*$-De*qe;if(Math.abs(de)>Number.EPSILON){const Ue=Math.sqrt(H),Pe=Math.sqrt(qe*qe+$*$),Ee=Le.x-De/Ue,ct=Le.y+Ze/Ue,ot=Ce.x-$/Pe,bt=Ce.y+qe/Pe,Mt=((ot-Ee)*$-(bt-ct)*qe)/(Ze*$-De*qe);tt=Ee+Ze*Mt-_e.x,ne=ct+De*Mt-_e.y;const Xe=tt*tt+ne*ne;if(Xe<=2)return new st(tt,ne);ft=Math.sqrt(Xe/2)}else{let Ue=!1;Ze>Number.EPSILON?qe>Number.EPSILON&&(Ue=!0):Ze<-Number.EPSILON?qe<-Number.EPSILON&&(Ue=!0):Math.sign(De)===Math.sign($)&&(Ue=!0),Ue?(tt=-De,ne=Ze,ft=Math.sqrt(H)):(tt=Ze,ne=De,ft=Math.sqrt(H/2))}return new st(tt/ft,ne/ft)}const J=[];for(let _e=0,Le=Q.length,Ce=Le-1,tt=_e+1;_e<Le;_e++,Ce++,tt++)Ce===Le&&(Ce=0),tt===Le&&(tt=0),J[_e]=se(Q[_e],Q[Ce],Q[tt]);const ae=[];let B,Z=J.concat();for(let _e=0,Le=re;_e<Le;_e++){const Ce=V[_e];B=[];for(let tt=0,ne=Ce.length,ft=ne-1,Ze=tt+1;tt<ne;tt++,ft++,Ze++)ft===ne&&(ft=0),Ze===ne&&(Ze=0),B[tt]=se(Ce[tt],Ce[ft],Ce[Ze]);ae.push(B),Z=Z.concat(B)}let le;if(w===0)le=hc.triangulateShape(Q,V);else{const _e=[],Le=[];for(let Ce=0;Ce<w;Ce++){const tt=Ce/w,ne=y*Math.cos(tt*Math.PI/2),ft=x*Math.sin(tt*Math.PI/2)+S;for(let Ze=0,De=Q.length;Ze<De;Ze++){const qe=W(Q[Ze],J[Ze],ft);me(qe.x,qe.y,-ne),tt===0&&_e.push(qe)}for(let Ze=0,De=re;Ze<De;Ze++){const qe=V[Ze];B=ae[Ze];const $=[];for(let H=0,de=qe.length;H<de;H++){const Ue=W(qe[H],B[H],ft);me(Ue.x,Ue.y,-ne),tt===0&&$.push(Ue)}tt===0&&Le.push($)}}le=hc.triangulateShape(_e,Le)}const he=le.length,ve=x+S;for(let _e=0;_e<X;_e++){const Le=v?W(k[_e],Z[_e],ve):k[_e];O?(I.copy(R.normals[0]).multiplyScalar(Le.x),D.copy(R.binormals[0]).multiplyScalar(Le.y),F.copy(C[0]).add(I).add(D),me(F.x,F.y,F.z)):me(Le.x,Le.y,0)}for(let _e=1;_e<=h;_e++)for(let Le=0;Le<X;Le++){const Ce=v?W(k[Le],Z[Le],ve):k[Le];O?(I.copy(R.normals[_e]).multiplyScalar(Ce.x),D.copy(R.binormals[_e]).multiplyScalar(Ce.y),F.copy(C[_e]).add(I).add(D),me(F.x,F.y,F.z)):me(Ce.x,Ce.y,p/h*_e)}for(let _e=w-1;_e>=0;_e--){const Le=_e/w,Ce=y*Math.cos(Le*Math.PI/2),tt=x*Math.sin(Le*Math.PI/2)+S;for(let ne=0,ft=Q.length;ne<ft;ne++){const Ze=W(Q[ne],J[ne],tt);me(Ze.x,Ze.y,p+Ce)}for(let ne=0,ft=V.length;ne<ft;ne++){const Ze=V[ne];B=ae[ne];for(let De=0,qe=Ze.length;De<qe;De++){const $=W(Ze[De],B[De],tt);O?me($.x,$.y+C[h-1].y,C[h-1].x+Ce):me($.x,$.y,p+Ce)}}}ue(),ce();function ue(){const _e=i.length/3;if(v){let Le=0,Ce=X*Le;for(let tt=0;tt<he;tt++){const ne=le[tt];Ne(ne[2]+Ce,ne[1]+Ce,ne[0]+Ce)}Le=h+w*2,Ce=X*Le;for(let tt=0;tt<he;tt++){const ne=le[tt];Ne(ne[0]+Ce,ne[1]+Ce,ne[2]+Ce)}}else{for(let Le=0;Le<he;Le++){const Ce=le[Le];Ne(Ce[2],Ce[1],Ce[0])}for(let Le=0;Le<he;Le++){const Ce=le[Le];Ne(Ce[0]+X*h,Ce[1]+X*h,Ce[2]+X*h)}}r.addGroup(_e,i.length/3-_e,0)}function ce(){const _e=i.length/3;let Le=0;Se(Q,Le),Le+=Q.length;for(let Ce=0,tt=V.length;Ce<tt;Ce++){const ne=V[Ce];Se(ne,Le),Le+=ne.length}r.addGroup(_e,i.length/3-_e,1)}function Se(_e,Le){let Ce=_e.length;for(;--Ce>=0;){const tt=Ce;let ne=Ce-1;ne<0&&(ne=_e.length-1);for(let ft=0,Ze=h+w*2;ft<Ze;ft++){const De=X*ft,qe=X*(ft+1),$=Le+tt+De,H=Le+ne+De,de=Le+ne+qe,Ue=Le+tt+qe;Be($,H,de,Ue)}}}function me(_e,Le,Ce){u.push(_e),u.push(Le),u.push(Ce)}function Ne(_e,Le,Ce){ye(_e),ye(Le),ye(Ce);const tt=i.length/3,ne=T.generateTopUV(r,i,tt-3,tt-2,tt-1);ut(ne[0]),ut(ne[1]),ut(ne[2])}function Be(_e,Le,Ce,tt){ye(_e),ye(Le),ye(tt),ye(Le),ye(Ce),ye(tt);const ne=i.length/3,ft=T.generateSideWallUV(r,i,ne-6,ne-3,ne-2,ne-1);ut(ft[0]),ut(ft[1]),ut(ft[3]),ut(ft[1]),ut(ft[2]),ut(ft[3])}function ye(_e){i.push(u[_e*3+0]),i.push(u[_e*3+1]),i.push(u[_e*3+2])}function ut(_e){a.push(_e.x),a.push(_e.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return EJ(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new GT[i.type]().fromJSON(i)),new R3(r,e.options)}}const AJ={generateTopUV:function(n,e,t,r,i){const a=e[t*3],s=e[t*3+1],o=e[r*3],u=e[r*3+1],c=e[i*3],h=e[i*3+1];return[new st(a,s),new st(o,u),new st(c,h)]},generateSideWallUV:function(n,e,t,r,i,a){const s=e[t*3],o=e[t*3+1],u=e[t*3+2],c=e[r*3],h=e[r*3+1],p=e[r*3+2],v=e[i*3],y=e[i*3+1],x=e[i*3+2],S=e[a*3],w=e[a*3+1],A=e[a*3+2];return Math.abs(o-h)<Math.abs(s-c)?[new st(s,1-u),new st(c,1-p),new st(v,1-x),new st(S,1-A)]:[new st(o,1-u),new st(h,1-p),new st(y,1-x),new st(w,1-A)]}};function EJ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class N3 extends om{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new N3(e.radius,e.detail)}}class D3 extends dn{constructor(e=[new st(0,-.5),new st(.5,0),new st(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=cn(i,0,Math.PI*2);const a=[],s=[],o=[],u=[],c=[],h=1/t,p=new oe,v=new st,y=new oe,x=new oe,S=new oe;let w=0,A=0;for(let T=0;T<=e.length-1;T++)switch(T){case 0:w=e[T+1].x-e[T].x,A=e[T+1].y-e[T].y,y.x=A*1,y.y=-w,y.z=A*0,S.copy(y),y.normalize(),u.push(y.x,y.y,y.z);break;case e.length-1:u.push(S.x,S.y,S.z);break;default:w=e[T+1].x-e[T].x,A=e[T+1].y-e[T].y,y.x=A*1,y.y=-w,y.z=A*0,x.copy(y),y.x+=S.x,y.y+=S.y,y.z+=S.z,y.normalize(),u.push(y.x,y.y,y.z),S.copy(x)}for(let T=0;T<=t;T++){const C=r+T*h*i,O=Math.sin(C),R=Math.cos(C);for(let D=0;D<=e.length-1;D++){p.x=e[D].x*O,p.y=e[D].y,p.z=e[D].x*R,s.push(p.x,p.y,p.z),v.x=T/t,v.y=D/(e.length-1),o.push(v.x,v.y);const I=u[3*D+0]*O,F=u[3*D+1],L=u[3*D+0]*R;c.push(I,F,L)}}for(let T=0;T<t;T++)for(let C=0;C<e.length-1;C++){const O=C+T*e.length,R=O,D=O+e.length,I=O+e.length+1,F=O+1;a.push(R,D,F),a.push(I,F,D)}this.setIndex(a),this.setAttribute("position",new zt(s,3)),this.setAttribute("uv",new zt(o,2)),this.setAttribute("normal",new zt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new D3(e.points,e.segments,e.phiStart,e.phiLength)}}class Ww extends om{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ww(e.radius,e.detail)}}class gd extends dn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(r),u=Math.floor(i),c=o+1,h=u+1,p=e/o,v=t/u,y=[],x=[],S=[],w=[];for(let A=0;A<h;A++){const T=A*v-s;for(let C=0;C<c;C++){const O=C*p-a;x.push(O,-T,0),S.push(0,0,1),w.push(C/o),w.push(1-A/u)}}for(let A=0;A<u;A++)for(let T=0;T<o;T++){const C=T+c*A,O=T+c*(A+1),R=T+1+c*(A+1),D=T+1+c*A;y.push(C,O,D),y.push(O,R,D)}this.setIndex(y),this.setAttribute("position",new zt(x,3)),this.setAttribute("normal",new zt(S,3)),this.setAttribute("uv",new zt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gd(e.width,e.height,e.widthSegments,e.heightSegments)}}class I3 extends dn{constructor(e=.5,t=1,r=32,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const o=[],u=[],c=[],h=[];let p=e;const v=(t-e)/i,y=new oe,x=new st;for(let S=0;S<=i;S++){for(let w=0;w<=r;w++){const A=a+w/r*s;y.x=p*Math.cos(A),y.y=p*Math.sin(A),u.push(y.x,y.y,y.z),c.push(0,0,1),x.x=(y.x/t+1)/2,x.y=(y.y/t+1)/2,h.push(x.x,x.y)}p+=v}for(let S=0;S<i;S++){const w=S*(r+1);for(let A=0;A<r;A++){const T=A+w,C=T,O=T+r+1,R=T+r+2,D=T+1;o.push(C,O,D),o.push(O,R,D)}}this.setIndex(o),this.setAttribute("position",new zt(u,3)),this.setAttribute("normal",new zt(c,3)),this.setAttribute("uv",new zt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new I3(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class L3 extends dn{constructor(e=new a0([new st(0,.5),new st(-.5,-.5),new st(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],s=[];let o=0,u=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(o,u,h),o+=u,u=0;this.setIndex(r),this.setAttribute("position",new zt(i,3)),this.setAttribute("normal",new zt(a,3)),this.setAttribute("uv",new zt(s,2));function c(h){const p=i.length/3,v=h.extractPoints(t);let y=v.shape;const x=v.holes;hc.isClockWise(y)===!1&&(y=y.reverse());for(let w=0,A=x.length;w<A;w++){const T=x[w];hc.isClockWise(T)===!0&&(x[w]=T.reverse())}const S=hc.triangulateShape(y,x);for(let w=0,A=x.length;w<A;w++){const T=x[w];y=y.concat(T)}for(let w=0,A=y.length;w<A;w++){const T=y[w];i.push(T.x,T.y,0),a.push(0,0,1),s.push(T.x,T.y)}for(let w=0,A=S.length;w<A;w++){const T=S[w],C=T[0]+p,O=T[1]+p,R=T[2]+p;r.push(C,O,R),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return MJ(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=t[e.shapes[i]];r.push(s)}return new L3(r,e.curveSegments)}}function MJ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class qw extends dn{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const u=Math.min(s+o,Math.PI);let c=0;const h=[],p=new oe,v=new oe,y=[],x=[],S=[],w=[];for(let A=0;A<=r;A++){const T=[],C=A/r;let O=0;A===0&&s===0?O=.5/t:A===r&&u===Math.PI&&(O=-.5/t);for(let R=0;R<=t;R++){const D=R/t;p.x=-e*Math.cos(i+D*a)*Math.sin(s+C*o),p.y=e*Math.cos(s+C*o),p.z=e*Math.sin(i+D*a)*Math.sin(s+C*o),x.push(p.x,p.y,p.z),v.copy(p).normalize(),S.push(v.x,v.y,v.z),w.push(D+O,1-C),T.push(c++)}h.push(T)}for(let A=0;A<r;A++)for(let T=0;T<t;T++){const C=h[A][T+1],O=h[A][T],R=h[A+1][T],D=h[A+1][T+1];(A!==0||s>0)&&y.push(C,O,D),(A!==r-1||u<Math.PI)&&y.push(O,R,D)}this.setIndex(y),this.setAttribute("position",new zt(x,3)),this.setAttribute("normal",new zt(S,3)),this.setAttribute("uv",new zt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class U3 extends om{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new U3(e.radius,e.detail)}}class k3 extends dn{constructor(e=1,t=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const s=[],o=[],u=[],c=[],h=new oe,p=new oe,v=new oe;for(let y=0;y<=r;y++)for(let x=0;x<=i;x++){const S=x/i*a,w=y/r*Math.PI*2;p.x=(e+t*Math.cos(w))*Math.cos(S),p.y=(e+t*Math.cos(w))*Math.sin(S),p.z=t*Math.sin(w),o.push(p.x,p.y,p.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),v.subVectors(p,h).normalize(),u.push(v.x,v.y,v.z),c.push(x/i),c.push(y/r)}for(let y=1;y<=r;y++)for(let x=1;x<=i;x++){const S=(i+1)*y+x-1,w=(i+1)*(y-1)+x-1,A=(i+1)*(y-1)+x,T=(i+1)*y+x;s.push(S,w,T),s.push(w,A,T)}this.setIndex(s),this.setAttribute("position",new zt(o,3)),this.setAttribute("normal",new zt(u,3)),this.setAttribute("uv",new zt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new k3(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class B3 extends dn{constructor(e=1,t=.4,r=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);const o=[],u=[],c=[],h=[],p=new oe,v=new oe,y=new oe,x=new oe,S=new oe,w=new oe,A=new oe;for(let C=0;C<=r;++C){const O=C/r*a*Math.PI*2;T(O,a,s,e,y),T(O+.01,a,s,e,x),w.subVectors(x,y),A.addVectors(x,y),S.crossVectors(w,A),A.crossVectors(S,w),S.normalize(),A.normalize();for(let R=0;R<=i;++R){const D=R/i*Math.PI*2,I=-t*Math.cos(D),F=t*Math.sin(D);p.x=y.x+(I*A.x+F*S.x),p.y=y.y+(I*A.y+F*S.y),p.z=y.z+(I*A.z+F*S.z),u.push(p.x,p.y,p.z),v.subVectors(p,y).normalize(),c.push(v.x,v.y,v.z),h.push(C/r),h.push(R/i)}}for(let C=1;C<=r;C++)for(let O=1;O<=i;O++){const R=(i+1)*(C-1)+(O-1),D=(i+1)*C+(O-1),I=(i+1)*C+O,F=(i+1)*(C-1)+O;o.push(R,D,F),o.push(D,I,F)}this.setIndex(o),this.setAttribute("position",new zt(u,3)),this.setAttribute("normal",new zt(c,3)),this.setAttribute("uv",new zt(h,2));function T(C,O,R,D,I){const F=Math.cos(C),L=Math.sin(C),k=R/O*C,V=Math.cos(k);I.x=D*(2+V)*.5*F,I.y=D*(2+V)*L*.5,I.z=D*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B3(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class F3 extends dn{constructor(e=new vU(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new oe,u=new oe,c=new st;let h=new oe;const p=[],v=[],y=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new zt(p,3)),this.setAttribute("normal",new zt(v,3)),this.setAttribute("uv",new zt(y,2));function S(){for(let C=0;C<t;C++)w(C);w(a===!1?t:0),T(),A()}function w(C){h=e.getPointAt(C/t,h);const O=s.normals[C],R=s.binormals[C];for(let D=0;D<=i;D++){const I=D/i*Math.PI*2,F=Math.sin(I),L=-Math.cos(I);u.x=L*O.x+F*R.x,u.y=L*O.y+F*R.y,u.z=L*O.z+F*R.z,u.normalize(),v.push(u.x,u.y,u.z),o.x=h.x+r*u.x,o.y=h.y+r*u.y,o.z=h.z+r*u.z,p.push(o.x,o.y,o.z)}}function A(){for(let C=1;C<=t;C++)for(let O=1;O<=i;O++){const R=(i+1)*(C-1)+(O-1),D=(i+1)*C+(O-1),I=(i+1)*C+O,F=(i+1)*(C-1)+O;x.push(R,D,F),x.push(D,I,F)}}function T(){for(let C=0;C<=t;C++)for(let O=0;O<=i;O++)c.x=C/t,c.y=O/i,y.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new F3(new GT[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class bU extends dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new oe,a=new oe;if(e.index!==null){const s=e.attributes.position,o=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,h=u.length;c<h;++c){const p=u[c],v=p.start,y=p.count;for(let x=v,S=v+y;x<S;x+=3)for(let w=0;w<3;w++){const A=o.getX(x+w),T=o.getX(x+(w+1)%3);i.fromBufferAttribute(s,A),a.fromBufferAttribute(s,T),xB(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,u=s.count/3;o<u;o++)for(let c=0;c<3;c++){const h=3*o+c,p=3*o+(c+1)%3;i.fromBufferAttribute(s,h),a.fromBufferAttribute(s,p),xB(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new zt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function xB(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var _B=Object.freeze({__proto__:null,BoxGeometry:N0,CapsuleGeometry:T3,CircleGeometry:C3,ConeGeometry:jw,CylinderGeometry:Vw,DodecahedronGeometry:P3,EdgesGeometry:XV,ExtrudeGeometry:R3,IcosahedronGeometry:N3,LatheGeometry:D3,OctahedronGeometry:Ww,PlaneGeometry:gd,PolyhedronGeometry:om,RingGeometry:I3,ShapeGeometry:L3,SphereGeometry:qw,TetrahedronGeometry:U3,TorusGeometry:k3,TorusKnotGeometry:B3,TubeGeometry:F3,WireframeGeometry:bU});class rj extends Is{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ot(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class xU extends ho{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class _U extends Is{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sm,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Cl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ij extends _U{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new st(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return cn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class aj extends Is{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ot(16777215),this.specular=new Ot(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sm,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Cl,this.combine=zw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sj extends Is{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ot(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sm,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class oj extends Is{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sm,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class lj extends Is{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sm,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Cl,this.combine=zw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z3 extends Is{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_V,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class G3 extends Is{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class uj extends Is{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ot(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sm,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cj extends mo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Og(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function fj(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function XD(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,s=0;s!==r;++a){const o=t[a]*e;for(let u=0;u!==e;++u)i[s++]=n[o+u]}return i}function wU(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),t.push(...s)),a=n[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),t.push(s)),a=n[i++];while(a!==void 0)}function TJ(n,e,t,r,i=30){const a=n.clone();a.name=e;const s=[];for(let u=0;u<a.tracks.length;++u){const c=a.tracks[u],h=c.getValueSize(),p=[],v=[];for(let y=0;y<c.times.length;++y){const x=c.times[y]*i;if(!(x<t||x>=r)){p.push(c.times[y]);for(let S=0;S<h;++S)v.push(c.values[y*h+S])}}p.length!==0&&(c.times=Og(p,c.times.constructor),c.values=Og(v,c.values.constructor),s.push(c))}a.tracks=s;let o=1/0;for(let u=0;u<a.tracks.length;++u)o>a.tracks[u].times[0]&&(o=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*o);return a.resetDuration(),a}function CJ(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,a=e/r;for(let s=0;s<i;++s){const o=t.tracks[s],u=o.ValueTypeName;if(u==="bool"||u==="string")continue;const c=n.tracks.find(function(A){return A.name===o.name&&A.ValueTypeName===u});if(c===void 0)continue;let h=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let v=0;const y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const x=o.times.length-1;let S;if(a<=o.times[0]){const A=h,T=p-h;S=o.values.slice(A,T)}else if(a>=o.times[x]){const A=x*p+h,T=A+p-h;S=o.values.slice(A,T)}else{const A=o.createInterpolant(),T=h,C=p-h;A.evaluate(a),S=A.resultBuffer.slice(T,C)}u==="quaternion"&&new Rs().fromArray(S).normalize().conjugate().toArray(S);const w=c.times.length;for(let A=0;A<w;++A){const T=A*y+v;if(u==="quaternion")Rs.multiplyQuaternionsFlat(c.values,T,S,0,c.values,T);else{const C=y-v*2;for(let O=0;O<C;++O)c.values[T+O]-=S[O]}}}return n.blendMode=nU,n}class PJ{static convertArray(e,t){return Og(e,t)}static isTypedArray(e){return RV(e)}static getKeyframeOrder(e){return fj(e)}static sortedArray(e,t,r){return XD(e,t,r)}static flattenJSON(e,t,r,i){wU(e,t,r,i)}static subclip(e,t,r,i,a=30){return TJ(e,t,r,i,a)}static makeClipAdditive(e,t=0,r=e,i=30){return CJ(e,t,r,i)}}class Xw{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(a=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(r=2,a=o);for(let u=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(i=a,a=t[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const o=r+s>>>1;e<t[o]?s=o:r=o+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=r[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class hj extends Xw{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Cg,endingEnd:Cg}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],u=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case Pg:a=e,o=2*t-r;break;case F_:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=r}if(u===void 0)switch(this.getSettings_().endingEnd){case Pg:s=e,u=2*r-t;break;case F_:s=1,u=r+i[1]-i[0];break;default:s=e-1,u=t}const c=(r-t)*.5,h=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(u-r),this._offsetPrev=a*h,this._offsetNext=s*h}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,u=e*o,c=u-o,h=this._offsetPrev,p=this._offsetNext,v=this._weightPrev,y=this._weightNext,x=(r-t)/(i-t),S=x*x,w=S*x,A=-v*w+2*v*S-v*x,T=(1+v)*w+(-1.5-2*v)*S+(-.5+v)*x+1,C=(-1-y)*w+(1.5+y)*S+.5*x,O=y*w-y*S;for(let R=0;R!==o;++R)a[R]=A*s[h+R]+T*s[c+R]+C*s[u+R]+O*s[p+R];return a}}class SU extends Xw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,u=e*o,c=u-o,h=(r-t)/(i-t),p=1-h;for(let v=0;v!==o;++v)a[v]=s[c+v]*p+s[u+v]*h;return a}}class dj extends Xw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Pu{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Og(t,this.TimeBufferType),this.values=Og(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Og(e.times,Array),values:Og(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new dj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new SU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new hj(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case B_:t=this.InterpolantFactoryMethodDiscrete;break;case BT:t=this.InterpolantFactoryMethodLinear;break;case MM:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return Dt("KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return B_;case this.InterpolantFactoryMethodLinear:return BT;case this.InterpolantFactoryMethodSmooth:return MM}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=r.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&($t("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&($t("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const u=r[o];if(typeof u=="number"&&isNaN(u)){$t("KeyframeTrack: Time is not a valid number.",this,o,u),e=!1;break}if(s!==null&&s>u){$t("KeyframeTrack: Out of order keys.",this,o,u,s),e=!1;break}s=u}if(i!==void 0&&RV(i))for(let o=0,u=i.length;o!==u;++o){const c=i[o];if(isNaN(c)){$t("KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===MM,a=e.length-1;let s=1;for(let o=1;o<a;++o){let u=!1;const c=e[o],h=e[o+1];if(c!==h&&(o!==1||c!==e[0]))if(i)u=!0;else{const p=o*r,v=p-r,y=p+r;for(let x=0;x!==r;++x){const S=t[p+x];if(S!==t[v+x]||S!==t[y+x]){u=!0;break}}}if(u){if(o!==s){e[s]=e[o];const p=o*r,v=s*r;for(let y=0;y!==r;++y)t[v+y]=t[p+y]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,u=s*r,c=0;c!==r;++c)t[u+c]=t[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Pu.prototype.ValueTypeName="";Pu.prototype.TimeBufferType=Float32Array;Pu.prototype.ValueBufferType=Float32Array;Pu.prototype.DefaultInterpolation=BT;class D0 extends Pu{constructor(e,t,r){super(e,t,r)}}D0.prototype.ValueTypeName="bool";D0.prototype.ValueBufferType=Array;D0.prototype.DefaultInterpolation=B_;D0.prototype.InterpolantFactoryMethodLinear=void 0;D0.prototype.InterpolantFactoryMethodSmooth=void 0;class AU extends Pu{constructor(e,t,r,i){super(e,t,r,i)}}AU.prototype.ValueTypeName="color";class Y_ extends Pu{constructor(e,t,r,i){super(e,t,r,i)}}Y_.prototype.ValueTypeName="number";class pj extends Xw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,u=(r-t)/(i-t);let c=e*o;for(let h=c+o;c!==h;c+=4)Rs.slerpFlat(a,0,s,c-o,s,c,u);return a}}class Yw extends Pu{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new pj(this.times,this.values,this.getValueSize(),e)}}Yw.prototype.ValueTypeName="quaternion";Yw.prototype.InterpolantFactoryMethodSmooth=void 0;class I0 extends Pu{constructor(e,t,r){super(e,t,r)}}I0.prototype.ValueTypeName="string";I0.prototype.ValueBufferType=Array;I0.prototype.DefaultInterpolation=B_;I0.prototype.InterpolantFactoryMethodLinear=void 0;I0.prototype.InterpolantFactoryMethodSmooth=void 0;class K_ extends Pu{constructor(e,t,r,i){super(e,t,r,i)}}K_.prototype.ValueTypeName="vector";class $_{constructor(e="",t=-1,r=[],i=m3){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=El(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)t.push(RJ(r[s]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=r.length;a!==s;++a)t.push(Pu.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,s=[];for(let o=0;o<a;o++){let u=[],c=[];u.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const h=fj(u);u=XD(u,1,h),c=XD(c,1,h),!i&&u[0]===0&&(u.push(a),c.push(c[0])),s.push(new Y_(".morphTargetInfluences["+t[o].name+"]",u,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,u=e.length;o<u;o++){const c=e[o],h=c.name.match(a);if(h&&h.length>1){const p=h[1];let v=i[p];v||(i[p]=v=[]),v.push(c)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return s}static parseAnimation(e,t){if(Dt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return $t("AnimationClip: No animation in JSONLoader data."),null;const r=function(p,v,y,x,S){if(y.length!==0){const w=[],A=[];wU(y,w,A,x),w.length!==0&&S.push(new p(v,w,A))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let u=e.length||-1;const c=e.hierarchy||[];for(let p=0;p<c.length;p++){const v=c[p].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let x;for(x=0;x<v.length;x++)if(v[x].morphTargets)for(let S=0;S<v[x].morphTargets.length;S++)y[v[x].morphTargets[S]]=-1;for(const S in y){const w=[],A=[];for(let T=0;T!==v[x].morphTargets.length;++T){const C=v[x];w.push(C.time),A.push(C.morphTarget===S?1:0)}i.push(new Y_(".morphTargetInfluence["+S+"]",w,A))}u=y.length*s}else{const y=".bones["+t[p].name+"]";r(K_,y+".position",v,"pos",i),r(Yw,y+".quaternion",v,"rot",i),r(K_,y+".scale",v,"scl",i)}}return i.length===0?null:new this(a,u,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function OJ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Y_;case"vector":case"vector2":case"vector3":case"vector4":return K_;case"color":return AU;case"quaternion":return Yw;case"bool":case"boolean":return D0;case"string":return I0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function RJ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=OJ(n.type);if(n.times===void 0){const t=[],r=[];wU(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ef={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class EU{constructor(e,t,r){const i=this;let a=!1,s=0,o=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this._abortController=null,this.itemStart=function(h){o++,a===!1&&i.onStart!==void 0&&i.onStart(h,s,o),a=!0},this.itemEnd=function(h){s++,i.onProgress!==void 0&&i.onProgress(h,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,p){return c.push(h,p),this},this.removeHandler=function(h){const p=c.indexOf(h);return p!==-1&&c.splice(p,2),this},this.getHandler=function(h){for(let p=0,v=c.length;p<v;p+=2){const y=c[p],x=c[p+1];if(y.global&&(y.lastIndex=0),y.test(h))return x}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const mj=new EU;class el{constructor(e){this.manager=e!==void 0?e:mj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}el.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ah={};class NJ extends Error{constructor(e,t){super(e),this.response=t}}class rd extends el{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Ef.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Ah[e]!==void 0){Ah[e].push({onLoad:t,onProgress:r,onError:i});return}Ah[e]=[],Ah[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,u=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&Dt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=Ah[e],p=c.body.getReader(),v=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),y=v?parseInt(v):0,x=y!==0;let S=0;const w=new ReadableStream({start(A){T();function T(){p.read().then(({done:C,value:O})=>{if(C)A.close();else{S+=O.byteLength;const R=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:y});for(let D=0,I=h.length;D<I;D++){const F=h[D];F.onProgress&&F.onProgress(R)}A.enqueue(O),T()}},C=>{A.error(C)})}}});return new Response(w)}else throw new NJ(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(u){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return c.json();default:if(o==="")return c.text();{const p=/charset="?([^;"\s]*)"?/i.exec(o),v=p&&p[1]?p[1].toLowerCase():void 0,y=new TextDecoder(v);return c.arrayBuffer().then(x=>y.decode(x))}}}).then(c=>{Ef.add(`file:${e}`,c);const h=Ah[e];delete Ah[e];for(let p=0,v=h.length;p<v;p++){const y=h[p];y.onLoad&&y.onLoad(c)}}).catch(c=>{const h=Ah[e];if(h===void 0)throw this.manager.itemError(e),c;delete Ah[e];for(let p=0,v=h.length;p<v;p++){const y=h[p];y.onError&&y.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class DJ extends el{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new rd(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(u){i?i(u):$t(u),a.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=$_.parse(e[r]);t.push(i)}return t}}class IJ extends el{constructor(e){super(e)}load(e,t,r,i){const a=this,s=[],o=new M3,u=new rd(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let c=0;function h(p){u.load(e[p],function(v){const y=a.parse(v,!0);s[p]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},c+=1,c===6&&(y.mipmapCount===1&&(o.minFilter=Or),o.image=s,o.format=y.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let p=0,v=e.length;p<v;++p)h(p);else u.load(e,function(p){const v=a.parse(p,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let x=0;x<y;x++){s[x]={mipmaps:[]};for(let S=0;S<v.mipmapCount;S++)s[x].mipmaps.push(v.mipmaps[x*v.mipmapCount+S]),s[x].format=v.format,s[x].width=v.width,s[x].height=v.height}o.image=s}else o.image.width=v.width,o.image.height=v.height,o.mipmaps=v.mipmaps;v.mipmapCount===1&&(o.minFilter=Or),o.format=v.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}}const ny=new WeakMap;class Z_ extends el{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Ef.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let p=ny.get(s);p===void 0&&(p=[],ny.set(s,p)),p.push({onLoad:t,onError:i})}return s}const o=H_("img");function u(){h(),t&&t(this);const p=ny.get(this)||[];for(let v=0;v<p.length;v++){const y=p[v];y.onLoad&&y.onLoad(this)}ny.delete(this),a.manager.itemEnd(e)}function c(p){h(),i&&i(p),Ef.remove(`image:${e}`);const v=ny.get(this)||[];for(let y=0;y<v.length;y++){const x=v[y];x.onError&&x.onError(p)}ny.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function h(){o.removeEventListener("load",u,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",u,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),Ef.add(`image:${e}`,o),a.manager.itemStart(e),o.src=e,o}}class LJ extends el{constructor(e){super(e)}load(e,t,r,i){const a=new Hw;a.colorSpace=Ps;const s=new Z_(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function u(c){s.load(e[c],function(h){a.images[c]=h,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let c=0;c<e.length;++c)u(c);return a}}class UJ extends el{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new pc,o=new rd(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(u){let c;try{c=a.parse(u)}catch(h){if(i!==void 0)i(h);else{h(h);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:$o,s.wrapT=c.wrapT!==void 0?c.wrapT:$o,s.magFilter=c.magFilter!==void 0?c.magFilter:Or,s.minFilter=c.minFilter!==void 0?c.minFilter:Or,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Af),c.mipmapCount===1&&(s.minFilter=Or),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c)},r,i),s}}class kJ extends el{constructor(e){super(e)}load(e,t,r,i){const a=new _i,s=new Z_(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class lm extends er{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ot(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class gj extends lm{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(er.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ot(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const cR=new sn,wB=new oe,SB=new oe;class MU{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new st(512,512),this.mapType=no,this.map=null,this.mapPass=null,this.matrix=new sn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ex,this._frameExtents=new st(1,1),this._viewportCount=1,this._viewports=[new Qn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;wB.setFromMatrixPosition(e.matrixWorld),t.position.copy(wB),SB.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(SB),t.updateMatrixWorld(),cR.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cR,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(cR)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class BJ extends MU{constructor(){super(new Fi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,r=Ob*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class vj extends lm{constructor(e,t,r=0,i=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(er.DEFAULT_UP),this.updateMatrix(),this.target=new er,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new BJ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class FJ extends MU{constructor(){super(new Fi(90,1,.5,500)),this.isPointLightShadow=!0}}class yj extends lm{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new FJ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class Zh extends x3{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+t,u=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=h*this.view.offsetY,u=o-h*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,u,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class zJ extends MU{constructor(){super(new Zh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bj extends lm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(er.DEFAULT_UP),this.updateMatrix(),this.target=new er,this.shadow=new zJ}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class xj extends lm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class _j extends lm{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class TU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(r*a)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*r*a),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class wj extends lm{constructor(e=new TU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class H3 extends el{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,s=new rd(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(u){i?i(u):$t(u),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&Dt("MaterialLoader: Undefined texture",a),t[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ot().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new Ot().setHex(s.value);break;case"v2":i.uniforms[a].value=new st().fromArray(s.value);break;case"v3":i.uniforms[a].value=new oe().fromArray(s.value);break;case"v4":i.uniforms[a].value=new Qn().fromArray(s.value);break;case"m3":i.uniforms[a].value=new yn().fromArray(s.value);break;case"m4":i.uniforms[a].value=new sn().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new st().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new st().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return H3.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:rj,SpriteMaterial:uU,RawShaderMaterial:xU,ShaderMaterial:ho,PointsMaterial:fU,MeshPhysicalMaterial:ij,MeshStandardMaterial:_U,MeshPhongMaterial:aj,MeshToonMaterial:sj,MeshNormalMaterial:oj,MeshLambertMaterial:lj,MeshDepthMaterial:z3,MeshDistanceMaterial:G3,MeshBasicMaterial:md,MeshMatcapMaterial:uj,LineDashedMaterial:cj,LineBasicMaterial:mo,Material:Is};return new t[e]}}class YD{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class V3 extends dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Sj extends el{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new rd(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(u){i?i(u):$t(u),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(y,x){if(t[x]!==void 0)return t[x];const w=y.interleavedBuffers[x],A=a(y,w.buffer),T=xy(w.type,A),C=new S3(T,w.stride);return C.uuid=w.uuid,t[x]=C,C}function a(y,x){if(r[x]!==void 0)return r[x];const w=y.arrayBuffers[x],A=new Uint32Array(w).buffer;return r[x]=A,A}const s=e.isInstancedBufferGeometry?new V3:new dn,o=e.data.index;if(o!==void 0){const y=xy(o.type,o.array);s.setIndex(new Yn(y,1))}const u=e.data.attributes;for(const y in u){const x=u[y];let S;if(x.isInterleavedBufferAttribute){const w=i(e.data,x.data);S=new Sl(w,x.itemSize,x.offset,x.normalized)}else{const w=xy(x.type,x.array),A=x.isInstancedBufferAttribute?m0:Yn;S=new A(w,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),x.usage!==void 0&&S.setUsage(x.usage),s.setAttribute(y,S)}const c=e.data.morphAttributes;if(c)for(const y in c){const x=c[y],S=[];for(let w=0,A=x.length;w<A;w++){const T=x[w];let C;if(T.isInterleavedBufferAttribute){const O=i(e.data,T.data);C=new Sl(O,T.itemSize,T.offset,T.normalized)}else{const O=xy(T.type,T.array);C=new Yn(O,T.itemSize,T.normalized)}T.name!==void 0&&(C.name=T.name),S.push(C)}s.morphAttributes[y]=S}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let y=0,x=p.length;y!==x;++y){const S=p[y];s.addGroup(S.start,S.count,S.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(s.boundingSphere=new ra().fromJSON(v)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class GJ extends el{constructor(e){super(e)}load(e,t,r,i){const a=this,s=this.path===""?YD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new rd(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){let c=null;try{c=JSON.parse(u)}catch(p){i!==void 0&&i(p),p("ObjectLoader: Can't parse "+e+".",p.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),$t("ObjectLoader: Can't load "+e);return}a.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?YD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new rd(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),u=o.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,u,o,r),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),this.bindLightTargets(c),t!==void 0){let p=!1;for(const v in s)if(s[v].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,i,o,s,t),c=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,c),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new a0().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new A3().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new Sj;for(let a=0,s=e.length;a<s;a++){let o;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(u);break;default:u.type in _B?o=_B[u.type].fromJSON(u,t):Dt(`ObjectLoader: Unsupported geometry type "${u.type}"`)}o.uuid=u.uuid,u.name!==void 0&&(o.name=u.name),u.userData!==void 0&&(o.userData=u.userData),r[u.uuid]=o}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new H3;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const u=e[s];r[u.uuid]===void 0&&(r[u.uuid]=a.parse(u)),i[u.uuid]=r[u.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=$_.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function s(u){return r.manager.itemStart(u),a.load(u,function(){r.manager.itemEnd(u)},void 0,function(){r.manager.itemError(u),r.manager.itemEnd(u)})}function o(u){if(typeof u=="string"){const c=u,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(h)}else return u.data?{data:xy(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new EU(t);a=new Z_(u),a.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const p=e[c],v=p.url;if(Array.isArray(v)){const y=[];for(let x=0,S=v.length;x<S;x++){const w=v[x],A=o(w);A!==null&&(A instanceof HTMLImageElement?y.push(A):y.push(new pc(A.data,A.width,A.height)))}i[p.uuid]=new Wp(y)}else{const y=o(p.url);i[p.uuid]=new Wp(y)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(s){if(typeof s=="string"){const o=s,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(u)}else return s.data?{data:xy(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Z_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const u=e[s],c=u.url;if(Array.isArray(c)){const h=[];for(let p=0,v=c.length;p<v;p++){const y=c[p],x=await a(y);x!==null&&(x instanceof HTMLImageElement?h.push(x):h.push(new pc(x.data,x.width,x.height)))}r[u.uuid]=new Wp(h)}else{const h=await a(u.url);r[u.uuid]=new Wp(h)}}}return r}parseTextures(e,t){function r(a,s){return typeof a=="number"?a:(Dt("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&Dt('ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&Dt("ObjectLoader: Undefined image",o.image);const u=t[o.image],c=u.data;let h;Array.isArray(c)?(h=new Hw,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new pc:h=new _i,c&&(h.needsUpdate=!0)),h.source=u,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=r(o.mapping,HJ)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=r(o.wrap[0],AB),h.wrapT=r(o.wrap[1],AB)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.minFilter!==void 0&&(h.minFilter=r(o.minFilter,EB)),o.magFilter!==void 0&&(h.magFilter=r(o.magFilter,EB)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),i[o.uuid]=h}return i}parseObject(e,t,r,i,a){let s;function o(v){return t[v]===void 0&&Dt("ObjectLoader: Undefined geometry",v),t[v]}function u(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let x=0,S=v.length;x<S;x++){const w=v[x];r[w]===void 0&&Dt("ObjectLoader: Undefined material",w),y.push(r[w])}return y}return r[v]===void 0&&Dt("ObjectLoader: Undefined material",v),r[v]}}function c(v){return i[v]===void 0&&Dt("ObjectLoader: Undefined texture",v),i[v]}let h,p;switch(e.type){case"Scene":s=new lU,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Ot(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new w3(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new _3(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Fi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Zh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new xj(e.color,e.intensity);break;case"DirectionalLight":s=new bj(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new yj(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new _j(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new vj(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new gj(e.color,e.groundColor,e.intensity);break;case"LightProbe":const v=new TU().fromArray(e.sh);s=new wj(v,e.intensity);break;case"SkinnedMesh":h=o(e.geometry),p=u(e.material),s=new zV(h,p),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),p=u(e.material),s=new li(h,p);break;case"InstancedMesh":h=o(e.geometry),p=u(e.material);const y=e.count,x=e.instanceMatrix,S=e.instanceColor;s=new GV(h,p,y),s.instanceMatrix=new m0(new Float32Array(x.array),16),S!==void 0&&(s.instanceColor=new m0(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":h=o(e.geometry),p=u(e.material),s=new HV(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),s.geometry=h,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(w=>{let A=null,T=null;return w.boundingBox!==void 0&&(A=new Vi().fromJSON(w.boundingBox)),w.boundingSphere!==void 0&&(T=new ra().fromJSON(w.boundingSphere)),{...w,boundingBox:A,boundingSphere:T}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=c(e.matricesTexture.uuid),s._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new ra().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new Vi().fromJSON(e.boundingBox));break;case"LOD":s=new FV;break;case"Line":s=new Jp(o(e.geometry),u(e.material));break;case"LineLoop":s=new VV(o(e.geometry),u(e.material));break;case"LineSegments":s=new kf(o(e.geometry),u(e.material));break;case"PointCloud":case"Points":s=new jV(o(e.geometry),u(e.material));break;case"Sprite":s=new BV(u(e.material));break;case"Group":s=new _y;break;case"Bone":s=new cU;break;default:s=new er}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)s.add(this.parseObject(v[y],t,r,i,a))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const x=v[y];s.animations.push(a[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const x=v[y],S=s.getObjectByProperty("uuid",x.object);S!==void 0&&s.addLevel(S,x.distance,x.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?Dt("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new er}})}}const HJ={UVMapping:l3,CubeReflectionMapping:Nf,CubeRefractionMapping:$p,EquirectangularReflectionMapping:I_,EquirectangularRefractionMapping:L_,CubeUVReflectionMapping:Jb},AB={RepeatWrapping:U_,ClampToEdgeWrapping:$o,MirroredRepeatWrapping:k_},EB={NearestFilter:Hi,NearestMipmapNearestFilter:KL,NearestMipmapLinearFilter:by,LinearFilter:Or,LinearMipmapNearestFilter:y_,LinearMipmapLinearFilter:Af},fR=new WeakMap;class VJ extends el{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Dt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Dt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Ef.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(c=>{if(fR.has(s)===!0)i&&i(fR.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(c),a.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const u=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return Ef.add(`image-bitmap:${e}`,c),t&&t(c),a.manager.itemEnd(e),c}).catch(function(c){i&&i(c),fR.set(u,c),Ef.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Ef.add(`image-bitmap:${e}`,u),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let LE;class CU{static getContext(){return LE===void 0&&(LE=new(window.AudioContext||window.webkitAudioContext)),LE}static setContext(e){LE=e}}class jJ extends el{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new rd(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){try{const c=u.slice(0);CU.getContext().decodeAudioData(c,function(p){t(p)}).catch(o)}catch(c){o(c)}},r,i);function o(u){i?i(u):$t(u),a.manager.itemError(e)}}}const MB=new sn,TB=new sn,tg=new sn;class WJ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Fi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Fi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,tg.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,s=t.near*Math.tan(i0*t.fov*.5)/t.zoom;let o,u;TB.elements[12]=-i,MB.elements[12]=i,o=-s*t.aspect+a,u=s*t.aspect+a,tg.elements[0]=2*t.near/(u-o),tg.elements[8]=(u+o)/(u-o),this.cameraL.projectionMatrix.copy(tg),o=-s*t.aspect-a,u=s*t.aspect-a,tg.elements[0]=2*t.near/(u-o),tg.elements[8]=(u+o)/(u-o),this.cameraR.projectionMatrix.copy(tg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(TB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(MB)}}class Aj extends Fi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class PU{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const ng=new oe,hR=new Rs,qJ=new oe,rg=new oe,ig=new oe;class XJ extends er{constructor(){super(),this.type="AudioListener",this.context=CU.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new PU}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ng,hR,qJ),rg.set(0,0,-1).applyQuaternion(hR),ig.set(0,1,0).applyQuaternion(hR),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ng.x,r),t.positionY.linearRampToValueAtTime(ng.y,r),t.positionZ.linearRampToValueAtTime(ng.z,r),t.forwardX.linearRampToValueAtTime(rg.x,r),t.forwardY.linearRampToValueAtTime(rg.y,r),t.forwardZ.linearRampToValueAtTime(rg.z,r),t.upX.linearRampToValueAtTime(ig.x,r),t.upY.linearRampToValueAtTime(ig.y,r),t.upZ.linearRampToValueAtTime(ig.z,r)}else t.setPosition(ng.x,ng.y,ng.z),t.setOrientation(rg.x,rg.y,rg.z,ig.x,ig.y,ig.z)}}class Ej extends er{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Dt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Dt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Dt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Dt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Dt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Dt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Dt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(Dt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ag=new oe,CB=new Rs,YJ=new oe,sg=new oe;class KJ extends Ej{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ag,CB,YJ),sg.set(0,0,1).applyQuaternion(CB);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ag.x,r),t.positionY.linearRampToValueAtTime(ag.y,r),t.positionZ.linearRampToValueAtTime(ag.z,r),t.orientationX.linearRampToValueAtTime(sg.x,r),t.orientationY.linearRampToValueAtTime(sg.y,r),t.orientationZ.linearRampToValueAtTime(sg.z,r)}else t.setPosition(ag.x,ag.y,ag.z),t.setOrientation(sg.x,sg.y,sg.z)}}class $J{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class Mj{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=t*this._origIndex;this._mixBufferRegion(r,i,u,1-a,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let u=t,c=t+t;u!==c;++u)if(r[u]!==r[u+t]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,s=i;a!==s;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){Rs.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const s=this._workIndex*a;Rs.multiplyQuaternionsFlat(e,s,e,t,e,r),Rs.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,a){const s=1-i;for(let o=0;o!==a;++o){const u=t+o;e[u]=e[u]*s+e[r+o]*i}}_lerpAdditive(e,t,r,i,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[r+s]*i}}}const OU="\\[\\]\\.:\\/",ZJ=new RegExp("["+OU+"]","g"),RU="[^"+OU+"]",QJ="[^"+OU.replace("\\.","")+"]",JJ=/((?:WC+[\/:])*)/.source.replace("WC",RU),eee=/(WCOD+)?/.source.replace("WCOD",QJ),tee=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",RU),nee=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",RU),ree=new RegExp("^"+JJ+eee+tee+nee+"$"),iee=["material","materials","bones","map"];class aee{constructor(e,t,r){const i=r||rr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class rr{constructor(e,t,r){this.path=t,this.parsedPath=r||rr.parseTrackName(t),this.node=rr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new rr.Composite(e,t,r):new rr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ZJ,"")}static parseTrackName(e){const t=ree.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);iee.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const u=r(o.children);if(u)return u}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=rr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Dt("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){$t("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){$t("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){$t("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){$t("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){$t("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){$t("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){$t("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=t.nodeName;$t("PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){$t("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){$t("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}rr.Composite=aee;rr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};rr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};rr.prototype.GetterByBindingType=[rr.prototype._getValue_direct,rr.prototype._getValue_array,rr.prototype._getValue_arrayElement,rr.prototype._getValue_toArray];rr.prototype.SetterByBindingTypeAndVersioning=[[rr.prototype._setValue_direct,rr.prototype._setValue_direct_setNeedsUpdate,rr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[rr.prototype._setValue_array,rr.prototype._setValue_array_setNeedsUpdate,rr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[rr.prototype._setValue_arrayElement,rr.prototype._setValue_arrayElement_setNeedsUpdate,rr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[rr.prototype._setValue_fromArray,rr.prototype._setValue_fromArray_setNeedsUpdate,rr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class see{constructor(){this.isAnimationObjectGroup=!0,this.uuid=El(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length;let o,u=e.length,c=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const v=arguments[h],y=v.uuid;let x=t[y];if(x===void 0){x=u++,t[y]=x,e.push(v);for(let S=0,w=s;S!==w;++S)a[S].push(new rr(v,r[S],i[S]))}else if(x<c){o=e[x];const S=--c,w=e[S];t[w.uuid]=x,e[x]=w,t[y]=S,e[S]=v;for(let A=0,T=s;A!==T;++A){const C=a[A],O=C[S];let R=C[x];C[x]=O,R===void 0&&(R=new rr(v,r[A],i[A])),C[S]=R}}else e[x]!==o&&$t("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const u=arguments[s],c=u.uuid,h=t[c];if(h!==void 0&&h>=a){const p=a++,v=e[p];t[v.uuid]=h,e[h]=v,t[c]=p,e[p]=u;for(let y=0,x=i;y!==x;++y){const S=r[y],w=S[p],A=S[h];S[h]=w,S[p]=A}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,u=arguments.length;o!==u;++o){const c=arguments[o],h=c.uuid,p=t[h];if(p!==void 0)if(delete t[h],p<a){const v=--a,y=e[v],x=--s,S=e[x];t[y.uuid]=p,e[p]=y,t[S.uuid]=v,e[v]=S,e.pop();for(let w=0,A=i;w!==A;++w){const T=r[w],C=T[v],O=T[x];T[p]=C,T[v]=O,T.pop()}}else{const v=--s,y=e[v];v>0&&(t[y.uuid]=p),e[p]=y,e.pop();for(let x=0,S=i;x!==S;++x){const w=r[x];w[p]=w[v],w.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const s=this._paths,o=this._parsedPaths,u=this._objects,c=u.length,h=this.nCachedObjects_,p=new Array(c);i=a.length,r[e]=i,s.push(e),o.push(t),a.push(p);for(let v=h,y=u.length;v!==y;++v){const x=u[v];p[v]=new rr(x,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,u=s[o],c=e[o];t[c]=r,s[r]=u,s.pop(),a[r]=a[o],a.pop(),i[r]=i[o],i.pop()}}}class Tj{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,s=a.length,o=new Array(s),u={endingStart:Cg,endingEnd:Cg};for(let c=0;c!==s;++c){const h=a[c].createInterpolant(null);o[c]=h,h.settings=u}this._interpolantSettings=u,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const u=o.parameterPositions,c=o.sampleValues;return u[0]=a,u[1]=a+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*r;u<0||r===0?t=0:(this._startTime=null,t=r*u)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const u=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case nU:for(let h=0,p=u.length;h!==p;++h)u[h].evaluate(s),c[h].accumulateAdditive(o);break;case m3:default:for(let h=0,p=u.length;h!==p;++h)u[h].evaluate(s),c[h].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const s=r===xV;if(e===0)return a===-1?i:s&&(a&1)===1?t-i:i;if(r===yV){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Pg,i.endingEnd=Pg):(e?i.endingStart=this.zeroSlopeAtStart?Pg:Cg:i.endingStart=F_,t?i.endingEnd=this.zeroSlopeAtEnd?Pg:Cg:i.endingEnd=F_)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,u=s.sampleValues;return o[0]=a,u[0]=t,o[1]=a+e,u[1]=r,this}}const oee=new Float32Array(1);class lee extends Uf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,u=r.uuid,c=this._bindingsByRootAndName;let h=c[u];h===void 0&&(h={},c[u]=h);for(let p=0;p!==a;++p){const v=i[p],y=v.name;let x=h[y];if(x!==void 0)++x.referenceCount,s[p]=x;else{if(x=s[p],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,u,y));continue}const S=t&&t._propertyBindings[p].binding.parsedPath;x=new Mj(rr.create(r,y,S),v.ValueTypeName,v.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,u,y),s[p]=x}o[p].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],u=o.knownActions,c=u[u.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,u[h]=c,u.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,v=(e._localRoot||this._root).uuid;delete p[v],u.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],u=t[t.length-1],c=e._cacheIndex;u._cacheIndex=c,t[c]=u,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new SU(new Float32Array(2),new Float32Array(2),1,oee),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let s=typeof e=="string"?$_.findByName(i,e):e;const o=s!==null?s.uuid:e,u=this._actionsByClip[o];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=m3),u!==void 0){const p=u.actionByRoot[a];if(p!==void 0&&p.blendMode===r)return p;c=u.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const h=new Tj(this,s,t,r);return this._bindAction(h,c),this._addInactiveAction(h,o,a),h}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?$_.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,a,s);const o=this._bindings,u=this._nActiveBindings;for(let c=0;c!==u;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const s=a.knownActions;for(let o=0,u=s.length;o!==u;++o){const c=s[o];this._deactivateAction(c);const h=c._cacheIndex,p=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=h,t[h]=p,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const o=r[s].actionByRoot,u=o[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class uee extends iU{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new b3(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class NU{constructor(e){this.value=e}clone(){return new NU(this.value.clone===void 0?this.value:this.value.clone())}}let cee=0;class fee extends Uf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:cee++}),this.name="",this.usage=G_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const a=Array.isArray(t[r])?t[r]:[t[r]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class VT extends S3{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class hee{constructor(e,t,r,i,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const PB=new sn;class DU{constructor(e,t,r=0,i=1/0){this.ray=new R0(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Rb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):$t("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return PB.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(PB),this}intersectObject(e,t=!0,r=[]){return KD(e,this,r,t),r.sort(OB),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)KD(e[i],this,r,t);return r.sort(OB),r}}function OB(n,e){return n.distance-e.distance}function KD(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const a=n.children;for(let s=0,o=a.length;s<o;s++)KD(a[s],e,t,!0)}}class dee{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=pee.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function pee(){this._document.hidden===!1&&this.reset()}class jT{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=cn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(cn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class mee{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class IU{constructor(e,t,r,i){IU.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=r,a[3]=i,this}}const RB=new st;class gee{constructor(e=new st(1/0,1/0),t=new st(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=RB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,RB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const NB=new oe,UE=new oe,ry=new oe,iy=new oe,dR=new oe,vee=new oe,yee=new oe;class Cj{constructor(e=new oe,t=new oe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){NB.subVectors(e,this.start),UE.subVectors(this.end,this.start);const r=UE.dot(UE);let a=UE.dot(NB)/r;return t&&(a=cn(a,0,1)),a}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=vee,r=yee){const i=10000000000000001e-32;let a,s;const o=this.start,u=e.start,c=this.end,h=e.end;ry.subVectors(c,o),iy.subVectors(h,u),dR.subVectors(o,u);const p=ry.dot(ry),v=iy.dot(iy),y=iy.dot(dR);if(p<=i&&v<=i)return t.copy(o),r.copy(u),t.sub(r),t.dot(t);if(p<=i)a=0,s=y/v,s=cn(s,0,1);else{const x=ry.dot(dR);if(v<=i)s=0,a=cn(-x/p,0,1);else{const S=ry.dot(iy),w=p*v-S*S;w!==0?a=cn((S*y-x*v)/w,0,1):a=0,s=(S*a+y)/v,s<0?(s=0,a=cn(-x/p,0,1)):s>1&&(s=1,a=cn((S-x)/p,0,1))}}return t.copy(o).add(ry.multiplyScalar(a)),r.copy(u).add(iy.multiplyScalar(s)),t.sub(r),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const DB=new oe;class bee extends er{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new dn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,u=32;s<u;s++,o++){const c=s/u*Math.PI*2,h=o/u*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new zt(i,3));const a=new mo({fog:!1,toneMapped:!1});this.cone=new kf(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),DB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(DB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const pp=new oe,kE=new sn,pR=new sn;class xee extends kf{constructor(e){const t=Pj(e),r=new dn,i=[],a=[];for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}r.setAttribute("position",new zt(i,3)),r.setAttribute("color",new zt(a,3));const s=new mo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Ot(255),u=new Ot(65280);this.setColors(o,u)}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");pR.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(kE.multiplyMatrices(pR,o.matrixWorld),pp.setFromMatrixPosition(kE),i.setXYZ(s,pp.x,pp.y,pp.z),kE.multiplyMatrices(pR,o.parent.matrixWorld),pp.setFromMatrixPosition(kE),i.setXYZ(s+1,pp.x,pp.y,pp.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pj(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...Pj(n.children[t]));return e}class _ee extends li{constructor(e,t,r){const i=new qw(t,4,2),a=new md({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const wee=new oe,IB=new Ot,LB=new Ot;class See extends er{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Ww(t);i.rotateY(Math.PI*.5),this.material=new md({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new Yn(s,3)),this.add(new li(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");IB.copy(this.light.color),LB.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const a=r<i/2?IB:LB;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(wee.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Aee extends kf{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ot(r),i=new Ot(i);const a=t/2,s=e/t,o=e/2,u=[],c=[];for(let v=0,y=0,x=-o;v<=t;v++,x+=s){u.push(-o,0,x,o,0,x),u.push(x,0,-o,x,0,o);const S=v===a?r:i;S.toArray(c,y),y+=3,S.toArray(c,y),y+=3,S.toArray(c,y),y+=3,S.toArray(c,y),y+=3}const h=new dn;h.setAttribute("position",new zt(u,3)),h.setAttribute("color",new zt(c,3));const p=new mo({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Eee extends kf{constructor(e=10,t=16,r=8,i=64,a=4473924,s=8947848){a=new Ot(a),s=new Ot(s);const o=[],u=[];if(t>1)for(let p=0;p<t;p++){const v=p/t*(Math.PI*2),y=Math.sin(v)*e,x=Math.cos(v)*e;o.push(0,0,0),o.push(y,0,x);const S=p&1?a:s;u.push(S.r,S.g,S.b),u.push(S.r,S.g,S.b)}for(let p=0;p<r;p++){const v=p&1?a:s,y=e-e/r*p;for(let x=0;x<i;x++){let S=x/i*(Math.PI*2),w=Math.sin(S)*y,A=Math.cos(S)*y;o.push(w,0,A),u.push(v.r,v.g,v.b),S=(x+1)/i*(Math.PI*2),w=Math.sin(S)*y,A=Math.cos(S)*y,o.push(w,0,A),u.push(v.r,v.g,v.b)}}const c=new dn;c.setAttribute("position",new zt(o,3)),c.setAttribute("color",new zt(u,3));const h=new mo({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const UB=new oe,BE=new oe,kB=new oe;class Mee extends er{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new dn;i.setAttribute("position",new zt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new mo({fog:!1,toneMapped:!1});this.lightPlane=new Jp(i,a),this.add(this.lightPlane),i=new dn,i.setAttribute("position",new zt([0,0,0,0,0,1],3)),this.targetLine=new Jp(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),UB.setFromMatrixPosition(this.light.matrixWorld),BE.setFromMatrixPosition(this.light.target.matrixWorld),kB.subVectors(BE,UB),this.lightPlane.lookAt(BE),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(BE),this.targetLine.scale.z=kB.length()}}const FE=new oe,Ci=new x3;class Tee extends kf{constructor(e){const t=new dn,r=new mo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(x,S){u(x),u(S)}function u(x){i.push(0,0,0),a.push(0,0,0),s[x]===void 0&&(s[x]=[]),s[x].push(i.length/3-1)}t.setAttribute("position",new zt(i,3)),t.setAttribute("color",new zt(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Ot(16755200),h=new Ot(16711680),p=new Ot(43775),v=new Ot(16777215),y=new Ot(3355443);this.setColors(c,h,p,v,y)}setColors(e,t,r,i,a){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;let a,s;if(Ci.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===wl)a=-1,s=1;else if(this.camera.coordinateSystem===Cb)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Ui("c",t,e,Ci,0,0,a),Ui("t",t,e,Ci,0,0,s),Ui("n1",t,e,Ci,-r,-i,a),Ui("n2",t,e,Ci,r,-i,a),Ui("n3",t,e,Ci,-r,i,a),Ui("n4",t,e,Ci,r,i,a),Ui("f1",t,e,Ci,-r,-i,s),Ui("f2",t,e,Ci,r,-i,s),Ui("f3",t,e,Ci,-r,i,s),Ui("f4",t,e,Ci,r,i,s),Ui("u1",t,e,Ci,r*.7,i*1.1,a),Ui("u2",t,e,Ci,-r*.7,i*1.1,a),Ui("u3",t,e,Ci,0,i*2,a),Ui("cf1",t,e,Ci,-r,0,s),Ui("cf2",t,e,Ci,r,0,s),Ui("cf3",t,e,Ci,0,-i,s),Ui("cf4",t,e,Ci,0,i,s),Ui("cn1",t,e,Ci,-r,0,a),Ui("cn2",t,e,Ci,r,0,a),Ui("cn3",t,e,Ci,0,-i,a),Ui("cn4",t,e,Ci,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ui(n,e,t,r,i,a,s){FE.set(i,a,s).unproject(r);const o=e[n];if(o!==void 0){const u=t.getAttribute("position");for(let c=0,h=o.length;c<h;c++)u.setXYZ(o[c],FE.x,FE.y,FE.z)}}const zE=new Vi;class Cee extends kf{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new dn;a.setIndex(new Yn(r,1)),a.setAttribute("position",new Yn(i,3)),super(a,new mo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&zE.setFromObject(this.object),zE.isEmpty())return;const e=zE.min,t=zE.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Pee extends kf{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new dn;a.setIndex(new Yn(r,1)),a.setAttribute("position",new zt(i,3)),super(a,new mo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Oee extends Jp{constructor(e,t=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new dn;s.setAttribute("position",new zt(a,3)),s.computeBoundingSphere(),super(s,new mo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new dn;u.setAttribute("position",new zt(o,3)),u.computeBoundingSphere(),this.add(new li(u,new md({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const BB=new oe;let GE,mR;class Ree extends er{constructor(e=new oe(0,0,1),t=new oe(0,0,0),r=1,i=16776960,a=r*.2,s=a*.2){super(),this.type="ArrowHelper",GE===void 0&&(GE=new dn,GE.setAttribute("position",new zt([0,0,0,0,1,0],3)),mR=new jw(.5,1,5,1),mR.translate(0,-.5,0)),this.position.copy(t),this.line=new Jp(GE,new mo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new li(mR,new md({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{BB.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(BB,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Nee extends kf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new dn;i.setAttribute("position",new zt(t,3)),i.setAttribute("color",new zt(r,3));const a=new mo({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new Ot,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Dee{constructor(){this.type="ShapePath",this.color=new Ot,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new HT,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,s){return this.currentPath.bezierCurveTo(e,t,r,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const T=[];for(let C=0,O=A.length;C<O;C++){const R=A[C],D=new a0;D.curves=R.curves,T.push(D)}return T}function r(A,T){const C=T.length;let O=!1;for(let R=C-1,D=0;D<C;R=D++){let I=T[R],F=T[D],L=F.x-I.x,k=F.y-I.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(I=T[D],L=-L,F=T[R],k=-k),A.y<I.y||A.y>F.y)continue;if(A.y===I.y){if(A.x===I.x)return!0}else{const V=k*(A.x-I.x)-L*(A.y-I.y);if(V===0)return!0;if(V<0)continue;O=!O}}else{if(A.y!==I.y)continue;if(F.x<=A.x&&A.x<=I.x||I.x<=A.x&&A.x<=F.x)return!0}}return O}const i=hc.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,u;const c=[];if(a.length===1)return o=a[0],u=new a0,u.curves=o.curves,c.push(u),c;let h=!i(a[0].getPoints());h=e?!h:h;const p=[],v=[];let y=[],x=0,S;v[x]=void 0,y[x]=[];for(let A=0,T=a.length;A<T;A++)o=a[A],S=o.getPoints(),s=i(S),s=e?!s:s,s?(!h&&v[x]&&x++,v[x]={s:new a0,p:S},v[x].s.curves=o.curves,h&&x++,y[x]=[]):y[x].push({h:o,p:S[0]});if(!v[0])return t(a);if(v.length>1){let A=!1,T=0;for(let C=0,O=v.length;C<O;C++)p[C]=[];for(let C=0,O=v.length;C<O;C++){const R=y[C];for(let D=0;D<R.length;D++){const I=R[D];let F=!0;for(let L=0;L<v.length;L++)r(I.p,v[L].p)&&(C!==L&&T++,F?(F=!1,p[L].push(I)):A=!0);F&&p[C].push(I)}}T>0&&A===!1&&(y=p)}let w;for(let A=0,T=v.length;A<T;A++){u=v[A].s,c.push(u),w=y[A];for(let C=0,O=w.length;C<O;C++)u.holes.push(w[C].h)}return c}}class Iee extends Uf{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Dt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Lee(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Uee(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function kee(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function $D(n,e,t,r){const i=Bee(r);switch(t){case eU:return n*e;case h3:return n*e/i.components*i.byteLength;case Gw:return n*e/i.components*i.byteLength;case p0:return n*e*2/i.components*i.byteLength;case d3:return n*e*2/i.components*i.byteLength;case tU:return n*e*3/i.components*i.byteLength;case Os:return n*e*4/i.components*i.byteLength;case p3:return n*e*4/i.components*i.byteLength;case b_:case x_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case __:case w_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case oT:case uT:return Math.max(n,16)*Math.max(e,8)/4;case sT:case lT:return Math.max(n,8)*Math.max(e,8)/2;case cT:case fT:case dT:case pT:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case hT:case mT:case gT:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case vT:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case yT:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case bT:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case xT:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case _T:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case wT:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case ST:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case AT:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case ET:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case MT:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case TT:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case CT:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case PT:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case OT:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case RT:case NT:case DT:return Math.ceil(n/4)*Math.ceil(e/4)*16;case IT:case LT:return Math.ceil(n/4)*Math.ceil(e/4)*8;case UT:case kT:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Bee(n){switch(n){case no:case $L:return{byteLength:1,components:1};case Mb:case ZL:case Df:return{byteLength:2,components:1};case c3:case f3:return{byteLength:2,components:4};case Au:case u3:case ao:return{byteLength:4,components:1};case QL:case JL:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Fee{static contain(e,t){return Lee(e,t)}static cover(e,t){return Uee(e,t)}static fill(e){return kee(e)}static getByteLength(e,t,r,i){return $D(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:O0}}));typeof window<"u"&&(window.__THREE__?Dt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=O0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Oj(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function zee(n){const e=new WeakMap;function t(o,u){const c=o.array,h=o.usage,p=c.byteLength,v=n.createBuffer();n.bindBuffer(u,v),n.bufferData(u,c,h),o.onUploadCallback();let y;if(c instanceof Float32Array)y=n.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)y=n.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?y=n.HALF_FLOAT:y=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)y=n.SHORT;else if(c instanceof Uint32Array)y=n.UNSIGNED_INT;else if(c instanceof Int32Array)y=n.INT;else if(c instanceof Int8Array)y=n.BYTE;else if(c instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:v,type:y,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:p}}function r(o,u,c){const h=u.array,p=u.updateRanges;if(n.bindBuffer(c,o),p.length===0)n.bufferSubData(c,0,h);else{p.sort((y,x)=>y.start-x.start);let v=0;for(let y=1;y<p.length;y++){const x=p[v],S=p[y];S.start<=x.start+x.count+1?x.count=Math.max(x.count,S.start+S.count-x.start):(++v,p[v]=S)}p.length=v+1;for(let y=0,x=p.length;y<x;y++){const S=p[y];n.bufferSubData(c,S.start*h.BYTES_PER_ELEMENT,h,S.start,S.count)}u.clearUpdateRanges()}u.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const u=e.get(o);u&&(n.deleteBuffer(u.buffer),e.delete(o))}function s(o,u){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const h=e.get(o);(!h||h.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,u));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,u),c.version=o.version}}return{get:i,remove:a,update:s}}var Gee=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Hee=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Vee=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,jee=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Wee=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,qee=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Xee=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Yee=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Kee=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,$ee=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Zee=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Qee=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Jee=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,ete=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,tte=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,nte=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,rte=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ite=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ate=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ste=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ote=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,lte=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,ute=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,cte=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,fte=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,hte=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,dte=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,pte=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,mte=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,gte=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,vte="gl_FragColor = linearToOutputTexel( gl_FragColor );",yte=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,bte=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,xte=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,_te=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wte=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ste=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ate=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ete=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Mte=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Tte=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Cte=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Pte=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ote=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Rte=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Nte=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Dte=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Ite=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Lte=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Ute=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kte=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Bte=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Fte=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zte=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Gte=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Hte=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Vte=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,jte=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Wte=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qte=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Xte=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Yte=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Kte=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$te=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zte=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Qte=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Jte=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,ene=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,tne=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,nne=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,rne=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ine=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ane=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,sne=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,one=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lne=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,une=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,cne=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,fne=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,hne=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,dne=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,pne=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mne=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,gne=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vne=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yne=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,bne=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xne=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_ne=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wne=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,Sne=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ane=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ene=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Mne=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Tne=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Cne=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Pne=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,One=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Rne=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Nne=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Dne=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Ine=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Lne=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Une=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Bne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Fne=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const zne=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Gne=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vne=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Wne=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qne=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Xne=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Yne=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Kne=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,$ne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Zne=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qne=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jne=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ere=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,tre=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nre=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rre=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ire=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,are=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sre=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ore=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,lre=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ure=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cre=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fre=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hre=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dre=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pre=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mre=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gre=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vre=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yre=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bre=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Sn={alphahash_fragment:Gee,alphahash_pars_fragment:Hee,alphamap_fragment:Vee,alphamap_pars_fragment:jee,alphatest_fragment:Wee,alphatest_pars_fragment:qee,aomap_fragment:Xee,aomap_pars_fragment:Yee,batching_pars_vertex:Kee,batching_vertex:$ee,begin_vertex:Zee,beginnormal_vertex:Qee,bsdfs:Jee,iridescence_fragment:ete,bumpmap_pars_fragment:tte,clipping_planes_fragment:nte,clipping_planes_pars_fragment:rte,clipping_planes_pars_vertex:ite,clipping_planes_vertex:ate,color_fragment:ste,color_pars_fragment:ote,color_pars_vertex:lte,color_vertex:ute,common:cte,cube_uv_reflection_fragment:fte,defaultnormal_vertex:hte,displacementmap_pars_vertex:dte,displacementmap_vertex:pte,emissivemap_fragment:mte,emissivemap_pars_fragment:gte,colorspace_fragment:vte,colorspace_pars_fragment:yte,envmap_fragment:bte,envmap_common_pars_fragment:xte,envmap_pars_fragment:_te,envmap_pars_vertex:wte,envmap_physical_pars_fragment:Dte,envmap_vertex:Ste,fog_vertex:Ate,fog_pars_vertex:Ete,fog_fragment:Mte,fog_pars_fragment:Tte,gradientmap_pars_fragment:Cte,lightmap_pars_fragment:Pte,lights_lambert_fragment:Ote,lights_lambert_pars_fragment:Rte,lights_pars_begin:Nte,lights_toon_fragment:Ite,lights_toon_pars_fragment:Lte,lights_phong_fragment:Ute,lights_phong_pars_fragment:kte,lights_physical_fragment:Bte,lights_physical_pars_fragment:Fte,lights_fragment_begin:zte,lights_fragment_maps:Gte,lights_fragment_end:Hte,logdepthbuf_fragment:Vte,logdepthbuf_pars_fragment:jte,logdepthbuf_pars_vertex:Wte,logdepthbuf_vertex:qte,map_fragment:Xte,map_pars_fragment:Yte,map_particle_fragment:Kte,map_particle_pars_fragment:$te,metalnessmap_fragment:Zte,metalnessmap_pars_fragment:Qte,morphinstance_vertex:Jte,morphcolor_vertex:ene,morphnormal_vertex:tne,morphtarget_pars_vertex:nne,morphtarget_vertex:rne,normal_fragment_begin:ine,normal_fragment_maps:ane,normal_pars_fragment:sne,normal_pars_vertex:one,normal_vertex:lne,normalmap_pars_fragment:une,clearcoat_normal_fragment_begin:cne,clearcoat_normal_fragment_maps:fne,clearcoat_pars_fragment:hne,iridescence_pars_fragment:dne,opaque_fragment:pne,packing:mne,premultiplied_alpha_fragment:gne,project_vertex:vne,dithering_fragment:yne,dithering_pars_fragment:bne,roughnessmap_fragment:xne,roughnessmap_pars_fragment:_ne,shadowmap_pars_fragment:wne,shadowmap_pars_vertex:Sne,shadowmap_vertex:Ane,shadowmask_pars_fragment:Ene,skinbase_vertex:Mne,skinning_pars_vertex:Tne,skinning_vertex:Cne,skinnormal_vertex:Pne,specularmap_fragment:One,specularmap_pars_fragment:Rne,tonemapping_fragment:Nne,tonemapping_pars_fragment:Dne,transmission_fragment:Ine,transmission_pars_fragment:Lne,uv_pars_fragment:Une,uv_pars_vertex:kne,uv_vertex:Bne,worldpos_vertex:Fne,background_vert:zne,background_frag:Gne,backgroundCube_vert:Hne,backgroundCube_frag:Vne,cube_vert:jne,cube_frag:Wne,depth_vert:qne,depth_frag:Xne,distance_vert:Yne,distance_frag:Kne,equirect_vert:$ne,equirect_frag:Zne,linedashed_vert:Qne,linedashed_frag:Jne,meshbasic_vert:ere,meshbasic_frag:tre,meshlambert_vert:nre,meshlambert_frag:rre,meshmatcap_vert:ire,meshmatcap_frag:are,meshnormal_vert:sre,meshnormal_frag:ore,meshphong_vert:lre,meshphong_frag:ure,meshphysical_vert:cre,meshphysical_frag:fre,meshtoon_vert:hre,meshtoon_frag:dre,points_vert:pre,points_frag:mre,shadow_vert:gre,shadow_frag:vre,sprite_vert:yre,sprite_frag:bre},Nt={common:{diffuse:{value:new Ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new yn},alphaMap:{value:null},alphaMapTransform:{value:new yn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new yn}},envmap:{envMap:{value:null},envMapRotation:{value:new yn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new yn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new yn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new yn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new yn},normalScale:{value:new st(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new yn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new yn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new yn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new yn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new yn},alphaTest:{value:0},uvTransform:{value:new yn}},sprite:{diffuse:{value:new Ot(16777215)},opacity:{value:1},center:{value:new st(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new yn},alphaMap:{value:null},alphaMapTransform:{value:new yn},alphaTest:{value:0}}},sc={basic:{uniforms:Zs([Nt.common,Nt.specularmap,Nt.envmap,Nt.aomap,Nt.lightmap,Nt.fog]),vertexShader:Sn.meshbasic_vert,fragmentShader:Sn.meshbasic_frag},lambert:{uniforms:Zs([Nt.common,Nt.specularmap,Nt.envmap,Nt.aomap,Nt.lightmap,Nt.emissivemap,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.fog,Nt.lights,{emissive:{value:new Ot(0)}}]),vertexShader:Sn.meshlambert_vert,fragmentShader:Sn.meshlambert_frag},phong:{uniforms:Zs([Nt.common,Nt.specularmap,Nt.envmap,Nt.aomap,Nt.lightmap,Nt.emissivemap,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.fog,Nt.lights,{emissive:{value:new Ot(0)},specular:{value:new Ot(1118481)},shininess:{value:30}}]),vertexShader:Sn.meshphong_vert,fragmentShader:Sn.meshphong_frag},standard:{uniforms:Zs([Nt.common,Nt.envmap,Nt.aomap,Nt.lightmap,Nt.emissivemap,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.roughnessmap,Nt.metalnessmap,Nt.fog,Nt.lights,{emissive:{value:new Ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Sn.meshphysical_vert,fragmentShader:Sn.meshphysical_frag},toon:{uniforms:Zs([Nt.common,Nt.aomap,Nt.lightmap,Nt.emissivemap,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.gradientmap,Nt.fog,Nt.lights,{emissive:{value:new Ot(0)}}]),vertexShader:Sn.meshtoon_vert,fragmentShader:Sn.meshtoon_frag},matcap:{uniforms:Zs([Nt.common,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.fog,{matcap:{value:null}}]),vertexShader:Sn.meshmatcap_vert,fragmentShader:Sn.meshmatcap_frag},points:{uniforms:Zs([Nt.points,Nt.fog]),vertexShader:Sn.points_vert,fragmentShader:Sn.points_frag},dashed:{uniforms:Zs([Nt.common,Nt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Sn.linedashed_vert,fragmentShader:Sn.linedashed_frag},depth:{uniforms:Zs([Nt.common,Nt.displacementmap]),vertexShader:Sn.depth_vert,fragmentShader:Sn.depth_frag},normal:{uniforms:Zs([Nt.common,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,{opacity:{value:1}}]),vertexShader:Sn.meshnormal_vert,fragmentShader:Sn.meshnormal_frag},sprite:{uniforms:Zs([Nt.sprite,Nt.fog]),vertexShader:Sn.sprite_vert,fragmentShader:Sn.sprite_frag},background:{uniforms:{uvTransform:{value:new yn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Sn.background_vert,fragmentShader:Sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new yn}},vertexShader:Sn.backgroundCube_vert,fragmentShader:Sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Sn.cube_vert,fragmentShader:Sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Sn.equirect_vert,fragmentShader:Sn.equirect_frag},distance:{uniforms:Zs([Nt.common,Nt.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Sn.distance_vert,fragmentShader:Sn.distance_frag},shadow:{uniforms:Zs([Nt.lights,Nt.fog,{color:{value:new Ot(0)},opacity:{value:1}}]),vertexShader:Sn.shadow_vert,fragmentShader:Sn.shadow_frag}};sc.physical={uniforms:Zs([sc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new yn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new yn},clearcoatNormalScale:{value:new st(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new yn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new yn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new yn},sheen:{value:0},sheenColor:{value:new Ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new yn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new yn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new yn},transmissionSamplerSize:{value:new st},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new yn},attenuationDistance:{value:0},attenuationColor:{value:new Ot(0)},specularColor:{value:new Ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new yn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new yn},anisotropyVector:{value:new st},anisotropyMap:{value:null},anisotropyMapTransform:{value:new yn}}]),vertexShader:Sn.meshphysical_vert,fragmentShader:Sn.meshphysical_frag};const HE={r:0,b:0,g:0},og=new Cl,xre=new sn;function _re(n,e,t,r,i,a,s){const o=new Ot(0);let u=a===!0?0:1,c,h,p=null,v=0,y=null;function x(C){let O=C.isScene===!0?C.background:null;return O&&O.isTexture&&(O=(C.backgroundBlurriness>0?t:e).get(O)),O}function S(C){let O=!1;const R=x(C);R===null?A(o,u):R&&R.isColor&&(A(R,1),O=!0);const D=n.xr.getEnvironmentBlendMode();D==="additive"?r.buffers.color.setClear(0,0,0,1,s):D==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(n.autoClear||O)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function w(C,O){const R=x(O);R&&(R.isCubeTexture||R.mapping===Jb)?(h===void 0&&(h=new li(new N0(1,1,1),new ho({name:"BackgroundCubeMaterial",uniforms:Nb(sc.backgroundCube.uniforms),vertexShader:sc.backgroundCube.vertexShader,fragmentShader:sc.backgroundCube.fragmentShader,side:fo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(D,I,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),og.copy(O.backgroundRotation),og.x*=-1,og.y*=-1,og.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(og.y*=-1,og.z*=-1),h.material.uniforms.envMap.value=R,h.material.uniforms.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=O.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(xre.makeRotationFromEuler(og)),h.material.toneMapped=Xn.getTransfer(R.colorSpace)!==vr,(p!==R||v!==R.version||y!==n.toneMapping)&&(h.material.needsUpdate=!0,p=R,v=R.version,y=n.toneMapping),h.layers.enableAll(),C.unshift(h,h.geometry,h.material,0,0,null)):R&&R.isTexture&&(c===void 0&&(c=new li(new gd(2,2),new ho({name:"BackgroundMaterial",uniforms:Nb(sc.background.uniforms),vertexShader:sc.background.vertexShader,fragmentShader:sc.background.fragmentShader,side:nd,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=R,c.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,c.material.toneMapped=Xn.getTransfer(R.colorSpace)!==vr,R.matrixAutoUpdate===!0&&R.updateMatrix(),c.material.uniforms.uvTransform.value.copy(R.matrix),(p!==R||v!==R.version||y!==n.toneMapping)&&(c.material.needsUpdate=!0,p=R,v=R.version,y=n.toneMapping),c.layers.enableAll(),C.unshift(c,c.geometry,c.material,0,0,null))}function A(C,O){C.getRGB(HE,LV(n)),r.buffers.color.setClear(HE.r,HE.g,HE.b,O,s)}function T(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(C,O=1){o.set(C),u=O,A(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(C){u=C,A(o,u)},render:S,addToRenderList:w,dispose:T}}function wre(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=v(null);let a=i,s=!1;function o(k,V,j,Y,re){let Q=!1;const W=p(Y,j,V);a!==W&&(a=W,c(a.object)),Q=y(k,Y,j,re),Q&&x(k,Y,j,re),re!==null&&e.update(re,n.ELEMENT_ARRAY_BUFFER),(Q||s)&&(s=!1,O(k,V,j,Y),re!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(re).buffer))}function u(){return n.createVertexArray()}function c(k){return n.bindVertexArray(k)}function h(k){return n.deleteVertexArray(k)}function p(k,V,j){const Y=j.wireframe===!0;let re=r[k.id];re===void 0&&(re={},r[k.id]=re);let Q=re[V.id];Q===void 0&&(Q={},re[V.id]=Q);let W=Q[Y];return W===void 0&&(W=v(u()),Q[Y]=W),W}function v(k){const V=[],j=[],Y=[];for(let re=0;re<t;re++)V[re]=0,j[re]=0,Y[re]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:j,attributeDivisors:Y,object:k,attributes:{},index:null}}function y(k,V,j,Y){const re=a.attributes,Q=V.attributes;let W=0;const X=j.getAttributes();for(const se in X)if(X[se].location>=0){const ae=re[se];let B=Q[se];if(B===void 0&&(se==="instanceMatrix"&&k.instanceMatrix&&(B=k.instanceMatrix),se==="instanceColor"&&k.instanceColor&&(B=k.instanceColor)),ae===void 0||ae.attribute!==B||B&&ae.data!==B.data)return!0;W++}return a.attributesNum!==W||a.index!==Y}function x(k,V,j,Y){const re={},Q=V.attributes;let W=0;const X=j.getAttributes();for(const se in X)if(X[se].location>=0){let ae=Q[se];ae===void 0&&(se==="instanceMatrix"&&k.instanceMatrix&&(ae=k.instanceMatrix),se==="instanceColor"&&k.instanceColor&&(ae=k.instanceColor));const B={};B.attribute=ae,ae&&ae.data&&(B.data=ae.data),re[se]=B,W++}a.attributes=re,a.attributesNum=W,a.index=Y}function S(){const k=a.newAttributes;for(let V=0,j=k.length;V<j;V++)k[V]=0}function w(k){A(k,0)}function A(k,V){const j=a.newAttributes,Y=a.enabledAttributes,re=a.attributeDivisors;j[k]=1,Y[k]===0&&(n.enableVertexAttribArray(k),Y[k]=1),re[k]!==V&&(n.vertexAttribDivisor(k,V),re[k]=V)}function T(){const k=a.newAttributes,V=a.enabledAttributes;for(let j=0,Y=V.length;j<Y;j++)V[j]!==k[j]&&(n.disableVertexAttribArray(j),V[j]=0)}function C(k,V,j,Y,re,Q,W){W===!0?n.vertexAttribIPointer(k,V,j,re,Q):n.vertexAttribPointer(k,V,j,Y,re,Q)}function O(k,V,j,Y){S();const re=Y.attributes,Q=j.getAttributes(),W=V.defaultAttributeValues;for(const X in Q){const se=Q[X];if(se.location>=0){let J=re[X];if(J===void 0&&(X==="instanceMatrix"&&k.instanceMatrix&&(J=k.instanceMatrix),X==="instanceColor"&&k.instanceColor&&(J=k.instanceColor)),J!==void 0){const ae=J.normalized,B=J.itemSize,Z=e.get(J);if(Z===void 0)continue;const le=Z.buffer,he=Z.type,ve=Z.bytesPerElement,ue=he===n.INT||he===n.UNSIGNED_INT||J.gpuType===u3;if(J.isInterleavedBufferAttribute){const ce=J.data,Se=ce.stride,me=J.offset;if(ce.isInstancedInterleavedBuffer){for(let Ne=0;Ne<se.locationSize;Ne++)A(se.location+Ne,ce.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let Ne=0;Ne<se.locationSize;Ne++)w(se.location+Ne);n.bindBuffer(n.ARRAY_BUFFER,le);for(let Ne=0;Ne<se.locationSize;Ne++)C(se.location+Ne,B/se.locationSize,he,ae,Se*ve,(me+B/se.locationSize*Ne)*ve,ue)}else{if(J.isInstancedBufferAttribute){for(let ce=0;ce<se.locationSize;ce++)A(se.location+ce,J.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let ce=0;ce<se.locationSize;ce++)w(se.location+ce);n.bindBuffer(n.ARRAY_BUFFER,le);for(let ce=0;ce<se.locationSize;ce++)C(se.location+ce,B/se.locationSize,he,ae,B*ve,B/se.locationSize*ce*ve,ue)}}else if(W!==void 0){const ae=W[X];if(ae!==void 0)switch(ae.length){case 2:n.vertexAttrib2fv(se.location,ae);break;case 3:n.vertexAttrib3fv(se.location,ae);break;case 4:n.vertexAttrib4fv(se.location,ae);break;default:n.vertexAttrib1fv(se.location,ae)}}}}T()}function R(){F();for(const k in r){const V=r[k];for(const j in V){const Y=V[j];for(const re in Y)h(Y[re].object),delete Y[re];delete V[j]}delete r[k]}}function D(k){if(r[k.id]===void 0)return;const V=r[k.id];for(const j in V){const Y=V[j];for(const re in Y)h(Y[re].object),delete Y[re];delete V[j]}delete r[k.id]}function I(k){for(const V in r){const j=r[V];if(j[k.id]===void 0)continue;const Y=j[k.id];for(const re in Y)h(Y[re].object),delete Y[re];delete j[k.id]}}function F(){L(),s=!0,a!==i&&(a=i,c(a.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:F,resetDefaultState:L,dispose:R,releaseStatesOfGeometry:D,releaseStatesOfProgram:I,initAttributes:S,enableAttribute:w,disableUnusedAttributes:T}}function Sre(n,e,t){let r;function i(c){r=c}function a(c,h){n.drawArrays(r,c,h),t.update(h,r,1)}function s(c,h,p){p!==0&&(n.drawArraysInstanced(r,c,h,p),t.update(h,r,p))}function o(c,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,h,0,p);let y=0;for(let x=0;x<p;x++)y+=h[x];t.update(y,r,1)}function u(c,h,p,v){if(p===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<c.length;x++)s(c[x],h[x],v[x]);else{y.multiDrawArraysInstancedWEBGL(r,c,0,h,0,v,0,p);let x=0;for(let S=0;S<p;S++)x+=h[S]*v[S];t.update(x,r,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=u}function Are(n,e,t,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(I){return!(I!==Os&&r.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(I){const F=I===Df&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==no&&r.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==ao&&!F)}function u(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const h=u(c);h!==c&&(Dt("WebGLRenderer:",c,"not supported, using",h,"instead."),c=h);const p=t.logarithmicDepthBuffer===!0,v=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_TEXTURE_SIZE),w=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),A=n.getParameter(n.MAX_VERTEX_ATTRIBS),T=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),C=n.getParameter(n.MAX_VARYING_VECTORS),O=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),R=n.getParameter(n.MAX_SAMPLES),D=n.getParameter(n.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:p,reversedDepthBuffer:v,maxTextures:y,maxVertexTextures:x,maxTextureSize:S,maxCubemapSize:w,maxAttributes:A,maxVertexUniforms:T,maxVaryings:C,maxFragmentUniforms:O,maxSamples:R,samples:D}}function Ere(n){const e=this;let t=null,r=0,i=!1,a=!1;const s=new Ch,o=new yn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,v){const y=p.length!==0||v||r!==0||i;return i=v,r=p.length,y},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(p,v){t=h(p,v,0)},this.setState=function(p,v,y){const x=p.clippingPlanes,S=p.clipIntersection,w=p.clipShadows,A=n.get(p);if(!i||x===null||x.length===0||a&&!w)a?h(null):c();else{const T=a?0:r,C=T*4;let O=A.clippingState||null;u.value=O,O=h(x,v,C,y);for(let R=0;R!==C;++R)O[R]=t[R];A.clippingState=O,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=T}};function c(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,v,y,x){const S=p!==null?p.length:0;let w=null;if(S!==0){if(w=u.value,x!==!0||w===null){const A=y+S*4,T=v.matrixWorldInverse;o.getNormalMatrix(T),(w===null||w.length<A)&&(w=new Float32Array(A));for(let C=0,O=y;C!==S;++C,O+=4)s.copy(p[C]).applyMatrix4(T,o),s.normal.toArray(w,O),w[O+3]=s.constant}u.value=w,u.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,w}}function Mre(n){let e=new WeakMap;function t(s,o){return o===I_?s.mapping=Nf:o===L_&&(s.mapping=$p),s}function r(s){if(s&&s.isTexture){const o=s.mapping;if(o===I_||o===L_)if(e.has(s)){const u=e.get(s).texture;return t(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const c=new oU(u.height);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const u=e.get(o);u!==void 0&&(e.delete(o),u.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const qp=4,FB=[.125,.215,.35,.446,.526,.582],_g=20,Tre=256,q1=new Zh,zB=new Ot;let gR=null,vR=0,yR=0,bR=!1;const Cre=new oe;class ZD{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,r=.1,i=100,a={}){const{size:s=256,position:o=Cre}=a;gR=this._renderer.getRenderTarget(),vR=this._renderer.getActiveCubeFace(),yR=this._renderer.getActiveMipmapLevel(),bR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,r,i,u,o),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=VB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=HB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(gR,vR,yR),this._renderer.xr.enabled=bR,e.scissorTest=!1,ay(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Nf||e.mapping===$p?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),gR=this._renderer.getRenderTarget(),vR=this._renderer.getActiveCubeFace(),yR=this._renderer.getActiveMipmapLevel(),bR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Or,minFilter:Or,generateMipmaps:!1,type:Df,format:Os,colorSpace:Zp,depthBuffer:!1},i=GB(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=GB(e,t,r);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Pre(a)),this._blurMaterial=Rre(a,e,t),this._ggxMaterial=Ore(a,e,t)}return i}_compileMaterial(e){const t=new li(new dn,e);this._renderer.compile(t,q1)}_sceneToCubeUV(e,t,r,i,a){const u=new Fi(90,1,t,r),c=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],p=this._renderer,v=p.autoClear,y=p.toneMapping;p.getClearColor(zB),p.toneMapping=Su,p.autoClear=!1,p.state.buffers.depth.getReversed()&&(p.setRenderTarget(i),p.clearDepth(),p.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new li(new N0,new md({name:"PMREM.Background",side:fo,depthWrite:!1,depthTest:!1})));const S=this._backgroundBox,w=S.material;let A=!1;const T=e.background;T?T.isColor&&(w.color.copy(T),e.background=null,A=!0):(w.color.copy(zB),A=!0);for(let C=0;C<6;C++){const O=C%3;O===0?(u.up.set(0,c[C],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+h[C],a.y,a.z)):O===1?(u.up.set(0,0,c[C]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+h[C],a.z)):(u.up.set(0,c[C],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+h[C]));const R=this._cubeSize;ay(i,O*R,C>2?R:0,R,R),p.setRenderTarget(i),A&&p.render(S,u),p.render(e,u)}p.toneMapping=y,p.autoClear=v,e.background=T}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Nf||e.mapping===$p;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=VB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=HB());const a=i?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const o=a.uniforms;o.envMap.value=e;const u=this._cubeSize;ay(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(s,q1)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=r}_applyGGXFilter(e,t,r){const i=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,o=this._lodMeshes[r];o.material=s;const u=s.uniforms,c=r/(this._lodMeshes.length-1),h=t/(this._lodMeshes.length-1),p=Math.sqrt(c*c-h*h),v=0+c*1.25,y=p*v,{_lodMax:x}=this,S=this._sizeLods[r],w=3*S*(r>x-qp?r-x+qp:0),A=4*(this._cubeSize-S);u.envMap.value=e.texture,u.roughness.value=y,u.mipInt.value=x-t,ay(a,w,A,3*S,2*S),i.setRenderTarget(a),i.render(o,q1),u.envMap.value=a.texture,u.roughness.value=0,u.mipInt.value=x-r,ay(e,w,A,3*S,2*S),i.setRenderTarget(e),i.render(o,q1)}_blur(e,t,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){const u=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&$t("blur direction must be either latitudinal or longitudinal!");const h=3,p=this._lodMeshes[i];p.material=c;const v=c.uniforms,y=this._sizeLods[r]-1,x=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*_g-1),S=a/x,w=isFinite(a)?1+Math.floor(h*S):_g;w>_g&&Dt(`sigmaRadians, ${a}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${_g}`);const A=[];let T=0;for(let I=0;I<_g;++I){const F=I/S,L=Math.exp(-F*F/2);A.push(L),I===0?T+=L:I<w&&(T+=2*L)}for(let I=0;I<A.length;I++)A[I]=A[I]/T;v.envMap.value=e.texture,v.samples.value=w,v.weights.value=A,v.latitudinal.value=s==="latitudinal",o&&(v.poleAxis.value=o);const{_lodMax:C}=this;v.dTheta.value=x,v.mipInt.value=C-r;const O=this._sizeLods[i],R=3*O*(i>C-qp?i-C+qp:0),D=4*(this._cubeSize-O);ay(t,R,D,3*O,2*O),u.setRenderTarget(t),u.render(p,q1)}}function Pre(n){const e=[],t=[],r=[];let i=n;const a=n-qp+1+FB.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);e.push(o);let u=1/o;s>n-qp?u=FB[s-n+qp-1]:s===0&&(u=0),t.push(u);const c=1/(o-2),h=-c,p=1+c,v=[h,h,p,h,p,p,h,h,p,p,h,p],y=6,x=6,S=3,w=2,A=1,T=new Float32Array(S*x*y),C=new Float32Array(w*x*y),O=new Float32Array(A*x*y);for(let D=0;D<y;D++){const I=D%3*2/3-1,F=D>2?0:-1,L=[I,F,0,I+2/3,F,0,I+2/3,F+1,0,I,F,0,I+2/3,F+1,0,I,F+1,0];T.set(L,S*x*D),C.set(v,w*x*D);const k=[D,D,D,D,D,D];O.set(k,A*x*D)}const R=new dn;R.setAttribute("position",new Yn(T,S)),R.setAttribute("uv",new Yn(C,w)),R.setAttribute("faceIndex",new Yn(O,A)),r.push(new li(R,null)),i>qp&&i--}return{lodMeshes:r,sizeLods:e,sigmas:t}}function GB(n,e,t){const r=new Ml(n,e,t);return r.texture.mapping=Jb,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ay(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Ore(n,e,t){return new ho({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Tre,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:j3(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Cf,depthTest:!1,depthWrite:!1})}function Rre(n,e,t){const r=new Float32Array(_g),i=new oe(0,1,0);return new ho({name:"SphericalGaussianBlur",defines:{n:_g,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:j3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Cf,depthTest:!1,depthWrite:!1})}function HB(){return new ho({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:j3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Cf,depthTest:!1,depthWrite:!1})}function VB(){return new ho({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:j3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Cf,depthTest:!1,depthWrite:!1})}function j3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Nre(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const u=o.mapping,c=u===I_||u===L_,h=u===Nf||u===$p;if(c||h){let p=e.get(o);const v=p!==void 0?p.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==v)return t===null&&(t=new ZD(n)),p=c?t.fromEquirectangular(o,p):t.fromCubemap(o,p),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),p.texture;if(p!==void 0)return p.texture;{const y=o.image;return c&&y&&y.height>0||h&&y&&i(y)?(t===null&&(t=new ZD(n)),p=c?t.fromEquirectangular(o):t.fromCubemap(o),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),o.addEventListener("dispose",a),p.texture):null}}}return o}function i(o){let u=0;const c=6;for(let h=0;h<c;h++)o[h]!==void 0&&u++;return u===c}function a(o){const u=o.target;u.removeEventListener("dispose",a);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function Dre(n){const e={};function t(r){if(e[r]!==void 0)return e[r];const i=n.getExtension(r);return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&Pb("WebGLRenderer: "+r+" extension not supported."),i}}}function Ire(n,e,t,r){const i={},a=new WeakMap;function s(p){const v=p.target;v.index!==null&&e.remove(v.index);for(const x in v.attributes)e.remove(v.attributes[x]);v.removeEventListener("dispose",s),delete i[v.id];const y=a.get(v);y&&(e.remove(y),a.delete(v)),r.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function o(p,v){return i[v.id]===!0||(v.addEventListener("dispose",s),i[v.id]=!0,t.memory.geometries++),v}function u(p){const v=p.attributes;for(const y in v)e.update(v[y],n.ARRAY_BUFFER)}function c(p){const v=[],y=p.index,x=p.attributes.position;let S=0;if(y!==null){const T=y.array;S=y.version;for(let C=0,O=T.length;C<O;C+=3){const R=T[C+0],D=T[C+1],I=T[C+2];v.push(R,D,D,I,I,R)}}else if(x!==void 0){const T=x.array;S=x.version;for(let C=0,O=T.length/3-1;C<O;C+=3){const R=C+0,D=C+1,I=C+2;v.push(R,D,D,I,I,R)}}else return;const w=new(OV(v)?sU:aU)(v,1);w.version=S;const A=a.get(p);A&&e.remove(A),a.set(p,w)}function h(p){const v=a.get(p);if(v){const y=p.index;y!==null&&v.version<y.version&&c(p)}else c(p);return a.get(p)}return{get:o,update:u,getWireframeAttribute:h}}function Lre(n,e,t){let r;function i(v){r=v}let a,s;function o(v){a=v.type,s=v.bytesPerElement}function u(v,y){n.drawElements(r,y,a,v*s),t.update(y,r,1)}function c(v,y,x){x!==0&&(n.drawElementsInstanced(r,y,a,v*s,x),t.update(y,r,x))}function h(v,y,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,y,0,a,v,0,x);let w=0;for(let A=0;A<x;A++)w+=y[A];t.update(w,r,1)}function p(v,y,x,S){if(x===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let A=0;A<v.length;A++)c(v[A]/s,y[A],S[A]);else{w.multiDrawElementsInstancedWEBGL(r,y,0,a,v,0,S,0,x);let A=0;for(let T=0;T<x;T++)A+=y[T]*S[T];t.update(A,r,1)}}this.setMode=i,this.setIndex=o,this.render=u,this.renderInstances=c,this.renderMultiDraw=h,this.renderMultiDrawInstances=p}function Ure(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=o*(a/3);break;case n.LINES:t.lines+=o*(a/2);break;case n.LINE_STRIP:t.lines+=o*(a-1);break;case n.LINE_LOOP:t.lines+=o*a;break;case n.POINTS:t.points+=o*a;break;default:$t("WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function kre(n,e,t){const r=new WeakMap,i=new Qn;function a(s,o,u){const c=s.morphTargetInfluences,h=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,p=h!==void 0?h.length:0;let v=r.get(o);if(v===void 0||v.count!==p){let k=function(){F.dispose(),r.delete(o),o.removeEventListener("dispose",k)};var y=k;v!==void 0&&v.texture.dispose();const x=o.morphAttributes.position!==void 0,S=o.morphAttributes.normal!==void 0,w=o.morphAttributes.color!==void 0,A=o.morphAttributes.position||[],T=o.morphAttributes.normal||[],C=o.morphAttributes.color||[];let O=0;x===!0&&(O=1),S===!0&&(O=2),w===!0&&(O=3);let R=o.attributes.position.count*O,D=1;R>e.maxTextureSize&&(D=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const I=new Float32Array(R*D*4*p),F=new y3(I,R,D,p);F.type=ao,F.needsUpdate=!0;const L=O*4;for(let V=0;V<p;V++){const j=A[V],Y=T[V],re=C[V],Q=R*D*4*V;for(let W=0;W<j.count;W++){const X=W*L;x===!0&&(i.fromBufferAttribute(j,W),I[Q+X+0]=i.x,I[Q+X+1]=i.y,I[Q+X+2]=i.z,I[Q+X+3]=0),S===!0&&(i.fromBufferAttribute(Y,W),I[Q+X+4]=i.x,I[Q+X+5]=i.y,I[Q+X+6]=i.z,I[Q+X+7]=0),w===!0&&(i.fromBufferAttribute(re,W),I[Q+X+8]=i.x,I[Q+X+9]=i.y,I[Q+X+10]=i.z,I[Q+X+11]=re.itemSize===4?i.w:1)}}v={count:p,texture:F,size:new st(R,D)},r.set(o,v),o.addEventListener("dispose",k)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let x=0;for(let w=0;w<c.length;w++)x+=c[w];const S=o.morphTargetsRelative?1:1-x;u.getUniforms().setValue(n,"morphTargetBaseInfluence",S),u.getUniforms().setValue(n,"morphTargetInfluences",c)}u.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}return{update:a}}function Bre(n,e,t,r){let i=new WeakMap;function a(u){const c=r.render.frame,h=u.geometry,p=e.get(u,h);if(i.get(p)!==c&&(e.update(p),i.set(p,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",o)===!1&&u.addEventListener("dispose",o),i.get(u)!==c&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),i.set(u,c))),u.isSkinnedMesh){const v=u.skeleton;i.get(v)!==c&&(v.update(),i.set(v,c))}return p}function s(){i=new WeakMap}function o(u){const c=u.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:s}}const Fre={[VL]:"LINEAR_TONE_MAPPING",[jL]:"REINHARD_TONE_MAPPING",[WL]:"CINEON_TONE_MAPPING",[o3]:"ACES_FILMIC_TONE_MAPPING",[XL]:"AGX_TONE_MAPPING",[YL]:"NEUTRAL_TONE_MAPPING",[qL]:"CUSTOM_TONE_MAPPING"};function zre(n,e,t,r,i){const a=new Ml(e,t,{type:n,depthBuffer:r,stencilBuffer:i}),s=new Ml(e,t,{type:Df,depthBuffer:!1,stencilBuffer:!1}),o=new dn;o.setAttribute("position",new zt([-1,3,0,-1,-1,0,3,-1,0],3)),o.setAttribute("uv",new zt([0,2,0,0,2,0],2));const u=new xU({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),c=new li(o,u),h=new Zh(-1,1,1,-1,0,1);let p=null,v=null,y=!1,x,S=null,w=[],A=!1;this.setSize=function(T,C){a.setSize(T,C),s.setSize(T,C);for(let O=0;O<w.length;O++){const R=w[O];R.setSize&&R.setSize(T,C)}},this.setEffects=function(T){w=T,A=w.length>0&&w[0].isRenderPass===!0;const C=a.width,O=a.height;for(let R=0;R<w.length;R++){const D=w[R];D.setSize&&D.setSize(C,O)}},this.begin=function(T,C){if(y||T.toneMapping===Su&&w.length===0)return!1;if(S=C,C!==null){const O=C.width,R=C.height;(a.width!==O||a.height!==R)&&this.setSize(O,R)}return A===!1&&T.setRenderTarget(a),x=T.toneMapping,T.toneMapping=Su,!0},this.hasRenderPass=function(){return A},this.end=function(T,C){T.toneMapping=x,y=!0;let O=a,R=s;for(let D=0;D<w.length;D++){const I=w[D];if(I.enabled!==!1&&(I.render(T,R,O,C),I.needsSwap!==!1)){const F=O;O=R,R=F}}if(p!==T.outputColorSpace||v!==T.toneMapping){p=T.outputColorSpace,v=T.toneMapping,u.defines={},Xn.getTransfer(p)===vr&&(u.defines.SRGB_TRANSFER="");const D=Fre[v];D&&(u.defines[D]=""),u.needsUpdate=!0}u.uniforms.tDiffuse.value=O.texture,T.setRenderTarget(S),T.render(c,h),S=null,y=!1},this.isCompositing=function(){return y},this.dispose=function(){a.dispose(),s.dispose(),o.dispose(),u.dispose()}}const Rj=new _i,QD=new Db(1,1),Nj=new y3,Dj=new b3,Ij=new Hw,jB=[],WB=[],qB=new Float32Array(16),XB=new Float32Array(9),YB=new Float32Array(4);function tx(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=jB[i];if(a===void 0&&(a=new Float32Array(i),jB[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function pa(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ma(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function W3(n,e){let t=WB[e];t===void 0&&(t=new Int32Array(e),WB[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Gre(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Hre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(pa(t,e))return;n.uniform2fv(this.addr,e),ma(t,e)}}function Vre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(pa(t,e))return;n.uniform3fv(this.addr,e),ma(t,e)}}function jre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(pa(t,e))return;n.uniform4fv(this.addr,e),ma(t,e)}}function Wre(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(pa(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ma(t,e)}else{if(pa(t,r))return;YB.set(r),n.uniformMatrix2fv(this.addr,!1,YB),ma(t,r)}}function qre(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(pa(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ma(t,e)}else{if(pa(t,r))return;XB.set(r),n.uniformMatrix3fv(this.addr,!1,XB),ma(t,r)}}function Xre(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(pa(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ma(t,e)}else{if(pa(t,r))return;qB.set(r),n.uniformMatrix4fv(this.addr,!1,qB),ma(t,r)}}function Yre(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Kre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(pa(t,e))return;n.uniform2iv(this.addr,e),ma(t,e)}}function $re(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(pa(t,e))return;n.uniform3iv(this.addr,e),ma(t,e)}}function Zre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(pa(t,e))return;n.uniform4iv(this.addr,e),ma(t,e)}}function Qre(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Jre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(pa(t,e))return;n.uniform2uiv(this.addr,e),ma(t,e)}}function eie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(pa(t,e))return;n.uniform3uiv(this.addr,e),ma(t,e)}}function tie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(pa(t,e))return;n.uniform4uiv(this.addr,e),ma(t,e)}}function nie(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let a;this.type===n.SAMPLER_2D_SHADOW?(QD.compareFunction=t.isReversedDepthBuffer()?v3:g3,a=QD):a=Rj,t.setTexture2D(e||a,i)}function rie(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Dj,i)}function iie(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Ij,i)}function aie(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Nj,i)}function sie(n){switch(n){case 5126:return Gre;case 35664:return Hre;case 35665:return Vre;case 35666:return jre;case 35674:return Wre;case 35675:return qre;case 35676:return Xre;case 5124:case 35670:return Yre;case 35667:case 35671:return Kre;case 35668:case 35672:return $re;case 35669:case 35673:return Zre;case 5125:return Qre;case 36294:return Jre;case 36295:return eie;case 36296:return tie;case 35678:case 36198:case 36298:case 36306:case 35682:return nie;case 35679:case 36299:case 36307:return rie;case 35680:case 36300:case 36308:case 36293:return iie;case 36289:case 36303:case 36311:case 36292:return aie}}function oie(n,e){n.uniform1fv(this.addr,e)}function lie(n,e){const t=tx(e,this.size,2);n.uniform2fv(this.addr,t)}function uie(n,e){const t=tx(e,this.size,3);n.uniform3fv(this.addr,t)}function cie(n,e){const t=tx(e,this.size,4);n.uniform4fv(this.addr,t)}function fie(n,e){const t=tx(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function hie(n,e){const t=tx(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function die(n,e){const t=tx(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function pie(n,e){n.uniform1iv(this.addr,e)}function mie(n,e){n.uniform2iv(this.addr,e)}function gie(n,e){n.uniform3iv(this.addr,e)}function vie(n,e){n.uniform4iv(this.addr,e)}function yie(n,e){n.uniform1uiv(this.addr,e)}function bie(n,e){n.uniform2uiv(this.addr,e)}function xie(n,e){n.uniform3uiv(this.addr,e)}function _ie(n,e){n.uniform4uiv(this.addr,e)}function wie(n,e,t){const r=this.cache,i=e.length,a=W3(t,i);pa(r,a)||(n.uniform1iv(this.addr,a),ma(r,a));let s;this.type===n.SAMPLER_2D_SHADOW?s=QD:s=Rj;for(let o=0;o!==i;++o)t.setTexture2D(e[o]||s,a[o])}function Sie(n,e,t){const r=this.cache,i=e.length,a=W3(t,i);pa(r,a)||(n.uniform1iv(this.addr,a),ma(r,a));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||Dj,a[s])}function Aie(n,e,t){const r=this.cache,i=e.length,a=W3(t,i);pa(r,a)||(n.uniform1iv(this.addr,a),ma(r,a));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||Ij,a[s])}function Eie(n,e,t){const r=this.cache,i=e.length,a=W3(t,i);pa(r,a)||(n.uniform1iv(this.addr,a),ma(r,a));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||Nj,a[s])}function Mie(n){switch(n){case 5126:return oie;case 35664:return lie;case 35665:return uie;case 35666:return cie;case 35674:return fie;case 35675:return hie;case 35676:return die;case 5124:case 35670:return pie;case 35667:case 35671:return mie;case 35668:case 35672:return gie;case 35669:case 35673:return vie;case 5125:return yie;case 36294:return bie;case 36295:return xie;case 36296:return _ie;case 35678:case 36198:case 36298:case 36306:case 35682:return wie;case 35679:case 36299:case 36307:return Sie;case 35680:case 36300:case 36308:case 36293:return Aie;case 36289:case 36303:case 36311:case 36292:return Eie}}class Tie{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=sie(t.type)}}class Cie{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Mie(t.type)}}class Pie{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],r)}}}const xR=/(\w+)(\])?(\[|\.)?/g;function KB(n,e){n.seq.push(e),n.map[e.id]=e}function Oie(n,e,t){const r=n.name,i=r.length;for(xR.lastIndex=0;;){const a=xR.exec(r),s=xR.lastIndex;let o=a[1];const u=a[2]==="]",c=a[3];if(u&&(o=o|0),c===void 0||c==="["&&s+2===i){KB(t,c===void 0?new Tie(o,n,e):new Cie(o,n,e));break}else{let p=t.map[o];p===void 0&&(p=new Pie(o),KB(t,p)),t=p}}}class CM{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<r;++s){const o=e.getActiveUniform(t,s),u=e.getUniformLocation(t,o.name);Oie(o,u,this)}const i=[],a=[];for(const s of this.seq)s.type===e.SAMPLER_2D_SHADOW||s.type===e.SAMPLER_CUBE_SHADOW||s.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(s):a.push(s);i.length>0&&(this.seq=i.concat(a))}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],u=r[o.id];u.needsUpdate!==!1&&o.setValue(e,u.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function $B(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Rie=37297;let Nie=0;function Die(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return r.join(`
`)}const ZB=new yn;function Iie(n){Xn._getMatrix(ZB,Xn.workingColorSpace,n);const e=`mat3( ${ZB.elements.map(t=>t.toFixed(4))} )`;switch(Xn.getTransfer(n)){case z_:return[e,"LinearTransferOETF"];case vr:return[e,"sRGBTransferOETF"];default:return Dt("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function QB(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+a+`

`+Die(n.getShaderSource(e),o)}else return a}function Lie(n,e){const t=Iie(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const Uie={[VL]:"Linear",[jL]:"Reinhard",[WL]:"Cineon",[o3]:"ACESFilmic",[XL]:"AgX",[YL]:"Neutral",[qL]:"Custom"};function kie(n,e){const t=Uie[e];return t===void 0?(Dt("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+n+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const VE=new oe;function Bie(){Xn.getLuminanceCoefficients(VE);const n=VE.x.toFixed(4),e=VE.y.toFixed(4),t=VE.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Fie(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(l_).join(`
`)}function zie(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Gie(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),s=a.name;let o=1;a.type===n.FLOAT_MAT2&&(o=2),a.type===n.FLOAT_MAT3&&(o=3),a.type===n.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function l_(n){return n!==""}function JB(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function eF(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Hie=/^[ \t]*#include +<([\w\d./]+)>/gm;function JD(n){return n.replace(Hie,jie)}const Vie=new Map;function jie(n,e){let t=Sn[e];if(t===void 0){const r=Vie.get(e);if(r!==void 0)t=Sn[r],Dt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return JD(t)}const Wie=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tF(n){return n.replace(Wie,qie)}function qie(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function nF(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Xie={[Oy]:"SHADOWMAP_TYPE_PCF",[Tg]:"SHADOWMAP_TYPE_VSM"};function Yie(n){return Xie[n.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Kie={[Nf]:"ENVMAP_TYPE_CUBE",[$p]:"ENVMAP_TYPE_CUBE",[Jb]:"ENVMAP_TYPE_CUBE_UV"};function $ie(n){return n.envMap===!1?"ENVMAP_TYPE_CUBE":Kie[n.envMapMode]||"ENVMAP_TYPE_CUBE"}const Zie={[$p]:"ENVMAP_MODE_REFRACTION"};function Qie(n){return n.envMap===!1?"ENVMAP_MODE_REFLECTION":Zie[n.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Jie={[zw]:"ENVMAP_BLENDING_MULTIPLY",[mV]:"ENVMAP_BLENDING_MIX",[gV]:"ENVMAP_BLENDING_ADD"};function eae(n){return n.envMap===!1?"ENVMAP_BLENDING_NONE":Jie[n.combine]||"ENVMAP_BLENDING_NONE"}function tae(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function nae(n,e,t,r){const i=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const u=Yie(t),c=$ie(t),h=Qie(t),p=eae(t),v=tae(t),y=Fie(t),x=zie(a),S=i.createProgram();let w,A,T=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(l_).join(`
`),w.length>0&&(w+=`
`),A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(l_).join(`
`),A.length>0&&(A+=`
`)):(w=[nF(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(l_).join(`
`),A=[nF(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Su?"#define TONE_MAPPING":"",t.toneMapping!==Su?Sn.tonemapping_pars_fragment:"",t.toneMapping!==Su?kie("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Sn.colorspace_pars_fragment,Lie("linearToOutputTexel",t.outputColorSpace),Bie(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(l_).join(`
`)),s=JD(s),s=JB(s,t),s=eF(s,t),o=JD(o),o=JB(o,t),o=eF(o,t),s=tF(s),o=tF(o),t.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,w=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,A=["#define varying in",t.glslVersion===VD?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===VD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const C=T+w+s,O=T+A+o,R=$B(i,i.VERTEX_SHADER,C),D=$B(i,i.FRAGMENT_SHADER,O);i.attachShader(S,R),i.attachShader(S,D),t.index0AttributeName!==void 0?i.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function I(V){if(n.debug.checkShaderErrors){const j=i.getProgramInfoLog(S)||"",Y=i.getShaderInfoLog(R)||"",re=i.getShaderInfoLog(D)||"",Q=j.trim(),W=Y.trim(),X=re.trim();let se=!0,J=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(se=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,S,R,D);else{const ae=QB(i,R,"vertex"),B=QB(i,D,"fragment");$t("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+V.name+`
Material Type: `+V.type+`

Program Info Log: `+Q+`
`+ae+`
`+B)}else Q!==""?Dt("WebGLProgram: Program Info Log:",Q):(W===""||X==="")&&(J=!1);J&&(V.diagnostics={runnable:se,programLog:Q,vertexShader:{log:W,prefix:w},fragmentShader:{log:X,prefix:A}})}i.deleteShader(R),i.deleteShader(D),F=new CM(i,S),L=Gie(i,S)}let F;this.getUniforms=function(){return F===void 0&&I(this),F};let L;this.getAttributes=function(){return L===void 0&&I(this),L};let k=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=i.getProgramParameter(S,Rie)),k},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Nie++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=R,this.fragmentShader=D,this}let rae=0;class iae{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new aae(e),t.set(e,r)),r}}class aae{constructor(e){this.id=rae++,this.code=e,this.usedTimes=0}}function sae(n,e,t,r,i,a,s){const o=new Rb,u=new iae,c=new Set,h=[],p=new Map,v=i.logarithmicDepthBuffer;let y=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(L){return c.add(L),L===0?"uv":`uv${L}`}function w(L,k,V,j,Y){const re=j.fog,Q=Y.geometry,W=L.isMeshStandardMaterial?j.environment:null,X=(L.isMeshStandardMaterial?t:e).get(L.envMap||W),se=X&&X.mapping===Jb?X.image.height:null,J=x[L.type];L.precision!==null&&(y=i.getMaxPrecision(L.precision),y!==L.precision&&Dt("WebGLProgram.getParameters:",L.precision,"not supported, using",y,"instead."));const ae=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,B=ae!==void 0?ae.length:0;let Z=0;Q.morphAttributes.position!==void 0&&(Z=1),Q.morphAttributes.normal!==void 0&&(Z=2),Q.morphAttributes.color!==void 0&&(Z=3);let le,he,ve,ue;if(J){const Gt=sc[J];le=Gt.vertexShader,he=Gt.fragmentShader}else le=L.vertexShader,he=L.fragmentShader,u.update(L),ve=u.getVertexShaderID(L),ue=u.getFragmentShaderID(L);const ce=n.getRenderTarget(),Se=n.state.buffers.depth.getReversed(),me=Y.isInstancedMesh===!0,Ne=Y.isBatchedMesh===!0,Be=!!L.map,ye=!!L.matcap,ut=!!X,_e=!!L.aoMap,Le=!!L.lightMap,Ce=!!L.bumpMap,tt=!!L.normalMap,ne=!!L.displacementMap,ft=!!L.emissiveMap,Ze=!!L.metalnessMap,De=!!L.roughnessMap,qe=L.anisotropy>0,$=L.clearcoat>0,H=L.dispersion>0,de=L.iridescence>0,Ue=L.sheen>0,Pe=L.transmission>0,Ee=qe&&!!L.anisotropyMap,ct=$&&!!L.clearcoatMap,ot=$&&!!L.clearcoatNormalMap,bt=$&&!!L.clearcoatRoughnessMap,Mt=de&&!!L.iridescenceMap,Xe=de&&!!L.iridescenceThicknessMap,Qe=Ue&&!!L.sheenColorMap,nt=Ue&&!!L.sheenRoughnessMap,fe=!!L.specularMap,Te=!!L.specularColorMap,vt=!!L.specularIntensityMap,ge=Pe&&!!L.transmissionMap,Ye=Pe&&!!L.thicknessMap,rt=!!L.gradientMap,wt=!!L.alphaMap,it=L.alphaTest>0,Ge=!!L.alphaHash,ht=!!L.extensions;let Ct=Su;L.toneMapped&&(ce===null||ce.isXRRenderTarget===!0)&&(Ct=n.toneMapping);const Tt={shaderID:J,shaderType:L.type,shaderName:L.name,vertexShader:le,fragmentShader:he,defines:L.defines,customVertexShaderID:ve,customFragmentShaderID:ue,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:y,batching:Ne,batchingColor:Ne&&Y._colorsTexture!==null,instancing:me,instancingColor:me&&Y.instanceColor!==null,instancingMorph:me&&Y.morphTexture!==null,outputColorSpace:ce===null?n.outputColorSpace:ce.isXRRenderTarget===!0?ce.texture.colorSpace:Zp,alphaToCoverage:!!L.alphaToCoverage,map:Be,matcap:ye,envMap:ut,envMapMode:ut&&X.mapping,envMapCubeUVHeight:se,aoMap:_e,lightMap:Le,bumpMap:Ce,normalMap:tt,displacementMap:ne,emissiveMap:ft,normalMapObjectSpace:tt&&L.normalMapType===SV,normalMapTangentSpace:tt&&L.normalMapType===sm,metalnessMap:Ze,roughnessMap:De,anisotropy:qe,anisotropyMap:Ee,clearcoat:$,clearcoatMap:ct,clearcoatNormalMap:ot,clearcoatRoughnessMap:bt,dispersion:H,iridescence:de,iridescenceMap:Mt,iridescenceThicknessMap:Xe,sheen:Ue,sheenColorMap:Qe,sheenRoughnessMap:nt,specularMap:fe,specularColorMap:Te,specularIntensityMap:vt,transmission:Pe,transmissionMap:ge,thicknessMap:Ye,gradientMap:rt,opaque:L.transparent===!1&&L.blending===r0&&L.alphaToCoverage===!1,alphaMap:wt,alphaTest:it,alphaHash:Ge,combine:L.combine,mapUv:Be&&S(L.map.channel),aoMapUv:_e&&S(L.aoMap.channel),lightMapUv:Le&&S(L.lightMap.channel),bumpMapUv:Ce&&S(L.bumpMap.channel),normalMapUv:tt&&S(L.normalMap.channel),displacementMapUv:ne&&S(L.displacementMap.channel),emissiveMapUv:ft&&S(L.emissiveMap.channel),metalnessMapUv:Ze&&S(L.metalnessMap.channel),roughnessMapUv:De&&S(L.roughnessMap.channel),anisotropyMapUv:Ee&&S(L.anisotropyMap.channel),clearcoatMapUv:ct&&S(L.clearcoatMap.channel),clearcoatNormalMapUv:ot&&S(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:bt&&S(L.clearcoatRoughnessMap.channel),iridescenceMapUv:Mt&&S(L.iridescenceMap.channel),iridescenceThicknessMapUv:Xe&&S(L.iridescenceThicknessMap.channel),sheenColorMapUv:Qe&&S(L.sheenColorMap.channel),sheenRoughnessMapUv:nt&&S(L.sheenRoughnessMap.channel),specularMapUv:fe&&S(L.specularMap.channel),specularColorMapUv:Te&&S(L.specularColorMap.channel),specularIntensityMapUv:vt&&S(L.specularIntensityMap.channel),transmissionMapUv:ge&&S(L.transmissionMap.channel),thicknessMapUv:Ye&&S(L.thicknessMap.channel),alphaMapUv:wt&&S(L.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(tt||qe),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!Q.attributes.uv&&(Be||wt),fog:!!re,useFog:L.fog===!0,fogExp2:!!re&&re.isFogExp2,flatShading:L.flatShading===!0&&L.wireframe===!1,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:Se,skinning:Y.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:B,morphTextureStride:Z,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&V.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ct,decodeVideoTexture:Be&&L.map.isVideoTexture===!0&&Xn.getTransfer(L.map.colorSpace)===vr,decodeVideoTextureEmissive:ft&&L.emissiveMap.isVideoTexture===!0&&Xn.getTransfer(L.emissiveMap.colorSpace)===vr,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===_u,flipSided:L.side===fo,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:ht&&L.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ht&&L.extensions.multiDraw===!0||Ne)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return Tt.vertexUv1s=c.has(1),Tt.vertexUv2s=c.has(2),Tt.vertexUv3s=c.has(3),c.clear(),Tt}function A(L){const k=[];if(L.shaderID?k.push(L.shaderID):(k.push(L.customVertexShaderID),k.push(L.customFragmentShaderID)),L.defines!==void 0)for(const V in L.defines)k.push(V),k.push(L.defines[V]);return L.isRawShaderMaterial===!1&&(T(k,L),C(k,L),k.push(n.outputColorSpace)),k.push(L.customProgramCacheKey),k.join()}function T(L,k){L.push(k.precision),L.push(k.outputColorSpace),L.push(k.envMapMode),L.push(k.envMapCubeUVHeight),L.push(k.mapUv),L.push(k.alphaMapUv),L.push(k.lightMapUv),L.push(k.aoMapUv),L.push(k.bumpMapUv),L.push(k.normalMapUv),L.push(k.displacementMapUv),L.push(k.emissiveMapUv),L.push(k.metalnessMapUv),L.push(k.roughnessMapUv),L.push(k.anisotropyMapUv),L.push(k.clearcoatMapUv),L.push(k.clearcoatNormalMapUv),L.push(k.clearcoatRoughnessMapUv),L.push(k.iridescenceMapUv),L.push(k.iridescenceThicknessMapUv),L.push(k.sheenColorMapUv),L.push(k.sheenRoughnessMapUv),L.push(k.specularMapUv),L.push(k.specularColorMapUv),L.push(k.specularIntensityMapUv),L.push(k.transmissionMapUv),L.push(k.thicknessMapUv),L.push(k.combine),L.push(k.fogExp2),L.push(k.sizeAttenuation),L.push(k.morphTargetsCount),L.push(k.morphAttributeCount),L.push(k.numDirLights),L.push(k.numPointLights),L.push(k.numSpotLights),L.push(k.numSpotLightMaps),L.push(k.numHemiLights),L.push(k.numRectAreaLights),L.push(k.numDirLightShadows),L.push(k.numPointLightShadows),L.push(k.numSpotLightShadows),L.push(k.numSpotLightShadowsWithMaps),L.push(k.numLightProbes),L.push(k.shadowMapType),L.push(k.toneMapping),L.push(k.numClippingPlanes),L.push(k.numClipIntersection),L.push(k.depthPacking)}function C(L,k){o.disableAll(),k.instancing&&o.enable(0),k.instancingColor&&o.enable(1),k.instancingMorph&&o.enable(2),k.matcap&&o.enable(3),k.envMap&&o.enable(4),k.normalMapObjectSpace&&o.enable(5),k.normalMapTangentSpace&&o.enable(6),k.clearcoat&&o.enable(7),k.iridescence&&o.enable(8),k.alphaTest&&o.enable(9),k.vertexColors&&o.enable(10),k.vertexAlphas&&o.enable(11),k.vertexUv1s&&o.enable(12),k.vertexUv2s&&o.enable(13),k.vertexUv3s&&o.enable(14),k.vertexTangents&&o.enable(15),k.anisotropy&&o.enable(16),k.alphaHash&&o.enable(17),k.batching&&o.enable(18),k.dispersion&&o.enable(19),k.batchingColor&&o.enable(20),k.gradientMap&&o.enable(21),L.push(o.mask),o.disableAll(),k.fog&&o.enable(0),k.useFog&&o.enable(1),k.flatShading&&o.enable(2),k.logarithmicDepthBuffer&&o.enable(3),k.reversedDepthBuffer&&o.enable(4),k.skinning&&o.enable(5),k.morphTargets&&o.enable(6),k.morphNormals&&o.enable(7),k.morphColors&&o.enable(8),k.premultipliedAlpha&&o.enable(9),k.shadowMapEnabled&&o.enable(10),k.doubleSided&&o.enable(11),k.flipSided&&o.enable(12),k.useDepthPacking&&o.enable(13),k.dithering&&o.enable(14),k.transmission&&o.enable(15),k.sheen&&o.enable(16),k.opaque&&o.enable(17),k.pointsUvs&&o.enable(18),k.decodeVideoTexture&&o.enable(19),k.decodeVideoTextureEmissive&&o.enable(20),k.alphaToCoverage&&o.enable(21),L.push(o.mask)}function O(L){const k=x[L.type];let V;if(k){const j=sc[k];V=j_.clone(j.uniforms)}else V=L.uniforms;return V}function R(L,k){let V=p.get(k);return V!==void 0?++V.usedTimes:(V=new nae(n,k,L,a),h.push(V),p.set(k,V)),V}function D(L){if(--L.usedTimes===0){const k=h.indexOf(L);h[k]=h[h.length-1],h.pop(),p.delete(L.cacheKey),L.destroy()}}function I(L){u.remove(L)}function F(){u.dispose()}return{getParameters:w,getProgramCacheKey:A,getUniforms:O,acquireProgram:R,releaseProgram:D,releaseShaderCache:I,programs:h,dispose:F}}function oae(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function r(s){n.delete(s)}function i(s,o,u){n.get(s)[o]=u}function a(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:a}}function lae(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function rF(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function iF(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function s(p,v,y,x,S,w){let A=n[e];return A===void 0?(A={id:p.id,object:p,geometry:v,material:y,groupOrder:x,renderOrder:p.renderOrder,z:S,group:w},n[e]=A):(A.id=p.id,A.object=p,A.geometry=v,A.material=y,A.groupOrder=x,A.renderOrder=p.renderOrder,A.z=S,A.group=w),e++,A}function o(p,v,y,x,S,w){const A=s(p,v,y,x,S,w);y.transmission>0?r.push(A):y.transparent===!0?i.push(A):t.push(A)}function u(p,v,y,x,S,w){const A=s(p,v,y,x,S,w);y.transmission>0?r.unshift(A):y.transparent===!0?i.unshift(A):t.unshift(A)}function c(p,v){t.length>1&&t.sort(p||lae),r.length>1&&r.sort(v||rF),i.length>1&&i.sort(v||rF)}function h(){for(let p=e,v=n.length;p<v;p++){const y=n[p];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:o,unshift:u,finish:h,sort:c}}function uae(){let n=new WeakMap;function e(r,i){const a=n.get(r);let s;return a===void 0?(s=new iF,n.set(r,[s])):i>=a.length?(s=new iF,a.push(s)):s=a[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function cae(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new oe,color:new Ot};break;case"SpotLight":t={position:new oe,direction:new oe,color:new Ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new oe,color:new Ot,distance:0,decay:0};break;case"HemisphereLight":t={direction:new oe,skyColor:new Ot,groundColor:new Ot};break;case"RectAreaLight":t={color:new Ot,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return n[e.id]=t,t}}}function fae(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let hae=0;function dae(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function pae(n){const e=new cae,t=fae(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new oe);const i=new oe,a=new sn,s=new sn;function o(c){let h=0,p=0,v=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let y=0,x=0,S=0,w=0,A=0,T=0,C=0,O=0,R=0,D=0,I=0;c.sort(dae);for(let L=0,k=c.length;L<k;L++){const V=c[L],j=V.color,Y=V.intensity,re=V.distance;let Q=null;if(V.shadow&&V.shadow.map&&(V.shadow.map.texture.format===p0?Q=V.shadow.map.texture:Q=V.shadow.map.depthTexture||V.shadow.map.texture),V.isAmbientLight)h+=j.r*Y,p+=j.g*Y,v+=j.b*Y;else if(V.isLightProbe){for(let W=0;W<9;W++)r.probe[W].addScaledVector(V.sh.coefficients[W],Y);I++}else if(V.isDirectionalLight){const W=e.get(V);if(W.color.copy(V.color).multiplyScalar(V.intensity),V.castShadow){const X=V.shadow,se=t.get(V);se.shadowIntensity=X.intensity,se.shadowBias=X.bias,se.shadowNormalBias=X.normalBias,se.shadowRadius=X.radius,se.shadowMapSize=X.mapSize,r.directionalShadow[y]=se,r.directionalShadowMap[y]=Q,r.directionalShadowMatrix[y]=V.shadow.matrix,T++}r.directional[y]=W,y++}else if(V.isSpotLight){const W=e.get(V);W.position.setFromMatrixPosition(V.matrixWorld),W.color.copy(j).multiplyScalar(Y),W.distance=re,W.coneCos=Math.cos(V.angle),W.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),W.decay=V.decay,r.spot[S]=W;const X=V.shadow;if(V.map&&(r.spotLightMap[R]=V.map,R++,X.updateMatrices(V),V.castShadow&&D++),r.spotLightMatrix[S]=X.matrix,V.castShadow){const se=t.get(V);se.shadowIntensity=X.intensity,se.shadowBias=X.bias,se.shadowNormalBias=X.normalBias,se.shadowRadius=X.radius,se.shadowMapSize=X.mapSize,r.spotShadow[S]=se,r.spotShadowMap[S]=Q,O++}S++}else if(V.isRectAreaLight){const W=e.get(V);W.color.copy(j).multiplyScalar(Y),W.halfWidth.set(V.width*.5,0,0),W.halfHeight.set(0,V.height*.5,0),r.rectArea[w]=W,w++}else if(V.isPointLight){const W=e.get(V);if(W.color.copy(V.color).multiplyScalar(V.intensity),W.distance=V.distance,W.decay=V.decay,V.castShadow){const X=V.shadow,se=t.get(V);se.shadowIntensity=X.intensity,se.shadowBias=X.bias,se.shadowNormalBias=X.normalBias,se.shadowRadius=X.radius,se.shadowMapSize=X.mapSize,se.shadowCameraNear=X.camera.near,se.shadowCameraFar=X.camera.far,r.pointShadow[x]=se,r.pointShadowMap[x]=Q,r.pointShadowMatrix[x]=V.shadow.matrix,C++}r.point[x]=W,x++}else if(V.isHemisphereLight){const W=e.get(V);W.skyColor.copy(V.color).multiplyScalar(Y),W.groundColor.copy(V.groundColor).multiplyScalar(Y),r.hemi[A]=W,A++}}w>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Nt.LTC_FLOAT_1,r.rectAreaLTC2=Nt.LTC_FLOAT_2):(r.rectAreaLTC1=Nt.LTC_HALF_1,r.rectAreaLTC2=Nt.LTC_HALF_2)),r.ambient[0]=h,r.ambient[1]=p,r.ambient[2]=v;const F=r.hash;(F.directionalLength!==y||F.pointLength!==x||F.spotLength!==S||F.rectAreaLength!==w||F.hemiLength!==A||F.numDirectionalShadows!==T||F.numPointShadows!==C||F.numSpotShadows!==O||F.numSpotMaps!==R||F.numLightProbes!==I)&&(r.directional.length=y,r.spot.length=S,r.rectArea.length=w,r.point.length=x,r.hemi.length=A,r.directionalShadow.length=T,r.directionalShadowMap.length=T,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=O,r.spotShadowMap.length=O,r.directionalShadowMatrix.length=T,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=O+R-D,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=D,r.numLightProbes=I,F.directionalLength=y,F.pointLength=x,F.spotLength=S,F.rectAreaLength=w,F.hemiLength=A,F.numDirectionalShadows=T,F.numPointShadows=C,F.numSpotShadows=O,F.numSpotMaps=R,F.numLightProbes=I,r.version=hae++)}function u(c,h){let p=0,v=0,y=0,x=0,S=0;const w=h.matrixWorldInverse;for(let A=0,T=c.length;A<T;A++){const C=c[A];if(C.isDirectionalLight){const O=r.directional[p];O.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),O.direction.sub(i),O.direction.transformDirection(w),p++}else if(C.isSpotLight){const O=r.spot[y];O.position.setFromMatrixPosition(C.matrixWorld),O.position.applyMatrix4(w),O.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),O.direction.sub(i),O.direction.transformDirection(w),y++}else if(C.isRectAreaLight){const O=r.rectArea[x];O.position.setFromMatrixPosition(C.matrixWorld),O.position.applyMatrix4(w),s.identity(),a.copy(C.matrixWorld),a.premultiply(w),s.extractRotation(a),O.halfWidth.set(C.width*.5,0,0),O.halfHeight.set(0,C.height*.5,0),O.halfWidth.applyMatrix4(s),O.halfHeight.applyMatrix4(s),x++}else if(C.isPointLight){const O=r.point[v];O.position.setFromMatrixPosition(C.matrixWorld),O.position.applyMatrix4(w),v++}else if(C.isHemisphereLight){const O=r.hemi[S];O.direction.setFromMatrixPosition(C.matrixWorld),O.direction.transformDirection(w),S++}}}return{setup:o,setupView:u,state:r}}function aF(n){const e=new pae(n),t=[],r=[];function i(h){c.camera=h,t.length=0,r.length=0}function a(h){t.push(h)}function s(h){r.push(h)}function o(){e.setup(t)}function u(h){e.setupView(t,h)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:u,pushLight:a,pushShadow:s}}function mae(n){let e=new WeakMap;function t(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new aF(n),e.set(i,[o])):a>=s.length?(o=new aF(n),s.push(o)):o=s[a],o}function r(){e=new WeakMap}return{get:t,dispose:r}}const gae=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,vae=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,yae=[new oe(1,0,0),new oe(-1,0,0),new oe(0,1,0),new oe(0,-1,0),new oe(0,0,1),new oe(0,0,-1)],bae=[new oe(0,-1,0),new oe(0,-1,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,-1,0),new oe(0,-1,0)],sF=new sn,X1=new oe,_R=new oe;function xae(n,e,t){let r=new ex;const i=new st,a=new st,s=new Qn,o=new z3,u=new G3,c={},h=t.maxTextureSize,p={[nd]:fo,[fo]:nd,[_u]:_u},v=new ho({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new st},radius:{value:4}},vertexShader:gae,fragmentShader:vae}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const x=new dn;x.setAttribute("position",new Yn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new li(x,v),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Oy;let A=this.type;this.render=function(D,I,F){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||D.length===0)return;D.type===v_&&(Dt("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),D.type=Oy);const L=n.getRenderTarget(),k=n.getActiveCubeFace(),V=n.getActiveMipmapLevel(),j=n.state;j.setBlending(Cf),j.buffers.depth.getReversed()===!0?j.buffers.color.setClear(0,0,0,0):j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const Y=A!==this.type;Y&&I.traverse(function(re){re.material&&(Array.isArray(re.material)?re.material.forEach(Q=>Q.needsUpdate=!0):re.material.needsUpdate=!0)});for(let re=0,Q=D.length;re<Q;re++){const W=D[re],X=W.shadow;if(X===void 0){Dt("WebGLShadowMap:",W,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;i.copy(X.mapSize);const se=X.getFrameExtents();if(i.multiply(se),a.copy(X.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(a.x=Math.floor(h/se.x),i.x=a.x*se.x,X.mapSize.x=a.x),i.y>h&&(a.y=Math.floor(h/se.y),i.y=a.y*se.y,X.mapSize.y=a.y)),X.map===null||Y===!0){if(X.map!==null&&(X.map.depthTexture!==null&&(X.map.depthTexture.dispose(),X.map.depthTexture=null),X.map.dispose()),this.type===Tg){if(W.isPointLight){Dt("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}X.map=new Ml(i.x,i.y,{format:p0,type:Df,minFilter:Or,magFilter:Or,generateMipmaps:!1}),X.map.texture.name=W.name+".shadowMap",X.map.depthTexture=new Db(i.x,i.y,ao),X.map.depthTexture.name=W.name+".shadowMapDepth",X.map.depthTexture.format=If,X.map.depthTexture.compareFunction=null,X.map.depthTexture.minFilter=Hi,X.map.depthTexture.magFilter=Hi}else{W.isPointLight?(X.map=new oU(i.x),X.map.depthTexture=new qV(i.x,Au)):(X.map=new Ml(i.x,i.y),X.map.depthTexture=new Db(i.x,i.y,Au)),X.map.depthTexture.name=W.name+".shadowMap",X.map.depthTexture.format=If;const ae=n.state.buffers.depth.getReversed();this.type===Oy?(X.map.depthTexture.compareFunction=ae?v3:g3,X.map.depthTexture.minFilter=Or,X.map.depthTexture.magFilter=Or):(X.map.depthTexture.compareFunction=null,X.map.depthTexture.minFilter=Hi,X.map.depthTexture.magFilter=Hi)}X.camera.updateProjectionMatrix()}const J=X.map.isWebGLCubeRenderTarget?6:1;for(let ae=0;ae<J;ae++){if(X.map.isWebGLCubeRenderTarget)n.setRenderTarget(X.map,ae),n.clear();else{ae===0&&(n.setRenderTarget(X.map),n.clear());const B=X.getViewport(ae);s.set(a.x*B.x,a.y*B.y,a.x*B.z,a.y*B.w),j.viewport(s)}if(W.isPointLight){const B=X.camera,Z=X.matrix,le=W.distance||B.far;le!==B.far&&(B.far=le,B.updateProjectionMatrix()),X1.setFromMatrixPosition(W.matrixWorld),B.position.copy(X1),_R.copy(B.position),_R.add(yae[ae]),B.up.copy(bae[ae]),B.lookAt(_R),B.updateMatrixWorld(),Z.makeTranslation(-X1.x,-X1.y,-X1.z),sF.multiplyMatrices(B.projectionMatrix,B.matrixWorldInverse),X._frustum.setFromProjectionMatrix(sF,B.coordinateSystem,B.reversedDepth)}else X.updateMatrices(W);r=X.getFrustum(),O(I,F,X.camera,W,this.type)}X.isPointLightShadow!==!0&&this.type===Tg&&T(X,F),X.needsUpdate=!1}A=this.type,w.needsUpdate=!1,n.setRenderTarget(L,k,V)};function T(D,I){const F=e.update(S);v.defines.VSM_SAMPLES!==D.blurSamples&&(v.defines.VSM_SAMPLES=D.blurSamples,y.defines.VSM_SAMPLES=D.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),D.mapPass===null&&(D.mapPass=new Ml(i.x,i.y,{format:p0,type:Df})),v.uniforms.shadow_pass.value=D.map.depthTexture,v.uniforms.resolution.value=D.mapSize,v.uniforms.radius.value=D.radius,n.setRenderTarget(D.mapPass),n.clear(),n.renderBufferDirect(I,null,F,v,S,null),y.uniforms.shadow_pass.value=D.mapPass.texture,y.uniforms.resolution.value=D.mapSize,y.uniforms.radius.value=D.radius,n.setRenderTarget(D.map),n.clear(),n.renderBufferDirect(I,null,F,y,S,null)}function C(D,I,F,L){let k=null;const V=F.isPointLight===!0?D.customDistanceMaterial:D.customDepthMaterial;if(V!==void 0)k=V;else if(k=F.isPointLight===!0?u:o,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const j=k.uuid,Y=I.uuid;let re=c[j];re===void 0&&(re={},c[j]=re);let Q=re[Y];Q===void 0&&(Q=k.clone(),re[Y]=Q,I.addEventListener("dispose",R)),k=Q}if(k.visible=I.visible,k.wireframe=I.wireframe,L===Tg?k.side=I.shadowSide!==null?I.shadowSide:I.side:k.side=I.shadowSide!==null?I.shadowSide:p[I.side],k.alphaMap=I.alphaMap,k.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,k.map=I.map,k.clipShadows=I.clipShadows,k.clippingPlanes=I.clippingPlanes,k.clipIntersection=I.clipIntersection,k.displacementMap=I.displacementMap,k.displacementScale=I.displacementScale,k.displacementBias=I.displacementBias,k.wireframeLinewidth=I.wireframeLinewidth,k.linewidth=I.linewidth,F.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const j=n.properties.get(k);j.light=F}return k}function O(D,I,F,L,k){if(D.visible===!1)return;if(D.layers.test(I.layers)&&(D.isMesh||D.isLine||D.isPoints)&&(D.castShadow||D.receiveShadow&&k===Tg)&&(!D.frustumCulled||r.intersectsObject(D))){D.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,D.matrixWorld);const Y=e.update(D),re=D.material;if(Array.isArray(re)){const Q=Y.groups;for(let W=0,X=Q.length;W<X;W++){const se=Q[W],J=re[se.materialIndex];if(J&&J.visible){const ae=C(D,J,L,k);D.onBeforeShadow(n,D,I,F,Y,ae,se),n.renderBufferDirect(F,null,Y,ae,D,se),D.onAfterShadow(n,D,I,F,Y,ae,se)}}}else if(re.visible){const Q=C(D,re,L,k);D.onBeforeShadow(n,D,I,F,Y,Q,null),n.renderBufferDirect(F,null,Y,Q,D,null),D.onAfterShadow(n,D,I,F,Y,Q,null)}}const j=D.children;for(let Y=0,re=j.length;Y<re;Y++)O(j[Y],I,F,L,k)}function R(D){D.target.removeEventListener("dispose",R);for(const F in c){const L=c[F],k=D.target.uuid;k in L&&(L[k].dispose(),delete L[k])}}}const _ae={[JM]:eT,[tT]:iT,[nT]:aT,[d0]:rT,[eT]:JM,[iT]:tT,[aT]:nT,[rT]:d0};function wae(n,e){function t(){let ge=!1;const Ye=new Qn;let rt=null;const wt=new Qn(0,0,0,0);return{setMask:function(it){rt!==it&&!ge&&(n.colorMask(it,it,it,it),rt=it)},setLocked:function(it){ge=it},setClear:function(it,Ge,ht,Ct,Tt){Tt===!0&&(it*=Ct,Ge*=Ct,ht*=Ct),Ye.set(it,Ge,ht,Ct),wt.equals(Ye)===!1&&(n.clearColor(it,Ge,ht,Ct),wt.copy(Ye))},reset:function(){ge=!1,rt=null,wt.set(-1,0,0,0)}}}function r(){let ge=!1,Ye=!1,rt=null,wt=null,it=null;return{setReversed:function(Ge){if(Ye!==Ge){const ht=e.get("EXT_clip_control");Ge?ht.clipControlEXT(ht.LOWER_LEFT_EXT,ht.ZERO_TO_ONE_EXT):ht.clipControlEXT(ht.LOWER_LEFT_EXT,ht.NEGATIVE_ONE_TO_ONE_EXT),Ye=Ge;const Ct=it;it=null,this.setClear(Ct)}},getReversed:function(){return Ye},setTest:function(Ge){Ge?ce(n.DEPTH_TEST):Se(n.DEPTH_TEST)},setMask:function(Ge){rt!==Ge&&!ge&&(n.depthMask(Ge),rt=Ge)},setFunc:function(Ge){if(Ye&&(Ge=_ae[Ge]),wt!==Ge){switch(Ge){case JM:n.depthFunc(n.NEVER);break;case eT:n.depthFunc(n.ALWAYS);break;case tT:n.depthFunc(n.LESS);break;case d0:n.depthFunc(n.LEQUAL);break;case nT:n.depthFunc(n.EQUAL);break;case rT:n.depthFunc(n.GEQUAL);break;case iT:n.depthFunc(n.GREATER);break;case aT:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}wt=Ge}},setLocked:function(Ge){ge=Ge},setClear:function(Ge){it!==Ge&&(Ye&&(Ge=1-Ge),n.clearDepth(Ge),it=Ge)},reset:function(){ge=!1,rt=null,wt=null,it=null,Ye=!1}}}function i(){let ge=!1,Ye=null,rt=null,wt=null,it=null,Ge=null,ht=null,Ct=null,Tt=null;return{setTest:function(Gt){ge||(Gt?ce(n.STENCIL_TEST):Se(n.STENCIL_TEST))},setMask:function(Gt){Ye!==Gt&&!ge&&(n.stencilMask(Gt),Ye=Gt)},setFunc:function(Gt,Mn,kn){(rt!==Gt||wt!==Mn||it!==kn)&&(n.stencilFunc(Gt,Mn,kn),rt=Gt,wt=Mn,it=kn)},setOp:function(Gt,Mn,kn){(Ge!==Gt||ht!==Mn||Ct!==kn)&&(n.stencilOp(Gt,Mn,kn),Ge=Gt,ht=Mn,Ct=kn)},setLocked:function(Gt){ge=Gt},setClear:function(Gt){Tt!==Gt&&(n.clearStencil(Gt),Tt=Gt)},reset:function(){ge=!1,Ye=null,rt=null,wt=null,it=null,Ge=null,ht=null,Ct=null,Tt=null}}}const a=new t,s=new r,o=new i,u=new WeakMap,c=new WeakMap;let h={},p={},v=new WeakMap,y=[],x=null,S=!1,w=null,A=null,T=null,C=null,O=null,R=null,D=null,I=new Ot(0,0,0),F=0,L=!1,k=null,V=null,j=null,Y=null,re=null;const Q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,X=0;const se=n.getParameter(n.VERSION);se.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(se)[1]),W=X>=1):se.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(se)[1]),W=X>=2);let J=null,ae={};const B=n.getParameter(n.SCISSOR_BOX),Z=n.getParameter(n.VIEWPORT),le=new Qn().fromArray(B),he=new Qn().fromArray(Z);function ve(ge,Ye,rt,wt){const it=new Uint8Array(4),Ge=n.createTexture();n.bindTexture(ge,Ge),n.texParameteri(ge,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ge,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let ht=0;ht<rt;ht++)ge===n.TEXTURE_3D||ge===n.TEXTURE_2D_ARRAY?n.texImage3D(Ye,0,n.RGBA,1,1,wt,0,n.RGBA,n.UNSIGNED_BYTE,it):n.texImage2D(Ye+ht,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,it);return Ge}const ue={};ue[n.TEXTURE_2D]=ve(n.TEXTURE_2D,n.TEXTURE_2D,1),ue[n.TEXTURE_CUBE_MAP]=ve(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ue[n.TEXTURE_2D_ARRAY]=ve(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ue[n.TEXTURE_3D]=ve(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),ce(n.DEPTH_TEST),s.setFunc(d0),Ce(!1),tt(BD),ce(n.CULL_FACE),_e(Cf);function ce(ge){h[ge]!==!0&&(n.enable(ge),h[ge]=!0)}function Se(ge){h[ge]!==!1&&(n.disable(ge),h[ge]=!1)}function me(ge,Ye){return p[ge]!==Ye?(n.bindFramebuffer(ge,Ye),p[ge]=Ye,ge===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=Ye),ge===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=Ye),!0):!1}function Ne(ge,Ye){let rt=y,wt=!1;if(ge){rt=v.get(Ye),rt===void 0&&(rt=[],v.set(Ye,rt));const it=ge.textures;if(rt.length!==it.length||rt[0]!==n.COLOR_ATTACHMENT0){for(let Ge=0,ht=it.length;Ge<ht;Ge++)rt[Ge]=n.COLOR_ATTACHMENT0+Ge;rt.length=it.length,wt=!0}}else rt[0]!==n.BACK&&(rt[0]=n.BACK,wt=!0);wt&&n.drawBuffers(rt)}function Be(ge){return x!==ge?(n.useProgram(ge),x=ge,!0):!1}const ye={[Sp]:n.FUNC_ADD,[QH]:n.FUNC_SUBTRACT,[JH]:n.FUNC_REVERSE_SUBTRACT};ye[eV]=n.MIN,ye[tV]=n.MAX;const ut={[nV]:n.ZERO,[rV]:n.ONE,[iV]:n.SRC_COLOR,[ZM]:n.SRC_ALPHA,[cV]:n.SRC_ALPHA_SATURATE,[lV]:n.DST_COLOR,[sV]:n.DST_ALPHA,[aV]:n.ONE_MINUS_SRC_COLOR,[QM]:n.ONE_MINUS_SRC_ALPHA,[uV]:n.ONE_MINUS_DST_COLOR,[oV]:n.ONE_MINUS_DST_ALPHA,[fV]:n.CONSTANT_COLOR,[hV]:n.ONE_MINUS_CONSTANT_COLOR,[dV]:n.CONSTANT_ALPHA,[pV]:n.ONE_MINUS_CONSTANT_ALPHA};function _e(ge,Ye,rt,wt,it,Ge,ht,Ct,Tt,Gt){if(ge===Cf){S===!0&&(Se(n.BLEND),S=!1);return}if(S===!1&&(ce(n.BLEND),S=!0),ge!==ZH){if(ge!==w||Gt!==L){if((A!==Sp||O!==Sp)&&(n.blendEquation(n.FUNC_ADD),A=Sp,O=Sp),Gt)switch(ge){case r0:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case $M:n.blendFunc(n.ONE,n.ONE);break;case FD:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case zD:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:$t("WebGLState: Invalid blending: ",ge);break}else switch(ge){case r0:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case $M:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case FD:$t("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case zD:$t("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:$t("WebGLState: Invalid blending: ",ge);break}T=null,C=null,R=null,D=null,I.set(0,0,0),F=0,w=ge,L=Gt}return}it=it||Ye,Ge=Ge||rt,ht=ht||wt,(Ye!==A||it!==O)&&(n.blendEquationSeparate(ye[Ye],ye[it]),A=Ye,O=it),(rt!==T||wt!==C||Ge!==R||ht!==D)&&(n.blendFuncSeparate(ut[rt],ut[wt],ut[Ge],ut[ht]),T=rt,C=wt,R=Ge,D=ht),(Ct.equals(I)===!1||Tt!==F)&&(n.blendColor(Ct.r,Ct.g,Ct.b,Tt),I.copy(Ct),F=Tt),w=ge,L=!1}function Le(ge,Ye){ge.side===_u?Se(n.CULL_FACE):ce(n.CULL_FACE);let rt=ge.side===fo;Ye&&(rt=!rt),Ce(rt),ge.blending===r0&&ge.transparent===!1?_e(Cf):_e(ge.blending,ge.blendEquation,ge.blendSrc,ge.blendDst,ge.blendEquationAlpha,ge.blendSrcAlpha,ge.blendDstAlpha,ge.blendColor,ge.blendAlpha,ge.premultipliedAlpha),s.setFunc(ge.depthFunc),s.setTest(ge.depthTest),s.setMask(ge.depthWrite),a.setMask(ge.colorWrite);const wt=ge.stencilWrite;o.setTest(wt),wt&&(o.setMask(ge.stencilWriteMask),o.setFunc(ge.stencilFunc,ge.stencilRef,ge.stencilFuncMask),o.setOp(ge.stencilFail,ge.stencilZFail,ge.stencilZPass)),ft(ge.polygonOffset,ge.polygonOffsetFactor,ge.polygonOffsetUnits),ge.alphaToCoverage===!0?ce(n.SAMPLE_ALPHA_TO_COVERAGE):Se(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ce(ge){k!==ge&&(ge?n.frontFace(n.CW):n.frontFace(n.CCW),k=ge)}function tt(ge){ge!==YH?(ce(n.CULL_FACE),ge!==V&&(ge===BD?n.cullFace(n.BACK):ge===KH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Se(n.CULL_FACE),V=ge}function ne(ge){ge!==j&&(W&&n.lineWidth(ge),j=ge)}function ft(ge,Ye,rt){ge?(ce(n.POLYGON_OFFSET_FILL),(Y!==Ye||re!==rt)&&(n.polygonOffset(Ye,rt),Y=Ye,re=rt)):Se(n.POLYGON_OFFSET_FILL)}function Ze(ge){ge?ce(n.SCISSOR_TEST):Se(n.SCISSOR_TEST)}function De(ge){ge===void 0&&(ge=n.TEXTURE0+Q-1),J!==ge&&(n.activeTexture(ge),J=ge)}function qe(ge,Ye,rt){rt===void 0&&(J===null?rt=n.TEXTURE0+Q-1:rt=J);let wt=ae[rt];wt===void 0&&(wt={type:void 0,texture:void 0},ae[rt]=wt),(wt.type!==ge||wt.texture!==Ye)&&(J!==rt&&(n.activeTexture(rt),J=rt),n.bindTexture(ge,Ye||ue[ge]),wt.type=ge,wt.texture=Ye)}function $(){const ge=ae[J];ge!==void 0&&ge.type!==void 0&&(n.bindTexture(ge.type,null),ge.type=void 0,ge.texture=void 0)}function H(){try{n.compressedTexImage2D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function de(){try{n.compressedTexImage3D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function Ue(){try{n.texSubImage2D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function Pe(){try{n.texSubImage3D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function Ee(){try{n.compressedTexSubImage2D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function ct(){try{n.compressedTexSubImage3D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function ot(){try{n.texStorage2D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function bt(){try{n.texStorage3D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function Mt(){try{n.texImage2D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function Xe(){try{n.texImage3D(...arguments)}catch(ge){$t("WebGLState:",ge)}}function Qe(ge){le.equals(ge)===!1&&(n.scissor(ge.x,ge.y,ge.z,ge.w),le.copy(ge))}function nt(ge){he.equals(ge)===!1&&(n.viewport(ge.x,ge.y,ge.z,ge.w),he.copy(ge))}function fe(ge,Ye){let rt=c.get(Ye);rt===void 0&&(rt=new WeakMap,c.set(Ye,rt));let wt=rt.get(ge);wt===void 0&&(wt=n.getUniformBlockIndex(Ye,ge.name),rt.set(ge,wt))}function Te(ge,Ye){const wt=c.get(Ye).get(ge);u.get(Ye)!==wt&&(n.uniformBlockBinding(Ye,wt,ge.__bindingPointIndex),u.set(Ye,wt))}function vt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},J=null,ae={},p={},v=new WeakMap,y=[],x=null,S=!1,w=null,A=null,T=null,C=null,O=null,R=null,D=null,I=new Ot(0,0,0),F=0,L=!1,k=null,V=null,j=null,Y=null,re=null,le.set(0,0,n.canvas.width,n.canvas.height),he.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:ce,disable:Se,bindFramebuffer:me,drawBuffers:Ne,useProgram:Be,setBlending:_e,setMaterial:Le,setFlipSided:Ce,setCullFace:tt,setLineWidth:ne,setPolygonOffset:ft,setScissorTest:Ze,activeTexture:De,bindTexture:qe,unbindTexture:$,compressedTexImage2D:H,compressedTexImage3D:de,texImage2D:Mt,texImage3D:Xe,updateUBOMapping:fe,uniformBlockBinding:Te,texStorage2D:ot,texStorage3D:bt,texSubImage2D:Ue,texSubImage3D:Pe,compressedTexSubImage2D:Ee,compressedTexSubImage3D:ct,scissor:Qe,viewport:nt,reset:vt}}function Sae(n,e,t,r,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new st,h=new WeakMap;let p;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x($,H){return y?new OffscreenCanvas($,H):H_("canvas")}function S($,H,de){let Ue=1;const Pe=qe($);if((Pe.width>de||Pe.height>de)&&(Ue=de/Math.max(Pe.width,Pe.height)),Ue<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const Ee=Math.floor(Ue*Pe.width),ct=Math.floor(Ue*Pe.height);p===void 0&&(p=x(Ee,ct));const ot=H?x(Ee,ct):p;return ot.width=Ee,ot.height=ct,ot.getContext("2d").drawImage($,0,0,Ee,ct),Dt("WebGLRenderer: Texture has been resized from ("+Pe.width+"x"+Pe.height+") to ("+Ee+"x"+ct+")."),ot}else return"data"in $&&Dt("WebGLRenderer: Image in DataTexture is too big ("+Pe.width+"x"+Pe.height+")."),$;return $}function w($){return $.generateMipmaps}function A($){n.generateMipmap($)}function T($){return $.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:$.isWebGL3DRenderTarget?n.TEXTURE_3D:$.isWebGLArrayRenderTarget||$.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C($,H,de,Ue,Pe=!1){if($!==null){if(n[$]!==void 0)return n[$];Dt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let Ee=H;if(H===n.RED&&(de===n.FLOAT&&(Ee=n.R32F),de===n.HALF_FLOAT&&(Ee=n.R16F),de===n.UNSIGNED_BYTE&&(Ee=n.R8)),H===n.RED_INTEGER&&(de===n.UNSIGNED_BYTE&&(Ee=n.R8UI),de===n.UNSIGNED_SHORT&&(Ee=n.R16UI),de===n.UNSIGNED_INT&&(Ee=n.R32UI),de===n.BYTE&&(Ee=n.R8I),de===n.SHORT&&(Ee=n.R16I),de===n.INT&&(Ee=n.R32I)),H===n.RG&&(de===n.FLOAT&&(Ee=n.RG32F),de===n.HALF_FLOAT&&(Ee=n.RG16F),de===n.UNSIGNED_BYTE&&(Ee=n.RG8)),H===n.RG_INTEGER&&(de===n.UNSIGNED_BYTE&&(Ee=n.RG8UI),de===n.UNSIGNED_SHORT&&(Ee=n.RG16UI),de===n.UNSIGNED_INT&&(Ee=n.RG32UI),de===n.BYTE&&(Ee=n.RG8I),de===n.SHORT&&(Ee=n.RG16I),de===n.INT&&(Ee=n.RG32I)),H===n.RGB_INTEGER&&(de===n.UNSIGNED_BYTE&&(Ee=n.RGB8UI),de===n.UNSIGNED_SHORT&&(Ee=n.RGB16UI),de===n.UNSIGNED_INT&&(Ee=n.RGB32UI),de===n.BYTE&&(Ee=n.RGB8I),de===n.SHORT&&(Ee=n.RGB16I),de===n.INT&&(Ee=n.RGB32I)),H===n.RGBA_INTEGER&&(de===n.UNSIGNED_BYTE&&(Ee=n.RGBA8UI),de===n.UNSIGNED_SHORT&&(Ee=n.RGBA16UI),de===n.UNSIGNED_INT&&(Ee=n.RGBA32UI),de===n.BYTE&&(Ee=n.RGBA8I),de===n.SHORT&&(Ee=n.RGBA16I),de===n.INT&&(Ee=n.RGBA32I)),H===n.RGB&&(de===n.UNSIGNED_INT_5_9_9_9_REV&&(Ee=n.RGB9_E5),de===n.UNSIGNED_INT_10F_11F_11F_REV&&(Ee=n.R11F_G11F_B10F)),H===n.RGBA){const ct=Pe?z_:Xn.getTransfer(Ue);de===n.FLOAT&&(Ee=n.RGBA32F),de===n.HALF_FLOAT&&(Ee=n.RGBA16F),de===n.UNSIGNED_BYTE&&(Ee=ct===vr?n.SRGB8_ALPHA8:n.RGBA8),de===n.UNSIGNED_SHORT_4_4_4_4&&(Ee=n.RGBA4),de===n.UNSIGNED_SHORT_5_5_5_1&&(Ee=n.RGB5_A1)}return(Ee===n.R16F||Ee===n.R32F||Ee===n.RG16F||Ee===n.RG32F||Ee===n.RGBA16F||Ee===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ee}function O($,H){let de;return $?H===null||H===Au||H===Tb?de=n.DEPTH24_STENCIL8:H===ao?de=n.DEPTH32F_STENCIL8:H===Mb&&(de=n.DEPTH24_STENCIL8,Dt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===Au||H===Tb?de=n.DEPTH_COMPONENT24:H===ao?de=n.DEPTH_COMPONENT32F:H===Mb&&(de=n.DEPTH_COMPONENT16),de}function R($,H){return w($)===!0||$.isFramebufferTexture&&$.minFilter!==Hi&&$.minFilter!==Or?Math.log2(Math.max(H.width,H.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?H.mipmaps.length:1}function D($){const H=$.target;H.removeEventListener("dispose",D),F(H),H.isVideoTexture&&h.delete(H)}function I($){const H=$.target;H.removeEventListener("dispose",I),k(H)}function F($){const H=r.get($);if(H.__webglInit===void 0)return;const de=$.source,Ue=v.get(de);if(Ue){const Pe=Ue[H.__cacheKey];Pe.usedTimes--,Pe.usedTimes===0&&L($),Object.keys(Ue).length===0&&v.delete(de)}r.remove($)}function L($){const H=r.get($);n.deleteTexture(H.__webglTexture);const de=$.source,Ue=v.get(de);delete Ue[H.__cacheKey],s.memory.textures--}function k($){const H=r.get($);if($.depthTexture&&($.depthTexture.dispose(),r.remove($.depthTexture)),$.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++){if(Array.isArray(H.__webglFramebuffer[Ue]))for(let Pe=0;Pe<H.__webglFramebuffer[Ue].length;Pe++)n.deleteFramebuffer(H.__webglFramebuffer[Ue][Pe]);else n.deleteFramebuffer(H.__webglFramebuffer[Ue]);H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer[Ue])}else{if(Array.isArray(H.__webglFramebuffer))for(let Ue=0;Ue<H.__webglFramebuffer.length;Ue++)n.deleteFramebuffer(H.__webglFramebuffer[Ue]);else n.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&n.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let Ue=0;Ue<H.__webglColorRenderbuffer.length;Ue++)H.__webglColorRenderbuffer[Ue]&&n.deleteRenderbuffer(H.__webglColorRenderbuffer[Ue]);H.__webglDepthRenderbuffer&&n.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const de=$.textures;for(let Ue=0,Pe=de.length;Ue<Pe;Ue++){const Ee=r.get(de[Ue]);Ee.__webglTexture&&(n.deleteTexture(Ee.__webglTexture),s.memory.textures--),r.remove(de[Ue])}r.remove($)}let V=0;function j(){V=0}function Y(){const $=V;return $>=i.maxTextures&&Dt("WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+i.maxTextures),V+=1,$}function re($){const H=[];return H.push($.wrapS),H.push($.wrapT),H.push($.wrapR||0),H.push($.magFilter),H.push($.minFilter),H.push($.anisotropy),H.push($.internalFormat),H.push($.format),H.push($.type),H.push($.generateMipmaps),H.push($.premultiplyAlpha),H.push($.flipY),H.push($.unpackAlignment),H.push($.colorSpace),H.join()}function Q($,H){const de=r.get($);if($.isVideoTexture&&Ze($),$.isRenderTargetTexture===!1&&$.isExternalTexture!==!0&&$.version>0&&de.__version!==$.version){const Ue=$.image;if(Ue===null)Dt("WebGLRenderer: Texture marked for update but no image data found.");else if(Ue.complete===!1)Dt("WebGLRenderer: Texture marked for update but image is incomplete");else{ue(de,$,H);return}}else $.isExternalTexture&&(de.__webglTexture=$.sourceTexture?$.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,de.__webglTexture,n.TEXTURE0+H)}function W($,H){const de=r.get($);if($.isRenderTargetTexture===!1&&$.version>0&&de.__version!==$.version){ue(de,$,H);return}else $.isExternalTexture&&(de.__webglTexture=$.sourceTexture?$.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,de.__webglTexture,n.TEXTURE0+H)}function X($,H){const de=r.get($);if($.isRenderTargetTexture===!1&&$.version>0&&de.__version!==$.version){ue(de,$,H);return}t.bindTexture(n.TEXTURE_3D,de.__webglTexture,n.TEXTURE0+H)}function se($,H){const de=r.get($);if($.isCubeDepthTexture!==!0&&$.version>0&&de.__version!==$.version){ce(de,$,H);return}t.bindTexture(n.TEXTURE_CUBE_MAP,de.__webglTexture,n.TEXTURE0+H)}const J={[U_]:n.REPEAT,[$o]:n.CLAMP_TO_EDGE,[k_]:n.MIRRORED_REPEAT},ae={[Hi]:n.NEAREST,[KL]:n.NEAREST_MIPMAP_NEAREST,[by]:n.NEAREST_MIPMAP_LINEAR,[Or]:n.LINEAR,[y_]:n.LINEAR_MIPMAP_NEAREST,[Af]:n.LINEAR_MIPMAP_LINEAR},B={[AV]:n.NEVER,[PV]:n.ALWAYS,[EV]:n.LESS,[g3]:n.LEQUAL,[MV]:n.EQUAL,[v3]:n.GEQUAL,[TV]:n.GREATER,[CV]:n.NOTEQUAL};function Z($,H){if(H.type===ao&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===Or||H.magFilter===y_||H.magFilter===by||H.magFilter===Af||H.minFilter===Or||H.minFilter===y_||H.minFilter===by||H.minFilter===Af)&&Dt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri($,n.TEXTURE_WRAP_S,J[H.wrapS]),n.texParameteri($,n.TEXTURE_WRAP_T,J[H.wrapT]),($===n.TEXTURE_3D||$===n.TEXTURE_2D_ARRAY)&&n.texParameteri($,n.TEXTURE_WRAP_R,J[H.wrapR]),n.texParameteri($,n.TEXTURE_MAG_FILTER,ae[H.magFilter]),n.texParameteri($,n.TEXTURE_MIN_FILTER,ae[H.minFilter]),H.compareFunction&&(n.texParameteri($,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri($,n.TEXTURE_COMPARE_FUNC,B[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===Hi||H.minFilter!==by&&H.minFilter!==Af||H.type===ao&&e.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||r.get(H).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");n.texParameterf($,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,i.getMaxAnisotropy())),r.get(H).__currentAnisotropy=H.anisotropy}}}function le($,H){let de=!1;$.__webglInit===void 0&&($.__webglInit=!0,H.addEventListener("dispose",D));const Ue=H.source;let Pe=v.get(Ue);Pe===void 0&&(Pe={},v.set(Ue,Pe));const Ee=re(H);if(Ee!==$.__cacheKey){Pe[Ee]===void 0&&(Pe[Ee]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,de=!0),Pe[Ee].usedTimes++;const ct=Pe[$.__cacheKey];ct!==void 0&&(Pe[$.__cacheKey].usedTimes--,ct.usedTimes===0&&L(H)),$.__cacheKey=Ee,$.__webglTexture=Pe[Ee].texture}return de}function he($,H,de){return Math.floor(Math.floor($/de)/H)}function ve($,H,de,Ue){const Ee=$.updateRanges;if(Ee.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,H.width,H.height,de,Ue,H.data);else{Ee.sort((Xe,Qe)=>Xe.start-Qe.start);let ct=0;for(let Xe=1;Xe<Ee.length;Xe++){const Qe=Ee[ct],nt=Ee[Xe],fe=Qe.start+Qe.count,Te=he(nt.start,H.width,4),vt=he(Qe.start,H.width,4);nt.start<=fe+1&&Te===vt&&he(nt.start+nt.count-1,H.width,4)===Te?Qe.count=Math.max(Qe.count,nt.start+nt.count-Qe.start):(++ct,Ee[ct]=nt)}Ee.length=ct+1;const ot=n.getParameter(n.UNPACK_ROW_LENGTH),bt=n.getParameter(n.UNPACK_SKIP_PIXELS),Mt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,H.width);for(let Xe=0,Qe=Ee.length;Xe<Qe;Xe++){const nt=Ee[Xe],fe=Math.floor(nt.start/4),Te=Math.ceil(nt.count/4),vt=fe%H.width,ge=Math.floor(fe/H.width),Ye=Te,rt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,vt),n.pixelStorei(n.UNPACK_SKIP_ROWS,ge),t.texSubImage2D(n.TEXTURE_2D,0,vt,ge,Ye,rt,de,Ue,H.data)}$.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,ot),n.pixelStorei(n.UNPACK_SKIP_PIXELS,bt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Mt)}}function ue($,H,de){let Ue=n.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Ue=n.TEXTURE_2D_ARRAY),H.isData3DTexture&&(Ue=n.TEXTURE_3D);const Pe=le($,H),Ee=H.source;t.bindTexture(Ue,$.__webglTexture,n.TEXTURE0+de);const ct=r.get(Ee);if(Ee.version!==ct.__version||Pe===!0){t.activeTexture(n.TEXTURE0+de);const ot=Xn.getPrimaries(Xn.workingColorSpace),bt=H.colorSpace===Hh?null:Xn.getPrimaries(H.colorSpace),Mt=H.colorSpace===Hh||ot===bt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Mt);let Xe=S(H.image,!1,i.maxTextureSize);Xe=De(H,Xe);const Qe=a.convert(H.format,H.colorSpace),nt=a.convert(H.type);let fe=C(H.internalFormat,Qe,nt,H.colorSpace,H.isVideoTexture);Z(Ue,H);let Te;const vt=H.mipmaps,ge=H.isVideoTexture!==!0,Ye=ct.__version===void 0||Pe===!0,rt=Ee.dataReady,wt=R(H,Xe);if(H.isDepthTexture)fe=O(H.format===jp,H.type),Ye&&(ge?t.texStorage2D(n.TEXTURE_2D,1,fe,Xe.width,Xe.height):t.texImage2D(n.TEXTURE_2D,0,fe,Xe.width,Xe.height,0,Qe,nt,null));else if(H.isDataTexture)if(vt.length>0){ge&&Ye&&t.texStorage2D(n.TEXTURE_2D,wt,fe,vt[0].width,vt[0].height);for(let it=0,Ge=vt.length;it<Ge;it++)Te=vt[it],ge?rt&&t.texSubImage2D(n.TEXTURE_2D,it,0,0,Te.width,Te.height,Qe,nt,Te.data):t.texImage2D(n.TEXTURE_2D,it,fe,Te.width,Te.height,0,Qe,nt,Te.data);H.generateMipmaps=!1}else ge?(Ye&&t.texStorage2D(n.TEXTURE_2D,wt,fe,Xe.width,Xe.height),rt&&ve(H,Xe,Qe,nt)):t.texImage2D(n.TEXTURE_2D,0,fe,Xe.width,Xe.height,0,Qe,nt,Xe.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){ge&&Ye&&t.texStorage3D(n.TEXTURE_2D_ARRAY,wt,fe,vt[0].width,vt[0].height,Xe.depth);for(let it=0,Ge=vt.length;it<Ge;it++)if(Te=vt[it],H.format!==Os)if(Qe!==null)if(ge){if(rt)if(H.layerUpdates.size>0){const ht=$D(Te.width,Te.height,H.format,H.type);for(const Ct of H.layerUpdates){const Tt=Te.data.subarray(Ct*ht/Te.data.BYTES_PER_ELEMENT,(Ct+1)*ht/Te.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,it,0,0,Ct,Te.width,Te.height,1,Qe,Tt)}H.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,it,0,0,0,Te.width,Te.height,Xe.depth,Qe,Te.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,it,fe,Te.width,Te.height,Xe.depth,0,Te.data,0,0);else Dt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ge?rt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,it,0,0,0,Te.width,Te.height,Xe.depth,Qe,nt,Te.data):t.texImage3D(n.TEXTURE_2D_ARRAY,it,fe,Te.width,Te.height,Xe.depth,0,Qe,nt,Te.data)}else{ge&&Ye&&t.texStorage2D(n.TEXTURE_2D,wt,fe,vt[0].width,vt[0].height);for(let it=0,Ge=vt.length;it<Ge;it++)Te=vt[it],H.format!==Os?Qe!==null?ge?rt&&t.compressedTexSubImage2D(n.TEXTURE_2D,it,0,0,Te.width,Te.height,Qe,Te.data):t.compressedTexImage2D(n.TEXTURE_2D,it,fe,Te.width,Te.height,0,Te.data):Dt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ge?rt&&t.texSubImage2D(n.TEXTURE_2D,it,0,0,Te.width,Te.height,Qe,nt,Te.data):t.texImage2D(n.TEXTURE_2D,it,fe,Te.width,Te.height,0,Qe,nt,Te.data)}else if(H.isDataArrayTexture)if(ge){if(Ye&&t.texStorage3D(n.TEXTURE_2D_ARRAY,wt,fe,Xe.width,Xe.height,Xe.depth),rt)if(H.layerUpdates.size>0){const it=$D(Xe.width,Xe.height,H.format,H.type);for(const Ge of H.layerUpdates){const ht=Xe.data.subarray(Ge*it/Xe.data.BYTES_PER_ELEMENT,(Ge+1)*it/Xe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ge,Xe.width,Xe.height,1,Qe,nt,ht)}H.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Xe.width,Xe.height,Xe.depth,Qe,nt,Xe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,fe,Xe.width,Xe.height,Xe.depth,0,Qe,nt,Xe.data);else if(H.isData3DTexture)ge?(Ye&&t.texStorage3D(n.TEXTURE_3D,wt,fe,Xe.width,Xe.height,Xe.depth),rt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Xe.width,Xe.height,Xe.depth,Qe,nt,Xe.data)):t.texImage3D(n.TEXTURE_3D,0,fe,Xe.width,Xe.height,Xe.depth,0,Qe,nt,Xe.data);else if(H.isFramebufferTexture){if(Ye)if(ge)t.texStorage2D(n.TEXTURE_2D,wt,fe,Xe.width,Xe.height);else{let it=Xe.width,Ge=Xe.height;for(let ht=0;ht<wt;ht++)t.texImage2D(n.TEXTURE_2D,ht,fe,it,Ge,0,Qe,nt,null),it>>=1,Ge>>=1}}else if(vt.length>0){if(ge&&Ye){const it=qe(vt[0]);t.texStorage2D(n.TEXTURE_2D,wt,fe,it.width,it.height)}for(let it=0,Ge=vt.length;it<Ge;it++)Te=vt[it],ge?rt&&t.texSubImage2D(n.TEXTURE_2D,it,0,0,Qe,nt,Te):t.texImage2D(n.TEXTURE_2D,it,fe,Qe,nt,Te);H.generateMipmaps=!1}else if(ge){if(Ye){const it=qe(Xe);t.texStorage2D(n.TEXTURE_2D,wt,fe,it.width,it.height)}rt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Qe,nt,Xe)}else t.texImage2D(n.TEXTURE_2D,0,fe,Qe,nt,Xe);w(H)&&A(Ue),ct.__version=Ee.version,H.onUpdate&&H.onUpdate(H)}$.__version=H.version}function ce($,H,de){if(H.image.length!==6)return;const Ue=le($,H),Pe=H.source;t.bindTexture(n.TEXTURE_CUBE_MAP,$.__webglTexture,n.TEXTURE0+de);const Ee=r.get(Pe);if(Pe.version!==Ee.__version||Ue===!0){t.activeTexture(n.TEXTURE0+de);const ct=Xn.getPrimaries(Xn.workingColorSpace),ot=H.colorSpace===Hh?null:Xn.getPrimaries(H.colorSpace),bt=H.colorSpace===Hh||ct===ot?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);const Mt=H.isCompressedTexture||H.image[0].isCompressedTexture,Xe=H.image[0]&&H.image[0].isDataTexture,Qe=[];for(let Ge=0;Ge<6;Ge++)!Mt&&!Xe?Qe[Ge]=S(H.image[Ge],!0,i.maxCubemapSize):Qe[Ge]=Xe?H.image[Ge].image:H.image[Ge],Qe[Ge]=De(H,Qe[Ge]);const nt=Qe[0],fe=a.convert(H.format,H.colorSpace),Te=a.convert(H.type),vt=C(H.internalFormat,fe,Te,H.colorSpace),ge=H.isVideoTexture!==!0,Ye=Ee.__version===void 0||Ue===!0,rt=Pe.dataReady;let wt=R(H,nt);Z(n.TEXTURE_CUBE_MAP,H);let it;if(Mt){ge&&Ye&&t.texStorage2D(n.TEXTURE_CUBE_MAP,wt,vt,nt.width,nt.height);for(let Ge=0;Ge<6;Ge++){it=Qe[Ge].mipmaps;for(let ht=0;ht<it.length;ht++){const Ct=it[ht];H.format!==Os?fe!==null?ge?rt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ht,0,0,Ct.width,Ct.height,fe,Ct.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ht,vt,Ct.width,Ct.height,0,Ct.data):Dt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ge?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ht,0,0,Ct.width,Ct.height,fe,Te,Ct.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ht,vt,Ct.width,Ct.height,0,fe,Te,Ct.data)}}}else{if(it=H.mipmaps,ge&&Ye){it.length>0&&wt++;const Ge=qe(Qe[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,wt,vt,Ge.width,Ge.height)}for(let Ge=0;Ge<6;Ge++)if(Xe){ge?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,Qe[Ge].width,Qe[Ge].height,fe,Te,Qe[Ge].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,vt,Qe[Ge].width,Qe[Ge].height,0,fe,Te,Qe[Ge].data);for(let ht=0;ht<it.length;ht++){const Tt=it[ht].image[Ge].image;ge?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ht+1,0,0,Tt.width,Tt.height,fe,Te,Tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ht+1,vt,Tt.width,Tt.height,0,fe,Te,Tt.data)}}else{ge?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,fe,Te,Qe[Ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,vt,fe,Te,Qe[Ge]);for(let ht=0;ht<it.length;ht++){const Ct=it[ht];ge?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ht+1,0,0,fe,Te,Ct.image[Ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ht+1,vt,fe,Te,Ct.image[Ge])}}}w(H)&&A(n.TEXTURE_CUBE_MAP),Ee.__version=Pe.version,H.onUpdate&&H.onUpdate(H)}$.__version=H.version}function Se($,H,de,Ue,Pe,Ee){const ct=a.convert(de.format,de.colorSpace),ot=a.convert(de.type),bt=C(de.internalFormat,ct,ot,de.colorSpace),Mt=r.get(H),Xe=r.get(de);if(Xe.__renderTarget=H,!Mt.__hasExternalTextures){const Qe=Math.max(1,H.width>>Ee),nt=Math.max(1,H.height>>Ee);Pe===n.TEXTURE_3D||Pe===n.TEXTURE_2D_ARRAY?t.texImage3D(Pe,Ee,bt,Qe,nt,H.depth,0,ct,ot,null):t.texImage2D(Pe,Ee,bt,Qe,nt,0,ct,ot,null)}t.bindFramebuffer(n.FRAMEBUFFER,$),ft(H)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ue,Pe,Xe.__webglTexture,0,ne(H)):(Pe===n.TEXTURE_2D||Pe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Pe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ue,Pe,Xe.__webglTexture,Ee),t.bindFramebuffer(n.FRAMEBUFFER,null)}function me($,H,de){if(n.bindRenderbuffer(n.RENDERBUFFER,$),H.depthBuffer){const Ue=H.depthTexture,Pe=Ue&&Ue.isDepthTexture?Ue.type:null,Ee=O(H.stencilBuffer,Pe),ct=H.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;ft(H)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ne(H),Ee,H.width,H.height):de?n.renderbufferStorageMultisample(n.RENDERBUFFER,ne(H),Ee,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,Ee,H.width,H.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ct,n.RENDERBUFFER,$)}else{const Ue=H.textures;for(let Pe=0;Pe<Ue.length;Pe++){const Ee=Ue[Pe],ct=a.convert(Ee.format,Ee.colorSpace),ot=a.convert(Ee.type),bt=C(Ee.internalFormat,ct,ot,Ee.colorSpace);ft(H)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ne(H),bt,H.width,H.height):de?n.renderbufferStorageMultisample(n.RENDERBUFFER,ne(H),bt,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,bt,H.width,H.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ne($,H,de){const Ue=H.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(n.FRAMEBUFFER,$),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Pe=r.get(H.depthTexture);if(Pe.__renderTarget=H,(!Pe.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),Ue){if(Pe.__webglInit===void 0&&(Pe.__webglInit=!0,H.depthTexture.addEventListener("dispose",D)),Pe.__webglTexture===void 0){Pe.__webglTexture=n.createTexture(),t.bindTexture(n.TEXTURE_CUBE_MAP,Pe.__webglTexture),Z(n.TEXTURE_CUBE_MAP,H.depthTexture);const Mt=a.convert(H.depthTexture.format),Xe=a.convert(H.depthTexture.type);let Qe;H.depthTexture.format===If?Qe=n.DEPTH_COMPONENT24:H.depthTexture.format===jp&&(Qe=n.DEPTH24_STENCIL8);for(let nt=0;nt<6;nt++)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,Qe,H.width,H.height,0,Mt,Xe,null)}}else Q(H.depthTexture,0);const Ee=Pe.__webglTexture,ct=ne(H),ot=Ue?n.TEXTURE_CUBE_MAP_POSITIVE_X+de:n.TEXTURE_2D,bt=H.depthTexture.format===jp?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;if(H.depthTexture.format===If)ft(H)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,bt,ot,Ee,0,ct):n.framebufferTexture2D(n.FRAMEBUFFER,bt,ot,Ee,0);else if(H.depthTexture.format===jp)ft(H)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,bt,ot,Ee,0,ct):n.framebufferTexture2D(n.FRAMEBUFFER,bt,ot,Ee,0);else throw new Error("Unknown depthTexture format")}function Be($){const H=r.get($),de=$.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==$.depthTexture){const Ue=$.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),Ue){const Pe=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,Ue.removeEventListener("dispose",Pe)};Ue.addEventListener("dispose",Pe),H.__depthDisposeCallback=Pe}H.__boundDepthTexture=Ue}if($.depthTexture&&!H.__autoAllocateDepthBuffer)if(de)for(let Ue=0;Ue<6;Ue++)Ne(H.__webglFramebuffer[Ue],$,Ue);else{const Ue=$.texture.mipmaps;Ue&&Ue.length>0?Ne(H.__webglFramebuffer[0],$,0):Ne(H.__webglFramebuffer,$,0)}else if(de){H.__webglDepthbuffer=[];for(let Ue=0;Ue<6;Ue++)if(t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[Ue]),H.__webglDepthbuffer[Ue]===void 0)H.__webglDepthbuffer[Ue]=n.createRenderbuffer(),me(H.__webglDepthbuffer[Ue],$,!1);else{const Pe=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ee=H.__webglDepthbuffer[Ue];n.bindRenderbuffer(n.RENDERBUFFER,Ee),n.framebufferRenderbuffer(n.FRAMEBUFFER,Pe,n.RENDERBUFFER,Ee)}}else{const Ue=$.texture.mipmaps;if(Ue&&Ue.length>0?t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=n.createRenderbuffer(),me(H.__webglDepthbuffer,$,!1);else{const Pe=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ee=H.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ee),n.framebufferRenderbuffer(n.FRAMEBUFFER,Pe,n.RENDERBUFFER,Ee)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ye($,H,de){const Ue=r.get($);H!==void 0&&Se(Ue.__webglFramebuffer,$,$.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),de!==void 0&&Be($)}function ut($){const H=$.texture,de=r.get($),Ue=r.get(H);$.addEventListener("dispose",I);const Pe=$.textures,Ee=$.isWebGLCubeRenderTarget===!0,ct=Pe.length>1;if(ct||(Ue.__webglTexture===void 0&&(Ue.__webglTexture=n.createTexture()),Ue.__version=H.version,s.memory.textures++),Ee){de.__webglFramebuffer=[];for(let ot=0;ot<6;ot++)if(H.mipmaps&&H.mipmaps.length>0){de.__webglFramebuffer[ot]=[];for(let bt=0;bt<H.mipmaps.length;bt++)de.__webglFramebuffer[ot][bt]=n.createFramebuffer()}else de.__webglFramebuffer[ot]=n.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){de.__webglFramebuffer=[];for(let ot=0;ot<H.mipmaps.length;ot++)de.__webglFramebuffer[ot]=n.createFramebuffer()}else de.__webglFramebuffer=n.createFramebuffer();if(ct)for(let ot=0,bt=Pe.length;ot<bt;ot++){const Mt=r.get(Pe[ot]);Mt.__webglTexture===void 0&&(Mt.__webglTexture=n.createTexture(),s.memory.textures++)}if($.samples>0&&ft($)===!1){de.__webglMultisampledFramebuffer=n.createFramebuffer(),de.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let ot=0;ot<Pe.length;ot++){const bt=Pe[ot];de.__webglColorRenderbuffer[ot]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,de.__webglColorRenderbuffer[ot]);const Mt=a.convert(bt.format,bt.colorSpace),Xe=a.convert(bt.type),Qe=C(bt.internalFormat,Mt,Xe,bt.colorSpace,$.isXRRenderTarget===!0),nt=ne($);n.renderbufferStorageMultisample(n.RENDERBUFFER,nt,Qe,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,de.__webglColorRenderbuffer[ot])}n.bindRenderbuffer(n.RENDERBUFFER,null),$.depthBuffer&&(de.__webglDepthRenderbuffer=n.createRenderbuffer(),me(de.__webglDepthRenderbuffer,$,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ee){t.bindTexture(n.TEXTURE_CUBE_MAP,Ue.__webglTexture),Z(n.TEXTURE_CUBE_MAP,H);for(let ot=0;ot<6;ot++)if(H.mipmaps&&H.mipmaps.length>0)for(let bt=0;bt<H.mipmaps.length;bt++)Se(de.__webglFramebuffer[ot][bt],$,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,bt);else Se(de.__webglFramebuffer[ot],$,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0);w(H)&&A(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let ot=0,bt=Pe.length;ot<bt;ot++){const Mt=Pe[ot],Xe=r.get(Mt);let Qe=n.TEXTURE_2D;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(Qe=$.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Qe,Xe.__webglTexture),Z(Qe,Mt),Se(de.__webglFramebuffer,$,Mt,n.COLOR_ATTACHMENT0+ot,Qe,0),w(Mt)&&A(Qe)}t.unbindTexture()}else{let ot=n.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(ot=$.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ot,Ue.__webglTexture),Z(ot,H),H.mipmaps&&H.mipmaps.length>0)for(let bt=0;bt<H.mipmaps.length;bt++)Se(de.__webglFramebuffer[bt],$,H,n.COLOR_ATTACHMENT0,ot,bt);else Se(de.__webglFramebuffer,$,H,n.COLOR_ATTACHMENT0,ot,0);w(H)&&A(ot),t.unbindTexture()}$.depthBuffer&&Be($)}function _e($){const H=$.textures;for(let de=0,Ue=H.length;de<Ue;de++){const Pe=H[de];if(w(Pe)){const Ee=T($),ct=r.get(Pe).__webglTexture;t.bindTexture(Ee,ct),A(Ee),t.unbindTexture()}}}const Le=[],Ce=[];function tt($){if($.samples>0){if(ft($)===!1){const H=$.textures,de=$.width,Ue=$.height;let Pe=n.COLOR_BUFFER_BIT;const Ee=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=r.get($),ot=H.length>1;if(ot)for(let Mt=0;Mt<H.length;Mt++)t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Mt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Mt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const bt=$.texture.mipmaps;bt&&bt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let Mt=0;Mt<H.length;Mt++){if($.resolveDepthBuffer&&($.depthBuffer&&(Pe|=n.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(Pe|=n.STENCIL_BUFFER_BIT)),ot){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ct.__webglColorRenderbuffer[Mt]);const Xe=r.get(H[Mt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Xe,0)}n.blitFramebuffer(0,0,de,Ue,0,0,de,Ue,Pe,n.NEAREST),u===!0&&(Le.length=0,Ce.length=0,Le.push(n.COLOR_ATTACHMENT0+Mt),$.depthBuffer&&$.resolveDepthBuffer===!1&&(Le.push(Ee),Ce.push(Ee),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Ce)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Le))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ot)for(let Mt=0;Mt<H.length;Mt++){t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Mt,n.RENDERBUFFER,ct.__webglColorRenderbuffer[Mt]);const Xe=r.get(H[Mt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Mt,n.TEXTURE_2D,Xe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&u){const H=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[H])}}}function ne($){return Math.min(i.maxSamples,$.samples)}function ft($){const H=r.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function Ze($){const H=s.render.frame;h.get($)!==H&&(h.set($,H),$.update())}function De($,H){const de=$.colorSpace,Ue=$.format,Pe=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||de!==Zp&&de!==Hh&&(Xn.getTransfer(de)===vr?(Ue!==Os||Pe!==no)&&Dt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):$t("WebGLTextures: Unsupported texture color space:",de)),H}function qe($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(c.width=$.naturalWidth||$.width,c.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(c.width=$.displayWidth,c.height=$.displayHeight):(c.width=$.width,c.height=$.height),c}this.allocateTextureUnit=Y,this.resetTextureUnits=j,this.setTexture2D=Q,this.setTexture2DArray=W,this.setTexture3D=X,this.setTextureCube=se,this.rebindTextures=ye,this.setupRenderTarget=ut,this.updateRenderTargetMipmap=_e,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=Be,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=ft,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function Lj(n,e){function t(r,i=Hh){let a;const s=Xn.getTransfer(i);if(r===no)return n.UNSIGNED_BYTE;if(r===c3)return n.UNSIGNED_SHORT_4_4_4_4;if(r===f3)return n.UNSIGNED_SHORT_5_5_5_1;if(r===QL)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===JL)return n.UNSIGNED_INT_10F_11F_11F_REV;if(r===$L)return n.BYTE;if(r===ZL)return n.SHORT;if(r===Mb)return n.UNSIGNED_SHORT;if(r===u3)return n.INT;if(r===Au)return n.UNSIGNED_INT;if(r===ao)return n.FLOAT;if(r===Df)return n.HALF_FLOAT;if(r===eU)return n.ALPHA;if(r===tU)return n.RGB;if(r===Os)return n.RGBA;if(r===If)return n.DEPTH_COMPONENT;if(r===jp)return n.DEPTH_STENCIL;if(r===h3)return n.RED;if(r===Gw)return n.RED_INTEGER;if(r===p0)return n.RG;if(r===d3)return n.RG_INTEGER;if(r===p3)return n.RGBA_INTEGER;if(r===b_||r===x_||r===__||r===w_)if(s===vr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===b_)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===x_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===__)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===w_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===b_)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===x_)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===__)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===w_)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===sT||r===oT||r===lT||r===uT)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===sT)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===oT)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===lT)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===uT)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===cT||r===fT||r===hT||r===dT||r===pT||r===mT||r===gT)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===cT||r===fT)return s===vr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===hT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(r===dT)return a.COMPRESSED_R11_EAC;if(r===pT)return a.COMPRESSED_SIGNED_R11_EAC;if(r===mT)return a.COMPRESSED_RG11_EAC;if(r===gT)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===vT||r===yT||r===bT||r===xT||r===_T||r===wT||r===ST||r===AT||r===ET||r===MT||r===TT||r===CT||r===PT||r===OT)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===vT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===yT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===bT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===xT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===_T)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===wT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===ST)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===AT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===ET)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===MT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===TT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===CT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===PT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===OT)return s===vr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===RT||r===NT||r===DT)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===RT)return s===vr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===NT)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===DT)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===IT||r===LT||r===UT||r===kT)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===IT)return a.COMPRESSED_RED_RGTC1_EXT;if(r===LT)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===UT)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===kT)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Tb?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const Aae=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Eae=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Mae{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new hU(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new ho({vertexShader:Aae,fragmentShader:Eae,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new li(new gd(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Tae extends Uf{constructor(e,t){super();const r=this;let i=null,a=1,s=null,o="local-floor",u=1,c=null,h=null,p=null,v=null,y=null,x=null;const S=typeof XRWebGLBinding<"u",w=new Mae,A={},T=t.getContextAttributes();let C=null,O=null;const R=[],D=[],I=new st;let F=null;const L=new Fi;L.viewport=new Qn;const k=new Fi;k.viewport=new Qn;const V=[L,k],j=new Aj;let Y=null,re=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let ce=R[ue];return ce===void 0&&(ce=new TM,R[ue]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(ue){let ce=R[ue];return ce===void 0&&(ce=new TM,R[ue]=ce),ce.getGripSpace()},this.getHand=function(ue){let ce=R[ue];return ce===void 0&&(ce=new TM,R[ue]=ce),ce.getHandSpace()};function Q(ue){const ce=D.indexOf(ue.inputSource);if(ce===-1)return;const Se=R[ce];Se!==void 0&&(Se.update(ue.inputSource,ue.frame,c||s),Se.dispatchEvent({type:ue.type,data:ue.inputSource}))}function W(){i.removeEventListener("select",Q),i.removeEventListener("selectstart",Q),i.removeEventListener("selectend",Q),i.removeEventListener("squeeze",Q),i.removeEventListener("squeezestart",Q),i.removeEventListener("squeezeend",Q),i.removeEventListener("end",W),i.removeEventListener("inputsourceschange",X);for(let ue=0;ue<R.length;ue++){const ce=D[ue];ce!==null&&(D[ue]=null,R[ue].disconnect(ce))}Y=null,re=null,w.reset();for(const ue in A)delete A[ue];e.setRenderTarget(C),y=null,v=null,p=null,i=null,O=null,ve.stop(),r.isPresenting=!1,e.setPixelRatio(F),e.setSize(I.width,I.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){a=ue,r.isPresenting===!0&&Dt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){o=ue,r.isPresenting===!0&&Dt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(ue){c=ue},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return p===null&&S&&(p=new XRWebGLBinding(i,t)),p},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(ue){if(i=ue,i!==null){if(C=e.getRenderTarget(),i.addEventListener("select",Q),i.addEventListener("selectstart",Q),i.addEventListener("selectend",Q),i.addEventListener("squeeze",Q),i.addEventListener("squeezestart",Q),i.addEventListener("squeezeend",Q),i.addEventListener("end",W),i.addEventListener("inputsourceschange",X),T.xrCompatible!==!0&&await t.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(I),S&&"createProjectionLayer"in XRWebGLBinding.prototype){let Se=null,me=null,Ne=null;T.depth&&(Ne=T.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Se=T.stencil?jp:If,me=T.stencil?Tb:Au);const Be={colorFormat:t.RGBA8,depthFormat:Ne,scaleFactor:a};p=this.getBinding(),v=p.createProjectionLayer(Be),i.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),O=new Ml(v.textureWidth,v.textureHeight,{format:Os,type:no,depthTexture:new Db(v.textureWidth,v.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:T.stencil,colorSpace:e.outputColorSpace,samples:T.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const Se={antialias:T.antialias,alpha:!0,depth:T.depth,stencil:T.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(i,t,Se),i.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),O=new Ml(y.framebufferWidth,y.framebufferHeight,{format:Os,type:no,colorSpace:e.outputColorSpace,stencilBuffer:T.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}O.isXRRenderTarget=!0,this.setFoveation(u),c=null,s=await i.requestReferenceSpace(o),ve.setContext(i),ve.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function X(ue){for(let ce=0;ce<ue.removed.length;ce++){const Se=ue.removed[ce],me=D.indexOf(Se);me>=0&&(D[me]=null,R[me].disconnect(Se))}for(let ce=0;ce<ue.added.length;ce++){const Se=ue.added[ce];let me=D.indexOf(Se);if(me===-1){for(let Be=0;Be<R.length;Be++)if(Be>=D.length){D.push(Se),me=Be;break}else if(D[Be]===null){D[Be]=Se,me=Be;break}if(me===-1)break}const Ne=R[me];Ne&&Ne.connect(Se)}}const se=new oe,J=new oe;function ae(ue,ce,Se){se.setFromMatrixPosition(ce.matrixWorld),J.setFromMatrixPosition(Se.matrixWorld);const me=se.distanceTo(J),Ne=ce.projectionMatrix.elements,Be=Se.projectionMatrix.elements,ye=Ne[14]/(Ne[10]-1),ut=Ne[14]/(Ne[10]+1),_e=(Ne[9]+1)/Ne[5],Le=(Ne[9]-1)/Ne[5],Ce=(Ne[8]-1)/Ne[0],tt=(Be[8]+1)/Be[0],ne=ye*Ce,ft=ye*tt,Ze=me/(-Ce+tt),De=Ze*-Ce;if(ce.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(De),ue.translateZ(Ze),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert(),Ne[10]===-1)ue.projectionMatrix.copy(ce.projectionMatrix),ue.projectionMatrixInverse.copy(ce.projectionMatrixInverse);else{const qe=ye+Ze,$=ut+Ze,H=ne-De,de=ft+(me-De),Ue=_e*ut/$*qe,Pe=Le*ut/$*qe;ue.projectionMatrix.makePerspective(H,de,Ue,Pe,qe,$),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}}function B(ue,ce){ce===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(ce.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(i===null)return;let ce=ue.near,Se=ue.far;w.texture!==null&&(w.depthNear>0&&(ce=w.depthNear),w.depthFar>0&&(Se=w.depthFar)),j.near=k.near=L.near=ce,j.far=k.far=L.far=Se,(Y!==j.near||re!==j.far)&&(i.updateRenderState({depthNear:j.near,depthFar:j.far}),Y=j.near,re=j.far),j.layers.mask=ue.layers.mask|6,L.layers.mask=j.layers.mask&3,k.layers.mask=j.layers.mask&5;const me=ue.parent,Ne=j.cameras;B(j,me);for(let Be=0;Be<Ne.length;Be++)B(Ne[Be],me);Ne.length===2?ae(j,L,k):j.projectionMatrix.copy(L.projectionMatrix),Z(ue,j,me)};function Z(ue,ce,Se){Se===null?ue.matrix.copy(ce.matrixWorld):(ue.matrix.copy(Se.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(ce.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(ce.projectionMatrix),ue.projectionMatrixInverse.copy(ce.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=Ob*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return j},this.getFoveation=function(){if(!(v===null&&y===null))return u},this.setFoveation=function(ue){u=ue,v!==null&&(v.fixedFoveation=ue),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=ue)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(j)},this.getCameraTexture=function(ue){return A[ue]};let le=null;function he(ue,ce){if(h=ce.getViewerPose(c||s),x=ce,h!==null){const Se=h.views;y!==null&&(e.setRenderTargetFramebuffer(O,y.framebuffer),e.setRenderTarget(O));let me=!1;Se.length!==j.cameras.length&&(j.cameras.length=0,me=!0);for(let ut=0;ut<Se.length;ut++){const _e=Se[ut];let Le=null;if(y!==null)Le=y.getViewport(_e);else{const tt=p.getViewSubImage(v,_e);Le=tt.viewport,ut===0&&(e.setRenderTargetTextures(O,tt.colorTexture,tt.depthStencilTexture),e.setRenderTarget(O))}let Ce=V[ut];Ce===void 0&&(Ce=new Fi,Ce.layers.enable(ut),Ce.viewport=new Qn,V[ut]=Ce),Ce.matrix.fromArray(_e.transform.matrix),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.projectionMatrix.fromArray(_e.projectionMatrix),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert(),Ce.viewport.set(Le.x,Le.y,Le.width,Le.height),ut===0&&(j.matrix.copy(Ce.matrix),j.matrix.decompose(j.position,j.quaternion,j.scale)),me===!0&&j.cameras.push(Ce)}const Ne=i.enabledFeatures;if(Ne&&Ne.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&S){p=r.getBinding();const ut=p.getDepthInformation(Se[0]);ut&&ut.isValid&&ut.texture&&w.init(ut,i.renderState)}if(Ne&&Ne.includes("camera-access")&&S){e.state.unbindTexture(),p=r.getBinding();for(let ut=0;ut<Se.length;ut++){const _e=Se[ut].camera;if(_e){let Le=A[_e];Le||(Le=new hU,A[_e]=Le);const Ce=p.getCameraImage(_e);Le.sourceTexture=Ce}}}}for(let Se=0;Se<R.length;Se++){const me=D[Se],Ne=R[Se];me!==null&&Ne!==void 0&&Ne.update(me,ce,c||s)}le&&le(ue,ce),ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ce}),x=null}const ve=new Oj;ve.setAnimationLoop(he),this.setAnimationLoop=function(ue){le=ue},this.dispose=function(){}}}const lg=new Cl,Cae=new sn;function Pae(n,e){function t(w,A){w.matrixAutoUpdate===!0&&w.updateMatrix(),A.value.copy(w.matrix)}function r(w,A){A.color.getRGB(w.fogColor.value,LV(n)),A.isFog?(w.fogNear.value=A.near,w.fogFar.value=A.far):A.isFogExp2&&(w.fogDensity.value=A.density)}function i(w,A,T,C,O){A.isMeshBasicMaterial||A.isMeshLambertMaterial?a(w,A):A.isMeshToonMaterial?(a(w,A),p(w,A)):A.isMeshPhongMaterial?(a(w,A),h(w,A)):A.isMeshStandardMaterial?(a(w,A),v(w,A),A.isMeshPhysicalMaterial&&y(w,A,O)):A.isMeshMatcapMaterial?(a(w,A),x(w,A)):A.isMeshDepthMaterial?a(w,A):A.isMeshDistanceMaterial?(a(w,A),S(w,A)):A.isMeshNormalMaterial?a(w,A):A.isLineBasicMaterial?(s(w,A),A.isLineDashedMaterial&&o(w,A)):A.isPointsMaterial?u(w,A,T,C):A.isSpriteMaterial?c(w,A):A.isShadowMaterial?(w.color.value.copy(A.color),w.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function a(w,A){w.opacity.value=A.opacity,A.color&&w.diffuse.value.copy(A.color),A.emissive&&w.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(w.map.value=A.map,t(A.map,w.mapTransform)),A.alphaMap&&(w.alphaMap.value=A.alphaMap,t(A.alphaMap,w.alphaMapTransform)),A.bumpMap&&(w.bumpMap.value=A.bumpMap,t(A.bumpMap,w.bumpMapTransform),w.bumpScale.value=A.bumpScale,A.side===fo&&(w.bumpScale.value*=-1)),A.normalMap&&(w.normalMap.value=A.normalMap,t(A.normalMap,w.normalMapTransform),w.normalScale.value.copy(A.normalScale),A.side===fo&&w.normalScale.value.negate()),A.displacementMap&&(w.displacementMap.value=A.displacementMap,t(A.displacementMap,w.displacementMapTransform),w.displacementScale.value=A.displacementScale,w.displacementBias.value=A.displacementBias),A.emissiveMap&&(w.emissiveMap.value=A.emissiveMap,t(A.emissiveMap,w.emissiveMapTransform)),A.specularMap&&(w.specularMap.value=A.specularMap,t(A.specularMap,w.specularMapTransform)),A.alphaTest>0&&(w.alphaTest.value=A.alphaTest);const T=e.get(A),C=T.envMap,O=T.envMapRotation;C&&(w.envMap.value=C,lg.copy(O),lg.x*=-1,lg.y*=-1,lg.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(lg.y*=-1,lg.z*=-1),w.envMapRotation.value.setFromMatrix4(Cae.makeRotationFromEuler(lg)),w.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=A.reflectivity,w.ior.value=A.ior,w.refractionRatio.value=A.refractionRatio),A.lightMap&&(w.lightMap.value=A.lightMap,w.lightMapIntensity.value=A.lightMapIntensity,t(A.lightMap,w.lightMapTransform)),A.aoMap&&(w.aoMap.value=A.aoMap,w.aoMapIntensity.value=A.aoMapIntensity,t(A.aoMap,w.aoMapTransform))}function s(w,A){w.diffuse.value.copy(A.color),w.opacity.value=A.opacity,A.map&&(w.map.value=A.map,t(A.map,w.mapTransform))}function o(w,A){w.dashSize.value=A.dashSize,w.totalSize.value=A.dashSize+A.gapSize,w.scale.value=A.scale}function u(w,A,T,C){w.diffuse.value.copy(A.color),w.opacity.value=A.opacity,w.size.value=A.size*T,w.scale.value=C*.5,A.map&&(w.map.value=A.map,t(A.map,w.uvTransform)),A.alphaMap&&(w.alphaMap.value=A.alphaMap,t(A.alphaMap,w.alphaMapTransform)),A.alphaTest>0&&(w.alphaTest.value=A.alphaTest)}function c(w,A){w.diffuse.value.copy(A.color),w.opacity.value=A.opacity,w.rotation.value=A.rotation,A.map&&(w.map.value=A.map,t(A.map,w.mapTransform)),A.alphaMap&&(w.alphaMap.value=A.alphaMap,t(A.alphaMap,w.alphaMapTransform)),A.alphaTest>0&&(w.alphaTest.value=A.alphaTest)}function h(w,A){w.specular.value.copy(A.specular),w.shininess.value=Math.max(A.shininess,1e-4)}function p(w,A){A.gradientMap&&(w.gradientMap.value=A.gradientMap)}function v(w,A){w.metalness.value=A.metalness,A.metalnessMap&&(w.metalnessMap.value=A.metalnessMap,t(A.metalnessMap,w.metalnessMapTransform)),w.roughness.value=A.roughness,A.roughnessMap&&(w.roughnessMap.value=A.roughnessMap,t(A.roughnessMap,w.roughnessMapTransform)),A.envMap&&(w.envMapIntensity.value=A.envMapIntensity)}function y(w,A,T){w.ior.value=A.ior,A.sheen>0&&(w.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),w.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(w.sheenColorMap.value=A.sheenColorMap,t(A.sheenColorMap,w.sheenColorMapTransform)),A.sheenRoughnessMap&&(w.sheenRoughnessMap.value=A.sheenRoughnessMap,t(A.sheenRoughnessMap,w.sheenRoughnessMapTransform))),A.clearcoat>0&&(w.clearcoat.value=A.clearcoat,w.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(w.clearcoatMap.value=A.clearcoatMap,t(A.clearcoatMap,w.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,t(A.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(w.clearcoatNormalMap.value=A.clearcoatNormalMap,t(A.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===fo&&w.clearcoatNormalScale.value.negate())),A.dispersion>0&&(w.dispersion.value=A.dispersion),A.iridescence>0&&(w.iridescence.value=A.iridescence,w.iridescenceIOR.value=A.iridescenceIOR,w.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(w.iridescenceMap.value=A.iridescenceMap,t(A.iridescenceMap,w.iridescenceMapTransform)),A.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=A.iridescenceThicknessMap,t(A.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),A.transmission>0&&(w.transmission.value=A.transmission,w.transmissionSamplerMap.value=T.texture,w.transmissionSamplerSize.value.set(T.width,T.height),A.transmissionMap&&(w.transmissionMap.value=A.transmissionMap,t(A.transmissionMap,w.transmissionMapTransform)),w.thickness.value=A.thickness,A.thicknessMap&&(w.thicknessMap.value=A.thicknessMap,t(A.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=A.attenuationDistance,w.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(w.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(w.anisotropyMap.value=A.anisotropyMap,t(A.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=A.specularIntensity,w.specularColor.value.copy(A.specularColor),A.specularColorMap&&(w.specularColorMap.value=A.specularColorMap,t(A.specularColorMap,w.specularColorMapTransform)),A.specularIntensityMap&&(w.specularIntensityMap.value=A.specularIntensityMap,t(A.specularIntensityMap,w.specularIntensityMapTransform))}function x(w,A){A.matcap&&(w.matcap.value=A.matcap)}function S(w,A){const T=e.get(A).light;w.referencePosition.value.setFromMatrixPosition(T.matrixWorld),w.nearDistance.value=T.shadow.camera.near,w.farDistance.value=T.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Oae(n,e,t,r){let i={},a={},s=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(T,C){const O=C.program;r.uniformBlockBinding(T,O)}function c(T,C){let O=i[T.id];O===void 0&&(x(T),O=h(T),i[T.id]=O,T.addEventListener("dispose",w));const R=C.program;r.updateUBOMapping(T,R);const D=e.render.frame;a[T.id]!==D&&(v(T),a[T.id]=D)}function h(T){const C=p();T.__bindingPointIndex=C;const O=n.createBuffer(),R=T.__size,D=T.usage;return n.bindBuffer(n.UNIFORM_BUFFER,O),n.bufferData(n.UNIFORM_BUFFER,R,D),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,O),O}function p(){for(let T=0;T<o;T++)if(s.indexOf(T)===-1)return s.push(T),T;return $t("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(T){const C=i[T.id],O=T.uniforms,R=T.__cache;n.bindBuffer(n.UNIFORM_BUFFER,C);for(let D=0,I=O.length;D<I;D++){const F=Array.isArray(O[D])?O[D]:[O[D]];for(let L=0,k=F.length;L<k;L++){const V=F[L];if(y(V,D,L,R)===!0){const j=V.__offset,Y=Array.isArray(V.value)?V.value:[V.value];let re=0;for(let Q=0;Q<Y.length;Q++){const W=Y[Q],X=S(W);typeof W=="number"||typeof W=="boolean"?(V.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,j+re,V.__data)):W.isMatrix3?(V.__data[0]=W.elements[0],V.__data[1]=W.elements[1],V.__data[2]=W.elements[2],V.__data[3]=0,V.__data[4]=W.elements[3],V.__data[5]=W.elements[4],V.__data[6]=W.elements[5],V.__data[7]=0,V.__data[8]=W.elements[6],V.__data[9]=W.elements[7],V.__data[10]=W.elements[8],V.__data[11]=0):(W.toArray(V.__data,re),re+=X.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,j,V.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function y(T,C,O,R){const D=T.value,I=C+"_"+O;if(R[I]===void 0)return typeof D=="number"||typeof D=="boolean"?R[I]=D:R[I]=D.clone(),!0;{const F=R[I];if(typeof D=="number"||typeof D=="boolean"){if(F!==D)return R[I]=D,!0}else if(F.equals(D)===!1)return F.copy(D),!0}return!1}function x(T){const C=T.uniforms;let O=0;const R=16;for(let I=0,F=C.length;I<F;I++){const L=Array.isArray(C[I])?C[I]:[C[I]];for(let k=0,V=L.length;k<V;k++){const j=L[k],Y=Array.isArray(j.value)?j.value:[j.value];for(let re=0,Q=Y.length;re<Q;re++){const W=Y[re],X=S(W),se=O%R,J=se%X.boundary,ae=se+J;O+=J,ae!==0&&R-ae<X.storage&&(O+=R-ae),j.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=O,O+=X.storage}}}const D=O%R;return D>0&&(O+=R-D),T.__size=O,T.__cache={},this}function S(T){const C={boundary:0,storage:0};return typeof T=="number"||typeof T=="boolean"?(C.boundary=4,C.storage=4):T.isVector2?(C.boundary=8,C.storage=8):T.isVector3||T.isColor?(C.boundary=16,C.storage=12):T.isVector4?(C.boundary=16,C.storage=16):T.isMatrix3?(C.boundary=48,C.storage=48):T.isMatrix4?(C.boundary=64,C.storage=64):T.isTexture?Dt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Dt("WebGLRenderer: Unsupported uniform value type.",T),C}function w(T){const C=T.target;C.removeEventListener("dispose",w);const O=s.indexOf(C.__bindingPointIndex);s.splice(O,1),n.deleteBuffer(i[C.id]),delete i[C.id],delete a[C.id]}function A(){for(const T in i)n.deleteBuffer(i[T]);s=[],i={},a={}}return{bind:u,update:c,dispose:A}}const Rae=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let af=null;function Nae(){return af===null&&(af=new pc(Rae,16,16,p0,Df),af.name="DFG_LUT",af.minFilter=Or,af.magFilter=Or,af.wrapS=$o,af.wrapT=$o,af.generateMipmaps=!1,af.needsUpdate=!0),af}class Uj{constructor(e={}){const{canvas:t=NV(),context:r=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1,reversedDepthBuffer:v=!1,outputBufferType:y=no}=e;this.isWebGLRenderer=!0;let x;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=r.getContextAttributes().alpha}else x=s;const S=y,w=new Set([p3,d3,Gw]),A=new Set([no,Au,Mb,Tb,c3,f3]),T=new Uint32Array(4),C=new Int32Array(4);let O=null,R=null;const D=[],I=[];let F=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Su,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const L=this;let k=!1;this._outputColorSpace=Ps;let V=0,j=0,Y=null,re=-1,Q=null;const W=new Qn,X=new Qn;let se=null;const J=new Ot(0);let ae=0,B=t.width,Z=t.height,le=1,he=null,ve=null;const ue=new Qn(0,0,B,Z),ce=new Qn(0,0,B,Z);let Se=!1;const me=new ex;let Ne=!1,Be=!1;const ye=new sn,ut=new oe,_e=new Qn,Le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ce=!1;function tt(){return Y===null?le:1}let ne=r;function ft(te,Me){return t.getContext(te,Me)}try{const te={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${O0}`),t.addEventListener("webglcontextlost",Ct,!1),t.addEventListener("webglcontextrestored",Tt,!1),t.addEventListener("webglcontextcreationerror",Gt,!1),ne===null){const Me="webgl2";if(ne=ft(Me,te),ne===null)throw ft(Me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(te){throw $t("WebGLRenderer: "+te.message),te}let Ze,De,qe,$,H,de,Ue,Pe,Ee,ct,ot,bt,Mt,Xe,Qe,nt,fe,Te,vt,ge,Ye,rt,wt,it;function Ge(){Ze=new Dre(ne),Ze.init(),rt=new Lj(ne,Ze),De=new Are(ne,Ze,e,rt),qe=new wae(ne,Ze),De.reversedDepthBuffer&&v&&qe.buffers.depth.setReversed(!0),$=new Ure(ne),H=new oae,de=new Sae(ne,Ze,qe,H,De,rt,$),Ue=new Mre(L),Pe=new Nre(L),Ee=new zee(ne),wt=new wre(ne,Ee),ct=new Ire(ne,Ee,$,wt),ot=new Bre(ne,ct,Ee,$),vt=new kre(ne,De,de),nt=new Ere(H),bt=new sae(L,Ue,Pe,Ze,De,wt,nt),Mt=new Pae(L,H),Xe=new uae,Qe=new mae(Ze),Te=new _re(L,Ue,Pe,qe,ot,x,u),fe=new xae(L,ot,De),it=new Oae(ne,$,De,qe),ge=new Sre(ne,Ze,$),Ye=new Lre(ne,Ze,$),$.programs=bt.programs,L.capabilities=De,L.extensions=Ze,L.properties=H,L.renderLists=Xe,L.shadowMap=fe,L.state=qe,L.info=$}Ge(),S!==no&&(F=new zre(S,t.width,t.height,i,a));const ht=new Tae(L,ne);this.xr=ht,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const te=Ze.get("WEBGL_lose_context");te&&te.loseContext()},this.forceContextRestore=function(){const te=Ze.get("WEBGL_lose_context");te&&te.restoreContext()},this.getPixelRatio=function(){return le},this.setPixelRatio=function(te){te!==void 0&&(le=te,this.setSize(B,Z,!1))},this.getSize=function(te){return te.set(B,Z)},this.setSize=function(te,Me,je=!0){if(ht.isPresenting){Dt("WebGLRenderer: Can't change size while VR device is presenting.");return}B=te,Z=Me,t.width=Math.floor(te*le),t.height=Math.floor(Me*le),je===!0&&(t.style.width=te+"px",t.style.height=Me+"px"),F!==null&&F.setSize(t.width,t.height),this.setViewport(0,0,te,Me)},this.getDrawingBufferSize=function(te){return te.set(B*le,Z*le).floor()},this.setDrawingBufferSize=function(te,Me,je){B=te,Z=Me,le=je,t.width=Math.floor(te*je),t.height=Math.floor(Me*je),this.setViewport(0,0,te,Me)},this.setEffects=function(te){if(S===no){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(te){for(let Me=0;Me<te.length;Me++)if(te[Me].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}F.setEffects(te||[])},this.getCurrentViewport=function(te){return te.copy(W)},this.getViewport=function(te){return te.copy(ue)},this.setViewport=function(te,Me,je,Fe){te.isVector4?ue.set(te.x,te.y,te.z,te.w):ue.set(te,Me,je,Fe),qe.viewport(W.copy(ue).multiplyScalar(le).round())},this.getScissor=function(te){return te.copy(ce)},this.setScissor=function(te,Me,je,Fe){te.isVector4?ce.set(te.x,te.y,te.z,te.w):ce.set(te,Me,je,Fe),qe.scissor(X.copy(ce).multiplyScalar(le).round())},this.getScissorTest=function(){return Se},this.setScissorTest=function(te){qe.setScissorTest(Se=te)},this.setOpaqueSort=function(te){he=te},this.setTransparentSort=function(te){ve=te},this.getClearColor=function(te){return te.copy(Te.getClearColor())},this.setClearColor=function(){Te.setClearColor(...arguments)},this.getClearAlpha=function(){return Te.getClearAlpha()},this.setClearAlpha=function(){Te.setClearAlpha(...arguments)},this.clear=function(te=!0,Me=!0,je=!0){let Fe=0;if(te){let Oe=!1;if(Y!==null){const St=Y.texture.format;Oe=w.has(St)}if(Oe){const St=Y.texture.type,Rt=A.has(St),yt=Te.getClearColor(),Ut=Te.getClearAlpha(),kt=yt.r,Kt=yt.g,Bt=yt.b;Rt?(T[0]=kt,T[1]=Kt,T[2]=Bt,T[3]=Ut,ne.clearBufferuiv(ne.COLOR,0,T)):(C[0]=kt,C[1]=Kt,C[2]=Bt,C[3]=Ut,ne.clearBufferiv(ne.COLOR,0,C))}else Fe|=ne.COLOR_BUFFER_BIT}Me&&(Fe|=ne.DEPTH_BUFFER_BIT),je&&(Fe|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(Fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ct,!1),t.removeEventListener("webglcontextrestored",Tt,!1),t.removeEventListener("webglcontextcreationerror",Gt,!1),Te.dispose(),Xe.dispose(),Qe.dispose(),H.dispose(),Ue.dispose(),Pe.dispose(),ot.dispose(),wt.dispose(),it.dispose(),bt.dispose(),ht.dispose(),ht.removeEventListener("sessionstart",Wi),ht.removeEventListener("sessionend",Fa),_r.stop()};function Ct(te){te.preventDefault(),V_("WebGLRenderer: Context Lost."),k=!0}function Tt(){V_("WebGLRenderer: Context Restored."),k=!1;const te=$.autoReset,Me=fe.enabled,je=fe.autoUpdate,Fe=fe.needsUpdate,Oe=fe.type;Ge(),$.autoReset=te,fe.enabled=Me,fe.autoUpdate=je,fe.needsUpdate=Fe,fe.type=Oe}function Gt(te){$t("WebGLRenderer: A WebGL context could not be created. Reason: ",te.statusMessage)}function Mn(te){const Me=te.target;Me.removeEventListener("dispose",Mn),kn(Me)}function kn(te){pr(te),H.remove(te)}function pr(te){const Me=H.get(te).programs;Me!==void 0&&(Me.forEach(function(je){bt.releaseProgram(je)}),te.isShaderMaterial&&bt.releaseShaderCache(te))}this.renderBufferDirect=function(te,Me,je,Fe,Oe,St){Me===null&&(Me=Le);const Rt=Oe.isMesh&&Oe.matrixWorld.determinant()<0,yt=Us(te,Me,je,Fe,Oe);qe.setMaterial(Fe,Rt);let Ut=je.index,kt=1;if(Fe.wireframe===!0){if(Ut=ct.getWireframeAttribute(je),Ut===void 0)return;kt=2}const Kt=je.drawRange,Bt=je.attributes.position;let Zt=Kt.start*kt,Tn=(Kt.start+Kt.count)*kt;St!==null&&(Zt=Math.max(Zt,St.start*kt),Tn=Math.min(Tn,(St.start+St.count)*kt)),Ut!==null?(Zt=Math.max(Zt,0),Tn=Math.min(Tn,Ut.count)):Bt!=null&&(Zt=Math.max(Zt,0),Tn=Math.min(Tn,Bt.count));const ir=Tn-Zt;if(ir<0||ir===1/0)return;wt.setup(Oe,Fe,yt,je,Ut);let Hn,on=ge;if(Ut!==null&&(Hn=Ee.get(Ut),on=Ye,on.setIndex(Hn)),Oe.isMesh)Fe.wireframe===!0?(qe.setLineWidth(Fe.wireframeLinewidth*tt()),on.setMode(ne.LINES)):on.setMode(ne.TRIANGLES);else if(Oe.isLine){let Pt=Fe.linewidth;Pt===void 0&&(Pt=1),qe.setLineWidth(Pt*tt()),Oe.isLineSegments?on.setMode(ne.LINES):Oe.isLineLoop?on.setMode(ne.LINE_LOOP):on.setMode(ne.LINE_STRIP)}else Oe.isPoints?on.setMode(ne.POINTS):Oe.isSprite&&on.setMode(ne.TRIANGLES);if(Oe.isBatchedMesh)if(Oe._multiDrawInstances!==null)Pb("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),on.renderMultiDrawInstances(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount,Oe._multiDrawInstances);else if(Ze.get("WEBGL_multi_draw"))on.renderMultiDraw(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount);else{const Pt=Oe._multiDrawStarts,Pn=Oe._multiDrawCounts,qt=Oe._multiDrawCount,Qr=Ut?Ee.get(Ut).bytesPerElement:1,wa=H.get(Fe).currentProgram.getUniforms();for(let nr=0;nr<qt;nr++)wa.setValue(ne,"_gl_DrawID",nr),on.render(Pt[nr]/Qr,Pn[nr])}else if(Oe.isInstancedMesh)on.renderInstances(Zt,ir,Oe.count);else if(je.isInstancedBufferGeometry){const Pt=je._maxInstanceCount!==void 0?je._maxInstanceCount:1/0,Pn=Math.min(je.instanceCount,Pt);on.renderInstances(Zt,ir,Pn)}else on.render(Zt,ir)};function wi(te,Me,je){te.transparent===!0&&te.side===_u&&te.forceSinglePass===!1?(te.side=fo,te.needsUpdate=!0,_a(te,Me,je),te.side=nd,te.needsUpdate=!0,_a(te,Me,je),te.side=_u):_a(te,Me,je)}this.compile=function(te,Me,je=null){je===null&&(je=te),R=Qe.get(je),R.init(Me),I.push(R),je.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(Me.layers)&&(R.pushLight(Oe),Oe.castShadow&&R.pushShadow(Oe))}),te!==je&&te.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(Me.layers)&&(R.pushLight(Oe),Oe.castShadow&&R.pushShadow(Oe))}),R.setupLights();const Fe=new Set;return te.traverse(function(Oe){if(!(Oe.isMesh||Oe.isPoints||Oe.isLine||Oe.isSprite))return;const St=Oe.material;if(St)if(Array.isArray(St))for(let Rt=0;Rt<St.length;Rt++){const yt=St[Rt];wi(yt,je,Oe),Fe.add(yt)}else wi(St,je,Oe),Fe.add(St)}),R=I.pop(),Fe},this.compileAsync=function(te,Me,je=null){const Fe=this.compile(te,Me,je);return new Promise(Oe=>{function St(){if(Fe.forEach(function(Rt){H.get(Rt).currentProgram.isReady()&&Fe.delete(Rt)}),Fe.size===0){Oe(te);return}setTimeout(St,10)}Ze.get("KHR_parallel_shader_compile")!==null?St():setTimeout(St,10)})};let xa=null;function ji(te){xa&&xa(te)}function Wi(){_r.stop()}function Fa(){_r.start()}const _r=new Oj;_r.setAnimationLoop(ji),typeof self<"u"&&_r.setContext(self),this.setAnimationLoop=function(te){xa=te,ht.setAnimationLoop(te),te===null?_r.stop():_r.start()},ht.addEventListener("sessionstart",Wi),ht.addEventListener("sessionend",Fa),this.render=function(te,Me){if(Me!==void 0&&Me.isCamera!==!0){$t("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;const je=ht.enabled===!0&&ht.isPresenting===!0,Fe=F!==null&&(Y===null||je)&&F.begin(L,Y);if(te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),Me.parent===null&&Me.matrixWorldAutoUpdate===!0&&Me.updateMatrixWorld(),ht.enabled===!0&&ht.isPresenting===!0&&(F===null||F.isCompositing()===!1)&&(ht.cameraAutoUpdate===!0&&ht.updateCamera(Me),Me=ht.getCamera()),te.isScene===!0&&te.onBeforeRender(L,te,Me,Y),R=Qe.get(te,I.length),R.init(Me),I.push(R),ye.multiplyMatrices(Me.projectionMatrix,Me.matrixWorldInverse),me.setFromProjectionMatrix(ye,wl,Me.reversedDepth),Be=this.localClippingEnabled,Ne=nt.init(this.clippingPlanes,Be),O=Xe.get(te,D.length),O.init(),D.push(O),ht.enabled===!0&&ht.isPresenting===!0){const Rt=L.xr.getDepthSensingMesh();Rt!==null&&ur(Rt,Me,-1/0,L.sortObjects)}ur(te,Me,0,L.sortObjects),O.finish(),L.sortObjects===!0&&O.sort(he,ve),Ce=ht.enabled===!1||ht.isPresenting===!1||ht.hasDepthSensing()===!1,Ce&&Te.addToRenderList(O,te),this.info.render.frame++,Ne===!0&&nt.beginShadows();const Oe=R.state.shadowsArray;if(fe.render(Oe,te,Me),Ne===!0&&nt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Fe&&F.hasRenderPass())===!1){const Rt=O.opaque,yt=O.transmissive;if(R.setupLights(),Me.isArrayCamera){const Ut=Me.cameras;if(yt.length>0)for(let kt=0,Kt=Ut.length;kt<Kt;kt++){const Bt=Ut[kt];Zr(Rt,yt,te,Bt)}Ce&&Te.render(te);for(let kt=0,Kt=Ut.length;kt<Kt;kt++){const Bt=Ut[kt];tr(O,te,Bt,Bt.viewport)}}else yt.length>0&&Zr(Rt,yt,te,Me),Ce&&Te.render(te),tr(O,te,Me)}Y!==null&&j===0&&(de.updateMultisampleRenderTarget(Y),de.updateRenderTargetMipmap(Y)),Fe&&F.end(L),te.isScene===!0&&te.onAfterRender(L,te,Me),wt.resetDefaultState(),re=-1,Q=null,I.pop(),I.length>0?(R=I[I.length-1],Ne===!0&&nt.setGlobalState(L.clippingPlanes,R.state.camera)):R=null,D.pop(),D.length>0?O=D[D.length-1]:O=null};function ur(te,Me,je,Fe){if(te.visible===!1)return;if(te.layers.test(Me.layers)){if(te.isGroup)je=te.renderOrder;else if(te.isLOD)te.autoUpdate===!0&&te.update(Me);else if(te.isLight)R.pushLight(te),te.castShadow&&R.pushShadow(te);else if(te.isSprite){if(!te.frustumCulled||me.intersectsSprite(te)){Fe&&_e.setFromMatrixPosition(te.matrixWorld).applyMatrix4(ye);const Rt=ot.update(te),yt=te.material;yt.visible&&O.push(te,Rt,yt,je,_e.z,null)}}else if((te.isMesh||te.isLine||te.isPoints)&&(!te.frustumCulled||me.intersectsObject(te))){const Rt=ot.update(te),yt=te.material;if(Fe&&(te.boundingSphere!==void 0?(te.boundingSphere===null&&te.computeBoundingSphere(),_e.copy(te.boundingSphere.center)):(Rt.boundingSphere===null&&Rt.computeBoundingSphere(),_e.copy(Rt.boundingSphere.center)),_e.applyMatrix4(te.matrixWorld).applyMatrix4(ye)),Array.isArray(yt)){const Ut=Rt.groups;for(let kt=0,Kt=Ut.length;kt<Kt;kt++){const Bt=Ut[kt],Zt=yt[Bt.materialIndex];Zt&&Zt.visible&&O.push(te,Rt,Zt,je,_e.z,Bt)}}else yt.visible&&O.push(te,Rt,yt,je,_e.z,null)}}const St=te.children;for(let Rt=0,yt=St.length;Rt<yt;Rt++)ur(St[Rt],Me,je,Fe)}function tr(te,Me,je,Fe){const{opaque:Oe,transmissive:St,transparent:Rt}=te;R.setupLightsView(je),Ne===!0&&nt.setGlobalState(L.clippingPlanes,je),Fe&&qe.viewport(W.copy(Fe)),Oe.length>0&&aa(Oe,Me,je),St.length>0&&aa(St,Me,je),Rt.length>0&&aa(Rt,Me,je),qe.buffers.depth.setTest(!0),qe.buffers.depth.setMask(!0),qe.buffers.color.setMask(!0),qe.setPolygonOffset(!1)}function Zr(te,Me,je,Fe){if((je.isScene===!0?je.overrideMaterial:null)!==null)return;if(R.state.transmissionRenderTarget[Fe.id]===void 0){const Zt=Ze.has("EXT_color_buffer_half_float")||Ze.has("EXT_color_buffer_float");R.state.transmissionRenderTarget[Fe.id]=new Ml(1,1,{generateMipmaps:!0,type:Zt?Df:no,minFilter:Af,samples:De.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Xn.workingColorSpace})}const St=R.state.transmissionRenderTarget[Fe.id],Rt=Fe.viewport||W;St.setSize(Rt.z*L.transmissionResolutionScale,Rt.w*L.transmissionResolutionScale);const yt=L.getRenderTarget(),Ut=L.getActiveCubeFace(),kt=L.getActiveMipmapLevel();L.setRenderTarget(St),L.getClearColor(J),ae=L.getClearAlpha(),ae<1&&L.setClearColor(16777215,.5),L.clear(),Ce&&Te.render(je);const Kt=L.toneMapping;L.toneMapping=Su;const Bt=Fe.viewport;if(Fe.viewport!==void 0&&(Fe.viewport=void 0),R.setupLightsView(Fe),Ne===!0&&nt.setGlobalState(L.clippingPlanes,Fe),aa(te,je,Fe),de.updateMultisampleRenderTarget(St),de.updateRenderTargetMipmap(St),Ze.has("WEBGL_multisampled_render_to_texture")===!1){let Zt=!1;for(let Tn=0,ir=Me.length;Tn<ir;Tn++){const Hn=Me[Tn],{object:on,geometry:Pt,material:Pn,group:qt}=Hn;if(Pn.side===_u&&on.layers.test(Fe.layers)){const Qr=Pn.side;Pn.side=fo,Pn.needsUpdate=!0,za(on,je,Fe,Pt,Pn,qt),Pn.side=Qr,Pn.needsUpdate=!0,Zt=!0}}Zt===!0&&(de.updateMultisampleRenderTarget(St),de.updateRenderTargetMipmap(St))}L.setRenderTarget(yt,Ut,kt),L.setClearColor(J,ae),Bt!==void 0&&(Fe.viewport=Bt),L.toneMapping=Kt}function aa(te,Me,je){const Fe=Me.isScene===!0?Me.overrideMaterial:null;for(let Oe=0,St=te.length;Oe<St;Oe++){const Rt=te[Oe],{object:yt,geometry:Ut,group:kt}=Rt;let Kt=Rt.material;Kt.allowOverride===!0&&Fe!==null&&(Kt=Fe),yt.layers.test(je.layers)&&za(yt,Me,je,Ut,Kt,kt)}}function za(te,Me,je,Fe,Oe,St){te.onBeforeRender(L,Me,je,Fe,Oe,St),te.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,te.matrixWorld),te.normalMatrix.getNormalMatrix(te.modelViewMatrix),Oe.onBeforeRender(L,Me,je,Fe,te,St),Oe.transparent===!0&&Oe.side===_u&&Oe.forceSinglePass===!1?(Oe.side=fo,Oe.needsUpdate=!0,L.renderBufferDirect(je,Me,Fe,Oe,te,St),Oe.side=nd,Oe.needsUpdate=!0,L.renderBufferDirect(je,Me,Fe,Oe,te,St),Oe.side=_u):L.renderBufferDirect(je,Me,Fe,Oe,te,St),te.onAfterRender(L,Me,je,Fe,Oe,St)}function _a(te,Me,je){Me.isScene!==!0&&(Me=Le);const Fe=H.get(te),Oe=R.state.lights,St=R.state.shadowsArray,Rt=Oe.state.version,yt=bt.getParameters(te,Oe.state,St,Me,je),Ut=bt.getProgramCacheKey(yt);let kt=Fe.programs;Fe.environment=te.isMeshStandardMaterial?Me.environment:null,Fe.fog=Me.fog,Fe.envMap=(te.isMeshStandardMaterial?Pe:Ue).get(te.envMap||Fe.environment),Fe.envMapRotation=Fe.environment!==null&&te.envMap===null?Me.environmentRotation:te.envMapRotation,kt===void 0&&(te.addEventListener("dispose",Mn),kt=new Map,Fe.programs=kt);let Kt=kt.get(Ut);if(Kt!==void 0){if(Fe.currentProgram===Kt&&Fe.lightsStateVersion===Rt)return nl(te,yt),Kt}else yt.uniforms=bt.getUniforms(te),te.onBeforeCompile(yt,L),Kt=bt.acquireProgram(yt,Ut),kt.set(Ut,Kt),Fe.uniforms=yt.uniforms;const Bt=Fe.uniforms;return(!te.isShaderMaterial&&!te.isRawShaderMaterial||te.clipping===!0)&&(Bt.clippingPlanes=nt.uniform),nl(te,yt),Fe.needsLights=cs(te),Fe.lightsStateVersion=Rt,Fe.needsLights&&(Bt.ambientLightColor.value=Oe.state.ambient,Bt.lightProbe.value=Oe.state.probe,Bt.directionalLights.value=Oe.state.directional,Bt.directionalLightShadows.value=Oe.state.directionalShadow,Bt.spotLights.value=Oe.state.spot,Bt.spotLightShadows.value=Oe.state.spotShadow,Bt.rectAreaLights.value=Oe.state.rectArea,Bt.ltc_1.value=Oe.state.rectAreaLTC1,Bt.ltc_2.value=Oe.state.rectAreaLTC2,Bt.pointLights.value=Oe.state.point,Bt.pointLightShadows.value=Oe.state.pointShadow,Bt.hemisphereLights.value=Oe.state.hemi,Bt.directionalShadowMap.value=Oe.state.directionalShadowMap,Bt.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,Bt.spotShadowMap.value=Oe.state.spotShadowMap,Bt.spotLightMatrix.value=Oe.state.spotLightMatrix,Bt.spotLightMap.value=Oe.state.spotLightMap,Bt.pointShadowMap.value=Oe.state.pointShadowMap,Bt.pointShadowMatrix.value=Oe.state.pointShadowMatrix),Fe.currentProgram=Kt,Fe.uniformsList=null,Kt}function Ls(te){if(te.uniformsList===null){const Me=te.currentProgram.getUniforms();te.uniformsList=CM.seqWithValue(Me.seq,te.uniforms)}return te.uniformsList}function nl(te,Me){const je=H.get(te);je.outputColorSpace=Me.outputColorSpace,je.batching=Me.batching,je.batchingColor=Me.batchingColor,je.instancing=Me.instancing,je.instancingColor=Me.instancingColor,je.instancingMorph=Me.instancingMorph,je.skinning=Me.skinning,je.morphTargets=Me.morphTargets,je.morphNormals=Me.morphNormals,je.morphColors=Me.morphColors,je.morphTargetsCount=Me.morphTargetsCount,je.numClippingPlanes=Me.numClippingPlanes,je.numIntersection=Me.numClipIntersection,je.vertexAlphas=Me.vertexAlphas,je.vertexTangents=Me.vertexTangents,je.toneMapping=Me.toneMapping}function Us(te,Me,je,Fe,Oe){Me.isScene!==!0&&(Me=Le),de.resetTextureUnits();const St=Me.fog,Rt=Fe.isMeshStandardMaterial?Me.environment:null,yt=Y===null?L.outputColorSpace:Y.isXRRenderTarget===!0?Y.texture.colorSpace:Zp,Ut=(Fe.isMeshStandardMaterial?Pe:Ue).get(Fe.envMap||Rt),kt=Fe.vertexColors===!0&&!!je.attributes.color&&je.attributes.color.itemSize===4,Kt=!!je.attributes.tangent&&(!!Fe.normalMap||Fe.anisotropy>0),Bt=!!je.morphAttributes.position,Zt=!!je.morphAttributes.normal,Tn=!!je.morphAttributes.color;let ir=Su;Fe.toneMapped&&(Y===null||Y.isXRRenderTarget===!0)&&(ir=L.toneMapping);const Hn=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,on=Hn!==void 0?Hn.length:0,Pt=H.get(Fe),Pn=R.state.lights;if(Ne===!0&&(Be===!0||te!==Q)){const ci=te===Q&&Fe.id===re;nt.setState(Fe,te,ci)}let qt=!1;Fe.version===Pt.__version?(Pt.needsLights&&Pt.lightsStateVersion!==Pn.state.version||Pt.outputColorSpace!==yt||Oe.isBatchedMesh&&Pt.batching===!1||!Oe.isBatchedMesh&&Pt.batching===!0||Oe.isBatchedMesh&&Pt.batchingColor===!0&&Oe.colorTexture===null||Oe.isBatchedMesh&&Pt.batchingColor===!1&&Oe.colorTexture!==null||Oe.isInstancedMesh&&Pt.instancing===!1||!Oe.isInstancedMesh&&Pt.instancing===!0||Oe.isSkinnedMesh&&Pt.skinning===!1||!Oe.isSkinnedMesh&&Pt.skinning===!0||Oe.isInstancedMesh&&Pt.instancingColor===!0&&Oe.instanceColor===null||Oe.isInstancedMesh&&Pt.instancingColor===!1&&Oe.instanceColor!==null||Oe.isInstancedMesh&&Pt.instancingMorph===!0&&Oe.morphTexture===null||Oe.isInstancedMesh&&Pt.instancingMorph===!1&&Oe.morphTexture!==null||Pt.envMap!==Ut||Fe.fog===!0&&Pt.fog!==St||Pt.numClippingPlanes!==void 0&&(Pt.numClippingPlanes!==nt.numPlanes||Pt.numIntersection!==nt.numIntersection)||Pt.vertexAlphas!==kt||Pt.vertexTangents!==Kt||Pt.morphTargets!==Bt||Pt.morphNormals!==Zt||Pt.morphColors!==Tn||Pt.toneMapping!==ir||Pt.morphTargetsCount!==on)&&(qt=!0):(qt=!0,Pt.__version=Fe.version);let Qr=Pt.currentProgram;qt===!0&&(Qr=_a(Fe,Me,Oe));let wa=!1,nr=!1,qi=!1;const Bn=Qr.getUniforms(),Dr=Pt.uniforms;if(qe.useProgram(Qr.program)&&(wa=!0,nr=!0,qi=!0),Fe.id!==re&&(re=Fe.id,nr=!0),wa||Q!==te){qe.buffers.depth.getReversed()&&te.reversedDepth!==!0&&(te._reversedDepth=!0,te.updateProjectionMatrix()),Bn.setValue(ne,"projectionMatrix",te.projectionMatrix),Bn.setValue(ne,"viewMatrix",te.matrixWorldInverse);const fi=Bn.map.cameraPosition;fi!==void 0&&fi.setValue(ne,ut.setFromMatrixPosition(te.matrixWorld)),De.logarithmicDepthBuffer&&Bn.setValue(ne,"logDepthBufFC",2/(Math.log(te.far+1)/Math.LN2)),(Fe.isMeshPhongMaterial||Fe.isMeshToonMaterial||Fe.isMeshLambertMaterial||Fe.isMeshBasicMaterial||Fe.isMeshStandardMaterial||Fe.isShaderMaterial)&&Bn.setValue(ne,"isOrthographic",te.isOrthographicCamera===!0),Q!==te&&(Q=te,nr=!0,qi=!0)}if(Pt.needsLights&&(Pn.state.directionalShadowMap.length>0&&Bn.setValue(ne,"directionalShadowMap",Pn.state.directionalShadowMap,de),Pn.state.spotShadowMap.length>0&&Bn.setValue(ne,"spotShadowMap",Pn.state.spotShadowMap,de),Pn.state.pointShadowMap.length>0&&Bn.setValue(ne,"pointShadowMap",Pn.state.pointShadowMap,de)),Oe.isSkinnedMesh){Bn.setOptional(ne,Oe,"bindMatrix"),Bn.setOptional(ne,Oe,"bindMatrixInverse");const ci=Oe.skeleton;ci&&(ci.boneTexture===null&&ci.computeBoneTexture(),Bn.setValue(ne,"boneTexture",ci.boneTexture,de))}Oe.isBatchedMesh&&(Bn.setOptional(ne,Oe,"batchingTexture"),Bn.setValue(ne,"batchingTexture",Oe._matricesTexture,de),Bn.setOptional(ne,Oe,"batchingIdTexture"),Bn.setValue(ne,"batchingIdTexture",Oe._indirectTexture,de),Bn.setOptional(ne,Oe,"batchingColorTexture"),Oe._colorsTexture!==null&&Bn.setValue(ne,"batchingColorTexture",Oe._colorsTexture,de));const Ir=je.morphAttributes;if((Ir.position!==void 0||Ir.normal!==void 0||Ir.color!==void 0)&&vt.update(Oe,je,Qr),(nr||Pt.receiveShadow!==Oe.receiveShadow)&&(Pt.receiveShadow=Oe.receiveShadow,Bn.setValue(ne,"receiveShadow",Oe.receiveShadow)),Fe.isMeshGouraudMaterial&&Fe.envMap!==null&&(Dr.envMap.value=Ut,Dr.flipEnvMap.value=Ut.isCubeTexture&&Ut.isRenderTargetTexture===!1?-1:1),Fe.isMeshStandardMaterial&&Fe.envMap===null&&Me.environment!==null&&(Dr.envMapIntensity.value=Me.environmentIntensity),Dr.dfgLUT!==void 0&&(Dr.dfgLUT.value=Nae()),nr&&(Bn.setValue(ne,"toneMappingExposure",L.toneMappingExposure),Pt.needsLights&&vo(Dr,qi),St&&Fe.fog===!0&&Mt.refreshFogUniforms(Dr,St),Mt.refreshMaterialUniforms(Dr,Fe,le,Z,R.state.transmissionRenderTarget[te.id]),CM.upload(ne,Ls(Pt),Dr,de)),Fe.isShaderMaterial&&Fe.uniformsNeedUpdate===!0&&(CM.upload(ne,Ls(Pt),Dr,de),Fe.uniformsNeedUpdate=!1),Fe.isSpriteMaterial&&Bn.setValue(ne,"center",Oe.center),Bn.setValue(ne,"modelViewMatrix",Oe.modelViewMatrix),Bn.setValue(ne,"normalMatrix",Oe.normalMatrix),Bn.setValue(ne,"modelMatrix",Oe.matrixWorld),Fe.isShaderMaterial||Fe.isRawShaderMaterial){const ci=Fe.uniformsGroups;for(let fi=0,rl=ci.length;fi<rl;fi++){const Xi=ci[fi];it.update(Xi,Qr),it.bind(Xi,Qr)}}return Qr}function vo(te,Me){te.ambientLightColor.needsUpdate=Me,te.lightProbe.needsUpdate=Me,te.directionalLights.needsUpdate=Me,te.directionalLightShadows.needsUpdate=Me,te.pointLights.needsUpdate=Me,te.pointLightShadows.needsUpdate=Me,te.spotLights.needsUpdate=Me,te.spotLightShadows.needsUpdate=Me,te.rectAreaLights.needsUpdate=Me,te.hemisphereLights.needsUpdate=Me}function cs(te){return te.isMeshLambertMaterial||te.isMeshToonMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.isShadowMaterial||te.isShaderMaterial&&te.lights===!0}this.getActiveCubeFace=function(){return V},this.getActiveMipmapLevel=function(){return j},this.getRenderTarget=function(){return Y},this.setRenderTargetTextures=function(te,Me,je){const Fe=H.get(te);Fe.__autoAllocateDepthBuffer=te.resolveDepthBuffer===!1,Fe.__autoAllocateDepthBuffer===!1&&(Fe.__useRenderToTexture=!1),H.get(te.texture).__webglTexture=Me,H.get(te.depthTexture).__webglTexture=Fe.__autoAllocateDepthBuffer?void 0:je,Fe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(te,Me){const je=H.get(te);je.__webglFramebuffer=Me,je.__useDefaultFramebuffer=Me===void 0};const ks=ne.createFramebuffer();this.setRenderTarget=function(te,Me=0,je=0){Y=te,V=Me,j=je;let Fe=null,Oe=!1,St=!1;if(te){const yt=H.get(te);if(yt.__useDefaultFramebuffer!==void 0){qe.bindFramebuffer(ne.FRAMEBUFFER,yt.__webglFramebuffer),W.copy(te.viewport),X.copy(te.scissor),se=te.scissorTest,qe.viewport(W),qe.scissor(X),qe.setScissorTest(se),re=-1;return}else if(yt.__webglFramebuffer===void 0)de.setupRenderTarget(te);else if(yt.__hasExternalTextures)de.rebindTextures(te,H.get(te.texture).__webglTexture,H.get(te.depthTexture).__webglTexture);else if(te.depthBuffer){const Kt=te.depthTexture;if(yt.__boundDepthTexture!==Kt){if(Kt!==null&&H.has(Kt)&&(te.width!==Kt.image.width||te.height!==Kt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");de.setupDepthRenderbuffer(te)}}const Ut=te.texture;(Ut.isData3DTexture||Ut.isDataArrayTexture||Ut.isCompressedArrayTexture)&&(St=!0);const kt=H.get(te).__webglFramebuffer;te.isWebGLCubeRenderTarget?(Array.isArray(kt[Me])?Fe=kt[Me][je]:Fe=kt[Me],Oe=!0):te.samples>0&&de.useMultisampledRTT(te)===!1?Fe=H.get(te).__webglMultisampledFramebuffer:Array.isArray(kt)?Fe=kt[je]:Fe=kt,W.copy(te.viewport),X.copy(te.scissor),se=te.scissorTest}else W.copy(ue).multiplyScalar(le).floor(),X.copy(ce).multiplyScalar(le).floor(),se=Se;if(je!==0&&(Fe=ks),qe.bindFramebuffer(ne.FRAMEBUFFER,Fe)&&qe.drawBuffers(te,Fe),qe.viewport(W),qe.scissor(X),qe.setScissorTest(se),Oe){const yt=H.get(te.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+Me,yt.__webglTexture,je)}else if(St){const yt=Me;for(let Ut=0;Ut<te.textures.length;Ut++){const kt=H.get(te.textures[Ut]);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0+Ut,kt.__webglTexture,je,yt)}}else if(te!==null&&je!==0){const yt=H.get(te.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,yt.__webglTexture,je)}re=-1},this.readRenderTargetPixels=function(te,Me,je,Fe,Oe,St,Rt,yt=0){if(!(te&&te.isWebGLRenderTarget)){$t("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ut=H.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&Rt!==void 0&&(Ut=Ut[Rt]),Ut){qe.bindFramebuffer(ne.FRAMEBUFFER,Ut);try{const kt=te.textures[yt],Kt=kt.format,Bt=kt.type;if(!De.textureFormatReadable(Kt)){$t("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!De.textureTypeReadable(Bt)){$t("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Me>=0&&Me<=te.width-Fe&&je>=0&&je<=te.height-Oe&&(te.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+yt),ne.readPixels(Me,je,Fe,Oe,rt.convert(Kt),rt.convert(Bt),St))}finally{const kt=Y!==null?H.get(Y).__webglFramebuffer:null;qe.bindFramebuffer(ne.FRAMEBUFFER,kt)}}},this.readRenderTargetPixelsAsync=async function(te,Me,je,Fe,Oe,St,Rt,yt=0){if(!(te&&te.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ut=H.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&Rt!==void 0&&(Ut=Ut[Rt]),Ut)if(Me>=0&&Me<=te.width-Fe&&je>=0&&je<=te.height-Oe){qe.bindFramebuffer(ne.FRAMEBUFFER,Ut);const kt=te.textures[yt],Kt=kt.format,Bt=kt.type;if(!De.textureFormatReadable(Kt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!De.textureTypeReadable(Bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Zt=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Zt),ne.bufferData(ne.PIXEL_PACK_BUFFER,St.byteLength,ne.STREAM_READ),te.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+yt),ne.readPixels(Me,je,Fe,Oe,rt.convert(Kt),rt.convert(Bt),0);const Tn=Y!==null?H.get(Y).__webglFramebuffer:null;qe.bindFramebuffer(ne.FRAMEBUFFER,Tn);const ir=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await jZ(ne,ir,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Zt),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,St),ne.deleteBuffer(Zt),ne.deleteSync(ir),St}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(te,Me=null,je=0){const Fe=Math.pow(2,-je),Oe=Math.floor(te.image.width*Fe),St=Math.floor(te.image.height*Fe),Rt=Me!==null?Me.x:0,yt=Me!==null?Me.y:0;de.setTexture2D(te,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,je,0,0,Rt,yt,Oe,St),qe.unbindTexture()};const yo=ne.createFramebuffer(),Ft=ne.createFramebuffer();this.copyTextureToTexture=function(te,Me,je=null,Fe=null,Oe=0,St=null){St===null&&(Oe!==0?(Pb("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),St=Oe,Oe=0):St=0);let Rt,yt,Ut,kt,Kt,Bt,Zt,Tn,ir;const Hn=te.isCompressedTexture?te.mipmaps[St]:te.image;if(je!==null)Rt=je.max.x-je.min.x,yt=je.max.y-je.min.y,Ut=je.isBox3?je.max.z-je.min.z:1,kt=je.min.x,Kt=je.min.y,Bt=je.isBox3?je.min.z:0;else{const Ir=Math.pow(2,-Oe);Rt=Math.floor(Hn.width*Ir),yt=Math.floor(Hn.height*Ir),te.isDataArrayTexture?Ut=Hn.depth:te.isData3DTexture?Ut=Math.floor(Hn.depth*Ir):Ut=1,kt=0,Kt=0,Bt=0}Fe!==null?(Zt=Fe.x,Tn=Fe.y,ir=Fe.z):(Zt=0,Tn=0,ir=0);const on=rt.convert(Me.format),Pt=rt.convert(Me.type);let Pn;Me.isData3DTexture?(de.setTexture3D(Me,0),Pn=ne.TEXTURE_3D):Me.isDataArrayTexture||Me.isCompressedArrayTexture?(de.setTexture2DArray(Me,0),Pn=ne.TEXTURE_2D_ARRAY):(de.setTexture2D(Me,0),Pn=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,Me.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Me.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,Me.unpackAlignment);const qt=ne.getParameter(ne.UNPACK_ROW_LENGTH),Qr=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),wa=ne.getParameter(ne.UNPACK_SKIP_PIXELS),nr=ne.getParameter(ne.UNPACK_SKIP_ROWS),qi=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Hn.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Hn.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,kt),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Kt),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Bt);const Bn=te.isDataArrayTexture||te.isData3DTexture,Dr=Me.isDataArrayTexture||Me.isData3DTexture;if(te.isDepthTexture){const Ir=H.get(te),ci=H.get(Me),fi=H.get(Ir.__renderTarget),rl=H.get(ci.__renderTarget);qe.bindFramebuffer(ne.READ_FRAMEBUFFER,fi.__webglFramebuffer),qe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,rl.__webglFramebuffer);for(let Xi=0;Xi<Ut;Xi++)Bn&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,H.get(te).__webglTexture,Oe,Bt+Xi),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,H.get(Me).__webglTexture,St,ir+Xi)),ne.blitFramebuffer(kt,Kt,Rt,yt,Zt,Tn,Rt,yt,ne.DEPTH_BUFFER_BIT,ne.NEAREST);qe.bindFramebuffer(ne.READ_FRAMEBUFFER,null),qe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(Oe!==0||te.isRenderTargetTexture||H.has(te)){const Ir=H.get(te),ci=H.get(Me);qe.bindFramebuffer(ne.READ_FRAMEBUFFER,yo),qe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Ft);for(let fi=0;fi<Ut;fi++)Bn?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ir.__webglTexture,Oe,Bt+fi):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Ir.__webglTexture,Oe),Dr?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ci.__webglTexture,St,ir+fi):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,ci.__webglTexture,St),Oe!==0?ne.blitFramebuffer(kt,Kt,Rt,yt,Zt,Tn,Rt,yt,ne.COLOR_BUFFER_BIT,ne.NEAREST):Dr?ne.copyTexSubImage3D(Pn,St,Zt,Tn,ir+fi,kt,Kt,Rt,yt):ne.copyTexSubImage2D(Pn,St,Zt,Tn,kt,Kt,Rt,yt);qe.bindFramebuffer(ne.READ_FRAMEBUFFER,null),qe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else Dr?te.isDataTexture||te.isData3DTexture?ne.texSubImage3D(Pn,St,Zt,Tn,ir,Rt,yt,Ut,on,Pt,Hn.data):Me.isCompressedArrayTexture?ne.compressedTexSubImage3D(Pn,St,Zt,Tn,ir,Rt,yt,Ut,on,Hn.data):ne.texSubImage3D(Pn,St,Zt,Tn,ir,Rt,yt,Ut,on,Pt,Hn):te.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,St,Zt,Tn,Rt,yt,on,Pt,Hn.data):te.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,St,Zt,Tn,Hn.width,Hn.height,on,Hn.data):ne.texSubImage2D(ne.TEXTURE_2D,St,Zt,Tn,Rt,yt,on,Pt,Hn);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,qt),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Qr),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,wa),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,nr),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,qi),St===0&&Me.generateMipmaps&&ne.generateMipmap(Pn),qe.unbindTexture()},this.initRenderTarget=function(te){H.get(te).__webglFramebuffer===void 0&&de.setupRenderTarget(te)},this.initTexture=function(te){te.isCubeTexture?de.setTextureCube(te,0):te.isData3DTexture?de.setTexture3D(te,0):te.isDataArrayTexture||te.isCompressedArrayTexture?de.setTexture2DArray(te,0):de.setTexture2D(te,0),qe.unbindTexture()},this.resetState=function(){V=0,j=0,Y=null,qe.reset(),wt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return wl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Xn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Xn._getUnpackColorSpace()}}const Dae=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:o3,AddEquation:Sp,AddOperation:gV,AdditiveAnimationBlendMode:nU,AdditiveBlending:$M,AgXToneMapping:XL,AlphaFormat:eU,AlwaysCompare:PV,AlwaysDepth:eT,AlwaysStencilFunc:HD,AmbientLight:xj,AnimationAction:Tj,AnimationClip:$_,AnimationLoader:DJ,AnimationMixer:lee,AnimationObjectGroup:see,AnimationUtils:PJ,ArcCurve:YV,ArrayCamera:Aj,ArrowHelper:Ree,AttachedBindMode:GD,Audio:Ej,AudioAnalyser:$J,AudioContext:CU,AudioListener:XJ,AudioLoader:jJ,AxesHelper:Nee,BackSide:fo,BasicDepthPacking:_V,BasicShadowMap:$H,BatchedMesh:HV,Bone:cU,BooleanKeyframeTrack:D0,Box2:gee,Box3:Vi,Box3Helper:Pee,BoxGeometry:N0,BoxHelper:Cee,BufferAttribute:Yn,BufferGeometry:dn,BufferGeometryLoader:Sj,ByteType:$L,Cache:Ef,Camera:x3,CameraHelper:Tee,CanvasTexture:QQ,CapsuleGeometry:T3,CatmullRomCurve3:KV,CineonToneMapping:WL,CircleGeometry:C3,ClampToEdgeWrapping:$o,Clock:PU,Color:Ot,ColorKeyframeTrack:AU,ColorManagement:Xn,CompressedArrayTexture:$Q,CompressedCubeTexture:ZQ,CompressedTexture:M3,CompressedTextureLoader:IJ,ConeGeometry:jw,ConstantAlphaFactor:dV,ConstantColorFactor:fV,Controls:Iee,CubeCamera:UV,CubeDepthTexture:qV,CubeReflectionMapping:Nf,CubeRefractionMapping:$p,CubeTexture:Hw,CubeTextureLoader:LJ,CubeUVReflectionMapping:Jb,CubicBezierCurve:pU,CubicBezierCurve3:$V,CubicInterpolant:hj,CullFaceBack:BD,CullFaceFront:KH,CullFaceFrontBack:tZ,CullFaceNone:YH,Curve:bc,CurvePath:QV,CustomBlending:ZH,CustomToneMapping:qL,CylinderGeometry:Vw,Cylindrical:mee,Data3DTexture:b3,DataArrayTexture:y3,DataTexture:pc,DataTextureLoader:UJ,DataUtils:_Q,DecrementStencilOp:yZ,DecrementWrapStencilOp:xZ,DefaultLoadingManager:mj,DepthFormat:If,DepthStencilFormat:jp,DepthTexture:Db,DetachedBindMode:vV,DirectionalLight:bj,DirectionalLightHelper:Mee,DiscreteInterpolant:dj,DodecahedronGeometry:P3,DoubleSide:_u,DstAlphaFactor:sV,DstColorFactor:lV,DynamicCopyUsage:LZ,DynamicDrawUsage:PZ,DynamicReadUsage:NZ,EdgesGeometry:XV,EllipseCurve:O3,EqualCompare:MV,EqualDepth:nT,EqualStencilFunc:AZ,EquirectangularReflectionMapping:I_,EquirectangularRefractionMapping:L_,Euler:Cl,EventDispatcher:Uf,ExternalTexture:hU,ExtrudeGeometry:R3,FileLoader:rd,Float16BufferAttribute:CQ,Float32BufferAttribute:zt,FloatType:ao,Fog:w3,FogExp2:_3,FramebufferTexture:KQ,FrontSide:nd,Frustum:ex,FrustumArray:E3,GLBufferAttribute:hee,GLSL1:kZ,GLSL3:VD,GreaterCompare:TV,GreaterDepth:iT,GreaterEqualCompare:v3,GreaterEqualDepth:rT,GreaterEqualStencilFunc:CZ,GreaterStencilFunc:MZ,GridHelper:Aee,Group:_y,HalfFloatType:Df,HemisphereLight:gj,HemisphereLightHelper:See,IcosahedronGeometry:N3,ImageBitmapLoader:VJ,ImageLoader:Z_,ImageUtils:DV,IncrementStencilOp:vZ,IncrementWrapStencilOp:bZ,InstancedBufferAttribute:m0,InstancedBufferGeometry:V3,InstancedInterleavedBuffer:VT,InstancedMesh:GV,Int16BufferAttribute:MQ,Int32BufferAttribute:TQ,Int8BufferAttribute:SQ,IntType:u3,InterleavedBuffer:S3,InterleavedBufferAttribute:Sl,Interpolant:Xw,InterpolateDiscrete:B_,InterpolateLinear:BT,InterpolateSmooth:MM,InterpolationSamplingMode:zZ,InterpolationSamplingType:FZ,InvertStencilOp:_Z,KeepStencilOp:mg,KeyframeTrack:Pu,LOD:FV,LatheGeometry:D3,Layers:Rb,LessCompare:EV,LessDepth:tT,LessEqualCompare:g3,LessEqualDepth:d0,LessEqualStencilFunc:EZ,LessStencilFunc:SZ,Light:lm,LightProbe:wj,Line:Jp,Line3:Cj,LineBasicMaterial:mo,LineCurve:mU,LineCurve3:ZV,LineDashedMaterial:cj,LineLoop:VV,LineSegments:kf,LinearFilter:Or,LinearInterpolant:SU,LinearMipMapLinearFilter:aZ,LinearMipMapNearestFilter:iZ,LinearMipmapLinearFilter:Af,LinearMipmapNearestFilter:y_,LinearSRGBColorSpace:Zp,LinearToneMapping:VL,LinearTransfer:z_,Loader:el,LoaderUtils:YD,LoadingManager:EU,LoopOnce:yV,LoopPingPong:xV,LoopRepeat:bV,MOUSE:dg,Material:Is,MaterialLoader:H3,MathUtils:A_,Matrix2:IU,Matrix3:yn,Matrix4:sn,MaxEquation:tV,Mesh:li,MeshBasicMaterial:md,MeshDepthMaterial:z3,MeshDistanceMaterial:G3,MeshLambertMaterial:lj,MeshMatcapMaterial:uj,MeshNormalMaterial:oj,MeshPhongMaterial:aj,MeshPhysicalMaterial:ij,MeshStandardMaterial:_U,MeshToonMaterial:sj,MinEquation:eV,MirroredRepeatWrapping:k_,MixOperation:mV,MultiplyBlending:zD,MultiplyOperation:zw,NearestFilter:Hi,NearestMipMapLinearFilter:rZ,NearestMipMapNearestFilter:nZ,NearestMipmapLinearFilter:by,NearestMipmapNearestFilter:KL,NeutralToneMapping:YL,NeverCompare:AV,NeverDepth:JM,NeverStencilFunc:wZ,NoBlending:Cf,NoColorSpace:Hh,NoNormalPacking:hZ,NoToneMapping:Su,NormalAnimationBlendMode:m3,NormalBlending:r0,NormalGAPacking:pZ,NormalRGPacking:dZ,NotEqualCompare:CV,NotEqualDepth:aT,NotEqualStencilFunc:TZ,NumberKeyframeTrack:Y_,Object3D:er,ObjectLoader:GJ,ObjectSpaceNormalMap:SV,OctahedronGeometry:Ww,OneFactor:rV,OneMinusConstantAlphaFactor:pV,OneMinusConstantColorFactor:hV,OneMinusDstAlphaFactor:oV,OneMinusDstColorFactor:uV,OneMinusSrcAlphaFactor:QM,OneMinusSrcColorFactor:aV,OrthographicCamera:Zh,PCFShadowMap:Oy,PCFSoftShadowMap:v_,PMREMGenerator:ZD,Path:HT,PerspectiveCamera:Fi,Plane:Ch,PlaneGeometry:gd,PlaneHelper:Oee,PointLight:yj,PointLightHelper:_ee,Points:jV,PointsMaterial:fU,PolarGridHelper:Eee,PolyhedronGeometry:om,PositionalAudio:KJ,PropertyBinding:rr,PropertyMixer:Mj,QuadraticBezierCurve:gU,QuadraticBezierCurve3:vU,Quaternion:Rs,QuaternionKeyframeTrack:Yw,QuaternionLinearInterpolant:pj,R11_EAC_Format:dT,RED_GREEN_RGTC2_Format:UT,RED_RGTC1_Format:IT,REVISION:O0,RG11_EAC_Format:mT,RGBADepthPacking:wV,RGBAFormat:Os,RGBAIntegerFormat:p3,RGBA_ASTC_10x10_Format:CT,RGBA_ASTC_10x5_Format:ET,RGBA_ASTC_10x6_Format:MT,RGBA_ASTC_10x8_Format:TT,RGBA_ASTC_12x10_Format:PT,RGBA_ASTC_12x12_Format:OT,RGBA_ASTC_4x4_Format:vT,RGBA_ASTC_5x4_Format:yT,RGBA_ASTC_5x5_Format:bT,RGBA_ASTC_6x5_Format:xT,RGBA_ASTC_6x6_Format:_T,RGBA_ASTC_8x5_Format:wT,RGBA_ASTC_8x6_Format:ST,RGBA_ASTC_8x8_Format:AT,RGBA_BPTC_Format:RT,RGBA_ETC2_EAC_Format:hT,RGBA_PVRTC_2BPPV1_Format:uT,RGBA_PVRTC_4BPPV1_Format:lT,RGBA_S3TC_DXT1_Format:x_,RGBA_S3TC_DXT3_Format:__,RGBA_S3TC_DXT5_Format:w_,RGBDepthPacking:cZ,RGBFormat:tU,RGBIntegerFormat:sZ,RGB_BPTC_SIGNED_Format:NT,RGB_BPTC_UNSIGNED_Format:DT,RGB_ETC1_Format:cT,RGB_ETC2_Format:fT,RGB_PVRTC_2BPPV1_Format:oT,RGB_PVRTC_4BPPV1_Format:sT,RGB_S3TC_DXT1_Format:b_,RGDepthPacking:fZ,RGFormat:p0,RGIntegerFormat:d3,RawShaderMaterial:xU,Ray:R0,Raycaster:DU,RectAreaLight:_j,RedFormat:h3,RedIntegerFormat:Gw,ReinhardToneMapping:jL,RenderTarget:iU,RenderTarget3D:uee,RepeatWrapping:U_,ReplaceStencilOp:gZ,ReverseSubtractEquation:JH,RingGeometry:I3,SIGNED_R11_EAC_Format:pT,SIGNED_RED_GREEN_RGTC2_Format:kT,SIGNED_RED_RGTC1_Format:LT,SIGNED_RG11_EAC_Format:gT,SRGBColorSpace:Ps,SRGBTransfer:vr,Scene:lU,ShaderChunk:Sn,ShaderLib:sc,ShaderMaterial:ho,ShadowMaterial:rj,Shape:a0,ShapeGeometry:L3,ShapePath:Dee,ShapeUtils:hc,ShortType:ZL,Skeleton:A3,SkeletonHelper:xee,SkinnedMesh:zV,Source:Wp,Sphere:ra,SphereGeometry:qw,Spherical:jT,SphericalHarmonics3:TU,SplineCurve:yU,SpotLight:vj,SpotLightHelper:bee,Sprite:BV,SpriteMaterial:uU,SrcAlphaFactor:ZM,SrcAlphaSaturateFactor:cV,SrcColorFactor:iV,StaticCopyUsage:IZ,StaticDrawUsage:G_,StaticReadUsage:RZ,StereoCamera:WJ,StreamCopyUsage:UZ,StreamDrawUsage:OZ,StreamReadUsage:DZ,StringKeyframeTrack:I0,SubtractEquation:QH,SubtractiveBlending:FD,TOUCH:pg,TangentSpaceNormalMap:sm,TetrahedronGeometry:U3,Texture:_i,TextureLoader:kJ,TextureUtils:Fee,Timer:dee,TimestampQuery:BZ,TorusGeometry:k3,TorusKnotGeometry:B3,Triangle:Yo,TriangleFanDrawMode:uZ,TriangleStripDrawMode:lZ,TrianglesDrawMode:oZ,TubeGeometry:F3,UVMapping:l3,Uint16BufferAttribute:aU,Uint32BufferAttribute:sU,Uint8BufferAttribute:AQ,Uint8ClampedBufferAttribute:EQ,Uniform:NU,UniformsGroup:fee,UniformsLib:Nt,UniformsUtils:j_,UnsignedByteType:no,UnsignedInt101111Type:JL,UnsignedInt248Type:Tb,UnsignedInt5999Type:QL,UnsignedIntType:Au,UnsignedShort4444Type:c3,UnsignedShort5551Type:f3,UnsignedShortType:Mb,VSMShadowMap:Tg,Vector2:st,Vector3:oe,Vector4:Qn,VectorKeyframeTrack:K_,VideoFrameTexture:YQ,VideoTexture:WV,WebGL3DRenderTarget:fQ,WebGLArrayRenderTarget:cQ,WebGLCoordinateSystem:wl,WebGLCubeRenderTarget:oU,WebGLRenderTarget:Ml,WebGLRenderer:Uj,WebGLUtils:Lj,WebGPUCoordinateSystem:Cb,WebXRController:TM,WireframeGeometry:bU,WrapAroundEnding:F_,ZeroCurvatureEnding:Cg,ZeroFactor:nV,ZeroSlopeEnding:Pg,ZeroStencilOp:mZ,createCanvasElement:NV,error:$t,getConsoleFunction:VZ,log:V_,setConsoleFunction:HZ,warn:Dt,warnOnce:Pb},Symbol.toStringTag,{value:"Module"}));var wR={exports:{}},SR={},AR={exports:{}},ER={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oF;function Iae(){if(oF)return ER;oF=1;var n=Qb();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function o(p,v){var y=v(),x=r({inst:{value:y,getSnapshot:v}}),S=x[0].inst,w=x[1];return a(function(){S.value=y,S.getSnapshot=v,u(S)&&w({inst:S})},[p,y,v]),i(function(){return u(S)&&w({inst:S}),p(function(){u(S)&&w({inst:S})})},[p]),s(y),y}function u(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!t(p,y)}catch{return!0}}function c(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return ER.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,ER}var lF;function Lae(){return lF||(lF=1,AR.exports=Iae()),AR.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uF;function Uae(){if(uF)return SR;uF=1;var n=Qb(),e=Lae();function t(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=n.useRef,s=n.useEffect,o=n.useMemo,u=n.useDebugValue;return SR.useSyncExternalStoreWithSelector=function(c,h,p,v,y){var x=a(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=o(function(){function A(D){if(!T){if(T=!0,C=D,D=v(D),y!==void 0&&S.hasValue){var I=S.value;if(y(I,D))return O=I}return O=D}if(I=O,r(C,D))return I;var F=v(D);return y!==void 0&&y(I,F)?(C=D,I):(C=D,O=F)}var T=!1,C,O,R=p===void 0?null:p;return[function(){return A(h())},R===null?void 0:function(){return A(R())}]},[h,p,v,y]);var w=i(c,x[0],x[1]);return s(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},SR}var cF;function kae(){return cF||(cF=1,wR.exports=Uae()),wR.exports}var kj=kae();const Bae=Cu(kj),fF=n=>{let e;const t=new Set,r=(c,h)=>{const p=typeof c=="function"?c(e):c;if(!Object.is(p,e)){const v=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,v))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(t.add(c),()=>t.delete(c))},u=e=n(r,i,o);return o},Fae=(n=>n?fF(n):fF),{useSyncExternalStoreWithSelector:zae}=Bae,Gae=n=>n;function Hae(n,e=Gae,t){const r=zae(n.subscribe,n.getState,n.getInitialState,e,t);return Fw.useDebugValue(r),r}const hF=(n,e)=>{const t=Fae(n),r=(i,a=e)=>Hae(t,i,a);return Object.assign(r,t),r},Bj=((n,e)=>n?hF(n,e):hF),Vae=n=>typeof n=="object"&&typeof n.then=="function",jE=[];function jae(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Wae(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const a of jE)if(jae(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!t)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=jE.indexOf(i);a!==-1&&jE.splice(a,1)},promise:(Vae(n)?n:n(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(jE.push(i),!t)throw i.promise}const qae=(n,e,t)=>Wae(n,e,!1,t);var eI=qH();const Xae=Cu(eI);function LU(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=LU(r,e,t);if(i)return i;r=e?null:r.sibling}}function Fj(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const UU=Fj(z.createContext(null));class zj extends z.Component{render(){return z.createElement(UU.Provider,{value:this._reactInternals},this.props.children)}}function Gj(){const n=z.useContext(UU);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=LU(t,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[n,e])}const Yae=Symbol.for("react.context"),Kae=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Yae;function $ae(){const n=Gj(),[e]=z.useState(()=>new Map);e.clear();let t=n;for(;t;){const r=t.type;Kae(r)&&r!==UU&&!e.has(r)&&e.set(r,z.use(Fj(r))),t=t.return}return e}function Zae(){const n=$ae();return z.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>z.createElement(e,null,z.createElement(t.Provider,{...r,value:n.get(t)})),e=>z.createElement(zj,{...e})),[n])}function Hj(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Vj=n=>n&&n.isOrthographicCamera,Qae=n=>n&&n.hasOwnProperty("current"),Jae=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Kw=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?z.useLayoutEffect:z.useEffect;function kU(n){const e=z.useRef(n);return Kw(()=>void(e.current=n),[n]),e}function ese(){const n=Gj(),e=Zae();return z.useMemo(()=>({children:t})=>{const i=!!LU(n,!0,a=>a.type===z.StrictMode)?z.StrictMode:z.Fragment;return K.jsx(i,{children:K.jsx(e,{children:t})})},[n,e])}function tse({set:n}){return Kw(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const nse=(n=>(n=class extends z.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function jj(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function sy(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const yi={obj:n=>n===Object(n)&&!yi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(yi.str(n)||yi.num(n)||yi.boo(n))return n===e;const a=yi.obj(n);if(a&&r==="reference")return n===e;const s=yi.arr(n);if(s&&t==="reference")return n===e;if((s||a)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(o in i?e:n)if(!yi.equ(n[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:n)if(n[o]!==e[o])return!1;if(yi.und(o)){if(s&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function rse(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const Wj=["children","key","ref"];function ise(n){const e={};for(const t in n)Wj.includes(t)||(e[t]=n[t]);return e}function WT(n,e,t,r){const i=n;let a=i==null?void 0:i.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:ise(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function Q_(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const r=e.split("-");for(const i of r){if(typeof t!="object"||t===null){if(t!==void 0){const a=r.slice(r.indexOf(i)).join("-");return{root:t,key:a,target:void 0}}return{root:n,key:e,target:void 0}}e=i,n=t,t=t[e]}return{root:n,key:e,target:t}}const dF=/-\d+$/;function qT(n,e){if(yi.str(e.props.attach)){if(dF.test(e.props.attach)){const i=e.props.attach.replace(dF,""),{root:a,key:s}=Q_(n.object,i);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:r}=Q_(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else yi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function XT(n,e){if(yi.str(e.props.attach)){const{root:t,key:r}=Q_(n.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[r]:t[r]=i}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const tI=[...Wj,"args","dispose","attach","object","onUpdate","dispose"],pF=new Map;function ase(n){let e=pF.get(n.constructor);try{e||(e=new n.constructor,pF.set(n.constructor,e))}catch{}return e}function sse(n,e){const t={};for(const r in e)if(!tI.includes(r)&&!yi.equ(e[r],n.props[r])){t[r]=e[r];for(const i in e)i.startsWith(`${r}-`)&&(t[i]=e[i])}for(const r in n.props){if(tI.includes(r)||e.hasOwnProperty(r))continue;const{root:i,key:a}=Q_(n.object,r);if(i.constructor&&i.constructor.length===0){const s=ase(i);yi.und(s)||(t[a]=s[a])}else t[a]=0}return t}const ose=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],lse=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Ap(n,e){var t;const r=n.__r3f,i=r&&Hj(r).getState(),a=r==null?void 0:r.eventCount;for(const o in e){let u=e[o];if(tI.includes(o))continue;if(r&&lse.test(o)){typeof u=="function"?r.handlers[o]=u:delete r.handlers[o],r.eventCount=Object.keys(r.handlers).length;continue}if(u===void 0)continue;let{root:c,key:h,target:p}=Q_(n,o);if(p===void 0&&(typeof c!="object"||c===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${h}".`);if(p instanceof Rb&&u instanceof Rb)p.mask=u.mask;else if(p instanceof Ot&&Jae(u))p.set(u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&u!=null&&u.constructor&&p.constructor===u.constructor)p.copy(u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(u))typeof p.fromArray=="function"?p.fromArray(u):p.set(...u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof u=="number")typeof p.setScalar=="function"?p.setScalar(u):p.set(u);else{var s;c[h]=u,i&&!i.linear&&ose.includes(h)&&(s=c[h])!=null&&s.isTexture&&c[h].format===Os&&c[h].type===no&&(c[h].colorSpace=Ps)}}if(r!=null&&r.parent&&i!=null&&i.internal&&(t=r.object)!=null&&t.isObject3D&&a!==r.eventCount){const o=r.object,u=i.internal.interaction.indexOf(o);u>-1&&i.internal.interaction.splice(u,1),r.eventCount&&o.raycast!==null&&i.internal.interaction.push(o)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&nx(r),n}function nx(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function qj(n,e){n.manual||(Vj(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const jo=n=>n==null?void 0:n.isObject3D;function WE(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Xj(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function use(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Xj(t.capturedMap,e,r,i)})}function cse(n){function e(u){const{internal:c}=n.getState(),h=u.offsetX-c.initialClick[0],p=u.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function t(u){return u.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function r(u,c){const h=n.getState(),p=new Set,v=[],y=c?c(h.internal.interaction):h.internal.interaction;for(let A=0;A<y.length;A++){const T=sy(y[A]);T&&(T.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(u,h);function x(A){const T=sy(A);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var C;T.events.compute==null||T.events.compute(u,T,(C=T.previousRoot)==null?void 0:C.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(A,!0):[]}let S=y.flatMap(x).sort((A,T)=>{const C=sy(A.object),O=sy(T.object);return!C||!O?A.distance-T.distance:O.events.priority-C.events.priority||A.distance-T.distance}).filter(A=>{const T=WE(A);return p.has(T)?!1:(p.add(T),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const A of S){let T=A.object;for(;T;){var w;(w=T.__r3f)!=null&&w.eventCount&&v.push({...A,eventObject:T}),T=T.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let A of h.internal.capturedMap.get(u.pointerId).values())p.has(WE(A.intersection))||v.push(A.intersection);return v}function i(u,c,h,p){if(u.length){const v={stopped:!1};for(const y of u){let x=sy(y.object);if(x||y.object.traverseAncestors(S=>{const w=sy(S);if(w)return x=w,!1}),x){const{raycaster:S,pointer:w,camera:A,internal:T}=x,C=new oe(w.x,w.y,0).unproject(A),O=L=>{var k,V;return(k=(V=T.capturedMap.get(L))==null?void 0:V.has(y.eventObject))!=null?k:!1},R=L=>{const k={intersection:y,target:c.target};T.capturedMap.has(L)?T.capturedMap.get(L).set(y.eventObject,k):T.capturedMap.set(L,new Map([[y.eventObject,k]])),c.target.setPointerCapture(L)},D=L=>{const k=T.capturedMap.get(L);k&&Xj(T.capturedMap,y.eventObject,k,L)};let I={};for(let L in c){let k=c[L];typeof k!="function"&&(I[L]=k)}let F={...y,...I,pointer:w,intersections:u,stopped:v.stopped,delta:h,unprojectedPoint:C,ray:S.ray,camera:A,stopPropagation(){const L="pointerId"in c&&T.capturedMap.get(c.pointerId);if((!L||L.has(y.eventObject))&&(F.stopped=v.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(k=>k.eventObject===y.eventObject))){const k=u.slice(0,u.indexOf(y));a([...k,y])}},target:{hasPointerCapture:O,setPointerCapture:R,releasePointerCapture:D},currentTarget:{hasPointerCapture:O,setPointerCapture:R,releasePointerCapture:D},nativeEvent:c};if(p(F),v.stopped===!0)break}}}return u}function a(u){const{internal:c}=n.getState();for(const h of c.hovered.values())if(!u.length||!u.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const v=h.eventObject.__r3f;if(c.hovered.delete(WE(h)),v!=null&&v.eventCount){const y=v.handlers,x={...h,intersections:u};y.onPointerOut==null||y.onPointerOut(x),y.onPointerLeave==null||y.onPointerLeave(x)}}}function s(u,c){for(let h=0;h<c.length;h++){const p=c[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(u)}}function o(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:h}=n.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),a([]))})}}return function(h){const{onPointerMissed:p,internal:v}=n.getState();v.lastEvent.current=h;const y=u==="onPointerMove",x=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",w=r(h,y?t:void 0),A=x?e(h):0;u==="onPointerDown"&&(v.initialClick=[h.offsetX,h.offsetY],v.initialHits=w.map(C=>C.eventObject)),x&&!w.length&&A<=2&&(s(h,v.interaction),p&&p(h)),y&&a(w);function T(C){const O=C.eventObject,R=O.__r3f;if(!(R!=null&&R.eventCount))return;const D=R.handlers;if(y){if(D.onPointerOver||D.onPointerEnter||D.onPointerOut||D.onPointerLeave){const I=WE(C),F=v.hovered.get(I);F?F.stopped&&C.stopPropagation():(v.hovered.set(I,C),D.onPointerOver==null||D.onPointerOver(C),D.onPointerEnter==null||D.onPointerEnter(C))}D.onPointerMove==null||D.onPointerMove(C)}else{const I=D[u];I?(!x||v.initialHits.includes(O))&&(s(h,v.interaction.filter(F=>!v.initialHits.includes(F))),I(C)):x&&v.initialHits.includes(O)&&s(h,v.interaction.filter(F=>!v.initialHits.includes(F)))}}i(w,h,A,T)}}return{handlePointer:o}}const mF=n=>!!(n!=null&&n.render),BU=z.createContext(null),fse=(n,e)=>{const t=Bj((o,u)=>{const c=new oe,h=new oe,p=new oe;function v(A=u().camera,T=h,C=u().size){const{width:O,height:R,top:D,left:I}=C,F=O/R;T.isVector3?p.copy(T):p.set(...T);const L=A.getWorldPosition(c).distanceTo(p);if(Vj(A))return{width:O/A.zoom,height:R/A.zoom,top:D,left:I,factor:1,distance:L,aspect:F};{const k=A.fov*Math.PI/180,V=2*Math.tan(k/2)*L,j=V*(O/R);return{width:j,height:V,top:D,left:I,factor:O/j,distance:L,aspect:F}}}let y;const x=A=>o(T=>({performance:{...T.performance,current:A}})),S=new st;return{set:o,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>n(u(),A),advance:(A,T)=>e(A,T,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new PU,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=u();y&&clearTimeout(y),A.performance.current!==A.performance.min&&x(A.performance.min),y=setTimeout(()=>x(u().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:A=>o(T=>({...T,events:{...T.events,...A}})),setSize:(A,T,C=0,O=0)=>{const R=u().camera,D={width:A,height:T,top:C,left:O};o(I=>({size:D,viewport:{...I.viewport,...v(R,h,D)}}))},setDpr:A=>o(T=>{const C=jj(A);return{viewport:{...T.viewport,dpr:C,initialDpr:T.viewport.initialDpr||C}}}),setFrameloop:(A="always")=>{const T=u().clock;T.stop(),T.elapsedTime=0,A!=="never"&&(T.start(),T.elapsedTime=0),o(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:z.createRef(),active:!1,frames:0,priority:0,subscribe:(A,T,C)=>{const O=u().internal;return O.priority=O.priority+(T>0?1:0),O.subscribers.push({ref:A,priority:T,store:C}),O.subscribers=O.subscribers.sort((R,D)=>R.priority-D.priority),()=>{const R=u().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(T>0?1:0),R.subscribers=R.subscribers.filter(D=>D.ref!==A))}}}}}),r=t.getState();let i=r.size,a=r.viewport.dpr,s=r.camera;return t.subscribe(()=>{const{camera:o,size:u,viewport:c,gl:h,set:p}=t.getState();if(u.width!==i.width||u.height!==i.height||c.dpr!==a){i=u,a=c.dpr,qj(o,u),c.dpr>0&&h.setPixelRatio(c.dpr);const v=typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(u.width,u.height,v)}o!==s&&(s=o,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function FU(){const n=z.useContext(BU);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function bu(n=t=>t,e){return FU()(n,e)}function $w(n,e=0){const t=FU(),r=t.getState().internal.subscribe,i=kU(n);return Kw(()=>r(i,e,t),[e,r,t]),null}/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const hse=1,dse=8,pse=32,mse=2;var gse={version:"9.5.0"};function vse(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gF={exports:{}},vF={exports:{}},yF;function yse(){return yF||(yF=1,(function(n){n.exports=function(e){function t(d,m,_,E){return new Nx(d,m,_,E)}function r(){}function i(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){var m=d,_=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(_=m.return),d=m.return;while(d)}return m.tag===3?_:null}function s(d){if(a(d)!==d)throw Error(i(188))}function o(d){var m=d.alternate;if(!m){if(m=a(d),m===null)throw Error(i(188));return m!==d?null:d}for(var _=d,E=m;;){var N=_.return;if(N===null)break;var U=N.alternate;if(U===null){if(E=N.return,E!==null){_=E;continue}break}if(N.child===U.child){for(U=N.child;U;){if(U===_)return s(N),d;if(U===E)return s(N),m;U=U.sibling}throw Error(i(188))}if(_.return!==E.return)_=N,E=U;else{for(var ee=!1,xe=N.child;xe;){if(xe===_){ee=!0,_=N,E=U;break}if(xe===E){ee=!0,E=N,_=U;break}xe=xe.sibling}if(!ee){for(xe=U.child;xe;){if(xe===_){ee=!0,_=U,E=N;break}if(xe===E){ee=!0,E=U,_=N;break}xe=xe.sibling}if(!ee)throw Error(i(189))}}if(_.alternate!==E)throw Error(i(190))}if(_.tag!==3)throw Error(i(188));return _.stateNode.current===_?d:m}function u(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(m=u(d),m!==null)return m;d=d.sibling}return null}function c(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(d.tag!==4&&(m=c(d),m!==null))return m;d=d.sibling}return null}function h(d){return d===null||typeof d!="object"?null:(d=Fu&&d[Fu]||d["@@iterator"],typeof d=="function"?d:null)}function p(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===zc?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case th:return"Fragment";case rh:return"Profiler";case nh:return"StrictMode";case ov:return"Suspense";case Bu:return"SuspenseList";case Om:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case eh:return"Portal";case Co:return d.displayName||"Context";case Pm:return(d._context.displayName||"Context")+".Consumer";case Fd:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case lv:return m=d.displayName||null,m!==null?m:p(d.type)||"Memo";case ja:m=d._payload,d=d._init;try{return p(d(m))}catch{}}return null}function v(d){return{current:d}}function y(d){0>lh||(d.current=_v[lh],_v[lh]=null,lh--)}function x(d,m){lh++,_v[lh]=d.current,d.current=m}function S(d){return d>>>=0,d===0?32:31-(wv(d)/DA|0)|0}function w(d){var m=d&42;if(m!==0)return m;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function A(d,m,_){var E=d.pendingLanes;if(E===0)return 0;var N=0,U=d.suspendedLanes,ee=d.pingedLanes;d=d.warmLanes;var xe=E&134217727;return xe!==0?(E=xe&~U,E!==0?N=w(E):(ee&=xe,ee!==0?N=w(ee):_||(_=xe&~d,_!==0&&(N=w(_))))):(xe=E&~U,xe!==0?N=w(xe):ee!==0?N=w(ee):_||(_=E&~d,_!==0&&(N=w(_)))),N===0?0:m!==0&&m!==N&&(m&U)===0&&(U=N&-N,_=m&-m,U>=_||U===32&&(_&4194048)!==0)?m:N}function T(d,m){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&m)===0}function C(d,m){switch(d){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O(){var d=qd;return qd<<=1,(qd&62914560)===0&&(qd=4194304),d}function R(d){for(var m=[],_=0;31>_;_++)m.push(d);return m}function D(d,m){d.pendingLanes|=m,m!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function I(d,m,_,E,N,U){var ee=d.pendingLanes;d.pendingLanes=_,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=_,d.entangledLanes&=_,d.errorRecoveryDisabledLanes&=_,d.shellSuspendCounter=0;var xe=d.entanglements,Je=d.expirationTimes,gt=d.hiddenUpdates;for(_=ee&~_;0<_;){var Et=31-gs(_),xt=1<<Et;xe[Et]=0,Je[Et]=-1;var It=gt[Et];if(It!==null)for(gt[Et]=null,Et=0;Et<It.length;Et++){var pn=It[Et];pn!==null&&(pn.lane&=-536870913)}_&=~xt}E!==0&&F(d,E,0),U!==0&&N===0&&d.tag!==0&&(d.suspendedLanes|=U&~(ee&~m))}function F(d,m,_){d.pendingLanes|=m,d.suspendedLanes&=~m;var E=31-gs(m);d.entangledLanes|=m,d.entanglements[E]=d.entanglements[E]|1073741824|_&261930}function L(d,m){var _=d.entangledLanes|=m;for(d=d.entanglements;_;){var E=31-gs(_),N=1<<E;N&m|d[E]&m&&(d[E]|=m),_&=~N}}function k(d,m){var _=m&-m;return _=(_&42)!==0?1:V(_),(_&(d.suspendedLanes|m))!==0?0:_}function V(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function j(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Y(d){if(typeof v1=="function"&&UA(d),vs&&typeof vs.setStrictMode=="function")try{vs.setStrictMode(ch,d)}catch{}}function re(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}function Q(d){if(Cv===void 0)try{throw Error()}catch(_){var m=_.stack.trim().match(/\n( *(at )?)/);Cv=m&&m[1]||"",Zl=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cv+d+Zl}function W(d,m){if(!d||Fm)return"";Fm=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(m){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(pn){var It=pn}Reflect.construct(d,[],xt)}else{try{xt.call()}catch(pn){It=pn}d.call(xt.prototype)}}else{try{throw Error()}catch(pn){It=pn}(xt=d())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(pn){if(pn&&It&&typeof pn.stack=="string")return[pn.stack,It.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=E.DetermineComponentFrameRoot(),ee=U[0],xe=U[1];if(ee&&xe){var Je=ee.split(`
`),gt=xe.split(`
`);for(N=E=0;E<Je.length&&!Je[E].includes("DetermineComponentFrameRoot");)E++;for(;N<gt.length&&!gt[N].includes("DetermineComponentFrameRoot");)N++;if(E===Je.length||N===gt.length)for(E=Je.length-1,N=gt.length-1;1<=E&&0<=N&&Je[E]!==gt[N];)N--;for(;1<=E&&0<=N;E--,N--)if(Je[E]!==gt[N]){if(E!==1||N!==1)do if(E--,N--,0>N||Je[E]!==gt[N]){var Et=`
`+Je[E].replace(" at new "," at ");return d.displayName&&Et.includes("<anonymous>")&&(Et=Et.replace("<anonymous>",d.displayName)),Et}while(1<=E&&0<=N);break}}}finally{Fm=!1,Error.prepareStackTrace=_}return(_=d?d.displayName||d.name:"")?Q(_):""}function X(d,m){switch(d.tag){case 26:case 27:case 5:return Q(d.type);case 16:return Q("Lazy");case 13:return d.child!==m&&m!==null?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return W(d.type,!1);case 11:return W(d.type.render,!1);case 1:return W(d.type,!0);case 31:return Q("Activity");default:return""}}function se(d){try{var m="",_=null;do m+=X(d,_),_=d,d=d.return;while(d);return m}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function J(d,m){if(typeof d=="object"&&d!==null){var _=y1.get(d);return _!==void 0?_:(m={value:d,source:m,stack:se(m)},y1.set(d,m),m)}return{value:d,source:m,stack:se(m)}}function ae(d,m){Hu[Ql++]=zm,Hu[Ql++]=gr,gr=d,zm=m}function B(d,m,_){Ro[Ws++]=la,Ro[Ws++]=ll,Ro[Ws++]=No,No=d;var E=la;d=ll;var N=32-gs(E)-1;E&=~(1<<N),_+=1;var U=32-gs(m)+N;if(30<U){var ee=N-N%5;U=(E&(1<<ee)-1).toString(32),E>>=ee,N-=ee,la=1<<32-gs(m)+N|_<<N|E,ll=U+d}else la=1<<U|_<<N|E,ll=d}function Z(d){d.return!==null&&(ae(d,1),B(d,1,0))}function le(d){for(;d===gr;)gr=Hu[--Ql],Hu[Ql]=null,zm=Hu[--Ql],Hu[Ql]=null;for(;d===No;)No=Ro[--Ws],Ro[Ws]=null,ll=Ro[--Ws],Ro[Ws]=null,la=Ro[--Ws],Ro[Ws]=null}function he(d,m){Ro[Ws++]=la,Ro[Ws++]=ll,Ro[Ws++]=No,la=m.id,ll=m.overflow,No=d}function ve(d,m){x(ua,m),x(Vu,d),x(Zi,null),d=KS(m),y(Zi),x(Zi,d)}function ue(){y(Zi),y(Vu),y(ua)}function ce(d){d.memoizedState!==null&&x(Gm,d);var m=Zi.current,_=Hd(m,d.type);m!==_&&(x(Vu,d),x(Zi,_))}function Se(d){Vu.current===d&&(y(Zi),y(Vu)),Gm.current===d&&(y(Gm),hi?sh._currentValue=ah:sh._currentValue2=ah)}function me(d){var m=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Le(J(m,d)),Pv}function Ne(d,m){if(!kr)throw Error(i(175));_A(d.stateNode,d.type,d.memoizedProps,m,d)||me(d,!0)}function Be(d){for(Di=d.return;Di;)switch(Di.tag){case 5:case 31:case 13:qa=!1;return;case 27:case 3:qa=!0;return;default:Di=Di.return}}function ye(d){if(!kr||d!==Di)return!1;if(!Ln)return Be(d),Ln=!0,!1;var m=d.tag;if(Ni?m!==3&&m!==27&&(m!==5||Wd(d.type)&&!Wa(d.type,d.memoizedProps))&&Br&&me(d):m!==3&&(m!==5||Wd(d.type)&&!Wa(d.type,d.memoizedProps))&&Br&&me(d),Be(d),m===13){if(!kr)throw Error(i(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));Br=s1(d)}else if(m===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));Br=SA(d)}else Br=Ni&&m===27?dA(d.type,Br):Di?hA(d.stateNode):null;return!0}function ut(){kr&&(Br=Di=null,Ln=!1)}function _e(){var d=Jl;return d!==null&&(xs===null?xs=d:xs.push.apply(xs,d),Jl=null),d}function Le(d){Jl===null?Jl=[d]:Jl.push(d)}function Ce(d,m,_){hi?(x(Do,m._currentValue),m._currentValue=_):(x(Do,m._currentValue2),m._currentValue2=_)}function tt(d){var m=Do.current;hi?d._currentValue=m:d._currentValue2=m,y(Do)}function ne(d,m,_){for(;d!==null;){var E=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,E!==null&&(E.childLanes|=m)):E!==null&&(E.childLanes&m)!==m&&(E.childLanes|=m),d===_)break;d=d.return}}function ft(d,m,_,E){var N=d.child;for(N!==null&&(N.return=d);N!==null;){var U=N.dependencies;if(U!==null){var ee=N.child;U=U.firstContext;e:for(;U!==null;){var xe=U;U=N;for(var Je=0;Je<m.length;Je++)if(xe.context===m[Je]){U.lanes|=_,xe=U.alternate,xe!==null&&(xe.lanes|=_),ne(U.return,_,d),E||(ee=null);break e}U=xe.next}}else if(N.tag===18){if(ee=N.return,ee===null)throw Error(i(341));ee.lanes|=_,U=ee.alternate,U!==null&&(U.lanes|=_),ne(ee,_,d),ee=null}else ee=N.child;if(ee!==null)ee.return=N;else for(ee=N;ee!==null;){if(ee===d){ee=null;break}if(N=ee.sibling,N!==null){N.return=ee.return,ee=N;break}ee=ee.return}N=ee}}function Ze(d,m,_,E){d=null;for(var N=m,U=!1;N!==null;){if(!U){if((N.flags&524288)!==0)U=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var ee=N.alternate;if(ee===null)throw Error(i(387));if(ee=ee.memoizedProps,ee!==null){var xe=N.type;pi(N.pendingProps.value,ee.value)||(d!==null?d.push(xe):d=[xe])}}else if(N===Gm.current){if(ee=N.alternate,ee===null)throw Error(i(387));ee.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(d!==null?d.push(sh):d=[sh])}N=N.return}d!==null&&ft(m,d,_,E),m.flags|=262144}function De(d){for(d=d.firstContext;d!==null;){var m=d.context;if(!pi(hi?m._currentValue:m._currentValue2,d.memoizedValue))return!0;d=d.next}return!1}function qe(d){Ar=d,ul=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function $(d){return de(Ar,d)}function H(d,m){return Ar===null&&qe(d),de(d,m)}function de(d,m){var _=hi?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:_,next:null},ul===null){if(d===null)throw Error(i(308));ul=m,d.dependencies={lanes:0,firstContext:m},d.flags|=524288}else ul=ul.next=m;return _}function Ue(){return{controller:new kA,data:new Map,refCount:0}}function Pe(d){d.refCount--,d.refCount===0&&Qi(rO,function(){d.controller.abort()})}function Ee(){}function ct(d){d!==cr&&d.next===null&&(cr===null?Hm=cr=d:cr=cr.next=d),Io=!0,Ca||(Ca=!0,fe())}function ot(d,m){if(!Ov&&Io){Ov=!0;do for(var _=!1,E=Hm;E!==null;){if(d!==0){var N=E.pendingLanes;if(N===0)var U=0;else{var ee=E.suspendedLanes,xe=E.pingedLanes;U=(1<<31-gs(42|d)+1)-1,U&=N&~(ee&~xe),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(_=!0,nt(E,U))}else U=Un,U=A(E,E===wn?U:0,E.cancelPendingCommit!==null||E.timeoutHandle!==ms),(U&3)===0||T(E,U)||(_=!0,nt(E,U));E=E.next}while(_);Ov=!1}}function bt(){Mt()}function Mt(){Io=Ca=!1;var d=0;Wc!==0&&ih()&&(d=Wc);for(var m=Ta(),_=null,E=Hm;E!==null;){var N=E.next,U=Xe(E,m);U===0?(E.next=null,_===null?Hm=N:_.next=N,N===null&&(cr=_)):(_=E,(d!==0||(U&3)!==0)&&(Io=!0)),E=N}Ti!==0&&Ti!==5||ot(d),Wc!==0&&(Wc=0)}function Xe(d,m){for(var _=d.suspendedLanes,E=d.pingedLanes,N=d.expirationTimes,U=d.pendingLanes&-62914561;0<U;){var ee=31-gs(U),xe=1<<ee,Je=N[ee];Je===-1?((xe&_)===0||(xe&E)!==0)&&(N[ee]=C(xe,m)):Je<=m&&(d.expiredLanes|=xe),U&=~xe}if(m=wn,_=Un,_=A(d,d===m?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==ms),E=d.callbackNode,_===0||d===m&&(hr===2||hr===9)||d.cancelPendingCommit!==null)return E!==null&&E!==null&&Av(E),d.callbackNode=null,d.callbackPriority=0;if((_&3)===0||T(d,_)){if(m=_&-_,m===d.callbackPriority)return m;switch(E!==null&&Av(E),j(_)){case 2:case 8:_=LA;break;case 32:_=Bm;break;case 268435456:_=Mv;break;default:_=Bm}return E=Qe.bind(null,d),_=km(_,E),d.callbackPriority=m,d.callbackNode=_,m}return E!==null&&E!==null&&Av(E),d.callbackPriority=2,d.callbackNode=null,2}function Qe(d,m){if(Ti!==0&&Ti!==5)return d.callbackNode=null,d.callbackPriority=0,null;var _=d.callbackNode;if(Yl()&&d.callbackNode!==_)return null;var E=Un;return E=A(d,d===wn?E:0,d.cancelPendingCommit!==null||d.timeoutHandle!==ms),E===0?null:(ol(d,E,m),Xe(d,Ta()),d.callbackNode!=null&&d.callbackNode===_?Qe.bind(null,d):null)}function nt(d,m){if(Yl())return null;ol(d,m,!0)}function fe(){jx?Wx(function(){(On&6)!==0?km(Ev,bt):Mt()}):km(Ev,bt)}function Te(){if(Wc===0){var d=ju;d===0&&(d=Sv,Sv<<=1,(Sv&261888)===0&&(Sv=256)),Wc=d}return Wc}function vt(d,m){if(Xd===null){var _=Xd=[];b1=0,ju=Te(),Ii={status:"pending",value:void 0,then:function(E){_.push(E)}}}return b1++,m.then(ge,ge),m}function ge(){if(--b1===0&&Xd!==null){Ii!==null&&(Ii.status="fulfilled");var d=Xd;Xd=null,ju=0,Ii=null;for(var m=0;m<d.length;m++)(0,d[m])()}}function Ye(d,m){var _=[],E={status:"pending",value:null,reason:null,then:function(N){_.push(N)}};return d.then(function(){E.status="fulfilled",E.value=m;for(var N=0;N<_.length;N++)(0,_[N])(m)},function(N){for(E.status="rejected",E.reason=N,N=0;N<_.length;N++)(0,_[N])(void 0)}),E}function rt(){var d=qc.current;return d!==null?d:wn.pooledCache}function wt(d,m){m===null?x(qc,qc.current):x(qc,m.pool)}function it(){var d=rt();return d===null?null:{parent:hi?Fr._currentValue:Fr._currentValue2,pool:d}}function Ge(d,m){if(pi(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var _=Object.keys(d),E=Object.keys(m);if(_.length!==E.length)return!1;for(E=0;E<_.length;E++){var N=_[E];if(!nO.call(m,N)||!pi(d[N],m[N]))return!1}return!0}function ht(d){return d=d.status,d==="fulfilled"||d==="rejected"}function Ct(d,m,_){switch(_=d[_],_===void 0?d.push(m):_!==m&&(m.then(Ee,Ee),m=_),m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,Mn(d),d;default:if(typeof m.status=="string")m.then(Ee,Ee);else{if(d=wn,d!==null&&100<d.shellSuspendCounter)throw Error(i(482));d=m,d.status="pending",d.then(function(E){if(m.status==="pending"){var N=m;N.status="fulfilled",N.value=E}},function(E){if(m.status==="pending"){var N=m;N.status="rejected",N.reason=E}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,Mn(d),d}throw Xa=m,Li}}function Tt(d){try{var m=d._init;return m(d._payload)}catch(_){throw _!==null&&typeof _=="object"&&typeof _.then=="function"?(Xa=_,Li):_}}function Gt(){if(Xa===null)throw Error(i(459));var d=Xa;return Xa=null,d}function Mn(d){if(d===Li||d===Uo)throw Error(i(483))}function kn(d){var m=fh;return fh+=1,Xc===null&&(Xc=[]),Ct(Xc,d,m)}function pr(d,m){m=m.props.ref,d.ref=m!==void 0?m:null}function wi(d,m){throw m.$$typeof===Jf?Error(i(525)):(d=Object.prototype.toString.call(m),Error(i(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)))}function xa(d){function m(Ve,Ie){if(d){var Ke=Ve.deletions;Ke===null?(Ve.deletions=[Ie],Ve.flags|=16):Ke.push(Ie)}}function _(Ve,Ie){if(!d)return null;for(;Ie!==null;)m(Ve,Ie),Ie=Ie.sibling;return null}function E(Ve){for(var Ie=new Map;Ve!==null;)Ve.key!==null?Ie.set(Ve.key,Ve):Ie.set(Ve.index,Ve),Ve=Ve.sibling;return Ie}function N(Ve,Ie){return Ve=Vs(Ve,Ie),Ve.index=0,Ve.sibling=null,Ve}function U(Ve,Ie,Ke){return Ve.index=Ke,d?(Ke=Ve.alternate,Ke!==null?(Ke=Ke.index,Ke<Ie?(Ve.flags|=67108866,Ie):Ke):(Ve.flags|=67108866,Ie)):(Ve.flags|=1048576,Ie)}function ee(Ve){return d&&Ve.alternate===null&&(Ve.flags|=67108866),Ve}function xe(Ve,Ie,Ke,At){return Ie===null||Ie.tag!==6?(Ie=Dx(Ke,Ve.mode,At),Ie.return=Ve,Ie):(Ie=N(Ie,Ke),Ie.return=Ve,Ie)}function Je(Ve,Ie,Ke,At){var en=Ke.type;return en===th?Et(Ve,Ie,Ke.props.children,At,Ke.key):Ie!==null&&(Ie.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===ja&&Tt(en)===Ie.type)?(Ie=N(Ie,Ke.props),pr(Ie,Ke),Ie.return=Ve,Ie):(Ie=ku(Ke.type,Ke.key,Ke.props,null,Ve.mode,At),pr(Ie,Ke),Ie.return=Ve,Ie)}function gt(Ve,Ie,Ke,At){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Ke.containerInfo||Ie.stateNode.implementation!==Ke.implementation?(Ie=Lx(Ke,Ve.mode,At),Ie.return=Ve,Ie):(Ie=N(Ie,Ke.children||[]),Ie.return=Ve,Ie)}function Et(Ve,Ie,Ke,At,en){return Ie===null||Ie.tag!==7?(Ie=To(Ke,Ve.mode,At,en),Ie.return=Ve,Ie):(Ie=N(Ie,Ke),Ie.return=Ve,Ie)}function xt(Ve,Ie,Ke){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Ie=Dx(""+Ie,Ve.mode,Ke),Ie.return=Ve,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case Kl:return Ke=ku(Ie.type,Ie.key,Ie.props,null,Ve.mode,Ke),pr(Ke,Ie),Ke.return=Ve,Ke;case eh:return Ie=Lx(Ie,Ve.mode,Ke),Ie.return=Ve,Ie;case ja:return Ie=Tt(Ie),xt(Ve,Ie,Ke)}if(Gc(Ie)||h(Ie))return Ie=To(Ie,Ve.mode,Ke,null),Ie.return=Ve,Ie;if(typeof Ie.then=="function")return xt(Ve,kn(Ie),Ke);if(Ie.$$typeof===Co)return xt(Ve,H(Ve,Ie),Ke);wi(Ve,Ie)}return null}function It(Ve,Ie,Ke,At){var en=Ie!==null?Ie.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return en!==null?null:xe(Ve,Ie,""+Ke,At);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Kl:return Ke.key===en?Je(Ve,Ie,Ke,At):null;case eh:return Ke.key===en?gt(Ve,Ie,Ke,At):null;case ja:return Ke=Tt(Ke),It(Ve,Ie,Ke,At)}if(Gc(Ke)||h(Ke))return en!==null?null:Et(Ve,Ie,Ke,At,null);if(typeof Ke.then=="function")return It(Ve,Ie,kn(Ke),At);if(Ke.$$typeof===Co)return It(Ve,Ie,H(Ve,Ke),At);wi(Ve,Ke)}return null}function pn(Ve,Ie,Ke,At,en){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return Ve=Ve.get(Ke)||null,xe(Ie,Ve,""+At,en);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case Kl:return Ve=Ve.get(At.key===null?Ke:At.key)||null,Je(Ie,Ve,At,en);case eh:return Ve=Ve.get(At.key===null?Ke:At.key)||null,gt(Ie,Ve,At,en);case ja:return At=Tt(At),pn(Ve,Ie,Ke,At,en)}if(Gc(At)||h(At))return Ve=Ve.get(Ke)||null,Et(Ie,Ve,At,en,null);if(typeof At.then=="function")return pn(Ve,Ie,Ke,kn(At),en);if(At.$$typeof===Co)return pn(Ve,Ie,Ke,H(Ie,At),en);wi(Ie,At)}return null}function vi(Ve,Ie,Ke,At){for(var en=null,Yr=null,tn=Ie,Wn=Ie=0,Ji=null;tn!==null&&Wn<Ke.length;Wn++){tn.index>Wn?(Ji=tn,tn=null):Ji=tn.sibling;var Jn=It(Ve,tn,Ke[Wn],At);if(Jn===null){tn===null&&(tn=Ji);break}d&&tn&&Jn.alternate===null&&m(Ve,tn),Ie=U(Jn,Ie,Wn),Yr===null?en=Jn:Yr.sibling=Jn,Yr=Jn,tn=Ji}if(Wn===Ke.length)return _(Ve,tn),Ln&&ae(Ve,Wn),en;if(tn===null){for(;Wn<Ke.length;Wn++)tn=xt(Ve,Ke[Wn],At),tn!==null&&(Ie=U(tn,Ie,Wn),Yr===null?en=tn:Yr.sibling=tn,Yr=tn);return Ln&&ae(Ve,Wn),en}for(tn=E(tn);Wn<Ke.length;Wn++)Ji=pn(tn,Ve,Wn,Ke[Wn],At),Ji!==null&&(d&&Ji.alternate!==null&&tn.delete(Ji.key===null?Wn:Ji.key),Ie=U(Ji,Ie,Wn),Yr===null?en=Ji:Yr.sibling=Ji,Yr=Ji);return d&&tn.forEach(function(Fo){return m(Ve,Fo)}),Ln&&ae(Ve,Wn),en}function tp(Ve,Ie,Ke,At){if(Ke==null)throw Error(i(151));for(var en=null,Yr=null,tn=Ie,Wn=Ie=0,Ji=null,Jn=Ke.next();tn!==null&&!Jn.done;Wn++,Jn=Ke.next()){tn.index>Wn?(Ji=tn,tn=null):Ji=tn.sibling;var Fo=It(Ve,tn,Jn.value,At);if(Fo===null){tn===null&&(tn=Ji);break}d&&tn&&Fo.alternate===null&&m(Ve,tn),Ie=U(Fo,Ie,Wn),Yr===null?en=Fo:Yr.sibling=Fo,Yr=Fo,tn=Ji}if(Jn.done)return _(Ve,tn),Ln&&ae(Ve,Wn),en;if(tn===null){for(;!Jn.done;Wn++,Jn=Ke.next())Jn=xt(Ve,Jn.value,At),Jn!==null&&(Ie=U(Jn,Ie,Wn),Yr===null?en=Jn:Yr.sibling=Jn,Yr=Jn);return Ln&&ae(Ve,Wn),en}for(tn=E(tn);!Jn.done;Wn++,Jn=Ke.next())Jn=pn(tn,Ve,Wn,Jn.value,At),Jn!==null&&(d&&Jn.alternate!==null&&tn.delete(Jn.key===null?Wn:Jn.key),Ie=U(Jn,Ie,Wn),Yr===null?en=Jn:Yr.sibling=Jn,Yr=Jn);return d&&tn.forEach(function(iO){return m(Ve,iO)}),Ln&&ae(Ve,Wn),en}function tf(Ve,Ie,Ke,At){if(typeof Ke=="object"&&Ke!==null&&Ke.type===th&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Kl:e:{for(var en=Ke.key;Ie!==null;){if(Ie.key===en){if(en=Ke.type,en===th){if(Ie.tag===7){_(Ve,Ie.sibling),At=N(Ie,Ke.props.children),At.return=Ve,Ve=At;break e}}else if(Ie.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===ja&&Tt(en)===Ie.type){_(Ve,Ie.sibling),At=N(Ie,Ke.props),pr(At,Ke),At.return=Ve,Ve=At;break e}_(Ve,Ie);break}else m(Ve,Ie);Ie=Ie.sibling}Ke.type===th?(At=To(Ke.props.children,Ve.mode,At,Ke.key),At.return=Ve,Ve=At):(At=ku(Ke.type,Ke.key,Ke.props,null,Ve.mode,At),pr(At,Ke),At.return=Ve,Ve=At)}return ee(Ve);case eh:e:{for(en=Ke.key;Ie!==null;){if(Ie.key===en)if(Ie.tag===4&&Ie.stateNode.containerInfo===Ke.containerInfo&&Ie.stateNode.implementation===Ke.implementation){_(Ve,Ie.sibling),At=N(Ie,Ke.children||[]),At.return=Ve,Ve=At;break e}else{_(Ve,Ie);break}else m(Ve,Ie);Ie=Ie.sibling}At=Lx(Ke,Ve.mode,At),At.return=Ve,Ve=At}return ee(Ve);case ja:return Ke=Tt(Ke),tf(Ve,Ie,Ke,At)}if(Gc(Ke))return vi(Ve,Ie,Ke,At);if(h(Ke)){if(en=h(Ke),typeof en!="function")throw Error(i(150));return Ke=en.call(Ke),tp(Ve,Ie,Ke,At)}if(typeof Ke.then=="function")return tf(Ve,Ie,kn(Ke),At);if(Ke.$$typeof===Co)return tf(Ve,Ie,H(Ve,Ke),At);wi(Ve,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,Ie!==null&&Ie.tag===6?(_(Ve,Ie.sibling),At=N(Ie,Ke),At.return=Ve,Ve=At):(_(Ve,Ie),At=Dx(Ke,Ve.mode,At),At.return=Ve,Ve=At),ee(Ve)):_(Ve,Ie)}return function(Ve,Ie,Ke,At){try{fh=0;var en=tf(Ve,Ie,Ke,At);return Xc=null,en}catch(tn){if(tn===Li||tn===Uo)throw tn;var Yr=t(29,tn,null,Ve.mode);return Yr.lanes=At,Yr.return=Ve,Yr}finally{}}}function ji(){for(var d=tu,m=hh=tu=0;m<d;){var _=fa[m];fa[m++]=null;var E=fa[m];fa[m++]=null;var N=fa[m];fa[m++]=null;var U=fa[m];if(fa[m++]=null,E!==null&&N!==null){var ee=E.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),E.pending=N}U!==0&&ur(_,N,U)}}function Wi(d,m,_,E){fa[tu++]=d,fa[tu++]=m,fa[tu++]=_,fa[tu++]=E,hh|=E,d.lanes|=E,d=d.alternate,d!==null&&(d.lanes|=E)}function Fa(d,m,_,E){return Wi(d,m,_,E),tr(d)}function _r(d,m){return Wi(d,null,null,m),tr(d)}function ur(d,m,_){d.lanes|=_;var E=d.alternate;E!==null&&(E.lanes|=_);for(var N=!1,U=d.return;U!==null;)U.childLanes|=_,E=U.alternate,E!==null&&(E.childLanes|=_),U.tag===22&&(d=U.stateNode,d===null||d._visibility&1||(N=!0)),d=U,U=U.return;return d.tag===3?(U=d.stateNode,N&&m!==null&&(N=31-gs(_),d=U.hiddenUpdates,E=d[N],E===null?d[N]=[m]:E.push(m),m.lane=_|536870912),U):null}function tr(d){if(50<Kn)throw Kn=0,Ym=null,Error(i(185));for(var m=d.return;m!==null;)d=m,m=d.return;return d.tag===3?d.stateNode:null}function Zr(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aa(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function za(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function _a(d,m,_){var E=d.updateQueue;if(E===null)return null;if(E=E.shared,(On&2)!==0){var N=E.pending;return N===null?m.next=m:(m.next=N.next,N.next=m),E.pending=m,m=tr(d),ur(d,null,_),m}return Wi(d,E,m,_),tr(d)}function Ls(d,m,_){if(m=m.updateQueue,m!==null&&(m=m.shared,(_&4194048)!==0)){var E=m.lanes;E&=d.pendingLanes,_|=E,m.lanes=_,L(d,_)}}function nl(d,m){var _=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,_===E)){var N=null,U=null;if(_=_.firstBaseUpdate,_!==null){do{var ee={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};U===null?N=U=ee:U=U.next=ee,_=_.next}while(_!==null);U===null?N=U=m:U=U.next=m}else N=U=m;_={baseState:E.baseState,firstBaseUpdate:N,lastBaseUpdate:U,shared:E.shared,callbacks:E.callbacks},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=m:d.next=m,_.lastBaseUpdate=m}function Us(){if(Nv){var d=Ii;if(d!==null)throw d}}function vo(d,m,_,E){Nv=!1;var N=d.updateQueue;qs=!1;var U=N.firstBaseUpdate,ee=N.lastBaseUpdate,xe=N.shared.pending;if(xe!==null){N.shared.pending=null;var Je=xe,gt=Je.next;Je.next=null,ee===null?U=gt:ee.next=gt,ee=Je;var Et=d.alternate;Et!==null&&(Et=Et.updateQueue,xe=Et.lastBaseUpdate,xe!==ee&&(xe===null?Et.firstBaseUpdate=gt:xe.next=gt,Et.lastBaseUpdate=Je))}if(U!==null){var xt=N.baseState;ee=0,Et=gt=Je=null,xe=U;do{var It=xe.lane&-536870913,pn=It!==xe.lane;if(pn?(Un&It)===It:(E&It)===It){It!==0&&It===ju&&(Nv=!0),Et!==null&&(Et=Et.next={lane:0,tag:xe.tag,payload:xe.payload,callback:null,next:null});e:{var vi=d,tp=xe;It=m;var tf=_;switch(tp.tag){case 1:if(vi=tp.payload,typeof vi=="function"){xt=vi.call(tf,xt,It);break e}xt=vi;break e;case 3:vi.flags=vi.flags&-65537|128;case 0:if(vi=tp.payload,It=typeof vi=="function"?vi.call(tf,xt,It):vi,It==null)break e;xt=sv({},xt,It);break e;case 2:qs=!0}}It=xe.callback,It!==null&&(d.flags|=64,pn&&(d.flags|=8192),pn=N.callbacks,pn===null?N.callbacks=[It]:pn.push(It))}else pn={lane:It,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},Et===null?(gt=Et=pn,Je=xt):Et=Et.next=pn,ee|=It;if(xe=xe.next,xe===null){if(xe=N.shared.pending,xe===null)break;pn=xe,xe=pn.next,pn.next=null,N.lastBaseUpdate=pn,N.shared.pending=null}}while(!0);Et===null&&(Je=xt),N.baseState=Je,N.firstBaseUpdate=gt,N.lastBaseUpdate=Et,U===null&&(N.shared.lanes=0),qu|=ee,d.lanes=ee,d.memoizedState=xt}}function cs(d,m){if(typeof d!="function")throw Error(i(191,d));d.call(m)}function ks(d,m){var _=d.callbacks;if(_!==null)for(d.callbacks=null,d=0;d<_.length;d++)cs(_[d],m)}function yo(d,m){d=ru,x(Yc,d),x(dh,m),ru=d|m.baseLanes}function Ft(){x(Yc,ru),x(dh,dh.current)}function te(){ru=Yc.current,y(dh),y(Yc)}function Me(d){var m=d.alternate;x(ei,ei.current&1),x(ys,d),bs===null&&(m===null||dh.current!==null||m.memoizedState!==null)&&(bs=d)}function je(d){x(ei,ei.current),x(ys,d),bs===null&&(bs=d)}function Fe(d){d.tag===22?(x(ei,ei.current),x(ys,d),bs===null&&(bs=d)):Oe()}function Oe(){x(ei,ei.current),x(ys,ys.current)}function St(d){y(ys),bs===d&&(bs=null),y(ei)}function Rt(d){for(var m=d;m!==null;){if(m.tag===13){var _=m.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Vc(_)||pv(_)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function yt(){throw Error(i(321))}function Ut(d,m){if(m===null)return!1;for(var _=0;_<m.length&&_<d.length;_++)if(!pi(d[_],m[_]))return!1;return!0}function kt(d,m,_,E,N,U){return Wu=U,gn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Qt.H=d===null||d.memoizedState===null?Wr:nu,Vn=!1,U=_(E,N),Vn=!1,bn&&(U=Bt(m,_,E,N)),Kt(d),U}function Kt(d){Qt.H=Xs;var m=Yt!==null&&Yt.next!==null;if(Wu=0,hn=Yt=gn=null,_n=!1,ko=0,cl=null,m)throw Error(i(300));d===null||Pr||(d=d.dependencies,d!==null&&De(d)&&(Pr=!0))}function Bt(d,m,_,E){gn=d;var N=0;do{if(bn&&(cl=null),ko=0,bn=!1,25<=N)throw Error(i(301));if(N+=1,hn=Yt=null,d.updateQueue!=null){var U=d.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}Qt.H=Kc,U=m(_,E)}while(bn);return U}function Zt(){var d=Qt.H,m=d.useState()[0];return m=typeof m.then=="function"?qt(m):m,d=d.useState()[0],(Yt!==null?Yt.memoizedState:null)!==d&&(gn.flags|=1024),m}function Tn(){var d=Pa!==0;return Pa=0,d}function ir(d,m,_){m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~_}function Hn(d){if(_n){for(d=d.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}_n=!1}Wu=0,hn=Yt=gn=null,bn=!1,ko=Pa=0,cl=null}function on(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?gn.memoizedState=hn=d:hn=hn.next=d,hn}function Pt(){if(Yt===null){var d=gn.alternate;d=d!==null?d.memoizedState:null}else d=Yt.next;var m=hn===null?gn.memoizedState:hn.next;if(m!==null)hn=m,Yt=d;else{if(d===null)throw gn.alternate===null?Error(i(467)):Error(i(310));Yt=d,d={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},hn===null?gn.memoizedState=hn=d:hn=hn.next=d}return hn}function Pn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qt(d){var m=ko;return ko+=1,cl===null&&(cl=[]),d=Ct(cl,d,m),m=gn,(hn===null?m.memoizedState:hn.next)===null&&(m=m.alternate,Qt.H=m===null||m.memoizedState===null?Wr:nu),d}function Qr(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return qt(d);if(d.$$typeof===Co)return $(d)}throw Error(i(438,String(d)))}function wa(d){var m=null,_=gn.updateQueue;if(_!==null&&(m=_.memoCache),m==null){var E=gn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(m={data:E.data.map(function(N){return N.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),_===null&&(_=Pn(),gn.updateQueue=_),_.memoCache=m,_=m.data[m.index],_===void 0)for(_=m.data[m.index]=Array(d),E=0;E<d;E++)_[E]=kx;return m.index++,_}function nr(d,m){return typeof m=="function"?m(d):m}function qi(d){var m=Pt();return Bn(m,Yt,d)}function Bn(d,m,_){var E=d.queue;if(E===null)throw Error(i(311));E.lastRenderedReducer=_;var N=d.baseQueue,U=E.pending;if(U!==null){if(N!==null){var ee=N.next;N.next=U.next,U.next=ee}m.baseQueue=N=U,E.pending=null}if(U=d.baseState,N===null)d.memoizedState=U;else{m=N.next;var xe=ee=null,Je=null,gt=m,Et=!1;do{var xt=gt.lane&-536870913;if(xt!==gt.lane?(Un&xt)===xt:(Wu&xt)===xt){var It=gt.revertLane;if(It===0)Je!==null&&(Je=Je.next={lane:0,revertLane:0,gesture:null,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),xt===ju&&(Et=!0);else if((Wu&It)===It){gt=gt.next,It===ju&&(Et=!0);continue}else xt={lane:0,revertLane:gt.revertLane,gesture:null,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},Je===null?(xe=Je=xt,ee=U):Je=Je.next=xt,gn.lanes|=It,qu|=It;xt=gt.action,Vn&&_(U,xt),U=gt.hasEagerState?gt.eagerState:_(U,xt)}else It={lane:xt,revertLane:gt.revertLane,gesture:gt.gesture,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},Je===null?(xe=Je=It,ee=U):Je=Je.next=It,gn.lanes|=xt,qu|=xt;gt=gt.next}while(gt!==null&&gt!==m);if(Je===null?ee=U:Je.next=xe,!pi(U,d.memoizedState)&&(Pr=!0,Et&&(_=Ii,_!==null)))throw _;d.memoizedState=U,d.baseState=ee,d.baseQueue=Je,E.lastRenderedState=U}return N===null&&(E.lanes=0),[d.memoizedState,E.dispatch]}function Dr(d){var m=Pt(),_=m.queue;if(_===null)throw Error(i(311));_.lastRenderedReducer=d;var E=_.dispatch,N=_.pending,U=m.memoizedState;if(N!==null){_.pending=null;var ee=N=N.next;do U=d(U,ee.action),ee=ee.next;while(ee!==N);pi(U,m.memoizedState)||(Pr=!0),m.memoizedState=U,m.baseQueue===null&&(m.baseState=U),_.lastRenderedState=U}return[U,E]}function Ir(d,m,_){var E=gn,N=Pt(),U=Ln;if(U){if(_===void 0)throw Error(i(407));_=_()}else _=m();var ee=!pi((Yt||N).memoizedState,_);if(ee&&(N.memoizedState=_,Pr=!0),N=N.queue,_o(rl.bind(null,E,N,d),[d]),N.getSnapshot!==m||ee||hn!==null&&hn.memoizedState.tag&1){if(E.flags|=2048,Aa(9,{destroy:void 0},fi.bind(null,E,N,_,m),null),wn===null)throw Error(i(349));U||(Wu&127)!==0||ci(E,m,_)}return _}function ci(d,m,_){d.flags|=16384,d={getSnapshot:m,value:_},m=gn.updateQueue,m===null?(m=Pn(),gn.updateQueue=m,m.stores=[d]):(_=m.stores,_===null?m.stores=[d]:_.push(d))}function fi(d,m,_,E){m.value=_,m.getSnapshot=E,Xi(m)&&pm(d)}function rl(d,m,_){return _(function(){Xi(m)&&pm(d)})}function Xi(d){var m=d.getSnapshot;d=d.value;try{var _=m();return!pi(d,_)}catch{return!0}}function pm(d){var m=_r(d,2);m!==null&&Vr(m,d,2)}function wc(d){var m=on();if(typeof d=="function"){var _=d;if(d=_(),Vn){Y(!0);try{_()}finally{Y(!1)}}}return m.memoizedState=m.baseState=d,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:d},m}function bo(d,m,_,E){return d.baseState=_,Bn(d,Yt,typeof E=="function"?E:nr)}function Sa(d,m,_,E,N){if(z0(d))throw Error(i(485));if(d=m.action,d!==null){var U={payload:N,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){U.listeners.push(ee)}};Qt.T!==null?_(!0):U.isTransition=!1,E(U),_=m.pending,_===null?(U.next=m.pending=U,Nl(m,U)):(U.next=_.next,m.pending=_.next=U)}}function Nl(d,m){var _=m.action,E=m.payload,N=d.state;if(m.isTransition){var U=Qt.T,ee={};Qt.T=ee;try{var xe=_(N,E),Je=Qt.S;Je!==null&&Je(ee,xe),zf(d,m,xe)}catch(gt){xo(d,m,gt)}finally{U!==null&&ee.types!==null&&(U.types=ee.types),Qt.T=U}}else try{U=_(N,E),zf(d,m,U)}catch(gt){xo(d,m,gt)}}function zf(d,m,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(E){Bs(d,m,E)},function(E){return xo(d,m,E)}):Bs(d,m,_)}function Bs(d,m,_){m.status="fulfilled",m.value=_,Gf(m),d.state=_,m=d.pending,m!==null&&(_=m.next,_===m?d.pending=null:(_=_.next,m.next=_,Nl(d,_)))}function xo(d,m,_){var E=d.pending;if(d.pending=null,E!==null){E=E.next;do m.status="rejected",m.reason=_,Gf(m),m=m.next;while(m!==E)}d.action=null}function Gf(d){d=d.listeners;for(var m=0;m<d.length;m++)(0,d[m])()}function Hf(d,m){return m}function Sc(d,m){if(Ln){var _=wn.formState;if(_!==null){e:{var E=gn;if(Ln){if(Br){var N=fA(Br,qa);if(N){Br=hA(N),E=n1(N);break e}}me(E)}E=!1}E&&(m=_[0])}}_=on(),_.memoizedState=_.baseState=m,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:m},_.queue=E,_=sl.bind(null,gn,E),E.dispatch=_,E=wc(!1);var U=F0.bind(null,gn,!1,E.queue);return E=on(),N={state:m,dispatch:null,action:d,pending:null},E.queue=N,_=Sa.bind(null,gn,N,U,_),N.dispatch=_,E.memoizedState=d,[m,_,!1]}function Dl(d){var m=Pt();return Fs(m,Yt,d)}function Fs(d,m,_){if(m=Bn(d,m,Hf)[0],d=qi(nr)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var E=qt(m)}catch(ee){throw ee===Li?Uo:ee}else E=m;m=Pt();var N=m.queue,U=N.dispatch;return _!==m.memoizedState&&(gn.flags|=2048,Aa(9,{destroy:void 0},Ga.bind(null,N,_),null)),[E,U,d]}function Ga(d,m){d.action=m}function Il(d){var m=Pt(),_=Yt;if(_!==null)return Fs(m,_,d);Pt(),m=m.memoizedState,_=Pt();var E=_.queue.dispatch;return _.memoizedState=d,[m,E,!1]}function Aa(d,m,_,E){return d={tag:d,create:_,deps:E,inst:m,next:null},m=gn.updateQueue,m===null&&(m=Pn(),gn.updateQueue=m),_=m.lastEffect,_===null?m.lastEffect=d.next=d:(E=_.next,_.next=d,d.next=E,m.lastEffect=d),d}function Vf(){return Pt().memoizedState}function il(d,m,_,E){var N=on();gn.flags|=d,N.memoizedState=Aa(1|m,{destroy:void 0},_,E===void 0?null:E)}function Ac(d,m,_,E){var N=Pt();E=E===void 0?null:E;var U=N.memoizedState.inst;Yt!==null&&E!==null&&Ut(E,Yt.memoizedState.deps)?N.memoizedState=Aa(m,U,_,E):(gn.flags|=d,N.memoizedState=Aa(1|m,U,_,E))}function Ec(d,m){il(8390656,8,d,m)}function _o(d,m){Ac(2048,8,d,m)}function Mc(d){gn.flags|=4;var m=gn.updateQueue;if(m===null)m=Pn(),gn.updateQueue=m,m.events=[d];else{var _=m.events;_===null?m.events=[d]:_.push(d)}}function Lr(d){var m=Pt().memoizedState;return Mc({ref:m,nextImpl:d}),function(){if((On&2)!==0)throw Error(i(440));return m.impl.apply(void 0,arguments)}}function al(d,m){return Ac(4,2,d,m)}function Ru(d,m){return Ac(4,4,d,m)}function Ll(d,m){if(typeof m=="function"){d=d();var _=m(d);return function(){typeof _=="function"?_():m(null)}}if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function Tc(d,m,_){_=_!=null?_.concat([d]):null,Ac(4,4,Ll.bind(null,m,d),_)}function Cc(){}function Ul(d,m){var _=Pt();m=m===void 0?null:m;var E=_.memoizedState;return m!==null&&Ut(m,E[1])?E[0]:(_.memoizedState=[d,m],d)}function kl(d,m){var _=Pt();m=m===void 0?null:m;var E=_.memoizedState;if(m!==null&&Ut(m,E[1]))return E[0];if(E=d(),Vn){Y(!0);try{d()}finally{Y(!1)}}return _.memoizedState=[E,m],E}function Si(d,m,_){return _===void 0||(Wu&1073741824)!==0&&(Un&261930)===0?d.memoizedState=m:(d.memoizedState=_,d=Iu(),gn.lanes|=d,qu|=d,_)}function mm(d,m,_,E){return pi(_,m)?_:dh.current!==null?(d=Si(d,_,E),pi(d,m)||(Pr=!0),d):(Wu&42)===0||(Wu&1073741824)!==0&&(Un&261930)===0?(Pr=!0,d.memoizedState=_):(d=Iu(),gn.lanes|=d,qu|=d,m)}function jf(d,m,_,E,N){var U=Po();In(U!==0&&8>U?U:8);var ee=Qt.T,xe={};Qt.T=xe,F0(d,!1,m,_);try{var Je=N(),gt=Qt.S;if(gt!==null&&gt(xe,Je),Je!==null&&typeof Je=="object"&&typeof Je.then=="function"){var Et=Ye(Je,E);Pc(d,m,Et,Ur(d))}else Pc(d,m,E,Ur(d))}catch(xt){Pc(d,m,{then:function(){},status:"rejected",reason:xt},Ur())}finally{In(U),ee!==null&&xe.types!==null&&(ee.types=xe.types),Qt.T=ee}}function Wf(d){var m=d.memoizedState;if(m!==null)return m;m={memoizedState:ah,baseState:ah,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:ah},next:null};var _={};return m.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:_},next:null},d.memoizedState=m,d=d.alternate,d!==null&&(d.memoizedState=m),m}function Sd(){return $(sh)}function Ad(){return Pt().memoizedState}function sa(){return Pt().memoizedState}function zs(d){for(var m=d.return;m!==null;){switch(m.tag){case 24:case 3:var _=Ur();d=za(_);var E=_a(m,d,_);E!==null&&(Vr(E,m,_),Ls(E,m,_)),m={cache:Ue()},d.payload=m;return}m=m.return}}function Ea(d,m,_){var E=Ur();_={lane:E,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},z0(d)?AS(m,_):(_=Fa(d,m,_,E),_!==null&&(Vr(_,d,E),ES(_,m,E)))}function sl(d,m,_){var E=Ur();Pc(d,m,_,E)}function Pc(d,m,_,E){var N={lane:E,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null};if(z0(d))AS(m,N);else{var U=d.alternate;if(d.lanes===0&&(U===null||U.lanes===0)&&(U=m.lastRenderedReducer,U!==null))try{var ee=m.lastRenderedState,xe=U(ee,_);if(N.hasEagerState=!0,N.eagerState=xe,pi(xe,ee))return Wi(d,m,N,0),wn===null&&ji(),!1}catch{}finally{}if(_=Fa(d,m,N,E),_!==null)return Vr(_,d,E),ES(_,m,E),!0}return!1}function F0(d,m,_,E){if(E={lane:2,revertLane:Te(),gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},z0(d)){if(m)throw Error(i(479))}else m=Fa(d,_,E,2),m!==null&&Vr(m,d,2)}function z0(d){var m=d.alternate;return d===gn||m!==null&&m===gn}function AS(d,m){bn=_n=!0;var _=d.pending;_===null?m.next=m:(m.next=_.next,_.next=m),d.pending=m}function ES(d,m,_){if((_&4194048)!==0){var E=m.lanes;E&=d.pendingLanes,_|=E,m.lanes=_,L(d,_)}}function px(d,m,_,E){m=d.memoizedState,_=_(E,m),_=_==null?m:sv({},m,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}function G0(d,m,_,E,N,U,ee){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,U,ee):m.prototype&&m.prototype.isPureReactComponent?!Ge(_,E)||!Ge(N,U):!0}function MS(d,m,_,E){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(_,E),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(_,E),m.state!==d&&Vm.enqueueReplaceState(m,m.state,null)}function qf(d,m){var _=m;if("ref"in m){_={};for(var E in m)E!=="ref"&&(_[E]=m[E])}if(d=d.defaultProps){_===m&&(_=sv({},_));for(var N in d)_[N]===void 0&&(_[N]=d[N])}return _}function H0(d,m){try{var _=d.onUncaughtError;_(m.value,{componentStack:m.stack})}catch(E){setTimeout(function(){throw E})}}function mx(d,m,_){try{var E=d.onCaughtError;E(_.value,{componentStack:_.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function gx(d,m,_){return _=za(_),_.tag=3,_.payload={element:null},_.callback=function(){H0(d,m)},_}function TS(d){return d=za(d),d.tag=3,d}function CS(d,m,_,E){var N=_.type.getDerivedStateFromError;if(typeof N=="function"){var U=E.value;d.payload=function(){return N(U)},d.callback=function(){mx(m,_,E)}}var ee=_.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(d.callback=function(){mx(m,_,E),typeof N!="function"&&(Xu===null?Xu=new Set([this]):Xu.add(this));var xe=E.stack;this.componentDidCatch(E.value,{componentStack:xe!==null?xe:""})})}function YP(d,m,_,E,N){if(_.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(m=_.alternate,m!==null&&Ze(m,_,N,!0),_=ys.current,_!==null){switch(_.tag){case 31:case 13:return bs===null?Ld():_.alternate===null&&Xr===0&&(Xr=3),_.flags&=-257,_.flags|=65536,_.lanes=N,E===eu?_.flags|=16384:(m=_.updateQueue,m===null?_.updateQueue=new Set([E]):m.add(E),Bd(d,E,N)),!1;case 22:return _.flags|=65536,E===eu?_.flags|=16384:(m=_.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([E])},_.updateQueue=m):(_=m.retryQueue,_===null?m.retryQueue=new Set([E]):_.add(E)),Bd(d,E,N)),!1}throw Error(i(435,_.tag))}return Bd(d,E,N),Ld(),!1}if(Ln)return m=ys.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=N,E!==Pv&&(d=Error(i(422),{cause:E}),Le(J(d,_)))):(E!==Pv&&(m=Error(i(423),{cause:E}),Le(J(m,_))),d=d.current.alternate,d.flags|=65536,N&=-N,d.lanes|=N,E=J(E,_),N=gx(d.stateNode,E,N),nl(d,N),Xr!==4&&(Xr=2)),!1;var U=Error(i(520),{cause:E});if(U=J(U,_),Wm===null?Wm=[U]:Wm.push(U),Xr!==4&&(Xr=2),m===null)return!0;E=J(E,_),_=m;do{switch(_.tag){case 3:return _.flags|=65536,d=N&-N,_.lanes|=d,d=gx(_.stateNode,E,d),nl(_,d),!1;case 1:if(m=_.type,U=_.stateNode,(_.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Xu===null||!Xu.has(U))))return _.flags|=65536,N&=-N,_.lanes|=N,N=TS(N),CS(N,d,_,E),nl(_,N),!1}_=_.return}while(_!==null);return!1}function oa(d,m,_,E){m.child=d===null?x1(m,null,_,E):ca(m,d.child,_,E)}function PS(d,m,_,E,N){_=_.render;var U=m.ref;if("ref"in E){var ee={};for(var xe in E)xe!=="ref"&&(ee[xe]=E[xe])}else ee=E;return qe(m),E=kt(d,m,_,ee,U,N),xe=Tn(),d!==null&&!Pr?(ir(d,m,N),Bl(d,m,N)):(Ln&&xe&&Z(m),m.flags|=1,oa(d,m,E,N),m.child)}function OS(d,m,_,E,N){if(d===null){var U=_.type;return typeof U=="function"&&!Zf(U)&&U.defaultProps===void 0&&_.compare===null?(m.tag=15,m.type=U,RS(d,m,U,E,N)):(d=ku(_.type,null,E,m,m.mode,N),d.ref=m.ref,d.return=m,m.child=d)}if(U=d.child,!vm(d,N)){var ee=U.memoizedProps;if(_=_.compare,_=_!==null?_:Ge,_(ee,E)&&d.ref===m.ref)return Bl(d,m,N)}return m.flags|=1,d=Vs(U,E),d.ref=m.ref,d.return=m,m.child=d}function RS(d,m,_,E,N){if(d!==null){var U=d.memoizedProps;if(Ge(U,E)&&d.ref===m.ref)if(Pr=!1,m.pendingProps=E=U,vm(d,N))(d.flags&131072)!==0&&(Pr=!0);else return m.lanes=d.lanes,Bl(d,m,N)}return j0(d,m,_,E,N)}function NS(d,m,_,E){var N=E.children,U=d!==null?d.memoizedState:null;if(d===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.mode==="hidden"){if((m.flags&128)!==0){if(U=U!==null?U.baseLanes|_:_,d!==null){for(E=m.child=d.child,N=0;E!==null;)N=N|E.lanes|E.childLanes,E=E.sibling;E=N&~U}else E=0,m.child=null;return Ed(d,m,U,_,E)}if((_&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},d!==null&&wt(m,U!==null?U.cachePool:null),U!==null?yo(m,U):Ft(),Fe(m);else return E=m.lanes=536870912,Ed(d,m,U!==null?U.baseLanes|_:_,_,E)}else U!==null?(wt(m,U.cachePool),yo(m,U),Oe(),m.memoizedState=null):(d!==null&&wt(m,null),Ft(),Oe());return oa(d,m,N,_),m.child}function Xf(d,m){return d!==null&&d.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function Ed(d,m,_,E,N){var U=rt();return U=U===null?null:{parent:hi?Fr._currentValue:Fr._currentValue2,pool:U},m.memoizedState={baseLanes:_,cachePool:U},d!==null&&wt(m,null),Ft(),Fe(m),d!==null&&Ze(d,m,E,!0),m.childLanes=N,null}function V0(d,m){return m=Oc({mode:m.mode,children:m.children},d.mode),m.ref=d.ref,d.child=m,m.return=d,m}function vx(d,m,_){return ca(m,d.child,null,_),d=V0(m,m.pendingProps),d.flags|=2,St(m),m.memoizedState=null,d}function DS(d,m,_){var E=m.pendingProps,N=(m.flags&128)!==0;if(m.flags&=-129,d===null){if(Ln){if(E.mode==="hidden")return d=V0(m,E),m.lanes=536870912,Xf(null,d);if(je(m),(d=Br)?(d=i1(d,qa),d!==null&&(m.memoizedState={dehydrated:d,treeContext:No!==null?{id:la,overflow:ll}:null,retryLane:536870912,hydrationErrors:null},_=Ix(d),_.return=m,m.child=_,Di=m,Br=null)):d=null,d===null)throw me(m);return m.lanes=536870912,null}return V0(m,E)}var U=d.memoizedState;if(U!==null){var ee=U.dehydrated;if(je(m),N)if(m.flags&256)m.flags&=-257,m=vx(d,m,_);else if(m.memoizedState!==null)m.child=d.child,m.flags|=128,m=null;else throw Error(i(558));else if(Pr||Ze(d,m,_,!1),N=(_&d.childLanes)!==0,Pr||N){if(E=wn,E!==null&&(ee=k(E,_),ee!==0&&ee!==U.retryLane))throw U.retryLane=ee,_r(d,ee),Vr(E,d,ee),Ya;Ld(),m=vx(d,m,_)}else d=U.treeContext,kr&&(Br=gA(ee),Di=m,Ln=!0,Jl=null,qa=!1,d!==null&&he(m,d)),m=V0(m,E),m.flags|=4096;return m}return d=Vs(d.child,{mode:E.mode,children:E.children}),d.ref=m.ref,m.child=d,d.return=m,d}function gm(d,m){var _=m.ref;if(_===null)d!==null&&d.ref!==null&&(m.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(i(284));(d===null||d.ref!==_)&&(m.flags|=4194816)}}function j0(d,m,_,E,N){return qe(m),_=kt(d,m,_,E,void 0,N),E=Tn(),d!==null&&!Pr?(ir(d,m,N),Bl(d,m,N)):(Ln&&E&&Z(m),m.flags|=1,oa(d,m,_,N),m.child)}function yx(d,m,_,E,N,U){return qe(m),m.updateQueue=null,_=Bt(m,E,_,N),Kt(d),E=Tn(),d!==null&&!Pr?(ir(d,m,U),Bl(d,m,U)):(Ln&&E&&Z(m),m.flags|=1,oa(d,m,_,U),m.child)}function Yf(d,m,_,E,N){if(qe(m),m.stateNode===null){var U=$l,ee=_.contextType;typeof ee=="object"&&ee!==null&&(U=$(ee)),U=new _(E,U),m.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=Vm,m.stateNode=U,U._reactInternals=m,U=m.stateNode,U.props=E,U.state=m.memoizedState,U.refs={},Zr(m),ee=_.contextType,U.context=typeof ee=="object"&&ee!==null?$(ee):$l,U.state=m.memoizedState,ee=_.getDerivedStateFromProps,typeof ee=="function"&&(px(m,_,ee,E),U.state=m.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(ee=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),ee!==U.state&&Vm.enqueueReplaceState(U,U.state,null),vo(m,E,U,N),Us(),U.state=m.memoizedState),typeof U.componentDidMount=="function"&&(m.flags|=4194308),E=!0}else if(d===null){U=m.stateNode;var xe=m.memoizedProps,Je=qf(_,xe);U.props=Je;var gt=U.context,Et=_.contextType;ee=$l,typeof Et=="object"&&Et!==null&&(ee=$(Et));var xt=_.getDerivedStateFromProps;Et=typeof xt=="function"||typeof U.getSnapshotBeforeUpdate=="function",xe=m.pendingProps!==xe,Et||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(xe||gt!==ee)&&MS(m,U,E,ee),qs=!1;var It=m.memoizedState;U.state=It,vo(m,E,U,N),Us(),gt=m.memoizedState,xe||It!==gt||qs?(typeof xt=="function"&&(px(m,_,xt,E),gt=m.memoizedState),(Je=qs||G0(m,_,Je,E,It,gt,ee))?(Et||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(m.flags|=4194308)):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=E,m.memoizedState=gt),U.props=E,U.state=gt,U.context=ee,E=Je):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),E=!1)}else{U=m.stateNode,aa(d,m),ee=m.memoizedProps,Et=qf(_,ee),U.props=Et,xt=m.pendingProps,It=U.context,gt=_.contextType,Je=$l,typeof gt=="object"&&gt!==null&&(Je=$(gt)),xe=_.getDerivedStateFromProps,(gt=typeof xe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ee!==xt||It!==Je)&&MS(m,U,E,Je),qs=!1,It=m.memoizedState,U.state=It,vo(m,E,U,N),Us();var pn=m.memoizedState;ee!==xt||It!==pn||qs||d!==null&&d.dependencies!==null&&De(d.dependencies)?(typeof xe=="function"&&(px(m,_,xe,E),pn=m.memoizedState),(Et=qs||G0(m,_,Et,E,It,pn,Je)||d!==null&&d.dependencies!==null&&De(d.dependencies))?(gt||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(E,pn,Je),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(E,pn,Je)),typeof U.componentDidUpdate=="function"&&(m.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof U.componentDidUpdate!="function"||ee===d.memoizedProps&&It===d.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&It===d.memoizedState||(m.flags|=1024),m.memoizedProps=E,m.memoizedState=pn),U.props=E,U.state=pn,U.context=Je,E=Et):(typeof U.componentDidUpdate!="function"||ee===d.memoizedProps&&It===d.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&It===d.memoizedState||(m.flags|=1024),E=!1)}return U=E,gm(d,m),E=(m.flags&128)!==0,U||E?(U=m.stateNode,_=E&&typeof _.getDerivedStateFromError!="function"?null:U.render(),m.flags|=1,d!==null&&E?(m.child=ca(m,d.child,null,N),m.child=ca(m,null,_,N)):oa(d,m,_,N),m.memoizedState=U.state,d=m.child):d=Bl(d,m,N),d}function IS(d,m,_,E){return ut(),m.flags|=256,oa(d,m,_,E),m.child}function bx(d){return{baseLanes:d,cachePool:it()}}function xx(d,m,_){return d=d!==null?d.childLanes&~_:0,m&&(d|=Ka),d}function _x(d,m,_){var E=m.pendingProps,N=!1,U=(m.flags&128)!==0,ee;if((ee=U)||(ee=d!==null&&d.memoizedState===null?!1:(ei.current&2)!==0),ee&&(N=!0,m.flags&=-129),ee=(m.flags&32)!==0,m.flags&=-33,d===null){if(Ln){if(N?Me(m):Oe(),(d=Br)?(d=xA(d,qa),d!==null&&(m.memoizedState={dehydrated:d,treeContext:No!==null?{id:la,overflow:ll}:null,retryLane:536870912,hydrationErrors:null},_=Ix(d),_.return=m,m.child=_,Di=m,Br=null)):d=null,d===null)throw me(m);return pv(d)?m.lanes=32:m.lanes=536870912,null}var xe=E.children;return E=E.fallback,N?(Oe(),N=m.mode,xe=Oc({mode:"hidden",children:xe},N),E=To(E,N,_,null),xe.return=m,E.return=m,xe.sibling=E,m.child=xe,E=m.child,E.memoizedState=bx(_),E.childLanes=xx(d,ee,_),m.memoizedState=ph,Xf(null,E)):(Me(m),W0(m,xe))}var Je=d.memoizedState;if(Je!==null&&(xe=Je.dehydrated,xe!==null)){if(U)m.flags&256?(Me(m),m.flags&=-257,m=Kf(d,m,_)):m.memoizedState!==null?(Oe(),m.child=d.child,m.flags|=128,m=null):(Oe(),xe=E.fallback,N=m.mode,E=Oc({mode:"visible",children:E.children},N),xe=To(xe,N,_,null),xe.flags|=2,E.return=m,xe.return=m,E.sibling=xe,m.child=E,ca(m,d.child,null,_),E=m.child,E.memoizedState=bx(_),E.childLanes=xx(d,ee,_),m.memoizedState=ph,m=Xf(null,E));else if(Me(m),pv(xe))ee=mv(xe).digest,E=Error(i(419)),E.stack="",E.digest=ee,Le({value:E,source:null,stack:null}),m=Kf(d,m,_);else if(Pr||Ze(d,m,_,!1),ee=(_&d.childLanes)!==0,Pr||ee){if(ee=wn,ee!==null&&(E=k(ee,_),E!==0&&E!==Je.retryLane))throw Je.retryLane=E,_r(d,E),Vr(ee,d,E),Ya;Vc(xe)||Ld(),m=Kf(d,m,_)}else Vc(xe)?(m.flags|=192,m.child=d.child,m=null):(d=Je.treeContext,kr&&(Br=vA(xe),Di=m,Ln=!0,Jl=null,qa=!1,d!==null&&he(m,d)),m=W0(m,E.children),m.flags|=4096);return m}return N?(Oe(),xe=E.fallback,N=m.mode,Je=d.child,U=Je.sibling,E=Vs(Je,{mode:"hidden",children:E.children}),E.subtreeFlags=Je.subtreeFlags&65011712,U!==null?xe=Vs(U,xe):(xe=To(xe,N,_,null),xe.flags|=2),xe.return=m,E.return=m,E.sibling=xe,m.child=E,Xf(null,E),E=m.child,xe=d.child.memoizedState,xe===null?xe=bx(_):(N=xe.cachePool,N!==null?(Je=hi?Fr._currentValue:Fr._currentValue2,N=N.parent!==Je?{parent:Je,pool:Je}:N):N=it(),xe={baseLanes:xe.baseLanes|_,cachePool:N}),E.memoizedState=xe,E.childLanes=xx(d,ee,_),m.memoizedState=ph,Xf(d.child,E)):(Me(m),_=d.child,d=_.sibling,_=Vs(_,{mode:"visible",children:E.children}),_.return=m,_.sibling=null,d!==null&&(ee=m.deletions,ee===null?(m.deletions=[d],m.flags|=16):ee.push(d)),m.child=_,m.memoizedState=null,_)}function W0(d,m){return m=Oc({mode:"visible",children:m},d.mode),m.return=d,d.child=m}function Oc(d,m){return d=t(22,d,null,m),d.lanes=0,d}function Kf(d,m,_){return ca(m,d.child,null,_),d=W0(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function LS(d,m,_){d.lanes|=m;var E=d.alternate;E!==null&&(E.lanes|=m),ne(d.return,m,_)}function Md(d,m,_,E,N,U){var ee=d.memoizedState;ee===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:E,tail:_,tailMode:N,treeForkCount:U}:(ee.isBackwards=m,ee.rendering=null,ee.renderingStartTime=0,ee.last=E,ee.tail=_,ee.tailMode=N,ee.treeForkCount=U)}function wx(d,m,_){var E=m.pendingProps,N=E.revealOrder,U=E.tail;E=E.children;var ee=ei.current,xe=(ee&2)!==0;if(xe?(ee=ee&1|2,m.flags|=128):ee&=1,x(ei,ee),oa(d,m,E,_),E=Ln?zm:0,!xe&&d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&LS(d,_,m);else if(d.tag===19)LS(d,_,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(N){case"forwards":for(_=m.child,N=null;_!==null;)d=_.alternate,d!==null&&Rt(d)===null&&(N=_),_=_.sibling;_=N,_===null?(N=m.child,m.child=null):(N=_.sibling,_.sibling=null),Md(m,!1,N,_,U,E);break;case"backwards":case"unstable_legacy-backwards":for(_=null,N=m.child,m.child=null;N!==null;){if(d=N.alternate,d!==null&&Rt(d)===null){m.child=N;break}d=N.sibling,N.sibling=_,_=N,N=d}Md(m,!0,_,null,U,E);break;case"together":Md(m,!1,null,null,void 0,E);break;default:m.memoizedState=null}return m.child}function Bl(d,m,_){if(d!==null&&(m.dependencies=d.dependencies),qu|=m.lanes,(_&m.childLanes)===0)if(d!==null){if(Ze(d,m,_,!1),(_&m.childLanes)===0)return null}else return null;if(d!==null&&m.child!==d.child)throw Error(i(153));if(m.child!==null){for(d=m.child,_=Vs(d,d.pendingProps),m.child=_,_.return=m;d.sibling!==null;)d=d.sibling,_=_.sibling=Vs(d,d.pendingProps),_.return=m;_.sibling=null}return m.child}function vm(d,m){return(d.lanes&m)!==0?!0:(d=d.dependencies,!!(d!==null&&De(d)))}function Sx(d,m,_){switch(m.tag){case 3:ve(m,m.stateNode.containerInfo),Ce(m,Fr,d.memoizedState.cache),ut();break;case 27:case 5:ce(m);break;case 4:ve(m,m.stateNode.containerInfo);break;case 10:Ce(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,je(m),null;break;case 13:var E=m.memoizedState;if(E!==null)return E.dehydrated!==null?(Me(m),m.flags|=128,null):(_&m.child.childLanes)!==0?_x(d,m,_):(Me(m),d=Bl(d,m,_),d!==null?d.sibling:null);Me(m);break;case 19:var N=(d.flags&128)!==0;if(E=(_&m.childLanes)!==0,E||(Ze(d,m,_,!1),E=(_&m.childLanes)!==0),N){if(E)return wx(d,m,_);m.flags|=128}if(N=m.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),x(ei,ei.current),E)break;return null;case 22:return m.lanes=0,NS(d,m,_,m.pendingProps);case 24:Ce(m,Fr,d.memoizedState.cache)}return Bl(d,m,_)}function Ax(d,m,_){if(d!==null)if(d.memoizedProps!==m.pendingProps)Pr=!0;else{if(!vm(d,_)&&(m.flags&128)===0)return Pr=!1,Sx(d,m,_);Pr=(d.flags&131072)!==0}else Pr=!1,Ln&&(m.flags&1048576)!==0&&B(m,zm,m.index);switch(m.lanes=0,m.tag){case 16:e:{var E=m.pendingProps;if(d=Tt(m.elementType),m.type=d,typeof d=="function")Zf(d)?(E=qf(d,E),m.tag=1,m=Yf(null,m,d,E,_)):(m.tag=0,m=j0(null,m,d,E,_));else{if(d!=null){var N=d.$$typeof;if(N===Fd){m.tag=11,m=PS(null,m,d,E,_);break e}else if(N===lv){m.tag=14,m=OS(null,m,d,E,_);break e}}throw m=p(d)||d,Error(i(306,m,""))}}return m;case 0:return j0(d,m,m.type,m.pendingProps,_);case 1:return E=m.type,N=qf(E,m.pendingProps),Yf(d,m,E,N,_);case 3:e:{if(ve(m,m.stateNode.containerInfo),d===null)throw Error(i(387));var U=m.pendingProps;N=m.memoizedState,E=N.element,aa(d,m),vo(m,U,null,_);var ee=m.memoizedState;if(U=ee.cache,Ce(m,Fr,U),U!==N.cache&&ft(m,[Fr],_,!0),Us(),U=ee.element,kr&&N.isDehydrated)if(N={element:U,isDehydrated:!1,cache:ee.cache},m.updateQueue.baseState=N,m.memoizedState=N,m.flags&256){m=IS(d,m,U,_);break e}else if(U!==E){E=J(Error(i(424)),m),Le(E),m=IS(d,m,U,_);break e}else for(kr&&(Br=mA(m.stateNode.containerInfo),Di=m,Ln=!0,Jl=null,qa=!0),_=x1(m,null,U,_),m.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(ut(),U===E){m=Bl(d,m,_);break e}oa(d,m,U,_)}m=m.child}return m;case 26:if(Oo)return gm(d,m),d===null?(_=u1(m.type,null,m.pendingProps,null))?m.memoizedState=_:Ln||(m.stateNode=bv(m.type,m.pendingProps,ua.current,m)):m.memoizedState=u1(m.type,d.memoizedProps,m.pendingProps,d.memoizedState),null;case 27:if(Ni)return ce(m),d===null&&Ni&&Ln&&(E=m.stateNode=xv(m.type,m.pendingProps,ua.current,Zi.current,!1),Di=m,qa=!0,Br=r1(m.type,E,Br)),oa(d,m,m.pendingProps.children,_),gm(d,m),d===null&&(m.flags|=4194304),m.child;case 5:return d===null&&Ln&&(PA(m.type,m.pendingProps,Zi.current),(N=E=Br)&&(E=yA(E,m.type,m.pendingProps,qa),E!==null?(m.stateNode=E,Di=m,Br=pA(E),qa=!1,N=!0):N=!1),N||me(m)),ce(m),N=m.type,U=m.pendingProps,ee=d!==null?d.memoizedProps:null,E=U.children,Wa(N,U)?E=null:ee!==null&&Wa(N,ee)&&(m.flags|=32),m.memoizedState!==null&&(N=kt(d,m,Zt,null,null,_),hi?sh._currentValue=N:sh._currentValue2=N),gm(d,m),oa(d,m,E,_),m.child;case 6:return d===null&&Ln&&(l1(m.pendingProps,Zi.current),(d=_=Br)&&(_=bA(_,m.pendingProps,qa),_!==null?(m.stateNode=_,Di=m,Br=null,d=!0):d=!1),d||me(m)),null;case 13:return _x(d,m,_);case 4:return ve(m,m.stateNode.containerInfo),E=m.pendingProps,d===null?m.child=ca(m,null,E,_):oa(d,m,E,_),m.child;case 11:return PS(d,m,m.type,m.pendingProps,_);case 7:return oa(d,m,m.pendingProps,_),m.child;case 8:return oa(d,m,m.pendingProps.children,_),m.child;case 12:return oa(d,m,m.pendingProps.children,_),m.child;case 10:return E=m.pendingProps,Ce(m,m.type,E.value),oa(d,m,E.children,_),m.child;case 9:return N=m.type._context,E=m.pendingProps.children,qe(m),N=$(N),E=E(N),m.flags|=1,oa(d,m,E,_),m.child;case 14:return OS(d,m,m.type,m.pendingProps,_);case 15:return RS(d,m,m.type,m.pendingProps,_);case 19:return wx(d,m,_);case 31:return DS(d,m,_);case 22:return NS(d,m,_,m.pendingProps);case 24:return qe(m),E=$(Fr),d===null?(N=rt(),N===null&&(N=wn,U=Ue(),N.pooledCache=U,U.refCount++,U!==null&&(N.pooledCacheLanes|=_),N=U),m.memoizedState={parent:E,cache:N},Zr(m),Ce(m,Fr,N)):((d.lanes&_)!==0&&(aa(d,m),vo(m,null,null,_),Us()),N=d.memoizedState,U=m.memoizedState,N.parent!==E?(N={parent:E,cache:E},m.memoizedState=N,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=N),Ce(m,Fr,E)):(E=U.cache,Ce(m,Fr,E),E!==N.cache&&ft(m,[Fr],_,!0))),oa(d,m,m.pendingProps.children,_),m.child;case 29:throw m.pendingProps}throw Error(i(156,m.tag))}function wo(d){d.flags|=4}function ym(d){js&&(d.flags|=8)}function US(d,m){if(d!==null&&d.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(d=m.child;d!==null;){if((d.flags&8218)!==0||(d.subtreeFlags&8218)!==0)return!0;d=d.sibling}return!1}function Ex(d,m,_,E){if(zn)for(_=m.child;_!==null;){if(_.tag===5||_.tag===6)Nm(d,_.stateNode);else if(!(_.tag===4||Ni&&_.tag===27)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else if(js)for(var N=m.child;N!==null;){if(N.tag===5){var U=N.stateNode;_&&E&&(U=cA(U,N.type,N.memoizedProps)),Nm(d,U)}else if(N.tag===6)U=N.stateNode,_&&E&&(U=t1(U,N.memoizedProps)),Nm(d,U);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)U=N.child,U!==null&&(U.return=N),Ex(d,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===m)break;for(;N.sibling===null;){if(N.return===null||N.return===m)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function kS(d,m,_,E){var N=!1;if(js)for(var U=m.child;U!==null;){if(U.tag===5){var ee=U.stateNode;_&&E&&(ee=cA(ee,U.type,U.memoizedProps)),Jx(d,ee)}else if(U.tag===6)ee=U.stateNode,_&&E&&(ee=t1(ee,U.memoizedProps)),Jx(d,ee);else if(U.tag!==4){if(U.tag===22&&U.memoizedState!==null)N=U.child,N!==null&&(N.return=U),kS(d,U,!0,!0),N=!0;else if(U.child!==null){U.child.return=U,U=U.child;continue}}if(U===m)break;for(;U.sibling===null;){if(U.return===null||U.return===m)return N;U=U.return}U.sibling.return=U.return,U=U.sibling}return N}function BS(d,m){if(js&&US(d,m)){d=m.stateNode;var _=d.containerInfo,E=Qx();kS(E,m,!1,!1),d.pendingChildren=E,wo(m),uA(_,E)}}function Mx(d,m,_,E){if(zn)d.memoizedProps!==E&&wo(m);else if(js){var N=d.stateNode,U=d.memoizedProps;if((d=US(d,m))||U!==E){var ee=Zi.current;U=lA(N,_,U,E,!d,null),U===N?m.stateNode=N:(ym(m),ps(U,_,E,ee)&&wo(m),m.stateNode=U,d&&Ex(U,m,!1,!1))}else m.stateNode=N}}function Ha(d,m,_,E,N){if((d.mode&32)!==0&&(_===null?Dm(m,E):jd(m,_,E))){if(d.flags|=16777216,(N&335544128)===N||Gx(m,E))if(jr(d.stateNode,m,E))d.flags|=8192;else if(Fn())d.flags|=8192;else throw Xa=eu,Rv}else d.flags&=-16777217}function Td(d,m){if(d1(m)){if(d.flags|=16777216,!p1(m))if(Fn())d.flags|=8192;else throw Xa=eu,Rv}else d.flags&=-16777217}function bm(d,m){m!==null&&(d.flags|=4),d.flags&16384&&(m=d.tag!==22?O():536870912,d.lanes|=m,Jd|=m)}function Cd(d,m){if(!Ln)switch(d.tailMode){case"hidden":m=d.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var E=null;_!==null;)_.alternate!==null&&(E=_),_=_.sibling;E===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function wr(d){var m=d.alternate!==null&&d.alternate.child===d.child,_=0,E=0;if(m)for(var N=d.child;N!==null;)_|=N.lanes|N.childLanes,E|=N.subtreeFlags&65011712,E|=N.flags&65011712,N.return=d,N=N.sibling;else for(N=d.child;N!==null;)_|=N.lanes|N.childLanes,E|=N.subtreeFlags,E|=N.flags,N.return=d,N=N.sibling;return d.subtreeFlags|=E,d.childLanes=_,m}function FS(d,m,_){var E=m.pendingProps;switch(le(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(m),null;case 1:return wr(m),null;case 3:return _=m.stateNode,E=null,d!==null&&(E=d.memoizedState.cache),m.memoizedState.cache!==E&&(m.flags|=2048),tt(Fr),ue(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(d===null||d.child===null)&&(ye(m)?wo(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,_e())),BS(d,m),wr(m),null;case 26:if(Oo){var N=m.type,U=m.memoizedState;return d===null?(wo(m),U!==null?(wr(m),Td(m,U)):(wr(m),Ha(m,N,null,E,_))):U?U!==d.memoizedState?(wo(m),wr(m),Td(m,U)):(wr(m),m.flags&=-16777217):(U=d.memoizedProps,zn?U!==E&&wo(m):Mx(d,m,N,E),wr(m),Ha(m,N,U,E,_)),null}case 27:if(Ni){if(Se(m),_=ua.current,N=m.type,d!==null&&m.stateNode!=null)zn?d.memoizedProps!==E&&wo(m):Mx(d,m,N,E);else{if(!E){if(m.stateNode===null)throw Error(i(166));return wr(m),null}d=Zi.current,ye(m)?Ne(m,d):(d=xv(N,E,_,d,!0),m.stateNode=d,wo(m))}return wr(m),null}case 5:if(Se(m),N=m.type,d!==null&&m.stateNode!=null)Mx(d,m,N,E);else{if(!E){if(m.stateNode===null)throw Error(i(166));return wr(m),null}if(U=Zi.current,ye(m))Ne(m,U),MA(m.stateNode,N,E,U)&&(m.flags|=64);else{var ee=Fx(N,E,ua.current,U,m);ym(m),Ex(ee,m,!1,!1),m.stateNode=ee,ps(ee,N,E,U)&&wo(m)}}return wr(m),Ha(m,m.type,d===null?null:d.memoizedProps,m.pendingProps,_),null;case 6:if(d&&m.stateNode!=null)_=d.memoizedProps,zn?_!==E&&wo(m):js&&(_!==E?(d=ua.current,_=Zi.current,ym(m),m.stateNode=zu(E,d,_,m)):m.stateNode=d.stateNode);else{if(typeof E!="string"&&m.stateNode===null)throw Error(i(166));if(d=ua.current,_=Zi.current,ye(m)){if(!kr)throw Error(i(176));if(d=m.stateNode,_=m.memoizedProps,E=null,N=Di,N!==null)switch(N.tag){case 27:case 5:E=N.memoizedProps}JP(d,_,m,E)||me(m,!0)}else ym(m),m.stateNode=zu(E,d,_,m)}return wr(m),null;case 31:if(_=m.memoizedState,d===null||d.memoizedState!==null){if(E=ye(m),_!==null){if(d===null){if(!E)throw Error(i(318));if(!kr)throw Error(i(556));if(d=m.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(557));a1(d,m)}else ut(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;wr(m),d=!1}else _=_e(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=_),d=!0;if(!d)return m.flags&256?(St(m),m):(St(m),null);if((m.flags&128)!==0)throw Error(i(558))}return wr(m),null;case 13:if(E=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(N=ye(m),E!==null&&E.dehydrated!==null){if(d===null){if(!N)throw Error(i(318));if(!kr)throw Error(i(344));if(N=m.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(i(317));wA(N,m)}else ut(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;wr(m),N=!1}else N=_e(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=N),N=!0;if(!N)return m.flags&256?(St(m),m):(St(m),null)}return St(m),(m.flags&128)!==0?(m.lanes=_,m):(_=E!==null,d=d!==null&&d.memoizedState!==null,_&&(E=m.child,N=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(N=E.alternate.memoizedState.cachePool.pool),U=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(U=E.memoizedState.cachePool.pool),U!==N&&(E.flags|=2048)),_!==d&&_&&(m.child.flags|=8192),bm(m,m.updateQueue),wr(m),null);case 4:return ue(),BS(d,m),d===null&&mr(m.stateNode.containerInfo),wr(m),null;case 10:return tt(m.type),wr(m),null;case 19:if(y(ei),E=m.memoizedState,E===null)return wr(m),null;if(N=(m.flags&128)!==0,U=E.rendering,U===null)if(N)Cd(E,!1);else{if(Xr!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(U=Rt(d),U!==null){for(m.flags|=128,Cd(E,!1),d=U.updateQueue,m.updateQueue=d,bm(m,d),m.subtreeFlags=0,d=_,_=m.child;_!==null;)rv(_,d),_=_.sibling;return x(ei,ei.current&1|2),Ln&&ae(m,E.treeForkCount),m.child}d=d.sibling}E.tail!==null&&Ta()>ef&&(m.flags|=128,N=!0,Cd(E,!1),m.lanes=4194304)}else{if(!N)if(d=Rt(U),d!==null){if(m.flags|=128,N=!0,d=d.updateQueue,m.updateQueue=d,bm(m,d),Cd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!U.alternate&&!Ln)return wr(m),null}else 2*Ta()-E.renderingStartTime>ef&&_!==536870912&&(m.flags|=128,N=!0,Cd(E,!1),m.lanes=4194304);E.isBackwards?(U.sibling=m.child,m.child=U):(d=E.last,d!==null?d.sibling=U:m.child=U,E.last=U)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=Ta(),d.sibling=null,_=ei.current,x(ei,N?_&1|2:_&1),Ln&&ae(m,E.treeForkCount),d):(wr(m),null);case 22:case 23:return St(m),te(),E=m.memoizedState!==null,d!==null?d.memoizedState!==null!==E&&(m.flags|=8192):E&&(m.flags|=8192),E?(_&536870912)!==0&&(m.flags&128)===0&&(wr(m),m.subtreeFlags&6&&(m.flags|=8192)):wr(m),_=m.updateQueue,_!==null&&bm(m,_.retryQueue),_=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==_&&(m.flags|=2048),d!==null&&y(qc),null;case 24:return _=null,d!==null&&(_=d.memoizedState.cache),m.memoizedState.cache!==_&&(m.flags|=2048),tt(Fr),wr(m),null;case 25:return null;case 30:return null}throw Error(i(156,m.tag))}function Tx(d,m){switch(le(m),m.tag){case 1:return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return tt(Fr),ue(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 26:case 27:case 5:return Se(m),null;case 31:if(m.memoizedState!==null){if(St(m),m.alternate===null)throw Error(i(340));ut()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 13:if(St(m),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(i(340));ut()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return y(ei),null;case 4:return ue(),null;case 10:return tt(m.type),null;case 22:case 23:return St(m),te(),d!==null&&y(qc),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 24:return tt(Fr),null;case 25:return null;default:return null}}function zS(d,m){switch(le(m),m.tag){case 3:tt(Fr),ue();break;case 26:case 27:case 5:Se(m);break;case 4:ue();break;case 31:m.memoizedState!==null&&St(m);break;case 13:St(m);break;case 19:y(ei);break;case 10:tt(m.type);break;case 22:case 23:St(m),te(),d!==null&&y(qc);break;case 24:tt(Fr)}}function Fl(d,m){try{var _=m.updateQueue,E=_!==null?_.lastEffect:null;if(E!==null){var N=E.next;_=N;do{if((_.tag&d)===d){E=void 0;var U=_.create,ee=_.inst;E=U(),ee.destroy=E}_=_.next}while(_!==N)}}catch(xe){ln(m,m.return,xe)}}function zl(d,m,_){try{var E=m.updateQueue,N=E!==null?E.lastEffect:null;if(N!==null){var U=N.next;E=U;do{if((E.tag&d)===d){var ee=E.inst,xe=ee.destroy;if(xe!==void 0){ee.destroy=void 0,N=m;var Je=_,gt=xe;try{gt()}catch(Et){ln(N,Je,Et)}}}E=E.next}while(E!==U)}}catch(Et){ln(m,m.return,Et)}}function Pd(d){var m=d.updateQueue;if(m!==null){var _=d.stateNode;try{ks(m,_)}catch(E){ln(d,d.return,E)}}}function q0(d,m,_){_.props=qf(d.type,d.memoizedProps),_.state=d.memoizedState;try{_.componentWillUnmount()}catch(E){ln(d,m,E)}}function Od(d,m){try{var _=d.ref;if(_!==null){switch(d.tag){case 26:case 27:case 5:var E=Gd(d.stateNode);break;case 30:E=d.stateNode;break;default:E=d.stateNode}typeof _=="function"?d.refCleanup=_(E):_.current=E}}catch(N){ln(d,m,N)}}function Ma(d,m){var _=d.ref,E=d.refCleanup;if(_!==null)if(typeof E=="function")try{E()}catch(N){ln(d,m,N)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(N){ln(d,m,N)}else _.current=null}function $f(d){var m=d.type,_=d.memoizedProps,E=d.stateNode;try{eA(E,m,_,d)}catch(N){ln(d,d.return,N)}}function xm(d,m,_){try{tA(d.stateNode,d.type,_,m,d)}catch(E){ln(d,d.return,E)}}function Cx(d){return d.tag===5||d.tag===3||(Oo?d.tag===26:!1)||(Ni?d.tag===27&&oh(d.type):!1)||d.tag===4}function Nu(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Cx(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(Ni&&d.tag===27&&oh(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function X0(d,m,_){var E=d.tag;if(E===5||E===6)d=d.stateNode,m?rA(_,d,m):Yx(_,d);else if(E!==4&&(Ni&&E===27&&oh(d.type)&&(_=d.stateNode,m=null),d=d.child,d!==null))for(X0(d,m,_),d=d.sibling;d!==null;)X0(d,m,_),d=d.sibling}function _m(d,m,_){var E=d.tag;if(E===5||E===6)d=d.stateNode,m?nA(_,d,m):Xx(_,d);else if(E!==4&&(Ni&&E===27&&oh(d.type)&&(_=d.stateNode),d=d.child,d!==null))for(_m(d,m,_),d=d.sibling;d!==null;)_m(d,m,_),d=d.sibling}function Px(d,m,_){d=d.containerInfo;try{e1(d,_)}catch(E){ln(m,m.return,E)}}function GS(d){var m=d.stateNode,_=d.memoizedProps;try{Ei(d.type,_,m,d)}catch(E){ln(d,d.return,E)}}function KP(d,m){for(uv(d.containerInfo),mi=m;mi!==null;)if(d=mi,m=d.child,(d.subtreeFlags&1028)!==0&&m!==null)m.return=d,mi=m;else for(;mi!==null;){d=mi;var _=d.alternate;switch(m=d.flags,d.tag){case 0:if((m&4)!==0&&(m=d.updateQueue,m=m!==null?m.events:null,m!==null))for(var E=0;E<m.length;E++){var N=m[E];N.ref.impl=N.nextImpl}break;case 11:case 15:break;case 1:if((m&1024)!==0&&_!==null){m=void 0,E=d,N=_.memoizedProps,_=_.memoizedState;var U=E.stateNode;try{var ee=qf(E.type,N);m=U.getSnapshotBeforeUpdate(ee,_),U.__reactInternalSnapshotBeforeUpdate=m}catch(xe){ln(E,E.return,xe)}}break;case 3:(m&1024)!==0&&zn&&Zx(d.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(i(163))}if(m=d.sibling,m!==null){m.return=d.return,mi=m;break}mi=d.return}}function HS(d,m,_){var E=_.flags;switch(_.tag){case 0:case 11:case 15:Va(d,_),E&4&&Fl(5,_);break;case 1:if(Va(d,_),E&4)if(d=_.stateNode,m===null)try{d.componentDidMount()}catch(ee){ln(_,_.return,ee)}else{var N=qf(_.type,m.memoizedProps);m=m.memoizedState;try{d.componentDidUpdate(N,m,d.__reactInternalSnapshotBeforeUpdate)}catch(ee){ln(_,_.return,ee)}}E&64&&Pd(_),E&512&&Od(_,_.return);break;case 3:if(Va(d,_),E&64&&(E=_.updateQueue,E!==null)){if(d=null,_.child!==null)switch(_.child.tag){case 27:case 5:d=Gd(_.child.stateNode);break;case 1:d=_.child.stateNode}try{ks(E,d)}catch(ee){ln(_,_.return,ee)}}break;case 27:Ni&&m===null&&E&4&&GS(_);case 26:case 5:if(Va(d,_),m===null){if(E&4)$f(_);else if(E&64){d=_.type,m=_.memoizedProps,N=_.stateNode;try{AA(N,d,m,_)}catch(ee){ln(_,_.return,ee)}}}E&512&&Od(_,_.return);break;case 12:Va(d,_);break;case 31:Va(d,_),E&4&&Ao(d,_);break;case 13:Va(d,_),E&4&&Sm(d,_),E&64&&(E=_.memoizedState,E!==null&&(E=E.dehydrated,E!==null&&(_=$P.bind(null,_),gv(E,_))));break;case 22:if(E=_.memoizedState!==null||ti,!E){m=m!==null&&m.memoizedState!==null||ni,N=ti;var U=ni;ti=E,(ni=m)&&!U?Mo(d,_,(_.subtreeFlags&8772)!==0):Va(d,_),ti=N,ni=U}break;case 30:break;default:Va(d,_)}}function Ox(d){var m=d.alternate;m!==null&&(d.alternate=null,Ox(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&cv(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function So(d,m,_){for(_=_.child;_!==null;)wm(d,m,_),_=_.sibling}function wm(d,m,_){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(ch,_)}catch{}switch(_.tag){case 26:if(Oo){ni||Ma(_,m),So(d,m,_),_.memoizedState?jc(_.memoizedState):_.stateNode&&h1(_.stateNode);break}case 27:if(Ni){ni||Ma(_,m);var E=qr,N=gi;oh(_.type)&&(qr=_.stateNode,gi=!1),So(d,m,_),$i(_.stateNode),qr=E,gi=N;break}case 5:ni||Ma(_,m);case 6:if(zn){if(E=qr,N=gi,qr=null,So(d,m,_),qr=E,gi=N,qr!==null)if(gi)try{Kx(qr,_.stateNode)}catch(U){ln(_,m,U)}else try{iA(qr,_.stateNode)}catch(U){ln(_,m,U)}}else So(d,m,_);break;case 18:zn&&qr!==null&&(gi?vv(qr,_.stateNode):o1(qr,_.stateNode));break;case 4:zn?(E=qr,N=gi,qr=_.stateNode.containerInfo,gi=!0,So(d,m,_),qr=E,gi=N):(js&&Px(_.stateNode,_,Qx()),So(d,m,_));break;case 0:case 11:case 14:case 15:zl(2,_,m),ni||zl(4,_,m),So(d,m,_);break;case 1:ni||(Ma(_,m),E=_.stateNode,typeof E.componentWillUnmount=="function"&&q0(_,m,E)),So(d,m,_);break;case 21:So(d,m,_);break;case 22:ni=(E=ni)||_.memoizedState!==null,So(d,m,_),ni=E;break;default:So(d,m,_)}}function Ao(d,m){if(kr&&m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{eO(d)}catch(_){ln(m,m.return,_)}}}function Sm(d,m){if(kr&&m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{tO(d)}catch(_){ln(m,m.return,_)}}function Eo(d){switch(d.tag){case 31:case 13:case 19:var m=d.stateNode;return m===null&&(m=d.stateNode=new w1),m;case 22:return d=d.stateNode,m=d._retryCache,m===null&&(m=d._retryCache=new w1),m;default:throw Error(i(435,d.tag))}}function Du(d,m){var _=Eo(d);m.forEach(function(E){if(!_.has(E)){_.add(E);var N=ZP.bind(null,d,E);E.then(N,N)}})}function Yi(d,m){var _=m.deletions;if(_!==null)for(var E=0;E<_.length;E++){var N=_[E],U=d,ee=m;if(zn){var xe=ee;e:for(;xe!==null;){switch(xe.tag){case 27:if(Ni){if(oh(xe.type)){qr=xe.stateNode,gi=!1;break e}break}case 5:qr=xe.stateNode,gi=!1;break e;case 3:case 4:qr=xe.stateNode.containerInfo,gi=!0;break e}xe=xe.return}if(qr===null)throw Error(i(160));wm(U,ee,N),qr=null,gi=!1}else wm(U,ee,N);U=N.alternate,U!==null&&(U.return=null),N.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)Am(m,d),m=m.sibling}function Am(d,m){var _=d.alternate,E=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Yi(m,d),Ki(d),E&4&&(zl(3,d,d.return),Fl(3,d),zl(5,d,d.return));break;case 1:Yi(m,d),Ki(d),E&512&&(ni||_===null||Ma(_,_.return)),E&64&&ti&&(d=d.updateQueue,d!==null&&(E=d.callbacks,E!==null&&(_=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=_===null?E:_.concat(E))));break;case 26:if(Oo){var N=fr;if(Yi(m,d),Ki(d),E&512&&(ni||_===null||Ma(_,_.return)),E&4){E=_!==null?_.memoizedState:null;var U=d.memoizedState;_===null?U===null?d.stateNode===null?d.stateNode=OA(N,d.type,d.memoizedProps,d):f1(N,d.type,d.stateNode):d.stateNode=c1(N,U,d.memoizedProps):E!==U?(E===null?_.stateNode!==null&&h1(_.stateNode):jc(E),U===null?f1(N,d.type,d.stateNode):c1(N,U,d.memoizedProps)):U===null&&d.stateNode!==null&&xm(d,d.memoizedProps,_.memoizedProps)}break}case 27:if(Ni){Yi(m,d),Ki(d),E&512&&(ni||_===null||Ma(_,_.return)),_!==null&&E&4&&xm(d,d.memoizedProps,_.memoizedProps);break}case 5:if(Yi(m,d),Ki(d),E&512&&(ni||_===null||Ma(_,_.return)),zn){if(d.flags&32){N=d.stateNode;try{$x(N)}catch(xt){ln(d,d.return,xt)}}E&4&&d.stateNode!=null&&(N=d.memoizedProps,xm(d,N,_!==null?_.memoizedProps:N)),E&1024&&(Yd=!0)}else js&&d.alternate!==null&&(d.alternate.stateNode=d.stateNode);break;case 6:if(Yi(m,d),Ki(d),E&4&&zn){if(d.stateNode===null)throw Error(i(162));E=d.memoizedProps,_=_!==null?_.memoizedProps:E,N=d.stateNode;try{JS(N,_,E)}catch(xt){ln(d,d.return,xt)}}break;case 3:if(Oo?(RA(),N=fr,fr=Um(m.containerInfo),Yi(m,d),fr=N):Yi(m,d),Ki(d),E&4){if(zn&&kr&&_!==null&&_.memoizedState.isDehydrated)try{EA(m.containerInfo)}catch(xt){ln(d,d.return,xt)}if(js){E=m.containerInfo,_=m.pendingChildren;try{e1(E,_)}catch(xt){ln(d,d.return,xt)}}}Yd&&(Yd=!1,Y0(d));break;case 4:Oo?(_=fr,fr=Um(d.stateNode.containerInfo),Yi(m,d),Ki(d),fr=_):(Yi(m,d),Ki(d)),E&4&&js&&Px(d.stateNode,d,d.stateNode.pendingChildren);break;case 12:Yi(m,d),Ki(d);break;case 31:Yi(m,d),Ki(d),E&4&&(E=d.updateQueue,E!==null&&(d.updateQueue=null,Du(d,E)));break;case 13:Yi(m,d),Ki(d),d.child.flags&8192&&d.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(qm=Ta()),E&4&&(E=d.updateQueue,E!==null&&(d.updateQueue=null,Du(d,E)));break;case 22:N=d.memoizedState!==null;var ee=_!==null&&_.memoizedState!==null,xe=ti,Je=ni;if(ti=xe||N,ni=Je||ee,Yi(m,d),ni=Je,ti=xe,Ki(d),E&8192&&(m=d.stateNode,m._visibility=N?m._visibility&-2:m._visibility|1,N&&(_===null||ee||ti||ni||Rc(d)),zn)){e:if(_=null,zn)for(m=d;;){if(m.tag===5||Oo&&m.tag===26){if(_===null){ee=_=m;try{U=ee.stateNode,N?QP(U):sA(ee.stateNode,ee.memoizedProps)}catch(xt){ln(ee,ee.return,xt)}}}else if(m.tag===6){if(_===null){ee=m;try{var gt=ee.stateNode;N?aA(gt):oA(gt,ee.memoizedProps)}catch(xt){ln(ee,ee.return,xt)}}}else if(m.tag===18){if(_===null){ee=m;try{var Et=ee.stateNode;N?TA(Et):CA(ee.stateNode)}catch(xt){ln(ee,ee.return,xt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===d)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;_===m&&(_=null),m=m.return}_===m&&(_=null),m.sibling.return=m.return,m=m.sibling}}E&4&&(E=d.updateQueue,E!==null&&(_=E.retryQueue,_!==null&&(E.retryQueue=null,Du(d,_))));break;case 19:Yi(m,d),Ki(d),E&4&&(E=d.updateQueue,E!==null&&(d.updateQueue=null,Du(d,E)));break;case 30:break;case 21:break;default:Yi(m,d),Ki(d)}}function Ki(d){var m=d.flags;if(m&2){try{for(var _,E=d.return;E!==null;){if(Cx(E)){_=E;break}E=E.return}if(zn){if(_==null)throw Error(i(160));switch(_.tag){case 27:if(Ni){var N=_.stateNode,U=Nu(d);_m(d,U,N);break}case 5:var ee=_.stateNode;_.flags&32&&($x(ee),_.flags&=-33);var xe=Nu(d);_m(d,xe,ee);break;case 3:case 4:var Je=_.stateNode.containerInfo,gt=Nu(d);X0(d,gt,Je);break;default:throw Error(i(161))}}}catch(Et){ln(d,d.return,Et)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function Y0(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var m=d;Y0(m),m.tag===5&&m.flags&1024&&Vx(m.stateNode),d=d.sibling}}function Va(d,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)HS(d,m.alternate,m),m=m.sibling}function Rc(d){for(d=d.child;d!==null;){var m=d;switch(m.tag){case 0:case 11:case 14:case 15:zl(4,m,m.return),Rc(m);break;case 1:Ma(m,m.return);var _=m.stateNode;typeof _.componentWillUnmount=="function"&&q0(m,m.return,_),Rc(m);break;case 27:Ni&&$i(m.stateNode);case 26:case 5:Ma(m,m.return),Rc(m);break;case 22:m.memoizedState===null&&Rc(m);break;case 30:Rc(m);break;default:Rc(m)}d=d.sibling}}function Mo(d,m,_){for(_=_&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var E=m.alternate,N=d,U=m,ee=U.flags;switch(U.tag){case 0:case 11:case 15:Mo(N,U,_),Fl(4,U);break;case 1:if(Mo(N,U,_),E=U,N=E.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(gt){ln(E,E.return,gt)}if(E=U,N=E.updateQueue,N!==null){var xe=E.stateNode;try{var Je=N.shared.hiddenCallbacks;if(Je!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Je.length;N++)cs(Je[N],xe)}catch(gt){ln(E,E.return,gt)}}_&&ee&64&&Pd(U),Od(U,U.return);break;case 27:Ni&&GS(U);case 26:case 5:Mo(N,U,_),_&&E===null&&ee&4&&$f(U),Od(U,U.return);break;case 12:Mo(N,U,_);break;case 31:Mo(N,U,_),_&&ee&4&&Ao(N,U);break;case 13:Mo(N,U,_),_&&ee&4&&Sm(N,U);break;case 22:U.memoizedState===null&&Mo(N,U,_),Od(U,U.return);break;case 30:break;default:Mo(N,U,_)}m=m.sibling}}function Nc(d,m){var _=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),d=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(d=m.memoizedState.cachePool.pool),d!==_&&(d!=null&&d.refCount++,_!=null&&Pe(_))}function Rx(d,m){d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&Pe(d))}function Hr(d,m,_,E){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)K0(d,m,_,E),m=m.sibling}function K0(d,m,_,E){var N=m.flags;switch(m.tag){case 0:case 11:case 15:Hr(d,m,_,E),N&2048&&Fl(9,m);break;case 1:Hr(d,m,_,E);break;case 3:Hr(d,m,_,E),N&2048&&(d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&Pe(d)));break;case 12:if(N&2048){Hr(d,m,_,E),d=m.stateNode;try{var U=m.memoizedProps,ee=U.id,xe=U.onPostCommit;typeof xe=="function"&&xe(ee,m.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Je){ln(m,m.return,Je)}}else Hr(d,m,_,E);break;case 31:Hr(d,m,_,E);break;case 13:Hr(d,m,_,E);break;case 23:break;case 22:U=m.stateNode,ee=m.alternate,m.memoizedState!==null?U._visibility&2?Hr(d,m,_,E):Rd(d,m):U._visibility&2?Hr(d,m,_,E):(U._visibility|=2,fs(d,m,_,E,(m.subtreeFlags&10256)!==0||!1)),N&2048&&Nc(ee,m);break;case 24:Hr(d,m,_,E),N&2048&&Rx(m.alternate,m);break;default:Hr(d,m,_,E)}}function fs(d,m,_,E,N){for(N=N&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var U=d,ee=m,xe=_,Je=E,gt=ee.flags;switch(ee.tag){case 0:case 11:case 15:fs(U,ee,xe,Je,N),Fl(8,ee);break;case 23:break;case 22:var Et=ee.stateNode;ee.memoizedState!==null?Et._visibility&2?fs(U,ee,xe,Je,N):Rd(U,ee):(Et._visibility|=2,fs(U,ee,xe,Je,N)),N&&gt&2048&&Nc(ee.alternate,ee);break;case 24:fs(U,ee,xe,Je,N),N&&gt&2048&&Rx(ee.alternate,ee);break;default:fs(U,ee,xe,Je,N)}m=m.sibling}}function Rd(d,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var _=d,E=m,N=E.flags;switch(E.tag){case 22:Rd(_,E),N&2048&&Nc(E.alternate,E);break;case 24:Rd(_,E),N&2048&&Rx(E.alternate,E);break;default:Rd(_,E)}m=m.sibling}}function Gl(d,m,_){if(d.subtreeFlags&Ys)for(d=d.child;d!==null;)Dc(d,m,_),d=d.sibling}function Dc(d,m,_){switch(d.tag){case 26:if(Gl(d,m,_),d.flags&Ys)if(d.memoizedState!==null)NA(_,fr,d.memoizedState,d.memoizedProps);else{var E=d.stateNode,N=d.type;d=d.memoizedProps,((m&335544128)===m||Gx(N,d))&&fv(_,E,N,d)}break;case 5:Gl(d,m,_),d.flags&Ys&&(E=d.stateNode,N=d.type,d=d.memoizedProps,((m&335544128)===m||Gx(N,d))&&fv(_,E,N,d));break;case 3:case 4:Oo?(E=fr,fr=Um(d.stateNode.containerInfo),Gl(d,m,_),fr=E):Gl(d,m,_);break;case 22:d.memoizedState===null&&(E=d.alternate,E!==null&&E.memoizedState!==null?(E=Ys,Ys=16777216,Gl(d,m,_),Ys=E):Gl(d,m,_));break;default:Gl(d,m,_)}}function $0(d){var m=d.alternate;if(m!==null&&(d=m.child,d!==null)){m.child=null;do m=d.sibling,d.sibling=null,d=m;while(d!==null)}}function Nd(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var _=0;_<m.length;_++){var E=m[_];mi=E,Gs(E,d)}$0(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Z0(d),d=d.sibling}function Z0(d){switch(d.tag){case 0:case 11:case 15:Nd(d),d.flags&2048&&zl(9,d,d.return);break;case 3:Nd(d);break;case 12:Nd(d);break;case 22:var m=d.stateNode;d.memoizedState!==null&&m._visibility&2&&(d.return===null||d.return.tag!==13)?(m._visibility&=-3,Em(d)):Nd(d);break;default:Nd(d)}}function Em(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var _=0;_<m.length;_++){var E=m[_];mi=E,Gs(E,d)}$0(d)}for(d=d.child;d!==null;){switch(m=d,m.tag){case 0:case 11:case 15:zl(8,m,m.return),Em(m);break;case 22:_=m.stateNode,_._visibility&2&&(_._visibility&=-3,Em(m));break;default:Em(m)}d=d.sibling}}function Gs(d,m){for(;mi!==null;){var _=mi;switch(_.tag){case 0:case 11:case 15:zl(8,_,m);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var E=_.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Pe(_.memoizedState.cache)}if(E=_.child,E!==null)E.return=_,mi=E;else e:for(_=d;mi!==null;){E=mi;var N=E.sibling,U=E.return;if(Ox(E),E===_){mi=null;break e}if(N!==null){N.return=U,mi=N;break e}mi=U}}}function Ic(d){var m=mn(d);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(i(364));return m}if(d=di(d),d===null)throw Error(i(362));return d.stateNode.current}function Lc(d,m){var _=d.tag;switch(m.$$typeof){case Bo:if(d.type===m.value)return!0;break;case $d:e:{for(m=m.value,d=[d,0],_=0;_<d.length;){var E=d[_++],N=E.tag,U=d[_++],ee=m[U];if(N!==5&&N!==26&&N!==27||!Hc(E)){for(;ee!=null&&Lc(E,ee);)U++,ee=m[U];if(U===m.length){m=!0;break e}else for(E=E.child;E!==null;)d.push(E,U),E=E.sibling}}m=!1}return m;case Zd:if((_===5||_===26||_===27)&&qx(d.stateNode,m.value))return!0;break;case $c:if((_===5||_===6||_===26||_===27)&&(d=Im(d),d!==null&&0<=d.indexOf(m.value)))return!0;break;case jm:if((_===5||_===26||_===27)&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Dd(d){switch(d.$$typeof){case Bo:return"<"+(p(d.value)||"Unknown")+">";case $d:return":has("+(Dd(d)||"")+")";case Zd:return'[role="'+d.value+'"]';case $c:return'"'+d.value+'"';case jm:return'[data-testname="'+d.value+'"]';default:throw Error(i(365))}}function Id(d,m){var _=[];d=[d,0];for(var E=0;E<d.length;){var N=d[E++],U=N.tag,ee=d[E++],xe=m[ee];if(U!==5&&U!==26&&U!==27||!Hc(N)){for(;xe!=null&&Lc(N,xe);)ee++,xe=m[ee];if(ee===m.length)_.push(N);else for(N=N.child;N!==null;)d.push(N,ee),N=N.sibling}}return _}function hs(d,m){if(!Ri)throw Error(i(363));d=Ic(d),d=Id(d,m),m=[],d=Array.from(d);for(var _=0;_<d.length;){var E=d[_++],N=E.tag;if(N===5||N===26||N===27)Hc(E)||m.push(E.stateNode);else for(E=E.child;E!==null;)d.push(E),E=E.sibling}return m}function Ur(){return(On&2)!==0&&Un!==0?Un&-Un:Qt.T!==null?Te():Vd()}function Iu(){if(Ka===0)if((Un&536870912)===0||Ln){var d=uh;uh<<=1,(uh&3932160)===0&&(uh=262144),Ka=d}else Ka=536870912;return d=ys.current,d!==null&&(d.flags|=32),Ka}function Vr(d,m,_){(d===wn&&(hr===2||hr===9)||d.cancelPendingCommit!==null)&&(Jr(d,0),Vl(d,Un,Ka,!1)),D(d,_),((On&2)===0||d!==wn)&&(d===wn&&((On&2)===0&&(Jc|=_),Xr===4&&Vl(d,Un,Ka,!1)),ct(d))}function ol(d,m,_){if((On&6)!==0)throw Error(i(327));var E=!_&&(m&127)===0&&(m&d.expiredLanes)===0||T(d,m),N=E?WS(d,m):jl(d,m,!0),U=E;do{if(N===0){Zc&&!E&&Vl(d,m,0,!1);break}else{if(_=d.current.alternate,U&&!VS(_)){N=jl(d,m,!1),U=!1;continue}if(N===2){if(U=m,d.errorRecoveryDisabledLanes&U)var ee=0;else ee=d.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){m=ee;e:{var xe=d;N=Wm;var Je=kr&&xe.current.memoizedState.isDehydrated;if(Je&&(Jr(xe,ee).flags|=256),ee=jl(xe,ee,!1),ee!==2){if(Qc&&!Je){xe.errorRecoveryDisabledLanes|=U,Jc|=U,N=4;break e}U=xs,xs=N,U!==null&&(xs===null?xs=U:xs.push.apply(xs,U))}N=ee}if(U=!1,N!==2)continue}}if(N===1){Jr(d,0),Vl(d,m,0,!0);break}e:{switch(E=d,U=N,U){case 0:case 1:throw Error(i(345));case 4:if((m&4194048)!==m)break;case 6:Vl(E,m,Ka,!fl);break e;case 2:xs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((m&62914560)===m&&(N=qm+300-Ta(),10<N)){if(Vl(E,m,Ka,!fl),A(E,0,!0)!==0)break e;iu=m,E.timeoutHandle=zx(Hl.bind(null,E,_,xs,Xm,Dv,m,Ka,Jc,Jd,fl,U,"Throttled",-0,0),N);break e}Hl(E,_,xs,Xm,Dv,m,Ka,Jc,Jd,fl,U,null,-0,0)}}break}while(!0);ct(d)}function Hl(d,m,_,E,N,U,ee,xe,Je,gt,Et,xt,It,pn){if(d.timeoutHandle=ms,xt=m.subtreeFlags,xt&8192||(xt&16785408)===16785408){xt=Hx(),Dc(m,U,xt);var vi=(U&62914560)===U?qm-Ta():(U&4194048)===U?gh-Ta():0;if(vi=QS(xt,vi),vi!==null){iu=U,d.cancelPendingCommit=vi(ql.bind(null,d,m,U,_,E,N,ee,xe,Je,Et,xt,null,It,pn)),Vl(d,U,ee,!gt);return}}ql(d,m,U,_,E,N,ee,xe,Je)}function VS(d){for(var m=d;;){var _=m.tag;if((_===0||_===11||_===15)&&m.flags&16384&&(_=m.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var E=0;E<_.length;E++){var N=_[E],U=N.getSnapshot;N=N.value;try{if(!pi(U(),N))return!1}catch{return!1}}if(_=m.child,m.subtreeFlags&16384&&_!==null)_.return=m,m=_;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Vl(d,m,_,E){m&=~Qd,m&=~Jc,d.suspendedLanes|=m,d.pingedLanes&=~m,E&&(d.warmLanes|=m),E=d.expirationTimes;for(var N=m;0<N;){var U=31-gs(N),ee=1<<U;E[U]=-1,N&=~ee}_!==0&&F(d,_,m)}function Q0(){return(On&6)===0?(ot(0),!1):!0}function J0(){if(Rn!==null){if(hr===0)var d=Rn.return;else d=Rn,ul=Ar=null,Hn(d),Xc=null,fh=0,d=Rn;for(;d!==null;)zS(d.alternate,d),d=d.return;Rn=null}}function Jr(d,m){var _=d.timeoutHandle;_!==ms&&(d.timeoutHandle=ms,ZS(_)),_=d.cancelPendingCommit,_!==null&&(d.cancelPendingCommit=null,_()),iu=0,J0(),wn=d,Rn=_=Vs(d.current,null),Un=m,hr=0,Mi=null,fl=!1,Zc=T(d,m),Qc=!1,Jd=Ka=Qd=Jc=qu=Xr=0,xs=Wm=null,Dv=!1,(m&8)!==0&&(m|=m&32);var E=d.entangledLanes;if(E!==0)for(d=d.entanglements,E&=m;0<E;){var N=31-gs(E),U=1<<N;m|=d[N],E&=~U}return ru=m,ji(),_}function Sr(d,m){gn=null,Qt.H=Xs,m===Li||m===Uo?(m=Gt(),hr=3):m===Rv?(m=Gt(),hr=4):hr=m===Ya?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Mi=m,Rn===null&&(Xr=1,H0(d,J(m,d.current)))}function Fn(){var d=ys.current;return d===null?!0:(Un&4194048)===Un?bs===null:(Un&62914560)===Un||(Un&536870912)!==0?d===bs:!1}function Lu(){var d=Qt.H;return Qt.H=Xs,d===null?Xs:d}function Hs(){var d=Qt.A;return Qt.A=Kd,d}function Ld(){Xr=4,fl||(Un&4194048)!==Un&&ys.current!==null||(Zc=!0),(qu&134217727)===0&&(Jc&134217727)===0||wn===null||Vl(wn,Un,Ka,!1)}function jl(d,m,_){var E=On;On|=2;var N=Lu(),U=Hs();(wn!==d||Un!==m)&&(Xm=null,Jr(d,m)),m=!1;var ee=Xr;e:do try{if(hr!==0&&Rn!==null){var xe=Rn,Je=Mi;switch(hr){case 8:J0(),ee=6;break e;case 3:case 2:case 9:case 6:ys.current===null&&(m=!0);var gt=hr;if(hr=0,Mi=null,Wl(d,xe,Je,gt),_&&Zc){ee=0;break e}break;default:gt=hr,hr=0,Mi=null,Wl(d,xe,Je,gt)}}jS(),ee=Xr;break}catch(Et){Sr(d,Et)}while(!0);return m&&d.shellSuspendCounter++,ul=Ar=null,On=E,Qt.H=N,Qt.A=U,Rn===null&&(wn=null,Un=0,ji()),ee}function jS(){for(;Rn!==null;)Uc(Rn)}function WS(d,m){var _=On;On|=2;var E=Lu(),N=Hs();wn!==d||Un!==m?(Xm=null,ef=Ta()+500,Jr(d,m)):Zc=T(d,m);e:do try{if(hr!==0&&Rn!==null){m=Rn;var U=Mi;t:switch(hr){case 1:hr=0,Mi=null,Wl(d,m,U,1);break;case 2:case 9:if(ht(U)){hr=0,Mi=null,ev(m);break}m=function(){hr!==2&&hr!==9||wn!==d||(hr=7),ct(d)},U.then(m,m);break e;case 3:hr=7;break e;case 4:hr=5;break e;case 7:ht(U)?(hr=0,Mi=null,ev(m)):(hr=0,Mi=null,Wl(d,m,U,7));break;case 5:var ee=null;switch(Rn.tag){case 26:ee=Rn.memoizedState;case 5:case 27:var xe=Rn,Je=xe.type,gt=xe.pendingProps;if(ee?p1(ee):jr(xe.stateNode,Je,gt)){hr=0,Mi=null;var Et=xe.sibling;if(Et!==null)Rn=Et;else{var xt=xe.return;xt!==null?(Rn=xt,kd(xt)):Rn=null}break t}}hr=0,Mi=null,Wl(d,m,U,5);break;case 6:hr=0,Mi=null,Wl(d,m,U,6);break;case 8:J0(),Xr=6;break e;default:throw Error(i(462))}}Ud();break}catch(It){Sr(d,It)}while(!0);return ul=Ar=null,Qt.H=E,Qt.A=N,On=_,Rn!==null?0:(wn=null,Un=0,ji(),Xr)}function Ud(){for(;Rn!==null&&!IA();)Uc(Rn)}function Uc(d){var m=Ax(d.alternate,d,ru);d.memoizedProps=d.pendingProps,m===null?kd(d):Rn=m}function ev(d){var m=d,_=m.alternate;switch(m.tag){case 15:case 0:m=yx(_,m,m.pendingProps,m.type,void 0,Un);break;case 11:m=yx(_,m,m.pendingProps,m.type.render,m.ref,Un);break;case 5:Hn(m);default:zS(_,m),m=Rn=rv(m,ru),m=Ax(_,m,ru)}d.memoizedProps=d.pendingProps,m===null?kd(d):Rn=m}function Wl(d,m,_,E){ul=Ar=null,Hn(m),Xc=null,fh=0;var N=m.return;try{if(YP(d,N,m,_,Un)){Xr=1,H0(d,J(_,d.current)),Rn=null;return}}catch(U){if(N!==null)throw Rn=N,U;Xr=1,H0(d,J(_,d.current)),Rn=null;return}m.flags&32768?(Ln||E===1?d=!0:Zc||(Un&536870912)!==0?d=!1:(fl=d=!0,(E===2||E===9||E===3||E===6)&&(E=ys.current,E!==null&&E.tag===13&&(E.flags|=16384))),kc(m,d)):kd(m)}function kd(d){var m=d;do{if((m.flags&32768)!==0){kc(m,fl);return}d=m.return;var _=FS(m.alternate,m,ru);if(_!==null){Rn=_;return}if(m=m.sibling,m!==null){Rn=m;return}Rn=m=d}while(m!==null);Xr===0&&(Xr=5)}function kc(d,m){do{var _=Tx(d.alternate,d);if(_!==null){_.flags&=32767,Rn=_;return}if(_=d.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!m&&(d=d.sibling,d!==null)){Rn=d;return}Rn=d=_}while(d!==null);Xr=6,Rn=null}function ql(d,m,_,E,N,U,ee,xe,Je){d.cancelPendingCommit=null;do Yl();while(Ti!==0);if((On&6)!==0)throw Error(i(327));if(m!==null){if(m===d.current)throw Error(i(177));if(U=m.lanes|m.childLanes,U|=hh,I(d,_,U,ee,xe,Je),d===wn&&(Rn=wn=null,Un=0),vh=m,Yu=d,iu=_,ep=U,Iv=N,S1=E,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Ai(Bm,function(){return Mm(),null})):(d.callbackNode=null,d.callbackPriority=0),E=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||E){E=Qt.T,Qt.T=null,N=Po(),In(2),ee=On,On|=4;try{KP(d,m,_)}finally{On=ee,In(N),Qt.T=E}}Ti=1,Uu(),Xl(),tv()}}function Uu(){if(Ti===1){Ti=0;var d=Yu,m=vh,_=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||_){_=Qt.T,Qt.T=null;var E=Po();In(2);var N=On;On|=4;try{Am(m,d),$S(d.containerInfo)}finally{On=N,In(E),Qt.T=_}}d.current=m,Ti=2}}function Xl(){if(Ti===2){Ti=0;var d=Yu,m=vh,_=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||_){_=Qt.T,Qt.T=null;var E=Po();In(2);var N=On;On|=4;try{HS(d,m.alternate,m)}finally{On=N,In(E),Qt.T=_}}Ti=3}}function tv(){if(Ti===4||Ti===3){Ti=0,g1();var d=Yu,m=vh,_=iu,E=S1;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Ti=5:(Ti=0,vh=Yu=null,nv(d,d.pendingLanes));var N=d.pendingLanes;if(N===0&&(Xu=null),j(_),m=m.stateNode,vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(ch,m,void 0,(m.current.flags&128)===128)}catch{}if(E!==null){m=Qt.T,N=Po(),In(2),Qt.T=null;try{for(var U=d.onRecoverableError,ee=0;ee<E.length;ee++){var xe=E[ee];U(xe.value,{componentStack:xe.stack})}}finally{Qt.T=m,In(N)}}(iu&3)!==0&&Yl(),ct(d),N=d.pendingLanes,(_&261930)!==0&&(N&42)!==0?d===Ym?Kn++:(Kn=0,Ym=d):Kn=0,kr&&Lm(),ot(0)}}function nv(d,m){(d.pooledCacheLanes&=m)===0&&(m=d.pooledCache,m!=null&&(d.pooledCache=null,Pe(m)))}function Yl(){return Uu(),Xl(),tv(),Mm()}function Mm(){if(Ti!==5)return!1;var d=Yu,m=ep;ep=0;var _=j(iu),E=32>_?32:_;_=Qt.T;var N=Po();try{In(E),Qt.T=null,E=Iv,Iv=null;var U=Yu,ee=iu;if(Ti=0,vh=Yu=null,iu=0,(On&6)!==0)throw Error(i(331));var xe=On;if(On|=4,Z0(U.current),K0(U,U.current,ee,E),On=xe,ot(0,!1),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(ch,U)}catch{}return!0}finally{In(N),Qt.T=_,nv(d,m)}}function Bc(d,m,_){m=J(_,m),m=gx(d.stateNode,m,2),d=_a(d,m,2),d!==null&&(D(d,2),ct(d))}function ln(d,m,_){if(d.tag===3)Bc(d,d,_);else for(;m!==null;){if(m.tag===3){Bc(m,d,_);break}else if(m.tag===1){var E=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Xu===null||!Xu.has(E))){d=J(_,d),_=TS(2),E=_a(m,_,2),E!==null&&(CS(_,E,m,d),D(E,2),ct(E));break}}m=m.return}}function Bd(d,m,_){var E=d.pingCache;if(E===null){E=d.pingCache=new Ks;var N=new Set;E.set(m,N)}else N=E.get(m),N===void 0&&(N=new Set,E.set(m,N));N.has(_)||(Qc=!0,N.add(_),d=qS.bind(null,d,m,_),m.then(d,d))}function qS(d,m,_){var E=d.pingCache;E!==null&&E.delete(m),d.pingedLanes|=d.suspendedLanes&_,d.warmLanes&=~_,wn===d&&(Un&_)===_&&(Xr===4||Xr===3&&(Un&62914560)===Un&&300>Ta()-qm?(On&2)===0&&Jr(d,0):Qd|=_,Jd===Un&&(Jd=0)),ct(d)}function XS(d,m){m===0&&(m=O()),d=_r(d,m),d!==null&&(D(d,m),ct(d))}function $P(d){var m=d.memoizedState,_=0;m!==null&&(_=m.retryLane),XS(d,_)}function ZP(d,m){var _=0;switch(d.tag){case 31:case 13:var E=d.stateNode,N=d.memoizedState;N!==null&&(_=N.retryLane);break;case 19:E=d.stateNode;break;case 22:E=d.stateNode._retryCache;break;default:throw Error(i(314))}E!==null&&E.delete(m),XS(d,_)}function Ai(d,m){return km(d,m)}function Nx(d,m,_,E){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zf(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Vs(d,m){var _=d.alternate;return _===null?(_=t(d.tag,m,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=m,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&65011712,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,m=d.dependencies,_.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_.refCleanup=d.refCleanup,_}function rv(d,m){d.flags&=65011714;var _=d.alternate;return _===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=_.childLanes,d.lanes=_.lanes,d.child=_.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=_.memoizedProps,d.memoizedState=_.memoizedState,d.updateQueue=_.updateQueue,d.type=_.type,m=_.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d}function ku(d,m,_,E,N,U){var ee=0;if(E=d,typeof d=="function")Zf(d)&&(ee=1);else if(typeof d=="string")ee=Oo&&Ni?yv(d,_,Zi.current)?26:m1(d)?27:5:Oo?yv(d,_,Zi.current)?26:5:Ni&&m1(d)?27:5;else e:switch(d){case Om:return d=t(31,_,m,N),d.elementType=Om,d.lanes=U,d;case th:return To(_.children,N,U,m);case nh:ee=8,N|=24;break;case rh:return d=t(12,_,m,N|2),d.elementType=rh,d.lanes=U,d;case ov:return d=t(13,_,m,N),d.elementType=ov,d.lanes=U,d;case Bu:return d=t(19,_,m,N),d.elementType=Bu,d.lanes=U,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case Co:ee=10;break e;case Pm:ee=9;break e;case Fd:ee=11;break e;case lv:ee=14;break e;case ja:ee=16,E=null;break e}ee=29,_=Error(i(130,d===null?"null":typeof d,"")),E=null}return m=t(ee,_,m,N),m.elementType=d,m.type=E,m.lanes=U,m}function To(d,m,_,E){return d=t(7,d,E,m),d.lanes=_,d}function Dx(d,m,_){return d=t(6,d,null,m),d.lanes=_,d}function Ix(d){var m=t(18,null,null,0);return m.stateNode=d,m}function Lx(d,m,_){return m=t(4,d.children!==null?d.children:[],d.key,m),m.lanes=_,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function YS(d,m,_,E,N,U,ee,xe,Je){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ms,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=R(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R(0),this.hiddenUpdates=R(null),this.identifierPrefix=E,this.onUncaughtError=N,this.onCaughtError=U,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Je,this.incompleteTransitions=new Map}function Fc(d,m,_,E,N,U,ee,xe,Je,gt,Et,xt){return d=new YS(d,m,_,ee,Je,gt,Et,xt,xe),m=1,U===!0&&(m|=24),U=t(3,null,null,m),d.current=U,U.stateNode=d,m=Ue(),m.refCount++,d.pooledCache=m,m.refCount++,U.memoizedState={element:E,isDehydrated:_,cache:m},Zr(U),d}function iv(d){return d?(d=$l,d):$l}function Tm(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(i(188)):(d=Object.keys(d).join(","),Error(i(268,d)));return d=o(m),d=d!==null?u(d):null,d===null?null:Gd(d.stateNode)}function Ux(d,m,_,E,N,U){N=iv(N),E.context===null?E.context=N:E.pendingContext=N,E=za(m),E.payload={element:_},U=U===void 0?null:U,U!==null&&(E.callback=U),_=_a(d,E,m),_!==null&&(Vr(_,d,m),Ls(_,d,m))}function Qf(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<m?_:m}}function Cm(d,m){Qf(d,m),(d=d.alternate)&&Qf(d,m)}var xn={},av=Fw,ds=Xae,sv=Object.assign,Jf=Symbol.for("react.element"),Kl=Symbol.for("react.transitional.element"),eh=Symbol.for("react.portal"),th=Symbol.for("react.fragment"),nh=Symbol.for("react.strict_mode"),rh=Symbol.for("react.profiler"),Pm=Symbol.for("react.consumer"),Co=Symbol.for("react.context"),Fd=Symbol.for("react.forward_ref"),ov=Symbol.for("react.suspense"),Bu=Symbol.for("react.suspense_list"),lv=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),Om=Symbol.for("react.activity"),kx=Symbol.for("react.memo_cache_sentinel"),Fu=Symbol.iterator,zc=Symbol.for("react.client.reference"),Gc=Array.isArray,Qt=av.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Bx=e.rendererVersion,Rm=e.rendererPackageName,zd=e.extraDevToolsConfig,Gd=e.getPublicInstance,KS=e.getRootHostContext,Hd=e.getChildHostContext,uv=e.prepareForCommit,$S=e.resetAfterCommit,Fx=e.createInstance;e.cloneMutableInstance;var Nm=e.appendInitialChild,ps=e.finalizeInitialChildren,Wa=e.shouldSetTextContent,zu=e.createTextInstance;e.cloneMutableTextInstance;var zx=e.scheduleTimeout,ZS=e.cancelTimeout,ms=e.noTimeout,hi=e.isPrimaryRenderer;e.warnsIfNotActing;var zn=e.supportsMutation,js=e.supportsPersistence,kr=e.supportsHydration,mn=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var mr=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var In=e.setCurrentUpdatePriority,Po=e.getCurrentUpdatePriority,Vd=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var ih=e.shouldAttemptEagerTransition,cv=e.detachDeletedInstance;e.requestPostPaintCallback;var Dm=e.maySuspendCommit,jd=e.maySuspendCommitOnUpdate,Gx=e.maySuspendCommitInSyncRender,jr=e.preloadInstance,Hx=e.startSuspendingCommit,fv=e.suspendInstance;e.suspendOnActiveViewTransition;var QS=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var ah=e.NotPendingTransition,sh=e.HostTransitionContext,Vx=e.resetFormInstance;e.bindToConsole;var jx=e.supportsMicrotasks,Wx=e.scheduleMicrotask,Ri=e.supportsTestSelectors,di=e.findFiberRoot,hv=e.getBoundingRect,Im=e.getTextContent,Hc=e.isHiddenSubtree,qx=e.matchAccessibilityRole,Gu=e.setFocusIfFocusable,dv=e.setupIntersectionObserver,Xx=e.appendChild,Yx=e.appendChildToContainer,JS=e.commitTextUpdate,eA=e.commitMount,tA=e.commitUpdate,nA=e.insertBefore,rA=e.insertInContainerBefore,iA=e.removeChild,Kx=e.removeChildFromContainer,$x=e.resetTextContent,QP=e.hideInstance,aA=e.hideTextInstance,sA=e.unhideInstance,oA=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Zx=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var lA=e.cloneInstance,Qx=e.createContainerChildSet,Jx=e.appendChildToContainerChildSet,uA=e.finalizeContainerChildren,e1=e.replaceContainerChildren,cA=e.cloneHiddenInstance,t1=e.cloneHiddenTextInstance,Vc=e.isSuspenseInstancePending,pv=e.isSuspenseInstanceFallback,mv=e.getSuspenseInstanceFallbackErrorDetails,gv=e.registerSuspenseInstanceRetry,fA=e.canHydrateFormStateMarker,n1=e.isFormStateMarkerMatching,hA=e.getNextHydratableSibling,dA=e.getNextHydratableSiblingAfterSingleton,pA=e.getFirstHydratableChild,mA=e.getFirstHydratableChildWithinContainer,gA=e.getFirstHydratableChildWithinActivityInstance,vA=e.getFirstHydratableChildWithinSuspenseInstance,r1=e.getFirstHydratableChildWithinSingleton,yA=e.canHydrateInstance,bA=e.canHydrateTextInstance,i1=e.canHydrateActivityInstance,xA=e.canHydrateSuspenseInstance,_A=e.hydrateInstance,JP=e.hydrateTextInstance,a1=e.hydrateActivityInstance,wA=e.hydrateSuspenseInstance,SA=e.getNextHydratableInstanceAfterActivityInstance,s1=e.getNextHydratableInstanceAfterSuspenseInstance,AA=e.commitHydratedInstance,EA=e.commitHydratedContainer,eO=e.commitHydratedActivityInstance,tO=e.commitHydratedSuspenseInstance,MA=e.finalizeHydratedChildren,Lm=e.flushHydrationEvents;e.clearActivityBoundary;var o1=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var vv=e.clearSuspenseBoundaryFromContainer,TA=e.hideDehydratedBoundary,CA=e.unhideDehydratedBoundary,Wd=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var PA=e.validateHydratableInstance,l1=e.validateHydratableTextInstance,Oo=e.supportsResources,yv=e.isHostHoistableType,Um=e.getHoistableRoot,u1=e.getResource,c1=e.acquireResource,jc=e.releaseResource,OA=e.hydrateHoistable,f1=e.mountHoistable,h1=e.unmountHoistable,bv=e.createHoistableInstance,RA=e.prepareToCommitHoistables,d1=e.mayResourceSuspendCommit,p1=e.preloadResource,NA=e.suspendResource,Ni=e.supportsSingletons,xv=e.resolveSingletonInstance,Ei=e.acquireSingletonInstance,$i=e.releaseSingletonInstance,m1=e.isHostSingletonType,oh=e.isSingletonScope,_v=[],lh=-1,$l={},gs=Math.clz32?Math.clz32:S,wv=Math.log,DA=Math.LN2,Sv=256,uh=262144,qd=4194304,km=ds.unstable_scheduleCallback,Av=ds.unstable_cancelCallback,IA=ds.unstable_shouldYield,g1=ds.unstable_requestPaint,Ta=ds.unstable_now,Ev=ds.unstable_ImmediatePriority,LA=ds.unstable_UserBlockingPriority,Bm=ds.unstable_NormalPriority,Mv=ds.unstable_IdlePriority,v1=ds.log,UA=ds.unstable_setDisableYieldValue,ch=null,vs=null,pi=typeof Object.is=="function"?Object.is:re,Tv=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},nO=Object.prototype.hasOwnProperty,Cv,Zl,Fm=!1,y1=new WeakMap,Hu=[],Ql=0,gr=null,zm=0,Ro=[],Ws=0,No=null,la=1,ll="",Zi=v(null),Vu=v(null),ua=v(null),Gm=v(null),Di=null,Br=null,Ln=!1,Jl=null,qa=!1,Pv=Error(i(519)),Do=v(null),Ar=null,ul=null,kA=typeof AbortController<"u"?AbortController:function(){var d=[],m=this.signal={aborted:!1,addEventListener:function(_,E){d.push(E)}};this.abort=function(){m.aborted=!0,d.forEach(function(_){return _()})}},Qi=ds.unstable_scheduleCallback,rO=ds.unstable_NormalPriority,Fr={$$typeof:Co,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Hm=null,cr=null,Ca=!1,Io=!1,Ov=!1,Wc=0,Xd=null,b1=0,ju=0,Ii=null,Lo=Qt.S;Qt.S=function(d,m){gh=Ta(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&vt(d,m),Lo!==null&&Lo(d,m)};var qc=v(null),Li=Error(i(460)),Rv=Error(i(474)),Uo=Error(i(542)),eu={then:function(){}},Xa=null,Xc=null,fh=0,ca=xa(!0),x1=xa(!1),fa=[],tu=0,hh=0,qs=!1,Nv=!1,dh=v(null),Yc=v(0),ys=v(null),bs=null,ei=v(0),Wu=0,gn=null,Yt=null,hn=null,_n=!1,bn=!1,Vn=!1,Pa=0,ko=0,cl=null,_1=0,Xs={readContext:$,use:Qr,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Xs.useEffectEvent=yt;var Wr={readContext:$,use:Qr,useCallback:function(d,m){return on().memoizedState=[d,m===void 0?null:m],d},useContext:$,useEffect:Ec,useImperativeHandle:function(d,m,_){_=_!=null?_.concat([d]):null,il(4194308,4,Ll.bind(null,m,d),_)},useLayoutEffect:function(d,m){return il(4194308,4,d,m)},useInsertionEffect:function(d,m){il(4,2,d,m)},useMemo:function(d,m){var _=on();m=m===void 0?null:m;var E=d();if(Vn){Y(!0);try{d()}finally{Y(!1)}}return _.memoizedState=[E,m],E},useReducer:function(d,m,_){var E=on();if(_!==void 0){var N=_(m);if(Vn){Y(!0);try{_(m)}finally{Y(!1)}}}else N=m;return E.memoizedState=E.baseState=N,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:N},E.queue=d,d=d.dispatch=Ea.bind(null,gn,d),[E.memoizedState,d]},useRef:function(d){var m=on();return d={current:d},m.memoizedState=d},useState:function(d){d=wc(d);var m=d.queue,_=sl.bind(null,gn,m);return m.dispatch=_,[d.memoizedState,_]},useDebugValue:Cc,useDeferredValue:function(d,m){var _=on();return Si(_,d,m)},useTransition:function(){var d=wc(!1);return d=jf.bind(null,gn,d.queue,!0,!1),on().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,m,_){var E=gn,N=on();if(Ln){if(_===void 0)throw Error(i(407));_=_()}else{if(_=m(),wn===null)throw Error(i(349));(Un&127)!==0||ci(E,m,_)}N.memoizedState=_;var U={value:_,getSnapshot:m};return N.queue=U,Ec(rl.bind(null,E,U,d),[d]),E.flags|=2048,Aa(9,{destroy:void 0},fi.bind(null,E,U,_,m),null),_},useId:function(){var d=on(),m=wn.identifierPrefix;if(Ln){var _=ll,E=la;_=(E&~(1<<32-gs(E)-1)).toString(32)+_,m="_"+m+"R_"+_,_=Pa++,0<_&&(m+="H"+_.toString(32)),m+="_"}else _=_1++,m="_"+m+"r_"+_.toString(32)+"_";return d.memoizedState=m},useHostTransitionStatus:Sd,useFormState:Sc,useActionState:Sc,useOptimistic:function(d){var m=on();m.memoizedState=m.baseState=d;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=_,m=F0.bind(null,gn,!0,_),_.dispatch=m,[d,m]},useMemoCache:wa,useCacheRefresh:function(){return on().memoizedState=zs.bind(null,gn)},useEffectEvent:function(d){var m=on(),_={impl:d};return m.memoizedState=_,function(){if((On&2)!==0)throw Error(i(440));return _.impl.apply(void 0,arguments)}}},nu={readContext:$,use:Qr,useCallback:Ul,useContext:$,useEffect:_o,useImperativeHandle:Tc,useInsertionEffect:al,useLayoutEffect:Ru,useMemo:kl,useReducer:qi,useRef:Vf,useState:function(){return qi(nr)},useDebugValue:Cc,useDeferredValue:function(d,m){var _=Pt();return mm(_,Yt.memoizedState,d,m)},useTransition:function(){var d=qi(nr)[0],m=Pt().memoizedState;return[typeof d=="boolean"?d:qt(d),m]},useSyncExternalStore:Ir,useId:Ad,useHostTransitionStatus:Sd,useFormState:Dl,useActionState:Dl,useOptimistic:function(d,m){var _=Pt();return bo(_,Yt,d,m)},useMemoCache:wa,useCacheRefresh:sa};nu.useEffectEvent=Lr;var Kc={readContext:$,use:Qr,useCallback:Ul,useContext:$,useEffect:_o,useImperativeHandle:Tc,useInsertionEffect:al,useLayoutEffect:Ru,useMemo:kl,useReducer:Dr,useRef:Vf,useState:function(){return Dr(nr)},useDebugValue:Cc,useDeferredValue:function(d,m){var _=Pt();return Yt===null?Si(_,d,m):mm(_,Yt.memoizedState,d,m)},useTransition:function(){var d=Dr(nr)[0],m=Pt().memoizedState;return[typeof d=="boolean"?d:qt(d),m]},useSyncExternalStore:Ir,useId:Ad,useHostTransitionStatus:Sd,useFormState:Il,useActionState:Il,useOptimistic:function(d,m){var _=Pt();return Yt!==null?bo(_,Yt,d,m):(_.baseState=d,[d,_.queue.dispatch])},useMemoCache:wa,useCacheRefresh:sa};Kc.useEffectEvent=Lr;var Vm={enqueueSetState:function(d,m,_){d=d._reactInternals;var E=Ur(),N=za(E);N.payload=m,_!=null&&(N.callback=_),m=_a(d,N,E),m!==null&&(Vr(m,d,E),Ls(m,d,E))},enqueueReplaceState:function(d,m,_){d=d._reactInternals;var E=Ur(),N=za(E);N.tag=1,N.payload=m,_!=null&&(N.callback=_),m=_a(d,N,E),m!==null&&(Vr(m,d,E),Ls(m,d,E))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var _=Ur(),E=za(_);E.tag=2,m!=null&&(E.callback=m),m=_a(d,E,_),m!==null&&(Vr(m,d,_),Ls(m,d,_))}},Ya=Error(i(461)),Pr=!1,ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},ti=!1,ni=!1,Yd=!1,w1=typeof WeakSet=="function"?WeakSet:Set,mi=null,qr=null,gi=!1,fr=null,Ys=8192,Kd={getCacheForType:function(d){var m=$(Fr),_=m.data.get(d);return _===void 0&&(_=d(),m.data.set(d,_)),_},cacheSignal:function(){return $(Fr).controller.signal}},Bo=0,$d=1,Zd=2,jm=3,$c=4;if(typeof Symbol=="function"&&Symbol.for){var mh=Symbol.for;Bo=mh("selector.component"),$d=mh("selector.has_pseudo_class"),Zd=mh("selector.role"),jm=mh("selector.test_id"),$c=mh("selector.text")}var Ks=typeof WeakMap=="function"?WeakMap:Map,On=0,wn=null,Rn=null,Un=0,hr=0,Mi=null,fl=!1,Zc=!1,Qc=!1,ru=0,Xr=0,qu=0,Jc=0,Qd=0,Ka=0,Jd=0,Wm=null,xs=null,Dv=!1,qm=0,gh=0,ef=1/0,Xm=null,Xu=null,Ti=0,Yu=null,vh=null,iu=0,ep=0,Iv=null,S1=null,Kn=0,Ym=null;return xn.attemptContinuousHydration=function(d){if(d.tag===13||d.tag===31){var m=_r(d,67108864);m!==null&&Vr(m,d,67108864),Cm(d,67108864)}},xn.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13||d.tag===31){var m=Ur();m=V(m);var _=_r(d,m);_!==null&&Vr(_,d,m),Cm(d,m)}},xn.attemptSynchronousHydration=function(d){switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=w(d.pendingLanes);if(m!==0){for(d.pendingLanes|=2,d.entangledLanes|=2;m;){var _=1<<31-gs(m);d.entanglements[1]|=_,m&=~_}ct(d),(On&6)===0&&(ef=Ta()+500,ot(0))}}break;case 31:case 13:m=_r(d,2),m!==null&&Vr(m,d,2),Q0(),Cm(d,2)}},xn.batchedUpdates=function(d,m){return d(m)},xn.createComponentSelector=function(d){return{$$typeof:Bo,value:d}},xn.createContainer=function(d,m,_,E,N,U,ee,xe,Je,gt){return Fc(d,m,!1,null,_,E,U,null,ee,xe,Je,gt)},xn.createHasPseudoClassSelector=function(d){return{$$typeof:$d,value:d}},xn.createHydrationContainer=function(d,m,_,E,N,U,ee,xe,Je,gt,Et,xt,It,pn){var vi;return d=Fc(_,E,!0,d,N,U,xe,pn,Je,gt,Et,xt),d.context=iv(null),_=d.current,E=Ur(),E=V(E),N=za(E),N.callback=(vi=m)!=null?vi:null,_a(_,N,E),m=E,d.current.lanes=m,D(d,m),ct(d),d},xn.createPortal=function(d,m,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eh,key:E==null?null:""+E,children:d,containerInfo:m,implementation:_}},xn.createRoleSelector=function(d){return{$$typeof:Zd,value:d}},xn.createTestNameSelector=function(d){return{$$typeof:jm,value:d}},xn.createTextSelector=function(d){return{$$typeof:$c,value:d}},xn.defaultOnCaughtError=function(d){console.error(d)},xn.defaultOnRecoverableError=function(d){Tv(d)},xn.defaultOnUncaughtError=function(d){Tv(d)},xn.deferredUpdates=function(d){var m=Qt.T,_=Po();try{return In(32),Qt.T=null,d()}finally{In(_),Qt.T=m}},xn.discreteUpdates=function(d,m,_,E,N){var U=Qt.T,ee=Po();try{return In(2),Qt.T=null,d(m,_,E,N)}finally{In(ee),Qt.T=U,On===0&&(ef=Ta()+500)}},xn.findAllNodes=hs,xn.findBoundingRects=function(d,m){if(!Ri)throw Error(i(363));m=hs(d,m),d=[];for(var _=0;_<m.length;_++)d.push(hv(m[_]));for(m=d.length-1;0<m;m--){_=d[m];for(var E=_.x,N=E+_.width,U=_.y,ee=U+_.height,xe=m-1;0<=xe;xe--)if(m!==xe){var Je=d[xe],gt=Je.x,Et=gt+Je.width,xt=Je.y,It=xt+Je.height;if(E>=gt&&U>=xt&&N<=Et&&ee<=It){d.splice(m,1);break}else if(E!==gt||_.width!==Je.width||It<U||xt>ee){if(!(U!==xt||_.height!==Je.height||Et<E||gt>N)){gt>E&&(Je.width+=gt-E,Je.x=E),Et<N&&(Je.width=N-gt),d.splice(m,1);break}}else{xt>U&&(Je.height+=xt-U,Je.y=U),It<ee&&(Je.height=ee-xt),d.splice(m,1);break}}}return d},xn.findHostInstance=Tm,xn.findHostInstanceWithNoPortals=function(d){return d=o(d),d=d!==null?c(d):null,d===null?null:Gd(d.stateNode)},xn.findHostInstanceWithWarning=function(d){return Tm(d)},xn.flushPassiveEffects=Yl,xn.flushSyncFromReconciler=function(d){var m=On;On|=1;var _=Qt.T,E=Po();try{if(In(2),Qt.T=null,d)return d()}finally{In(E),Qt.T=_,On=m,(On&6)===0&&ot(0)}},xn.flushSyncWork=Q0,xn.focusWithin=function(d,m){if(!Ri)throw Error(i(363));for(d=Ic(d),m=Id(d,m),m=Array.from(m),d=0;d<m.length;){var _=m[d++],E=_.tag;if(!Hc(_)){if((E===5||E===26||E===27)&&Gu(_.stateNode))return!0;for(_=_.child;_!==null;)m.push(_),_=_.sibling}}return!1},xn.getFindAllNodesFailureDescription=function(d,m){if(!Ri)throw Error(i(363));var _=0,E=[];d=[Ic(d),0];for(var N=0;N<d.length;){var U=d[N++],ee=U.tag,xe=d[N++],Je=m[xe];if((ee!==5&&ee!==26&&ee!==27||!Hc(U))&&(Lc(U,Je)&&(E.push(Dd(Je)),xe++,xe>_&&(_=xe)),xe<m.length))for(U=U.child;U!==null;)d.push(U,xe),U=U.sibling}if(_<m.length){for(d=[];_<m.length;_++)d.push(Dd(m[_]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},xn.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 27:case 5:return Gd(d.child.stateNode);default:return d.child.stateNode}},xn.injectIntoDevTools=function(){var d={bundleType:0,version:Bx,rendererPackageName:Rm,currentDispatcherRef:Qt,reconcilerVersion:"19.2.0"};if(zd!==null&&(d.rendererConfig=zd),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)d=!0;else{try{ch=m.inject(d),vs=m}catch{}d=!!m.checkDCE}}return d},xn.isAlreadyRendering=function(){return(On&6)!==0},xn.observeVisibleRects=function(d,m,_,E){if(!Ri)throw Error(i(363));d=hs(d,m);var N=dv(d,_,E).disconnect;return{disconnect:function(){N()}}},xn.shouldError=function(){return null},xn.shouldSuspend=function(){return!1},xn.startHostTransition=function(d,m,_,E){if(d.tag!==5)throw Error(i(476));var N=Wf(d).queue;jf(d,N,m,ah,_===null?r:function(){var U=Wf(d);return U.next===null&&(U=d.alternate.memoizedState),Pc(d,U.next.queue,{},Ur()),_(E)})},xn.updateContainer=function(d,m,_,E){var N=m.current,U=Ur();return Ux(N,U,d,m,_,E),U},xn.updateContainerSync=function(d,m,_,E){return Ux(m.current,2,d,m,_,E),2},xn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(vF)),vF.exports}var bF;function bse(){return bF||(bF=1,gF.exports=yse()),gF.exports}var xse=bse();const _se=vse(xse);function wse(n){const e=_se(n);return e.injectIntoDevTools(),e}const Yj=0,Lb={},Sse=/^three(?=[A-Z])/,q3=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Ase=0;const Ese=n=>typeof n=="function";function Mse(n){if(Ese(n)){const e=`${Ase++}`;return Lb[e]=n,e}else Object.assign(Lb,n)}function Kj(n,e){const t=q3(n),r=Lb[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Tse(n,e,t){var r;return n=q3(n)in Lb?n:n.replace(Sse,""),Kj(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,WT(e.object,t,n,e)}function Cse(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?XT(n.parent,n):jo(n.object)&&(n.object.visible=!1),n.isHidden=!0,nx(n)}}function $j(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?qT(n.parent,n):jo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,nx(n)}}function zU(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var i,a;const s=Lb[q3(e.type)];e.object=(i=e.props.object)!=null?i:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Ap(e.object,e.props),e.props.attach)qT(n,e);else if(jo(e.object)&&jo(n.object)){const s=n.object.children.indexOf(t==null?void 0:t.object);if(t&&s!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const u=o<s?s-1:s;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const s of e.children)zU(e,s);nx(e)}}function MR(n,e){e&&(e.parent=n,n.children.push(e),zU(n,e))}function xF(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),zU(n,e,t)}function Zj(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():eI.unstable_scheduleCallback(eI.unstable_IdlePriority,e)}}function nI(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?XT(n,e):jo(e.object)&&jo(n.object)&&(n.object.remove(e.object),use(Hj(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];nI(e,s,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&Zj(e.object),t===void 0&&nx(e)}function Pse(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const PM=[];function Ose(){for(const[t]of PM){const r=t.parent;if(r){t.props.attach?XT(r,t):jo(t.object)&&jo(r.object)&&r.object.remove(t.object);for(const i of t.children)i.props.attach?XT(t,i):jo(i.object)&&jo(t.object)&&t.object.remove(i.object)}t.isHidden&&$j(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&Zj(t.object)}for(const[t,r,i]of PM){t.props=r;const a=t.parent;if(a){var n,e;const s=Lb[q3(t.type)];t.object=(n=t.props.object)!=null?n:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Pse(i,t.object),Ap(t.object,t.props),t.props.attach?qT(a,t):jo(t.object)&&jo(a.object)&&a.object.add(t.object);for(const o of t.children)o.props.attach?qT(t,o):jo(o.object)&&jo(t.object)&&t.object.add(o.object);nx(t)}}PM.length=0}const TR=()=>{},_F={};let qE=Yj;const Rse=0,Nse=4,YT=wse({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Tse,removeChild:nI,appendChild:MR,appendInitialChild:MR,insertBefore:xF,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||MR(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||nI(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||xF(r,e,t)},getRootHostContext:()=>_F,getChildHostContext:()=>_F,commitUpdate(n,e,t,r,i){var a,s,o;Kj(e,r);let u=!1;if((n.type==="primitive"&&t.object!==r.object||((a=r.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(o=r.args)!=null&&o.some((h,p)=>{var v;return h!==((v=t.args)==null?void 0:v[p])}))&&(u=!0),u)PM.push([n,{...r},i]);else{const h=sse(n,r);Object.keys(h).length&&(Object.assign(n.props,h),Ap(n.object,h))}(i.sibling===null||(i.flags&Nse)===Rse)&&Ose()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>WT(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Cse,unhideInstance:$j,createTextInstance:TR,hideTextInstance:TR,unhideTextInstance:TR,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:z.createContext(null),setCurrentUpdatePriority(n){qE=n},getCurrentUpdatePriority(){return qE},resolveUpdatePriority(){var n;if(qE!==Yj)return qE;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return mse;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return dse;default:return pse}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:gse.version,applyViewTransitionName(n,e,t){},restoreViewTransitionName(n,e){},cancelViewTransitionName(n,e,t){},cancelRootViewTransitionName(n){},restoreRootViewTransitionName(n){},InstanceMeasurement:null,measureInstance:n=>null,wasInstanceInViewport:n=>!0,hasInstanceChanged:(n,e)=>!1,hasInstanceAffectedParent:(n,e)=>!1,suspendOnActiveViewTransition(n,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(n){},createViewTransitionInstance:n=>null,getCurrentGestureOffset(n){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(n,e){return n},cloneMutableTextInstance(n){return n},cloneRootViewTransitionContainer(n){throw new Error("Not implemented.")},removeRootViewTransitionClone(n,e){throw new Error("Not implemented.")},createFragmentInstance:n=>null,updateFragmentInstanceFiber(n,e){},commitNewChildToFragmentInstance(n,e){},deleteChildFromFragmentInstance(n,e){},measureClonedInstance:n=>null,maySuspendCommitOnUpdate:(n,e,t)=>!1,maySuspendCommitInSyncRender:(n,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(n,e)=>null}),v0=new Map,oy={objects:"shallow",strict:!1};function Dse(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Ise(n){const e=v0.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||fse(aI,SF),s=t||YT.createContainer(a,hse,null,!1,null,"",i,i,i,null);e||v0.set(n,{fiber:s,store:a});let o,u,c=!1,h=null;return{async configure(p={}){let v;h=new Promise(B=>v=B);let{gl:y,size:x,scene:S,events:w,onCreated:A,shadows:T=!1,linear:C=!1,flat:O=!1,legacy:R=!1,orthographic:D=!1,frameloop:I="always",dpr:F=[1,2],performance:L,raycaster:k,camera:V,onPointerMissed:j}=p,Y=a.getState(),re=Y.gl;if(!Y.gl){const B={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Z=typeof y=="function"?await y(B):y;mF(Z)?re=Z:re=new Uj({...B,...y}),Y.set({gl:re})}let Q=Y.raycaster;Q||Y.set({raycaster:Q=new DU});const{params:W,...X}=k||{};if(yi.equ(X,Q,oy)||Ap(Q,{...X}),yi.equ(W,Q.params,oy)||Ap(Q,{params:{...Q.params,...W}}),!Y.camera||Y.camera===u&&!yi.equ(u,V,oy)){u=V;const B=V==null?void 0:V.isCamera,Z=B?V:D?new Zh(0,0,0,0,.1,1e3):new Fi(75,0,.1,1e3);B||(Z.position.z=5,V&&(Ap(Z,V),Z.manual||("aspect"in V||"left"in V||"right"in V||"bottom"in V||"top"in V)&&(Z.manual=!0,Z.updateProjectionMatrix())),!Y.camera&&!(V!=null&&V.rotation)&&Z.lookAt(0,0,0)),Y.set({camera:Z}),Q.camera=Z}if(!Y.scene){let B;S!=null&&S.isScene?(B=S,WT(B,a,"",{})):(B=new lU,WT(B,a,"",{}),S&&Ap(B,S)),Y.set({scene:B})}w&&!Y.events.handlers&&Y.set({events:w(a)});const se=Dse(n,x);if(yi.equ(se,Y.size,oy)||Y.setSize(se.width,se.height,se.top,se.left),F&&Y.viewport.dpr!==jj(F)&&Y.setDpr(F),Y.frameloop!==I&&Y.setFrameloop(I),Y.onPointerMissed||Y.set({onPointerMissed:j}),L&&!yi.equ(L,Y.performance,oy)&&Y.set(B=>({performance:{...B.performance,...L}})),!Y.xr){var J;const B=(he,ve)=>{const ue=a.getState();ue.frameloop!=="never"&&SF(he,!0,ue,ve)},Z=()=>{const he=a.getState();he.gl.xr.enabled=he.gl.xr.isPresenting,he.gl.xr.setAnimationLoop(he.gl.xr.isPresenting?B:null),he.gl.xr.isPresenting||aI(he)},le={connect(){const he=a.getState().gl;he.xr.addEventListener("sessionstart",Z),he.xr.addEventListener("sessionend",Z)},disconnect(){const he=a.getState().gl;he.xr.removeEventListener("sessionstart",Z),he.xr.removeEventListener("sessionend",Z)}};typeof((J=re.xr)==null?void 0:J.addEventListener)=="function"&&le.connect(),Y.set({xr:le})}if(re.shadowMap){const B=re.shadowMap.enabled,Z=re.shadowMap.type;if(re.shadowMap.enabled=!!T,yi.boo(T))re.shadowMap.type=v_;else if(yi.str(T)){var ae;const le={basic:$H,percentage:Oy,soft:v_,variance:Tg};re.shadowMap.type=(ae=le[T])!=null?ae:v_}else yi.obj(T)&&Object.assign(re.shadowMap,T);(B!==re.shadowMap.enabled||Z!==re.shadowMap.type)&&(re.shadowMap.needsUpdate=!0)}return Xn.enabled=!R,c||(re.outputColorSpace=C?Zp:Ps,re.toneMapping=O?Su:o3),Y.legacy!==R&&Y.set(()=>({legacy:R})),Y.linear!==C&&Y.set(()=>({linear:C})),Y.flat!==O&&Y.set(()=>({flat:O})),y&&!yi.fun(y)&&!mF(y)&&!yi.equ(y,re,oy)&&Ap(re,y),o=A,c=!0,v(),this},render(p){return!c&&!h&&this.configure(),h.then(()=>{YT.updateContainer(K.jsx(Lse,{store:a,children:p,onCreated:o,rootElement:n}),s,null,()=>{})}),a},unmount(){Qj(n)}}}function Lse({store:n,children:e,onCreated:t,rootElement:r}){return Kw(()=>{const i=n.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),K.jsx(BU.Provider,{value:n,children:e})}function Qj(n,e){const t=v0.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),YT.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,s,o,u;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(u=i.gl)!=null&&u.xr&&i.xr.disconnect(),rse(i.scene),v0.delete(n)}catch{}},500)})}}function Use(n,e,t){return K.jsx(kse,{children:n,container:e,state:t})}function kse({state:n={},children:e,container:t}){const{events:r,size:i,...a}=n,s=FU(),[o]=z.useState(()=>new DU),[u]=z.useState(()=>new st),c=kU((p,v)=>{let y;if(v.camera&&i){const x=v.camera;y=p.viewport.getCurrentViewport(x,new oe,i),x!==p.camera&&qj(x,i)}return{...p,...v,scene:t,raycaster:o,pointer:u,mouse:u,previousRoot:s,events:{...p.events,...v.events,...r},size:{...p.size,...i},viewport:{...p.viewport,...y},setEvents:x=>v.set(S=>({...S,events:{...S.events,...x}}))}}),h=z.useMemo(()=>{const p=Bj((y,x)=>({...a,set:y,get:x})),v=y=>p.setState(x=>c.current(y,x));return v(s.getState()),s.subscribe(v),p},[s,t]);return K.jsx(K.Fragment,{children:YT.createPortal(K.jsx(BU.Provider,{value:h,children:e}),h,null)})}const Bse=new Set,Fse=new Set,zse=new Set;function CR(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function T_(n,e){switch(n){case"before":return CR(Bse,e);case"after":return CR(Fse,e);case"tail":return CR(zse,e)}}let PR,OR;function rI(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),PR=e.internal.subscribers;for(let i=0;i<PR.length;i++)OR=PR[i],OR.ref.current(OR.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let KT=!1,iI=!1,RR,wF,ly;function Jj(n){wF=requestAnimationFrame(Jj),KT=!0,RR=0,T_("before",n),iI=!0;for(const t of v0.values()){var e;ly=t.store.getState(),ly.internal.active&&(ly.frameloop==="always"||ly.internal.frames>0)&&!((e=ly.gl.xr)!=null&&e.isPresenting)&&(RR+=rI(n,ly))}if(iI=!1,T_("after",n),RR===0)return T_("tail",n),KT=!1,cancelAnimationFrame(wF)}function aI(n,e=1){var t;if(!n)return v0.forEach(r=>aI(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):iI?n.internal.frames=2:n.internal.frames=1,KT||(KT=!0,requestAnimationFrame(Jj)))}function SF(n,e=!0,t,r){if(e&&T_("before",n),t)rI(n,t,r);else for(const i of v0.values())rI(n,i.store.getState());e&&T_("after",n)}const NR={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Gse(n){const{handlePointer:e}=cse(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(NR).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:r,events:i}=n.getState();if(i.disconnect==null||i.disconnect(),r(a=>({events:{...a.events,connected:t}})),i.handlers)for(const a in i.handlers){const s=i.handlers[a],[o,u]=NR[a];t.addEventListener(o,s,{passive:u})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const i in r.handlers){const a=r.handlers[i],[s]=NR[i];r.connected.removeEventListener(s,a)}t(i=>({events:{...i.events,connected:void 0}}))}}}}function AF(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function Hse({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,h=z.useRef(!1);z.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,v,y]=z.useMemo(()=>{const A=()=>{if(!o.current.element)return;const{left:T,top:C,width:O,height:R,bottom:D,right:I,x:F,y:L}=o.current.element.getBoundingClientRect(),k={left:T,top:C,width:O,height:R,bottom:D,right:I,x:F,y:L};o.current.element instanceof HTMLElement&&r&&(k.height=o.current.element.offsetHeight,k.width=o.current.element.offsetWidth),Object.freeze(k),h.current&&!qse(o.current.lastBounds,k)&&s(o.current.lastBounds=k)};return[A,c?AF(A,c):A,u?AF(A,u):A]},[s,r,u,c]);function x(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",y,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){o.current.element&&(o.current.resizeObserver=new i(y),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(A=>A.addEventListener("scroll",y,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const w=A=>{!A||A===o.current.element||(x(),o.current.element=A,o.current.scrollContainers=e9(A),S())};return jse(y,!!e),Vse(v),z.useEffect(()=>{x(),S()},[e,y,v]),z.useEffect(()=>x,[]),[w,a,p]}function Vse(n){z.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function jse(n,e){z.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function e9(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...e9(n.parentElement)]}const Wse=["x","y","top","bottom","left","right","width","height"],qse=(n,e)=>Wse.every(t=>n[t]===e[t]);function Xse({ref:n,children:e,fallback:t,resize:r,style:i,gl:a,events:s=Gse,eventSource:o,eventPrefix:u,shadows:c,linear:h,flat:p,legacy:v,orthographic:y,frameloop:x,dpr:S,performance:w,raycaster:A,camera:T,scene:C,onPointerMissed:O,onCreated:R,...D}){z.useMemo(()=>Mse(Dae),[]);const I=ese(),[F,L]=Hse({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=z.useRef(null),V=z.useRef(null);z.useImperativeHandle(n,()=>k.current);const j=kU(O),[Y,re]=z.useState(!1),[Q,W]=z.useState(!1);if(Y)throw Y;if(Q)throw Q;const X=z.useRef(null);Kw(()=>{const J=k.current;if(L.width>0&&L.height>0&&J){X.current||(X.current=Ise(J));async function ae(){await X.current.configure({gl:a,scene:C,events:s,shadows:c,linear:h,flat:p,legacy:v,orthographic:y,frameloop:x,dpr:S,performance:w,raycaster:A,camera:T,size:L,onPointerMissed:(...B)=>j.current==null?void 0:j.current(...B),onCreated:B=>{B.events.connect==null||B.events.connect(o?Qae(o)?o.current:o:V.current),u&&B.setEvents({compute:(Z,le)=>{const he=Z[u+"X"],ve=Z[u+"Y"];le.pointer.set(he/le.size.width*2-1,-(ve/le.size.height)*2+1),le.raycaster.setFromCamera(le.pointer,le.camera)}}),R==null||R(B)}}),X.current.render(K.jsx(I,{children:K.jsx(nse,{set:W,children:K.jsx(z.Suspense,{fallback:K.jsx(tse,{set:re}),children:e??null})})}))}ae()}}),z.useEffect(()=>{const J=k.current;if(J)return()=>Qj(J)},[]);const se=o?"none":"auto";return K.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:se,...i},...D,children:K.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:K.jsx("canvas",{ref:k,style:{display:"block"},children:t})})})}function Yse(n){return K.jsx(zj,{children:K.jsx(Xse,{...n})})}function Ub(){return Ub=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ub.apply(null,arguments)}const t9=parseInt(O0.replace(/\D+/g,"")),n9=t9>=125?"uv1":"uv2";var Kse=Object.defineProperty,$se=(n,e,t)=>e in n?Kse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zse=(n,e,t)=>($se(n,e+"",t),t);class Qse{constructor(){Zse(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}var Jse=Object.defineProperty,eoe=(n,e,t)=>e in n?Jse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,nn=(n,e,t)=>(eoe(n,typeof e!="symbol"?e+"":e,t),t);const XE=new R0,EF=new Ch,toe=Math.cos(70*(Math.PI/180)),MF=(n,e)=>(n%e+e)%e;let noe=class extends Qse{constructor(e,t){super(),nn(this,"object"),nn(this,"domElement"),nn(this,"enabled",!0),nn(this,"target",new oe),nn(this,"minDistance",0),nn(this,"maxDistance",1/0),nn(this,"minZoom",0),nn(this,"maxZoom",1/0),nn(this,"minPolarAngle",0),nn(this,"maxPolarAngle",Math.PI),nn(this,"minAzimuthAngle",-1/0),nn(this,"maxAzimuthAngle",1/0),nn(this,"enableDamping",!1),nn(this,"dampingFactor",.05),nn(this,"enableZoom",!0),nn(this,"zoomSpeed",1),nn(this,"enableRotate",!0),nn(this,"rotateSpeed",1),nn(this,"enablePan",!0),nn(this,"panSpeed",1),nn(this,"screenSpacePanning",!0),nn(this,"keyPanSpeed",7),nn(this,"zoomToCursor",!1),nn(this,"autoRotate",!1),nn(this,"autoRotateSpeed",2),nn(this,"reverseOrbit",!1),nn(this,"reverseHorizontalOrbit",!1),nn(this,"reverseVerticalOrbit",!1),nn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),nn(this,"mouseButtons",{LEFT:dg.ROTATE,MIDDLE:dg.DOLLY,RIGHT:dg.PAN}),nn(this,"touches",{ONE:pg.ROTATE,TWO:pg.DOLLY_PAN}),nn(this,"target0"),nn(this,"position0"),nn(this,"zoom0"),nn(this,"_domElementKeyEvents",null),nn(this,"getPolarAngle"),nn(this,"getAzimuthalAngle"),nn(this,"setPolarAngle"),nn(this,"setAzimuthalAngle"),nn(this,"getDistance"),nn(this,"getZoomScale"),nn(this,"listenToKeyEvents"),nn(this,"stopListenToKeyEvents"),nn(this,"saveState"),nn(this,"reset"),nn(this,"update"),nn(this,"connect"),nn(this,"dispose"),nn(this,"dollyIn"),nn(this,"dollyOut"),nn(this,"getScale"),nn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=fe=>{let Te=MF(fe,2*Math.PI),vt=h.phi;vt<0&&(vt+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let ge=Math.abs(Te-vt);2*Math.PI-ge<ge&&(Te<vt?Te+=2*Math.PI:vt+=2*Math.PI),p.phi=Te-vt,r.update()},this.setAzimuthalAngle=fe=>{let Te=MF(fe,2*Math.PI),vt=h.theta;vt<0&&(vt+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let ge=Math.abs(Te-vt);2*Math.PI-ge<ge&&(Te<vt?Te+=2*Math.PI:vt+=2*Math.PI),p.theta=Te-vt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=fe=>{fe.addEventListener("keydown",Ee),this._domElementKeyEvents=fe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ee),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),u=o.NONE},this.update=(()=>{const fe=new oe,Te=new oe(0,1,0),vt=new Rs().setFromUnitVectors(e.up,Te),ge=vt.clone().invert(),Ye=new oe,rt=new Rs,wt=2*Math.PI;return function(){const Ge=r.object.position;vt.setFromUnitVectors(e.up,Te),ge.copy(vt).invert(),fe.copy(Ge).sub(r.target),fe.applyQuaternion(vt),h.setFromVector3(fe),r.autoRotate&&u===o.NONE&&re(j()),r.enableDamping?(h.theta+=p.theta*r.dampingFactor,h.phi+=p.phi*r.dampingFactor):(h.theta+=p.theta,h.phi+=p.phi);let ht=r.minAzimuthAngle,Ct=r.maxAzimuthAngle;isFinite(ht)&&isFinite(Ct)&&(ht<-Math.PI?ht+=wt:ht>Math.PI&&(ht-=wt),Ct<-Math.PI?Ct+=wt:Ct>Math.PI&&(Ct-=wt),ht<=Ct?h.theta=Math.max(ht,Math.min(Ct,h.theta)):h.theta=h.theta>(ht+Ct)/2?Math.max(ht,h.theta):Math.min(Ct,h.theta)),h.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,h.phi)),h.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(y,r.dampingFactor):r.target.add(y),r.zoomToCursor&&L||r.object.isOrthographicCamera?h.radius=le(h.radius):h.radius=le(h.radius*v),fe.setFromSpherical(h),fe.applyQuaternion(ge),Ge.copy(r.target).add(fe),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(p.theta*=1-r.dampingFactor,p.phi*=1-r.dampingFactor,y.multiplyScalar(1-r.dampingFactor)):(p.set(0,0,0),y.set(0,0,0));let Tt=!1;if(r.zoomToCursor&&L){let Gt=null;if(r.object instanceof Fi&&r.object.isPerspectiveCamera){const Mn=fe.length();Gt=le(Mn*v);const kn=Mn-Gt;r.object.position.addScaledVector(I,kn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Mn=new oe(F.x,F.y,0);Mn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),r.object.updateProjectionMatrix(),Tt=!0;const kn=new oe(F.x,F.y,0);kn.unproject(r.object),r.object.position.sub(kn).add(Mn),r.object.updateMatrixWorld(),Gt=fe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Gt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Gt).add(r.object.position):(XE.origin.copy(r.object.position),XE.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(XE.direction))<toe?e.lookAt(r.target):(EF.setFromNormalAndCoplanarPoint(r.object.up,r.target),XE.intersectPlane(EF,r.target))))}else r.object instanceof Zh&&r.object.isOrthographicCamera&&(Tt=v!==1,Tt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),r.object.updateProjectionMatrix()));return v=1,L=!1,Tt||Ye.distanceToSquared(r.object.position)>c||8*(1-rt.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ye.copy(r.object.position),rt.copy(r.object.quaternion),Tt=!1,!0):!1}})(),this.connect=fe=>{r.domElement=fe,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",bt),r.domElement.addEventListener("pointerdown",qe),r.domElement.addEventListener("pointercancel",H),r.domElement.addEventListener("wheel",Pe)},this.dispose=()=>{var fe,Te,vt,ge,Ye,rt;r.domElement&&(r.domElement.style.touchAction="auto"),(fe=r.domElement)==null||fe.removeEventListener("contextmenu",bt),(Te=r.domElement)==null||Te.removeEventListener("pointerdown",qe),(vt=r.domElement)==null||vt.removeEventListener("pointercancel",H),(ge=r.domElement)==null||ge.removeEventListener("wheel",Pe),(Ye=r.domElement)==null||Ye.ownerDocument.removeEventListener("pointermove",$),(rt=r.domElement)==null||rt.ownerDocument.removeEventListener("pointerup",H),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ee)};const r=this,i={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=o.NONE;const c=1e-6,h=new jT,p=new jT;let v=1;const y=new oe,x=new st,S=new st,w=new st,A=new st,T=new st,C=new st,O=new st,R=new st,D=new st,I=new oe,F=new st;let L=!1;const k=[],V={};function j(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Y(){return Math.pow(.95,r.zoomSpeed)}function re(fe){r.reverseOrbit||r.reverseHorizontalOrbit?p.theta+=fe:p.theta-=fe}function Q(fe){r.reverseOrbit||r.reverseVerticalOrbit?p.phi+=fe:p.phi-=fe}const W=(()=>{const fe=new oe;return function(vt,ge){fe.setFromMatrixColumn(ge,0),fe.multiplyScalar(-vt),y.add(fe)}})(),X=(()=>{const fe=new oe;return function(vt,ge){r.screenSpacePanning===!0?fe.setFromMatrixColumn(ge,1):(fe.setFromMatrixColumn(ge,0),fe.crossVectors(r.object.up,fe)),fe.multiplyScalar(vt),y.add(fe)}})(),se=(()=>{const fe=new oe;return function(vt,ge){const Ye=r.domElement;if(Ye&&r.object instanceof Fi&&r.object.isPerspectiveCamera){const rt=r.object.position;fe.copy(rt).sub(r.target);let wt=fe.length();wt*=Math.tan(r.object.fov/2*Math.PI/180),W(2*vt*wt/Ye.clientHeight,r.object.matrix),X(2*ge*wt/Ye.clientHeight,r.object.matrix)}else Ye&&r.object instanceof Zh&&r.object.isOrthographicCamera?(W(vt*(r.object.right-r.object.left)/r.object.zoom/Ye.clientWidth,r.object.matrix),X(ge*(r.object.top-r.object.bottom)/r.object.zoom/Ye.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function J(fe){r.object instanceof Fi&&r.object.isPerspectiveCamera||r.object instanceof Zh&&r.object.isOrthographicCamera?v=fe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ae(fe){J(v/fe)}function B(fe){J(v*fe)}function Z(fe){if(!r.zoomToCursor||!r.domElement)return;L=!0;const Te=r.domElement.getBoundingClientRect(),vt=fe.clientX-Te.left,ge=fe.clientY-Te.top,Ye=Te.width,rt=Te.height;F.x=vt/Ye*2-1,F.y=-(ge/rt)*2+1,I.set(F.x,F.y,1).unproject(r.object).sub(r.object.position).normalize()}function le(fe){return Math.max(r.minDistance,Math.min(r.maxDistance,fe))}function he(fe){x.set(fe.clientX,fe.clientY)}function ve(fe){Z(fe),O.set(fe.clientX,fe.clientY)}function ue(fe){A.set(fe.clientX,fe.clientY)}function ce(fe){S.set(fe.clientX,fe.clientY),w.subVectors(S,x).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(re(2*Math.PI*w.x/Te.clientHeight),Q(2*Math.PI*w.y/Te.clientHeight)),x.copy(S),r.update()}function Se(fe){R.set(fe.clientX,fe.clientY),D.subVectors(R,O),D.y>0?ae(Y()):D.y<0&&B(Y()),O.copy(R),r.update()}function me(fe){T.set(fe.clientX,fe.clientY),C.subVectors(T,A).multiplyScalar(r.panSpeed),se(C.x,C.y),A.copy(T),r.update()}function Ne(fe){Z(fe),fe.deltaY<0?B(Y()):fe.deltaY>0&&ae(Y()),r.update()}function Be(fe){let Te=!1;switch(fe.code){case r.keys.UP:se(0,r.keyPanSpeed),Te=!0;break;case r.keys.BOTTOM:se(0,-r.keyPanSpeed),Te=!0;break;case r.keys.LEFT:se(r.keyPanSpeed,0),Te=!0;break;case r.keys.RIGHT:se(-r.keyPanSpeed,0),Te=!0;break}Te&&(fe.preventDefault(),r.update())}function ye(){if(k.length==1)x.set(k[0].pageX,k[0].pageY);else{const fe=.5*(k[0].pageX+k[1].pageX),Te=.5*(k[0].pageY+k[1].pageY);x.set(fe,Te)}}function ut(){if(k.length==1)A.set(k[0].pageX,k[0].pageY);else{const fe=.5*(k[0].pageX+k[1].pageX),Te=.5*(k[0].pageY+k[1].pageY);A.set(fe,Te)}}function _e(){const fe=k[0].pageX-k[1].pageX,Te=k[0].pageY-k[1].pageY,vt=Math.sqrt(fe*fe+Te*Te);O.set(0,vt)}function Le(){r.enableZoom&&_e(),r.enablePan&&ut()}function Ce(){r.enableZoom&&_e(),r.enableRotate&&ye()}function tt(fe){if(k.length==1)S.set(fe.pageX,fe.pageY);else{const vt=nt(fe),ge=.5*(fe.pageX+vt.x),Ye=.5*(fe.pageY+vt.y);S.set(ge,Ye)}w.subVectors(S,x).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(re(2*Math.PI*w.x/Te.clientHeight),Q(2*Math.PI*w.y/Te.clientHeight)),x.copy(S)}function ne(fe){if(k.length==1)T.set(fe.pageX,fe.pageY);else{const Te=nt(fe),vt=.5*(fe.pageX+Te.x),ge=.5*(fe.pageY+Te.y);T.set(vt,ge)}C.subVectors(T,A).multiplyScalar(r.panSpeed),se(C.x,C.y),A.copy(T)}function ft(fe){const Te=nt(fe),vt=fe.pageX-Te.x,ge=fe.pageY-Te.y,Ye=Math.sqrt(vt*vt+ge*ge);R.set(0,Ye),D.set(0,Math.pow(R.y/O.y,r.zoomSpeed)),ae(D.y),O.copy(R)}function Ze(fe){r.enableZoom&&ft(fe),r.enablePan&&ne(fe)}function De(fe){r.enableZoom&&ft(fe),r.enableRotate&&tt(fe)}function qe(fe){var Te,vt;r.enabled!==!1&&(k.length===0&&((Te=r.domElement)==null||Te.ownerDocument.addEventListener("pointermove",$),(vt=r.domElement)==null||vt.ownerDocument.addEventListener("pointerup",H)),Mt(fe),fe.pointerType==="touch"?ct(fe):de(fe))}function $(fe){r.enabled!==!1&&(fe.pointerType==="touch"?ot(fe):Ue(fe))}function H(fe){var Te,vt,ge;Xe(fe),k.length===0&&((Te=r.domElement)==null||Te.releasePointerCapture(fe.pointerId),(vt=r.domElement)==null||vt.ownerDocument.removeEventListener("pointermove",$),(ge=r.domElement)==null||ge.ownerDocument.removeEventListener("pointerup",H)),r.dispatchEvent(s),u=o.NONE}function de(fe){let Te;switch(fe.button){case 0:Te=r.mouseButtons.LEFT;break;case 1:Te=r.mouseButtons.MIDDLE;break;case 2:Te=r.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case dg.DOLLY:if(r.enableZoom===!1)return;ve(fe),u=o.DOLLY;break;case dg.ROTATE:if(fe.ctrlKey||fe.metaKey||fe.shiftKey){if(r.enablePan===!1)return;ue(fe),u=o.PAN}else{if(r.enableRotate===!1)return;he(fe),u=o.ROTATE}break;case dg.PAN:if(fe.ctrlKey||fe.metaKey||fe.shiftKey){if(r.enableRotate===!1)return;he(fe),u=o.ROTATE}else{if(r.enablePan===!1)return;ue(fe),u=o.PAN}break;default:u=o.NONE}u!==o.NONE&&r.dispatchEvent(a)}function Ue(fe){if(r.enabled!==!1)switch(u){case o.ROTATE:if(r.enableRotate===!1)return;ce(fe);break;case o.DOLLY:if(r.enableZoom===!1)return;Se(fe);break;case o.PAN:if(r.enablePan===!1)return;me(fe);break}}function Pe(fe){r.enabled===!1||r.enableZoom===!1||u!==o.NONE&&u!==o.ROTATE||(fe.preventDefault(),r.dispatchEvent(a),Ne(fe),r.dispatchEvent(s))}function Ee(fe){r.enabled===!1||r.enablePan===!1||Be(fe)}function ct(fe){switch(Qe(fe),k.length){case 1:switch(r.touches.ONE){case pg.ROTATE:if(r.enableRotate===!1)return;ye(),u=o.TOUCH_ROTATE;break;case pg.PAN:if(r.enablePan===!1)return;ut(),u=o.TOUCH_PAN;break;default:u=o.NONE}break;case 2:switch(r.touches.TWO){case pg.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(),u=o.TOUCH_DOLLY_PAN;break;case pg.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(),u=o.TOUCH_DOLLY_ROTATE;break;default:u=o.NONE}break;default:u=o.NONE}u!==o.NONE&&r.dispatchEvent(a)}function ot(fe){switch(Qe(fe),u){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;tt(fe),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;ne(fe),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ze(fe),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;De(fe),r.update();break;default:u=o.NONE}}function bt(fe){r.enabled!==!1&&fe.preventDefault()}function Mt(fe){k.push(fe)}function Xe(fe){delete V[fe.pointerId];for(let Te=0;Te<k.length;Te++)if(k[Te].pointerId==fe.pointerId){k.splice(Te,1);return}}function Qe(fe){let Te=V[fe.pointerId];Te===void 0&&(Te=new st,V[fe.pointerId]=Te),Te.set(fe.pageX,fe.pageY)}function nt(fe){const Te=fe.pointerId===k[0].pointerId?k[1]:k[0];return V[Te.pointerId]}this.dollyIn=(fe=Y())=>{B(fe),r.update()},this.dollyOut=(fe=Y())=>{ae(fe),r.update()},this.getScale=()=>v,this.setScale=fe=>{J(fe),r.update()},this.getZoomScale=()=>Y(),t!==void 0&&this.connect(t),this.update()}};const TF=new Vi,YE=new oe;class GU extends V3{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new zt(e,3)),this.setAttribute("uv",new zt(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,r=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),r.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const r=new VT(t,6,1);return this.setAttribute("instanceStart",new Sl(r,3,0)),this.setAttribute("instanceEnd",new Sl(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,t=3){let r;e instanceof Float32Array?r=e:Array.isArray(e)&&(r=new Float32Array(e));const i=new VT(r,t*2,1);return this.setAttribute("instanceColorStart",new Sl(i,t,0)),this.setAttribute("instanceColorEnd",new Sl(i,t,t)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new bU(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vi);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),TF.setFromBufferAttribute(t),this.boundingBox.union(TF))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ra),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)YE.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(YE)),YE.fromBufferAttribute(t,a),i=Math.max(i,r.distanceToSquared(YE));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class r9 extends GU{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,r=new Float32Array(2*t);for(let i=0;i<t;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e,t=3){const r=e.length-t,i=new Float32Array(2*r);if(t===3)for(let a=0;a<r;a+=t)i[2*a]=e[a],i[2*a+1]=e[a+1],i[2*a+2]=e[a+2],i[2*a+3]=e[a+3],i[2*a+4]=e[a+4],i[2*a+5]=e[a+5];else for(let a=0;a<r;a+=t)i[2*a]=e[a],i[2*a+1]=e[a+1],i[2*a+2]=e[a+2],i[2*a+3]=e[a+3],i[2*a+4]=e[a+4],i[2*a+5]=e[a+5],i[2*a+6]=e[a+6],i[2*a+7]=e[a+7];return super.setColors(i,t),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class HU extends ho{constructor(e){super({type:"LineMaterial",uniforms:j_.clone(j_.merge([Nt.common,Nt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new st(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${t9>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(t){!!t!="USE_DASH"in this.defines&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(t){!!t!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const DR=new Qn,CF=new oe,PF=new oe,Za=new Qn,Qa=new Qn,sf=new Qn,IR=new oe,LR=new sn,ns=new Cj,OF=new oe,KE=new Vi,$E=new ra,of=new Qn;let _f,s0;function RF(n,e,t){return of.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),of.multiplyScalar(1/of.w),of.x=s0/t.width,of.y=s0/t.height,of.applyMatrix4(n.projectionMatrixInverse),of.multiplyScalar(1/of.w),Math.abs(Math.max(of.x,of.y))}function roe(n,e){const t=n.matrixWorld,r=n.geometry,i=r.attributes.instanceStart,a=r.attributes.instanceEnd,s=Math.min(r.instanceCount,i.count);for(let o=0,u=s;o<u;o++){ns.start.fromBufferAttribute(i,o),ns.end.fromBufferAttribute(a,o),ns.applyMatrix4(t);const c=new oe,h=new oe;_f.distanceSqToSegment(ns.start,ns.end,h,c),h.distanceTo(c)<s0*.5&&e.push({point:h,pointOnLine:c,distance:_f.origin.distanceTo(h),object:n,face:null,faceIndex:o,uv:null,[n9]:null})}}function ioe(n,e,t){const r=e.projectionMatrix,a=n.material.resolution,s=n.matrixWorld,o=n.geometry,u=o.attributes.instanceStart,c=o.attributes.instanceEnd,h=Math.min(o.instanceCount,u.count),p=-e.near;_f.at(1,sf),sf.w=1,sf.applyMatrix4(e.matrixWorldInverse),sf.applyMatrix4(r),sf.multiplyScalar(1/sf.w),sf.x*=a.x/2,sf.y*=a.y/2,sf.z=0,IR.copy(sf),LR.multiplyMatrices(e.matrixWorldInverse,s);for(let v=0,y=h;v<y;v++){if(Za.fromBufferAttribute(u,v),Qa.fromBufferAttribute(c,v),Za.w=1,Qa.w=1,Za.applyMatrix4(LR),Qa.applyMatrix4(LR),Za.z>p&&Qa.z>p)continue;if(Za.z>p){const C=Za.z-Qa.z,O=(Za.z-p)/C;Za.lerp(Qa,O)}else if(Qa.z>p){const C=Qa.z-Za.z,O=(Qa.z-p)/C;Qa.lerp(Za,O)}Za.applyMatrix4(r),Qa.applyMatrix4(r),Za.multiplyScalar(1/Za.w),Qa.multiplyScalar(1/Qa.w),Za.x*=a.x/2,Za.y*=a.y/2,Qa.x*=a.x/2,Qa.y*=a.y/2,ns.start.copy(Za),ns.start.z=0,ns.end.copy(Qa),ns.end.z=0;const S=ns.closestPointToPointParameter(IR,!0);ns.at(S,OF);const w=A_.lerp(Za.z,Qa.z,S),A=w>=-1&&w<=1,T=IR.distanceTo(OF)<s0*.5;if(A&&T){ns.start.fromBufferAttribute(u,v),ns.end.fromBufferAttribute(c,v),ns.start.applyMatrix4(s),ns.end.applyMatrix4(s);const C=new oe,O=new oe;_f.distanceSqToSegment(ns.start,ns.end,O,C),t.push({point:O,pointOnLine:C,distance:_f.origin.distanceTo(O),object:n,face:null,faceIndex:v,uv:null,[n9]:null})}}}class i9 extends li{constructor(e=new GU,t=new HU({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*t.count);for(let s=0,o=0,u=t.count;s<u;s++,o+=2)CF.fromBufferAttribute(t,s),PF.fromBufferAttribute(r,s),i[o]=o===0?0:i[o-1],i[o+1]=i[o]+CF.distanceTo(PF);const a=new VT(i,2,1);return e.setAttribute("instanceDistanceStart",new Sl(a,1,0)),e.setAttribute("instanceDistanceEnd",new Sl(a,1,1)),this}raycast(e,t){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const a=e.params.Line2!==void 0&&e.params.Line2.threshold||0;_f=e.ray;const s=this.matrixWorld,o=this.geometry,u=this.material;s0=u.linewidth+a,o.boundingSphere===null&&o.computeBoundingSphere(),$E.copy(o.boundingSphere).applyMatrix4(s);let c;if(r)c=s0*.5;else{const p=Math.max(i.near,$E.distanceToPoint(_f.origin));c=RF(i,p,u.resolution)}if($E.radius+=c,_f.intersectsSphere($E)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),KE.copy(o.boundingBox).applyMatrix4(s);let h;if(r)h=s0*.5;else{const p=Math.max(i.near,KE.distanceToPoint(_f.origin));h=RF(i,p,u.resolution)}KE.expandByScalar(h),_f.intersectsBox(KE)!==!1&&(r?roe(this,t):ioe(this,i,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(DR),this.material.uniforms.resolution.value.set(DR.z,DR.w))}}class aoe extends i9{constructor(e=new r9,t=new HU({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const soe=z.forwardRef(function({points:e,color:t=16777215,vertexColors:r,linewidth:i,lineWidth:a,segments:s,dashed:o,...u},c){var h,p;const v=bu(A=>A.size),y=z.useMemo(()=>s?new i9:new aoe,[s]),[x]=z.useState(()=>new HU),S=(r==null||(h=r[0])==null?void 0:h.length)===4?4:3,w=z.useMemo(()=>{const A=s?new GU:new r9,T=e.map(C=>{const O=Array.isArray(C);return C instanceof oe||C instanceof Qn?[C.x,C.y,C.z]:C instanceof st?[C.x,C.y,0]:O&&C.length===3?[C[0],C[1],C[2]]:O&&C.length===2?[C[0],C[1],0]:C});if(A.setPositions(T.flat()),r){t=16777215;const C=r.map(O=>O instanceof Ot?O.toArray():O);A.setColors(C.flat(),S)}return A},[e,s,r,S]);return z.useLayoutEffect(()=>{y.computeLineDistances()},[e,y]),z.useLayoutEffect(()=>{o?x.defines.USE_DASH="":delete x.defines.USE_DASH,x.needsUpdate=!0},[o,x]),z.useEffect(()=>()=>{w.dispose(),x.dispose()},[w]),z.createElement("primitive",Ub({object:y,ref:c},u),z.createElement("primitive",{object:w,attach:"geometry"}),z.createElement("primitive",Ub({object:x,attach:"material",color:t,vertexColors:!!r,resolution:[v.width,v.height],linewidth:(p=i??a)!==null&&p!==void 0?p:1,dashed:o,transparent:S===4},u)))});function ooe(){var n=Object.create(null);function e(i,a){var s=i.id,o=i.name,u=i.dependencies;u===void 0&&(u=[]);var c=i.init;c===void 0&&(c=function(){});var h=i.getTransferables;if(h===void 0&&(h=null),!n[s])try{u=u.map(function(v){return v&&v.isWorkerModule&&(e(v,function(y){if(y instanceof Error)throw y}),v=n[v.id].value),v}),c=r("<"+o+">.init",c),h&&(h=r("<"+o+">.getTransferables",h));var p=null;typeof c=="function"?p=c.apply(void 0,u):console.error("worker module init function failed to rehydrate"),n[s]={id:s,value:p,getTransferables:h},a(p)}catch(v){v&&v.noLog||console.error(v),a(v)}}function t(i,a){var s,o=i.id,u=i.args;(!n[o]||typeof n[o].value!="function")&&a(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var c=(s=n[o]).value.apply(s,u);c&&typeof c.then=="function"?c.then(h,function(p){return a(p instanceof Error?p:new Error(""+p))}):h(c)}catch(p){a(p)}function h(p){try{var v=n[o].getTransferables&&n[o].getTransferables(p);(!v||!Array.isArray(v)||!v.length)&&(v=void 0),a(p,v)}catch(y){console.error(y),a(y)}}}function r(i,a){var s=void 0;self.troikaDefine=function(u){return s=u};var o=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(u){console.error(u)}return URL.revokeObjectURL(o),delete self.troikaDefine,s}self.addEventListener("message",function(i){var a=i.data,s=a.messageId,o=a.action,u=a.data;try{o==="registerModule"&&e(u,function(c){c instanceof Error?postMessage({messageId:s,success:!1,error:c.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof c=="function"}})}),o==="callModule"&&t(u,function(c,h){c instanceof Error?postMessage({messageId:s,success:!1,error:c.message}):postMessage({messageId:s,success:!0,result:c},h||void 0)})}catch(c){postMessage({messageId:s,success:!1,error:c.stack})}})}function loe(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var i=Promise.all(t).then(function(a){return r.apply(null,a)});return e._getInitResult=function(){return i},i},e}var a9=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return a9=function(){return n},n},uoe=0,coe=0,UR=!1,C_=Object.create(null),P_=Object.create(null),sI=Object.create(null);function rx(n){if((!n||typeof n.init!="function")&&!UR)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId,a=loe(n);i==null&&(i="#default");var s="workerModule"+ ++uoe,o=n.name||s,u=null;e=e&&e.map(function(h){return typeof h=="function"&&!h.workerModuleData&&(UR=!0,h=rx({workerId:i,name:"<"+o+"> function dependency: "+h.name,init:`function(){return (
`+OM(h)+`
)}`}),UR=!1),h&&h.workerModuleData&&(h=h.workerModuleData),h});function c(){for(var h=[],p=arguments.length;p--;)h[p]=arguments[p];if(!a9())return a.apply(void 0,h);if(!u){u=NF(i,"registerModule",c.workerModuleData);var v=function(){u=null,P_[i].delete(v)};(P_[i]||(P_[i]=new Set)).add(v)}return u.then(function(y){var x=y.isCallable;if(x)return NF(i,"callModule",{id:s,args:h});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:OM(t),getTransferables:r&&OM(r)},c.onMainThread=a,c}function foe(n){P_[n]&&P_[n].forEach(function(e){e()}),C_[n]&&(C_[n].terminate(),delete C_[n])}function OM(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function hoe(n){var e=C_[n];if(!e){var t=OM(ooe);e=C_[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,a=i.messageId,s=sI[a];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete sI[a],s(i)}}return e}function NF(n,e,t){return new Promise(function(r,i){var a=++coe;sI[a]=function(s){s.success?r(s.result):i(new Error("Error in worker "+e+" call: "+s.error))},hoe(n).postMessage({messageId:a,action:e,data:t})})}function s9(){var n=(function(e){function t(J,ae,B,Z,le,he,ve,ue){var ce=1-ve;ue.x=ce*ce*J+2*ce*ve*B+ve*ve*le,ue.y=ce*ce*ae+2*ce*ve*Z+ve*ve*he}function r(J,ae,B,Z,le,he,ve,ue,ce,Se){var me=1-ce;Se.x=me*me*me*J+3*me*me*ce*B+3*me*ce*ce*le+ce*ce*ce*ve,Se.y=me*me*me*ae+3*me*me*ce*Z+3*me*ce*ce*he+ce*ce*ce*ue}function i(J,ae){for(var B=/([MLQCZ])([^MLQCZ]*)/g,Z,le,he,ve,ue;Z=B.exec(J);){var ce=Z[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Se){return parseFloat(Se)});switch(Z[1]){case"M":ve=le=ce[0],ue=he=ce[1];break;case"L":(ce[0]!==ve||ce[1]!==ue)&&ae("L",ve,ue,ve=ce[0],ue=ce[1]);break;case"Q":{ae("Q",ve,ue,ve=ce[2],ue=ce[3],ce[0],ce[1]);break}case"C":{ae("C",ve,ue,ve=ce[4],ue=ce[5],ce[0],ce[1],ce[2],ce[3]);break}case"Z":(ve!==le||ue!==he)&&ae("L",ve,ue,le,he);break}}}function a(J,ae,B){B===void 0&&(B=16);var Z={x:0,y:0};i(J,function(le,he,ve,ue,ce,Se,me,Ne,Be){switch(le){case"L":ae(he,ve,ue,ce);break;case"Q":{for(var ye=he,ut=ve,_e=1;_e<B;_e++)t(he,ve,Se,me,ue,ce,_e/(B-1),Z),ae(ye,ut,Z.x,Z.y),ye=Z.x,ut=Z.y;break}case"C":{for(var Le=he,Ce=ve,tt=1;tt<B;tt++)r(he,ve,Se,me,Ne,Be,ue,ce,tt/(B-1),Z),ae(Le,Ce,Z.x,Z.y),Le=Z.x,Ce=Z.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",u=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function h(J,ae){var B=J.getContext?J.getContext("webgl",c):J,Z=u.get(B);if(!Z){let Le=function(De){var qe=he[De];if(!qe&&(qe=he[De]=B.getExtension(De),!qe))throw new Error(De+" not supported");return qe},Ce=function(De,qe){var $=B.createShader(qe);return B.shaderSource($,De),B.compileShader($),$},tt=function(De,qe,$,H){if(!ve[De]){var de={},Ue={},Pe=B.createProgram();B.attachShader(Pe,Ce(qe,B.VERTEX_SHADER)),B.attachShader(Pe,Ce($,B.FRAGMENT_SHADER)),B.linkProgram(Pe),ve[De]={program:Pe,transaction:function(ct){B.useProgram(Pe),ct({setUniform:function(bt,Mt){for(var Xe=[],Qe=arguments.length-2;Qe-- >0;)Xe[Qe]=arguments[Qe+2];var nt=Ue[Mt]||(Ue[Mt]=B.getUniformLocation(Pe,Mt));B["uniform"+bt].apply(B,[nt].concat(Xe))},setAttribute:function(bt,Mt,Xe,Qe,nt){var fe=de[bt];fe||(fe=de[bt]={buf:B.createBuffer(),loc:B.getAttribLocation(Pe,bt),data:null}),B.bindBuffer(B.ARRAY_BUFFER,fe.buf),B.vertexAttribPointer(fe.loc,Mt,B.FLOAT,!1,0,0),B.enableVertexAttribArray(fe.loc),le?B.vertexAttribDivisor(fe.loc,Qe):Le("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(fe.loc,Qe),nt!==fe.data&&(B.bufferData(B.ARRAY_BUFFER,nt,Xe),fe.data=nt)}})}}}ve[De].transaction(H)},ne=function(De,qe){ce++;try{B.activeTexture(B.TEXTURE0+ce);var $=ue[De];$||($=ue[De]=B.createTexture(),B.bindTexture(B.TEXTURE_2D,$),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.NEAREST),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.NEAREST)),B.bindTexture(B.TEXTURE_2D,$),qe($,ce)}finally{ce--}},ft=function(De,qe,$){var H=B.createFramebuffer();Se.push(H),B.bindFramebuffer(B.FRAMEBUFFER,H),B.activeTexture(B.TEXTURE0+qe),B.bindTexture(B.TEXTURE_2D,De),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,De,0);try{$(H)}finally{B.deleteFramebuffer(H),B.bindFramebuffer(B.FRAMEBUFFER,Se[--Se.length-1]||null)}},Ze=function(){he={},ve={},ue={},ce=-1,Se.length=0};var me=Le,Ne=Ce,Be=tt,ye=ne,ut=ft,_e=Ze,le=typeof WebGL2RenderingContext<"u"&&B instanceof WebGL2RenderingContext,he={},ve={},ue={},ce=-1,Se=[];B.canvas.addEventListener("webglcontextlost",function(De){Ze(),De.preventDefault()},!1),u.set(B,Z={gl:B,isWebGL2:le,getExtension:Le,withProgram:tt,withTexture:ne,withTextureFramebuffer:ft,handleContextLoss:Ze})}ae(Z)}function p(J,ae,B,Z,le,he,ve,ue){ve===void 0&&(ve=15),ue===void 0&&(ue=null),h(J,function(ce){var Se=ce.gl,me=ce.withProgram,Ne=ce.withTexture;Ne("copy",function(Be,ye){Se.texImage2D(Se.TEXTURE_2D,0,Se.RGBA,le,he,0,Se.RGBA,Se.UNSIGNED_BYTE,ae),me("copy",s,o,function(ut){var _e=ut.setUniform,Le=ut.setAttribute;Le("aUV",2,Se.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),_e("1i","image",ye),Se.bindFramebuffer(Se.FRAMEBUFFER,ue||null),Se.disable(Se.BLEND),Se.colorMask(ve&8,ve&4,ve&2,ve&1),Se.viewport(B,Z,le,he),Se.scissor(B,Z,le,he),Se.drawArrays(Se.TRIANGLES,0,3)})})})}function v(J,ae,B){var Z=J.width,le=J.height;h(J,function(he){var ve=he.gl,ue=new Uint8Array(Z*le*4);ve.readPixels(0,0,Z,le,ve.RGBA,ve.UNSIGNED_BYTE,ue),J.width=ae,J.height=B,p(ve,ue,0,0,Z,le)})}var y=Object.freeze({__proto__:null,withWebGLContext:h,renderImageData:p,resizeWebGLCanvasWithoutClearing:v});function x(J,ae,B,Z,le,he){he===void 0&&(he=1);var ve=new Uint8Array(J*ae),ue=Z[2]-Z[0],ce=Z[3]-Z[1],Se=[];a(B,function(Le,Ce,tt,ne){Se.push({x1:Le,y1:Ce,x2:tt,y2:ne,minX:Math.min(Le,tt),minY:Math.min(Ce,ne),maxX:Math.max(Le,tt),maxY:Math.max(Ce,ne)})}),Se.sort(function(Le,Ce){return Le.maxX-Ce.maxX});for(var me=0;me<J;me++)for(var Ne=0;Ne<ae;Ne++){var Be=ut(Z[0]+ue*(me+.5)/J,Z[1]+ce*(Ne+.5)/ae),ye=Math.pow(1-Math.abs(Be)/le,he)/2;Be<0&&(ye=1-ye),ye=Math.max(0,Math.min(255,Math.round(ye*255))),ve[Ne*J+me]=ye}return ve;function ut(Le,Ce){for(var tt=1/0,ne=1/0,ft=Se.length;ft--;){var Ze=Se[ft];if(Ze.maxX+ne<=Le)break;if(Le+ne>Ze.minX&&Ce-ne<Ze.maxY&&Ce+ne>Ze.minY){var De=A(Le,Ce,Ze.x1,Ze.y1,Ze.x2,Ze.y2);De<tt&&(tt=De,ne=Math.sqrt(tt))}}return _e(Le,Ce)&&(ne=-ne),ne}function _e(Le,Ce){for(var tt=0,ne=Se.length;ne--;){var ft=Se[ne];if(ft.maxX<=Le)break;var Ze=ft.y1>Ce!=ft.y2>Ce&&Le<(ft.x2-ft.x1)*(Ce-ft.y1)/(ft.y2-ft.y1)+ft.x1;Ze&&(tt+=ft.y1<ft.y2?1:-1)}return tt!==0}}function S(J,ae,B,Z,le,he,ve,ue,ce,Se){he===void 0&&(he=1),ue===void 0&&(ue=0),ce===void 0&&(ce=0),Se===void 0&&(Se=0),w(J,ae,B,Z,le,he,ve,null,ue,ce,Se)}function w(J,ae,B,Z,le,he,ve,ue,ce,Se,me){he===void 0&&(he=1),ce===void 0&&(ce=0),Se===void 0&&(Se=0),me===void 0&&(me=0);for(var Ne=x(J,ae,B,Z,le,he),Be=new Uint8Array(Ne.length*4),ye=0;ye<Ne.length;ye++)Be[ye*4+me]=Ne[ye];p(ve,Be,ce,Se,J,ae,1<<3-me,ue)}function A(J,ae,B,Z,le,he){var ve=le-B,ue=he-Z,ce=ve*ve+ue*ue,Se=ce?Math.max(0,Math.min(1,((J-B)*ve+(ae-Z)*ue)/ce)):0,me=J-(B+Se*ve),Ne=ae-(Z+Se*ue);return me*me+Ne*Ne}var T=Object.freeze({__proto__:null,generate:x,generateIntoCanvas:S,generateIntoFramebuffer:w}),C="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",O="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",R="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",D=new Float32Array([0,0,2,0,0,2]),I=null,F=!1,L={},k=new WeakMap;function V(J){if(!F&&!Q(J))throw new Error("WebGL generation not supported")}function j(J,ae,B,Z,le,he,ve){if(he===void 0&&(he=1),ve===void 0&&(ve=null),!ve&&(ve=I,!ve)){var ue=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ue)throw new Error("OffscreenCanvas or DOM canvas not supported");ve=I=ue.getContext("webgl",{depth:!1})}V(ve);var ce=new Uint8Array(J*ae*4);h(ve,function(Be){var ye=Be.gl,ut=Be.withTexture,_e=Be.withTextureFramebuffer;ut("readable",function(Le,Ce){ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,J,ae,0,ye.RGBA,ye.UNSIGNED_BYTE,null),_e(Le,Ce,function(tt){re(J,ae,B,Z,le,he,ye,tt,0,0,0),ye.readPixels(0,0,J,ae,ye.RGBA,ye.UNSIGNED_BYTE,ce)})})});for(var Se=new Uint8Array(J*ae),me=0,Ne=0;me<ce.length;me+=4)Se[Ne++]=ce[me];return Se}function Y(J,ae,B,Z,le,he,ve,ue,ce,Se){he===void 0&&(he=1),ue===void 0&&(ue=0),ce===void 0&&(ce=0),Se===void 0&&(Se=0),re(J,ae,B,Z,le,he,ve,null,ue,ce,Se)}function re(J,ae,B,Z,le,he,ve,ue,ce,Se,me){he===void 0&&(he=1),ce===void 0&&(ce=0),Se===void 0&&(Se=0),me===void 0&&(me=0),V(ve);var Ne=[];a(B,function(Be,ye,ut,_e){Ne.push(Be,ye,ut,_e)}),Ne=new Float32Array(Ne),h(ve,function(Be){var ye=Be.gl,ut=Be.isWebGL2,_e=Be.getExtension,Le=Be.withProgram,Ce=Be.withTexture,tt=Be.withTextureFramebuffer,ne=Be.handleContextLoss;if(Ce("rawDistances",function(ft,Ze){(J!==ft._lastWidth||ae!==ft._lastHeight)&&ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,ft._lastWidth=J,ft._lastHeight=ae,0,ye.RGBA,ye.UNSIGNED_BYTE,null),Le("main",C,O,function(De){var qe=De.setAttribute,$=De.setUniform,H=!ut&&_e("ANGLE_instanced_arrays"),de=!ut&&_e("EXT_blend_minmax");qe("aUV",2,ye.STATIC_DRAW,0,D),qe("aLineSegment",4,ye.DYNAMIC_DRAW,1,Ne),$.apply(void 0,["4f","uGlyphBounds"].concat(Z)),$("1f","uMaxDistance",le),$("1f","uExponent",he),tt(ft,Ze,function(Ue){ye.enable(ye.BLEND),ye.colorMask(!0,!0,!0,!0),ye.viewport(0,0,J,ae),ye.scissor(0,0,J,ae),ye.blendFunc(ye.ONE,ye.ONE),ye.blendEquationSeparate(ye.FUNC_ADD,ut?ye.MAX:de.MAX_EXT),ye.clear(ye.COLOR_BUFFER_BIT),ut?ye.drawArraysInstanced(ye.TRIANGLES,0,3,Ne.length/4):H.drawArraysInstancedANGLE(ye.TRIANGLES,0,3,Ne.length/4)})}),Le("post",s,R,function(De){De.setAttribute("aUV",2,ye.STATIC_DRAW,0,D),De.setUniform("1i","tex",Ze),ye.bindFramebuffer(ye.FRAMEBUFFER,ue),ye.disable(ye.BLEND),ye.colorMask(me===0,me===1,me===2,me===3),ye.viewport(ce,Se,J,ae),ye.scissor(ce,Se,J,ae),ye.drawArrays(ye.TRIANGLES,0,3)})}),ye.isContextLost())throw ne(),new Error("webgl context lost")})}function Q(J){var ae=!J||J===I?L:J.canvas||J,B=k.get(ae);if(B===void 0){F=!0;var Z=null;try{var le=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],he=j(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,J);B=he&&le.length===he.length&&he.every(function(ve,ue){return ve===le[ue]}),B||(Z="bad trial run results",console.info(le,he))}catch(ve){B=!1,Z=ve.message}Z&&console.warn("WebGL SDF generation not supported:",Z),F=!1,k.set(ae,B)}return B}var W=Object.freeze({__proto__:null,generate:j,generateIntoCanvas:Y,generateIntoFramebuffer:re,isSupported:Q});function X(J,ae,B,Z,le,he){le===void 0&&(le=Math.max(Z[2]-Z[0],Z[3]-Z[1])/2),he===void 0&&(he=1);try{return j.apply(W,arguments)}catch(ve){return console.info("WebGL SDF generation failed, falling back to JS",ve),x.apply(T,arguments)}}function se(J,ae,B,Z,le,he,ve,ue,ce,Se){le===void 0&&(le=Math.max(Z[2]-Z[0],Z[3]-Z[1])/2),he===void 0&&(he=1),ue===void 0&&(ue=0),ce===void 0&&(ce=0),Se===void 0&&(Se=0);try{return Y.apply(W,arguments)}catch(me){return console.info("WebGL SDF generation failed, falling back to JS",me),S.apply(T,arguments)}}return e.forEachPathCommand=i,e.generate=X,e.generateIntoCanvas=se,e.javascript=T,e.pathToLineSegments=a,e.webgl=W,e.webglUtils=y,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return n}function doe(){var n=(function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(ne,ft){r[ne]=1<<ft+1,i[r[ne]]=ne}),Object.freeze(r);var a=r.LRI|r.RLI|r.FSI,s=r.L|r.R|r.AL,o=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,u=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|a|r.PDI|u,h=null;function p(){if(!h){h=new Map;var ne=function(Ze){if(t.hasOwnProperty(Ze)){var De=0;t[Ze].split(",").forEach(function(qe){var $=qe.split("+"),H=$[0],de=$[1];H=parseInt(H,36),de=de?parseInt(de,36):0,h.set(De+=H,r[Ze]);for(var Ue=0;Ue<de;Ue++)h.set(++De,r[Ze])})}};for(var ft in t)ne(ft)}}function v(ne){return p(),h.get(ne.codePointAt(0))||r.L}function y(ne){return i[v(ne)]}var x={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function S(ne,ft){var Ze=36,De=0,qe=new Map,$=ft&&new Map,H;return ne.split(",").forEach(function de(Ue){if(Ue.indexOf("+")!==-1)for(var Pe=+Ue;Pe--;)de(H);else{H=Ue;var Ee=Ue.split(">"),ct=Ee[0],ot=Ee[1];ct=String.fromCodePoint(De+=parseInt(ct,Ze)),ot=String.fromCodePoint(De+=parseInt(ot,Ze)),qe.set(ct,ot),ft&&$.set(ot,ct)}}),{map:qe,reverseMap:$}}var w,A,T;function C(){if(!w){var ne=S(x.pairs,!0),ft=ne.map,Ze=ne.reverseMap;w=ft,A=Ze,T=S(x.canonical,!1).map}}function O(ne){return C(),w.get(ne)||null}function R(ne){return C(),A.get(ne)||null}function D(ne){return C(),T.get(ne)||null}var I=r.L,F=r.R,L=r.EN,k=r.ES,V=r.ET,j=r.AN,Y=r.CS,re=r.B,Q=r.S,W=r.ON,X=r.BN,se=r.NSM,J=r.AL,ae=r.LRO,B=r.RLO,Z=r.LRE,le=r.RLE,he=r.PDF,ve=r.LRI,ue=r.RLI,ce=r.FSI,Se=r.PDI;function me(ne,ft){for(var Ze=125,De=new Uint32Array(ne.length),qe=0;qe<ne.length;qe++)De[qe]=v(ne[qe]);var $=new Map;function H(sa,zs){var Ea=De[sa];De[sa]=zs,$.set(Ea,$.get(Ea)-1),Ea&o&&$.set(o,$.get(o)-1),$.set(zs,($.get(zs)||0)+1),zs&o&&$.set(o,($.get(o)||0)+1)}for(var de=new Uint8Array(ne.length),Ue=new Map,Pe=[],Ee=null,ct=0;ct<ne.length;ct++)Ee||Pe.push(Ee={start:ct,end:ne.length-1,level:ft==="rtl"?1:ft==="ltr"?0:Sd(ct,!1)}),De[ct]&re&&(Ee.end=ct,Ee=null);for(var ot=le|Z|B|ae|a|Se|he|re,bt=function(sa){return sa+(sa&1?1:2)},Mt=function(sa){return sa+(sa&1?2:1)},Xe=0;Xe<Pe.length;Xe++){Ee=Pe[Xe];var Qe=[{_level:Ee.level,_override:0,_isolate:0}],nt=void 0,fe=0,Te=0,vt=0;$.clear();for(var ge=Ee.start;ge<=Ee.end;ge++){var Ye=De[ge];if(nt=Qe[Qe.length-1],$.set(Ye,($.get(Ye)||0)+1),Ye&o&&$.set(o,($.get(o)||0)+1),Ye&ot)if(Ye&(le|Z)){de[ge]=nt._level;var rt=(Ye===le?Mt:bt)(nt._level);rt<=Ze&&!fe&&!Te?Qe.push({_level:rt,_override:0,_isolate:0}):fe||Te++}else if(Ye&(B|ae)){de[ge]=nt._level;var wt=(Ye===B?Mt:bt)(nt._level);wt<=Ze&&!fe&&!Te?Qe.push({_level:wt,_override:Ye&B?F:I,_isolate:0}):fe||Te++}else if(Ye&a){Ye&ce&&(Ye=Sd(ge+1,!0)===1?ue:ve),de[ge]=nt._level,nt._override&&H(ge,nt._override);var it=(Ye===ue?Mt:bt)(nt._level);it<=Ze&&fe===0&&Te===0?(vt++,Qe.push({_level:it,_override:0,_isolate:1,_isolInitIndex:ge})):fe++}else if(Ye&Se){if(fe>0)fe--;else if(vt>0){for(Te=0;!Qe[Qe.length-1]._isolate;)Qe.pop();var Ge=Qe[Qe.length-1]._isolInitIndex;Ge!=null&&(Ue.set(Ge,ge),Ue.set(ge,Ge)),Qe.pop(),vt--}nt=Qe[Qe.length-1],de[ge]=nt._level,nt._override&&H(ge,nt._override)}else Ye&he?(fe===0&&(Te>0?Te--:!nt._isolate&&Qe.length>1&&(Qe.pop(),nt=Qe[Qe.length-1])),de[ge]=nt._level):Ye&re&&(de[ge]=Ee.level);else de[ge]=nt._level,nt._override&&Ye!==X&&H(ge,nt._override)}for(var ht=[],Ct=null,Tt=Ee.start;Tt<=Ee.end;Tt++){var Gt=De[Tt];if(!(Gt&u)){var Mn=de[Tt],kn=Gt&a,pr=Gt===Se;Ct&&Mn===Ct._level?(Ct._end=Tt,Ct._endsWithIsolInit=kn):ht.push(Ct={_start:Tt,_end:Tt,_level:Mn,_startsWithPDI:pr,_endsWithIsolInit:kn})}}for(var wi=[],xa=0;xa<ht.length;xa++){var ji=ht[xa];if(!ji._startsWithPDI||ji._startsWithPDI&&!Ue.has(ji._start)){for(var Wi=[Ct=ji],Fa=void 0;Ct&&Ct._endsWithIsolInit&&(Fa=Ue.get(Ct._end))!=null;)for(var _r=xa+1;_r<ht.length;_r++)if(ht[_r]._start===Fa){Wi.push(Ct=ht[_r]);break}for(var ur=[],tr=0;tr<Wi.length;tr++)for(var Zr=Wi[tr],aa=Zr._start;aa<=Zr._end;aa++)ur.push(aa);for(var za=de[ur[0]],_a=Ee.level,Ls=ur[0]-1;Ls>=0;Ls--)if(!(De[Ls]&u)){_a=de[Ls];break}var nl=ur[ur.length-1],Us=de[nl],vo=Ee.level;if(!(De[nl]&a)){for(var cs=nl+1;cs<=Ee.end;cs++)if(!(De[cs]&u)){vo=de[cs];break}}wi.push({_seqIndices:ur,_sosType:Math.max(_a,za)%2?F:I,_eosType:Math.max(vo,Us)%2?F:I})}}for(var ks=0;ks<wi.length;ks++){var yo=wi[ks],Ft=yo._seqIndices,te=yo._sosType,Me=yo._eosType,je=de[Ft[0]]&1?F:I;if($.get(se))for(var Fe=0;Fe<Ft.length;Fe++){var Oe=Ft[Fe];if(De[Oe]&se){for(var St=te,Rt=Fe-1;Rt>=0;Rt--)if(!(De[Ft[Rt]]&u)){St=De[Ft[Rt]];break}H(Oe,St&(a|Se)?W:St)}}if($.get(L))for(var yt=0;yt<Ft.length;yt++){var Ut=Ft[yt];if(De[Ut]&L)for(var kt=yt-1;kt>=-1;kt--){var Kt=kt===-1?te:De[Ft[kt]];if(Kt&s){Kt===J&&H(Ut,j);break}}}if($.get(J))for(var Bt=0;Bt<Ft.length;Bt++){var Zt=Ft[Bt];De[Zt]&J&&H(Zt,F)}if($.get(k)||$.get(Y))for(var Tn=1;Tn<Ft.length-1;Tn++){var ir=Ft[Tn];if(De[ir]&(k|Y)){for(var Hn=0,on=0,Pt=Tn-1;Pt>=0&&(Hn=De[Ft[Pt]],!!(Hn&u));Pt--);for(var Pn=Tn+1;Pn<Ft.length&&(on=De[Ft[Pn]],!!(on&u));Pn++);Hn===on&&(De[ir]===k?Hn===L:Hn&(L|j))&&H(ir,Hn)}}if($.get(L))for(var qt=0;qt<Ft.length;qt++){var Qr=Ft[qt];if(De[Qr]&L){for(var wa=qt-1;wa>=0&&De[Ft[wa]]&(V|u);wa--)H(Ft[wa],L);for(qt++;qt<Ft.length&&De[Ft[qt]]&(V|u|L);qt++)De[Ft[qt]]!==L&&H(Ft[qt],L)}}if($.get(V)||$.get(k)||$.get(Y))for(var nr=0;nr<Ft.length;nr++){var qi=Ft[nr];if(De[qi]&(V|k|Y)){H(qi,W);for(var Bn=nr-1;Bn>=0&&De[Ft[Bn]]&u;Bn--)H(Ft[Bn],W);for(var Dr=nr+1;Dr<Ft.length&&De[Ft[Dr]]&u;Dr++)H(Ft[Dr],W)}}if($.get(L))for(var Ir=0,ci=te;Ir<Ft.length;Ir++){var fi=Ft[Ir],rl=De[fi];rl&L?ci===I&&H(fi,I):rl&s&&(ci=rl)}if($.get(o)){var Xi=F|L|j,pm=Xi|I,wc=[];{for(var bo=[],Sa=0;Sa<Ft.length;Sa++)if(De[Ft[Sa]]&o){var Nl=ne[Ft[Sa]],zf=void 0;if(O(Nl)!==null)if(bo.length<63)bo.push({char:Nl,seqIndex:Sa});else break;else if((zf=R(Nl))!==null)for(var Bs=bo.length-1;Bs>=0;Bs--){var xo=bo[Bs].char;if(xo===zf||xo===R(D(Nl))||O(D(xo))===Nl){wc.push([bo[Bs].seqIndex,Sa]),bo.length=Bs;break}}}wc.sort(function(sa,zs){return sa[0]-zs[0]})}for(var Gf=0;Gf<wc.length;Gf++){for(var Hf=wc[Gf],Sc=Hf[0],Dl=Hf[1],Fs=!1,Ga=0,Il=Sc+1;Il<Dl;Il++){var Aa=Ft[Il];if(De[Aa]&pm){Fs=!0;var Vf=De[Aa]&Xi?F:I;if(Vf===je){Ga=Vf;break}}}if(Fs&&!Ga){Ga=te;for(var il=Sc-1;il>=0;il--){var Ac=Ft[il];if(De[Ac]&pm){var Ec=De[Ac]&Xi?F:I;Ec!==je?Ga=Ec:Ga=je;break}}}if(Ga){if(De[Ft[Sc]]=De[Ft[Dl]]=Ga,Ga!==je){for(var _o=Sc+1;_o<Ft.length;_o++)if(!(De[Ft[_o]]&u)){v(ne[Ft[_o]])&se&&(De[Ft[_o]]=Ga);break}}if(Ga!==je){for(var Mc=Dl+1;Mc<Ft.length;Mc++)if(!(De[Ft[Mc]]&u)){v(ne[Ft[Mc]])&se&&(De[Ft[Mc]]=Ga);break}}}}for(var Lr=0;Lr<Ft.length;Lr++)if(De[Ft[Lr]]&o){for(var al=Lr,Ru=Lr,Ll=te,Tc=Lr-1;Tc>=0;Tc--)if(De[Ft[Tc]]&u)al=Tc;else{Ll=De[Ft[Tc]]&Xi?F:I;break}for(var Cc=Me,Ul=Lr+1;Ul<Ft.length;Ul++)if(De[Ft[Ul]]&(o|u))Ru=Ul;else{Cc=De[Ft[Ul]]&Xi?F:I;break}for(var kl=al;kl<=Ru;kl++)De[Ft[kl]]=Ll===Cc?Ll:je;Lr=Ru}}}for(var Si=Ee.start;Si<=Ee.end;Si++){var mm=de[Si],jf=De[Si];if(mm&1?jf&(I|L|j)&&de[Si]++:jf&F?de[Si]++:jf&(j|L)&&(de[Si]+=2),jf&u&&(de[Si]=Si===0?Ee.level:de[Si-1]),Si===Ee.end||v(ne[Si])&(Q|re))for(var Wf=Si;Wf>=0&&v(ne[Wf])&c;Wf--)de[Wf]=Ee.level}}return{levels:de,paragraphs:Pe};function Sd(sa,zs){for(var Ea=sa;Ea<ne.length;Ea++){var sl=De[Ea];if(sl&(F|J))return 1;if(sl&(re|I)||zs&&sl===Se)return 0;if(sl&a){var Pc=Ad(Ea);Ea=Pc===-1?ne.length:Pc}}return 0}function Ad(sa){for(var zs=1,Ea=sa+1;Ea<ne.length;Ea++){var sl=De[Ea];if(sl&re)break;if(sl&Se){if(--zs===0)return Ea}else sl&a&&zs++}return-1}}var Ne="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Be;function ye(){if(!Be){var ne=S(Ne,!0),ft=ne.map,Ze=ne.reverseMap;Ze.forEach(function(De,qe){ft.set(qe,De)}),Be=ft}}function ut(ne){return ye(),Be.get(ne)||null}function _e(ne,ft,Ze,De){var qe=ne.length;Ze=Math.max(0,Ze==null?0:+Ze),De=Math.min(qe-1,De==null?qe-1:+De);for(var $=new Map,H=Ze;H<=De;H++)if(ft[H]&1){var de=ut(ne[H]);de!==null&&$.set(H,de)}return $}function Le(ne,ft,Ze,De){var qe=ne.length;Ze=Math.max(0,Ze==null?0:+Ze),De=Math.min(qe-1,De==null?qe-1:+De);var $=[];return ft.paragraphs.forEach(function(H){var de=Math.max(Ze,H.start),Ue=Math.min(De,H.end);if(de<Ue){for(var Pe=ft.levels.slice(de,Ue+1),Ee=Ue;Ee>=de&&v(ne[Ee])&c;Ee--)Pe[Ee]=H.level;for(var ct=H.level,ot=1/0,bt=0;bt<Pe.length;bt++){var Mt=Pe[bt];Mt>ct&&(ct=Mt),Mt<ot&&(ot=Mt|1)}for(var Xe=ct;Xe>=ot;Xe--)for(var Qe=0;Qe<Pe.length;Qe++)if(Pe[Qe]>=Xe){for(var nt=Qe;Qe+1<Pe.length&&Pe[Qe+1]>=Xe;)Qe++;Qe>nt&&$.push([nt+de,Qe+de])}}}),$}function Ce(ne,ft,Ze,De){var qe=tt(ne,ft,Ze,De),$=[].concat(ne);return qe.forEach(function(H,de){$[de]=(ft.levels[H]&1?ut(ne[H]):null)||ne[H]}),$.join("")}function tt(ne,ft,Ze,De){for(var qe=Le(ne,ft,Ze,De),$=[],H=0;H<ne.length;H++)$[H]=H;return qe.forEach(function(de){for(var Ue=de[0],Pe=de[1],Ee=$.slice(Ue,Pe+1),ct=Ee.length;ct--;)$[Pe-ct]=Ee[ct]}),$}return e.closingToOpeningBracket=R,e.getBidiCharType=v,e.getBidiCharTypeName=y,e.getCanonicalBracket=D,e.getEmbeddingLevels=me,e.getMirroredCharacter=ut,e.getMirroredCharactersMap=_e,e.getReorderSegments=Le,e.getReorderedIndices=tt,e.getReorderedString=Ce,e.openingToClosingBracket=O,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return n}const o9=/\bvoid\s+main\s*\(\s*\)\s*{/g;function oI(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let a=Sn[i];return a?oI(a):r}return n.replace(e,t)}const Ja=[];for(let n=0;n<256;n++)Ja[n]=(n<16?"0":"")+n.toString(16);function poe(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ja[n&255]+Ja[n>>8&255]+Ja[n>>16&255]+Ja[n>>24&255]+"-"+Ja[e&255]+Ja[e>>8&255]+"-"+Ja[e>>16&15|64]+Ja[e>>24&255]+"-"+Ja[t&63|128]+Ja[t>>8&255]+"-"+Ja[t>>16&255]+Ja[t>>24&255]+Ja[r&255]+Ja[r>>8&255]+Ja[r>>16&255]+Ja[r>>24&255]).toUpperCase()}const ug=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},moe=Date.now(),DF=new WeakMap,IF=new Map;let goe=1e10;function lI(n,e){const t=xoe(e);let r=DF.get(n);if(r||DF.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,a=function(c,h){n.onBeforeCompile.call(this,c,h);const p=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let v=IF[p];if(!v){const y=voe(this,c,e,t);v=IF[p]=y}c.vertexShader=v.vertexShader,c.fragmentShader=v.fragmentShader,ug(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-moe}}),this[i]&&this[i](c)},s=function(){return o(e.chained?n:n.clone())},o=function(c){const h=Object.create(c,u);return Object.defineProperty(h,"baseMaterial",{value:n}),Object.defineProperty(h,"id",{value:goe++}),h.uuid=poe(),h.uniforms=ug({},c.uniforms,e.uniforms),h.defines=ug({},c.defines,e.defines),h.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",h.extensions=ug({},c.extensions,e.extensions),h._listeners=void 0,h},u={constructor:{value:s},isDerivedMaterial:{value:!0},type:{get:()=>n.type,set:c=>{n.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const h=this.baseMaterial;return c===h||h.isDerivedMaterial&&h.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return a},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(ug(this.extensions,c.extensions),ug(this.defines,c.defines),ug(this.uniforms,j_.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return o(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=lI(n.isDerivedMaterial?n.getDepthMaterial():new z3({depthPacking:wV}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=lI(n.isDerivedMaterial?n.getDistanceMaterial():new G3,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:h}=this;c&&c.dispose(),h&&h.dispose(),n.dispose.call(this)}}};return r[t]=s,new s}function voe(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:a,vertexMainIntro:s,vertexMainOutro:o,vertexTransform:u,fragmentDefs:c,fragmentMainIntro:h,fragmentMainOutro:p,fragmentColorTransform:v,customRewriter:y,timeUniform:x}=r;if(a=a||"",s=s||"",o=o||"",c=c||"",h=h||"",p=p||"",(u||y)&&(e=oI(e)),(v||y)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=oI(t)),y){let S=y({vertexShader:e,fragmentShader:t});e=S.vertexShader,t=S.fragmentShader}if(v){let S=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,w=>(S.push(w),"")),p=`${v}
${S.join(`
`)}
${p}`}if(x){const S=`
uniform float ${x};
`;a=S+a,c=S+c}return u&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${u}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,e=e.replace(/\b(position|normal|uv)\b/g,(S,w,A,T)=>/\battribute\s+vec[23]\s+$/.test(T.substr(0,A))?w:`troika_${w}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=LF(e,i,a,s,o),t=LF(t,i,c,h,p),{vertexShader:e,fragmentShader:t}}function LF(n,e,t,r,i){return(r||i||t)&&(n=n.replace(o9,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function yoe(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let boe=0;const UF=new Map;function xoe(n){const e=JSON.stringify(n,yoe);let t=UF.get(e);return t==null&&UF.set(e,t=++boe),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function _oe(){return typeof window>"u"&&(self.window=self),(function(n){var e={parse:function(i){var a=e._bin,s=new Uint8Array(i);if(a.readASCII(s,0,4)=="ttcf"){var o=4;a.readUshort(s,o),o+=2,a.readUshort(s,o),o+=2;var u=a.readUint(s,o);o+=4;for(var c=[],h=0;h<u;h++){var p=a.readUint(s,o);o+=4,c.push(e._readFont(s,p))}return c}return[e._readFont(s,0)]},_readFont:function(i,a){var s=e._bin,o=a;s.readFixed(i,a),a+=4;var u=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],h={_data:i,_offset:o},p={},v=0;v<u;v++){var y=s.readASCII(i,a,4);a+=4,s.readUint(i,a),a+=4;var x=s.readUint(i,a);a+=4;var S=s.readUint(i,a);a+=4,p[y]={offset:x,length:S}}for(v=0;v<c.length;v++){var w=c[v];p[w]&&(h[w.trim()]=e[w.trim()].parse(i,p[w].offset,p[w].length,h))}return h},_tabOffset:function(i,a,s){for(var o=e._bin,u=o.readUshort(i,s+4),c=s+12,h=0;h<u;h++){var p=o.readASCII(i,c,4);c+=4,o.readUint(i,c),c+=4;var v=o.readUint(i,c);if(c+=4,o.readUint(i,c),c+=4,p==a)return v}return 0}};e._bin={readFixed:function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<8|i[a+3])/65540},readF2dot14:function(i,a){return e._bin.readShort(i,a)/16384},readInt:function(i,a){return e._bin._view(i).getInt32(a)},readInt8:function(i,a){return e._bin._view(i).getInt8(a)},readShort:function(i,a){return e._bin._view(i).getInt16(a)},readUshort:function(i,a){return e._bin._view(i).getUint16(a)},readUshorts:function(i,a,s){for(var o=[],u=0;u<s;u++)o.push(e._bin.readUshort(i,a+2*u));return o},readUint:function(i,a){return e._bin._view(i).getUint32(a)},readUint64:function(i,a){return 4294967296*e._bin.readUint(i,a)+e._bin.readUint(i,a+4)},readASCII:function(i,a,s){for(var o="",u=0;u<s;u++)o+=String.fromCharCode(i[a+u]);return o},readUnicode:function(i,a,s){for(var o="",u=0;u<s;u++){var c=i[a++]<<8|i[a++];o+=String.fromCharCode(c)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,a,s){var o=e._bin._tdec;return o&&a==0&&s==i.length?o.decode(i):e._bin.readASCII(i,a,s)},readBytes:function(i,a,s){for(var o=[],u=0;u<s;u++)o.push(i[a+u]);return o},readASCIIArray:function(i,a,s){for(var o=[],u=0;u<s;u++)o.push(String.fromCharCode(i[a+u]));return o},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,a,s,o,u){var c=e._bin,h={},p=a;c.readFixed(i,a),a+=4;var v=c.readUshort(i,a);a+=2;var y=c.readUshort(i,a);a+=2;var x=c.readUshort(i,a);return a+=2,h.scriptList=e._lctf.readScriptList(i,p+v),h.featureList=e._lctf.readFeatureList(i,p+y),h.lookupList=e._lctf.readLookupList(i,p+x,u),h},e._lctf.readLookupList=function(i,a,s){var o=e._bin,u=a,c=[],h=o.readUshort(i,a);a+=2;for(var p=0;p<h;p++){var v=o.readUshort(i,a);a+=2;var y=e._lctf.readLookupTable(i,u+v,s);c.push(y)}return c},e._lctf.readLookupTable=function(i,a,s){var o=e._bin,u=a,c={tabs:[]};c.ltype=o.readUshort(i,a),a+=2,c.flag=o.readUshort(i,a),a+=2;var h=o.readUshort(i,a);a+=2;for(var p=c.ltype,v=0;v<h;v++){var y=o.readUshort(i,a);a+=2;var x=s(i,p,u+y,c);c.tabs.push(x)}return c},e._lctf.numOfOnes=function(i){for(var a=0,s=0;s<32;s++)(i>>>s&1)!=0&&a++;return a},e._lctf.readClassDef=function(i,a){var s=e._bin,o=[],u=s.readUshort(i,a);if(a+=2,u==1){var c=s.readUshort(i,a);a+=2;var h=s.readUshort(i,a);a+=2;for(var p=0;p<h;p++)o.push(c+p),o.push(c+p),o.push(s.readUshort(i,a)),a+=2}if(u==2){var v=s.readUshort(i,a);for(a+=2,p=0;p<v;p++)o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2}return o},e._lctf.getInterval=function(i,a){for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1];if(i[s+2],o<=a&&a<=u)return s}return-1},e._lctf.readCoverage=function(i,a){var s=e._bin,o={};o.fmt=s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);return a+=2,o.fmt==1&&(o.tab=s.readUshorts(i,a,u)),o.fmt==2&&(o.tab=s.readUshorts(i,a,3*u)),o},e._lctf.coverageIndex=function(i,a){var s=i.tab;if(i.fmt==1)return s.indexOf(a);if(i.fmt==2){var o=e._lctf.getInterval(s,a);if(o!=-1)return s[o+2]+(a-s[o])}return-1},e._lctf.readFeatureList=function(i,a){var s=e._bin,o=a,u=[],c=s.readUshort(i,a);a+=2;for(var h=0;h<c;h++){var p=s.readASCII(i,a,4);a+=4;var v=s.readUshort(i,a);a+=2;var y=e._lctf.readFeatureTable(i,o+v);y.tag=p.trim(),u.push(y)}return u},e._lctf.readFeatureTable=function(i,a){var s=e._bin,o=a,u={},c=s.readUshort(i,a);a+=2,c>0&&(u.featureParams=o+c);var h=s.readUshort(i,a);a+=2,u.tab=[];for(var p=0;p<h;p++)u.tab.push(s.readUshort(i,a+2*p));return u},e._lctf.readScriptList=function(i,a){var s=e._bin,o=a,u={},c=s.readUshort(i,a);a+=2;for(var h=0;h<c;h++){var p=s.readASCII(i,a,4);a+=4;var v=s.readUshort(i,a);a+=2,u[p.trim()]=e._lctf.readScriptTable(i,o+v)}return u},e._lctf.readScriptTable=function(i,a){var s=e._bin,o=a,u={},c=s.readUshort(i,a);a+=2,c>0&&(u.default=e._lctf.readLangSysTable(i,o+c));var h=s.readUshort(i,a);a+=2;for(var p=0;p<h;p++){var v=s.readASCII(i,a,4);a+=4;var y=s.readUshort(i,a);a+=2,u[v.trim()]=e._lctf.readLangSysTable(i,o+y)}return u},e._lctf.readLangSysTable=function(i,a){var s=e._bin,o={};s.readUshort(i,a),a+=2,o.reqFeature=s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);return a+=2,o.features=s.readUshorts(i,a,u),o},e.CFF={},e.CFF.parse=function(i,a,s){var o=e._bin;(i=new Uint8Array(i.buffer,a,s))[a=0],i[++a],i[++a],i[++a],a++;var u=[];a=e.CFF.readIndex(i,a,u);for(var c=[],h=0;h<u.length-1;h++)c.push(o.readASCII(i,a+u[h],u[h+1]-u[h]));a+=u[u.length-1];var p=[];a=e.CFF.readIndex(i,a,p);var v=[];for(h=0;h<p.length-1;h++)v.push(e.CFF.readDict(i,a+p[h],a+p[h+1]));a+=p[p.length-1];var y=v[0],x=[];a=e.CFF.readIndex(i,a,x);var S=[];for(h=0;h<x.length-1;h++)S.push(o.readASCII(i,a+x[h],x[h+1]-x[h]));if(a+=x[x.length-1],e.CFF.readSubrs(i,a,y),y.CharStrings){a=y.CharStrings,x=[],a=e.CFF.readIndex(i,a,x);var w=[];for(h=0;h<x.length-1;h++)w.push(o.readBytes(i,a+x[h],x[h+1]-x[h]));y.CharStrings=w}if(y.ROS){a=y.FDArray;var A=[];for(a=e.CFF.readIndex(i,a,A),y.FDArray=[],h=0;h<A.length-1;h++){var T=e.CFF.readDict(i,a+A[h],a+A[h+1]);e.CFF._readFDict(i,T,S),y.FDArray.push(T)}a+=A[A.length-1],a=y.FDSelect,y.FDSelect=[];var C=i[a];if(a++,C!=3)throw C;var O=o.readUshort(i,a);for(a+=2,h=0;h<O+1;h++)y.FDSelect.push(o.readUshort(i,a),i[a+2]),a+=3}return y.Encoding&&(y.Encoding=e.CFF.readEncoding(i,y.Encoding,y.CharStrings.length)),y.charset&&(y.charset=e.CFF.readCharset(i,y.charset,y.CharStrings.length)),e.CFF._readFDict(i,y,S),y},e.CFF._readFDict=function(i,a,s){var o;for(var u in a.Private&&(o=a.Private[1],a.Private=e.CFF.readDict(i,o,o+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(i,o+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(u)!=-1&&(a[u]=s[a[u]-426+35])},e.CFF.readSubrs=function(i,a,s){var o=e._bin,u=[];a=e.CFF.readIndex(i,a,u);var c,h=u.length;c=h<1240?107:h<33900?1131:32768,s.Bias=c,s.Subrs=[];for(var p=0;p<u.length-1;p++)s.Subrs.push(o.readBytes(i,a+u[p],u[p+1]-u[p]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,a){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==a)return s;return-1},e.CFF.glyphBySE=function(i,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[a])},e.CFF.readEncoding=function(i,a,s){e._bin;var o=[".notdef"],u=i[a];if(a++,u!=0)throw"error: unknown encoding format: "+u;var c=i[a];a++;for(var h=0;h<c;h++)o.push(i[a+h]);return o},e.CFF.readCharset=function(i,a,s){var o=e._bin,u=[".notdef"],c=i[a];if(a++,c==0)for(var h=0;h<s;h++){var p=o.readUshort(i,a);a+=2,u.push(p)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;u.length<s;){p=o.readUshort(i,a),a+=2;var v=0;for(c==1?(v=i[a],a++):(v=o.readUshort(i,a),a+=2),h=0;h<=v;h++)u.push(p),p++}}return u},e.CFF.readIndex=function(i,a,s){var o=e._bin,u=o.readUshort(i,a)+1,c=i[a+=2];if(a++,c==1)for(var h=0;h<u;h++)s.push(i[a+h]);else if(c==2)for(h=0;h<u;h++)s.push(o.readUshort(i,a+2*h));else if(c==3)for(h=0;h<u;h++)s.push(16777215&o.readUint(i,a+3*h-1));else if(u!=1)throw"unsupported offset size: "+c+", count: "+u;return(a+=u*c)-1},e.CFF.getCharString=function(i,a,s){var o=e._bin,u=i[a],c=i[a+1];i[a+2],i[a+3],i[a+4];var h=1,p=null,v=null;u<=20&&(p=u,h=1),u==12&&(p=100*u+c,h=2),21<=u&&u<=27&&(p=u,h=1),u==28&&(v=o.readShort(i,a+1),h=3),29<=u&&u<=31&&(p=u,h=1),32<=u&&u<=246&&(v=u-139,h=1),247<=u&&u<=250&&(v=256*(u-247)+c+108,h=2),251<=u&&u<=254&&(v=256*-(u-251)-c-108,h=2),u==255&&(v=o.readInt(i,a+1)/65535,h=5),s.val=v??"o"+p,s.size=h},e.CFF.readCharString=function(i,a,s){for(var o=a+s,u=e._bin,c=[];a<o;){var h=i[a],p=i[a+1];i[a+2],i[a+3],i[a+4];var v=1,y=null,x=null;h<=20&&(y=h,v=1),h==12&&(y=100*h+p,v=2),h!=19&&h!=20||(y=h,v=2),21<=h&&h<=27&&(y=h,v=1),h==28&&(x=u.readShort(i,a+1),v=3),29<=h&&h<=31&&(y=h,v=1),32<=h&&h<=246&&(x=h-139,v=1),247<=h&&h<=250&&(x=256*(h-247)+p+108,v=2),251<=h&&h<=254&&(x=256*-(h-251)-p-108,v=2),h==255&&(x=u.readInt(i,a+1)/65535,v=5),c.push(x??"o"+y),a+=v}return c},e.CFF.readDict=function(i,a,s){for(var o=e._bin,u={},c=[];a<s;){var h=i[a],p=i[a+1];i[a+2],i[a+3],i[a+4];var v=1,y=null,x=null;if(h==28&&(x=o.readShort(i,a+1),v=3),h==29&&(x=o.readInt(i,a+1),v=5),32<=h&&h<=246&&(x=h-139,v=1),247<=h&&h<=250&&(x=256*(h-247)+p+108,v=2),251<=h&&h<=254&&(x=256*-(h-251)-p-108,v=2),h==255)throw x=o.readInt(i,a+1)/65535,v=5,"unknown number";if(h==30){var S=[];for(v=1;;){var w=i[a+v];v++;var A=w>>4,T=15&w;if(A!=15&&S.push(A),T!=15&&S.push(T),T==15)break}for(var C="",O=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],R=0;R<S.length;R++)C+=O[S[R]];x=parseFloat(C)}h<=21&&(y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][h],v=1,h==12&&(y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][p],v=2)),y!=null?(u[y]=c.length==1?c[0]:c,c=[]):c.push(x),a+=v}return u},e.cmap={},e.cmap.parse=function(i,a,s){i=new Uint8Array(i.buffer,a,s),a=0;var o=e._bin,u={};o.readUshort(i,a),a+=2;var c=o.readUshort(i,a);a+=2;var h=[];u.tables=[];for(var p=0;p<c;p++){var v=o.readUshort(i,a);a+=2;var y=o.readUshort(i,a);a+=2;var x=o.readUint(i,a);a+=4;var S="p"+v+"e"+y,w=h.indexOf(x);if(w==-1){var A;w=u.tables.length,h.push(x);var T=o.readUshort(i,x);T==0?A=e.cmap.parse0(i,x):T==4?A=e.cmap.parse4(i,x):T==6?A=e.cmap.parse6(i,x):T==12?A=e.cmap.parse12(i,x):console.debug("unknown format: "+T,v,y,x),u.tables.push(A)}if(u[S]!=null)throw"multiple tables for one platform+encoding";u[S]=w}return u},e.cmap.parse0=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,o.map=[];for(var c=0;c<u-6;c++)o.map.push(i[a+c]);return o},e.cmap.parse4=function(i,a){var s=e._bin,o=a,u={};u.format=s.readUshort(i,a),a+=2;var c=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2;var h=s.readUshort(i,a);a+=2;var p=h/2;u.searchRange=s.readUshort(i,a),a+=2,u.entrySelector=s.readUshort(i,a),a+=2,u.rangeShift=s.readUshort(i,a),a+=2,u.endCount=s.readUshorts(i,a,p),a+=2*p,a+=2,u.startCount=s.readUshorts(i,a,p),a+=2*p,u.idDelta=[];for(var v=0;v<p;v++)u.idDelta.push(s.readShort(i,a)),a+=2;for(u.idRangeOffset=s.readUshorts(i,a,p),a+=2*p,u.glyphIdArray=[];a<o+c;)u.glyphIdArray.push(s.readUshort(i,a)),a+=2;return u},e.cmap.parse6=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,o.firstCode=s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2,o.glyphIdArray=[];for(var c=0;c<u;c++)o.glyphIdArray.push(s.readUshort(i,a)),a+=2;return o},e.cmap.parse12=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,a+=2,s.readUint(i,a),a+=4,s.readUint(i,a),a+=4;var u=s.readUint(i,a);a+=4,o.groups=[];for(var c=0;c<u;c++){var h=a+12*c,p=s.readUint(i,h+0),v=s.readUint(i,h+4),y=s.readUint(i,h+8);o.groups.push([p,v,y])}return o},e.glyf={},e.glyf.parse=function(i,a,s,o){for(var u=[],c=0;c<o.maxp.numGlyphs;c++)u.push(null);return u},e.glyf._parseGlyf=function(i,a){var s=e._bin,o=i._data,u=e._tabOffset(o,"glyf",i._offset)+i.loca[a];if(i.loca[a]==i.loca[a+1])return null;var c={};if(c.noc=s.readShort(o,u),u+=2,c.xMin=s.readShort(o,u),u+=2,c.yMin=s.readShort(o,u),u+=2,c.xMax=s.readShort(o,u),u+=2,c.yMax=s.readShort(o,u),u+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var h=0;h<c.noc;h++)c.endPts.push(s.readUshort(o,u)),u+=2;var p=s.readUshort(o,u);if(u+=2,o.length-u<p)return null;c.instructions=s.readBytes(o,u,p),u+=p;var v=c.endPts[c.noc-1]+1;for(c.flags=[],h=0;h<v;h++){var y=o[u];if(u++,c.flags.push(y),(8&y)!=0){var x=o[u];u++;for(var S=0;S<x;S++)c.flags.push(y),h++}}for(c.xs=[],h=0;h<v;h++){var w=(2&c.flags[h])!=0,A=(16&c.flags[h])!=0;w?(c.xs.push(A?o[u]:-o[u]),u++):A?c.xs.push(0):(c.xs.push(s.readShort(o,u)),u+=2)}for(c.ys=[],h=0;h<v;h++)w=(4&c.flags[h])!=0,A=(32&c.flags[h])!=0,w?(c.ys.push(A?o[u]:-o[u]),u++):A?c.ys.push(0):(c.ys.push(s.readShort(o,u)),u+=2);var T=0,C=0;for(h=0;h<v;h++)T+=c.xs[h],C+=c.ys[h],c.xs[h]=T,c.ys[h]=C}else{var O;c.parts=[];do{O=s.readUshort(o,u),u+=2;var R={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(R),R.glyphIndex=s.readUshort(o,u),u+=2,1&O){var D=s.readShort(o,u);u+=2;var I=s.readShort(o,u);u+=2}else D=s.readInt8(o,u),u++,I=s.readInt8(o,u),u++;2&O?(R.m.tx=D,R.m.ty=I):(R.p1=D,R.p2=I),8&O?(R.m.a=R.m.d=s.readF2dot14(o,u),u+=2):64&O?(R.m.a=s.readF2dot14(o,u),u+=2,R.m.d=s.readF2dot14(o,u),u+=2):128&O&&(R.m.a=s.readF2dot14(o,u),u+=2,R.m.b=s.readF2dot14(o,u),u+=2,R.m.c=s.readF2dot14(o,u),u+=2,R.m.d=s.readF2dot14(o,u),u+=2)}while(32&O);if(256&O){var F=s.readUshort(o,u);for(u+=2,c.instr=[],h=0;h<F;h++)c.instr.push(o[u]),u++}}return c},e.GDEF={},e.GDEF.parse=function(i,a,s,o){var u=a;a+=4;var c=e._bin.readUshort(i,a);return{glyphClassDef:c===0?null:e._lctf.readClassDef(i,u+c)}},e.GPOS={},e.GPOS.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GPOS.subt)},e.GPOS.subt=function(i,a,s,o){var u=e._bin,c=s,h={};if(h.fmt=u.readUshort(i,s),s+=2,a==1||a==2||a==3||a==7||a==8&&h.fmt<=2){var p=u.readUshort(i,s);s+=2,h.coverage=e._lctf.readCoverage(i,p+c)}if(a==1&&h.fmt==1){var v=u.readUshort(i,s);s+=2,v!=0&&(h.pos=e.GPOS.readValueRecord(i,s,v))}else if(a==2&&h.fmt>=1&&h.fmt<=2){v=u.readUshort(i,s),s+=2;var y=u.readUshort(i,s);s+=2;var x=e._lctf.numOfOnes(v),S=e._lctf.numOfOnes(y);if(h.fmt==1){h.pairsets=[];var w=u.readUshort(i,s);s+=2;for(var A=0;A<w;A++){var T=c+u.readUshort(i,s);s+=2;var C=u.readUshort(i,T);T+=2;for(var O=[],R=0;R<C;R++){var D=u.readUshort(i,T);T+=2,v!=0&&(j=e.GPOS.readValueRecord(i,T,v),T+=2*x),y!=0&&(Y=e.GPOS.readValueRecord(i,T,y),T+=2*S),O.push({gid2:D,val1:j,val2:Y})}h.pairsets.push(O)}}if(h.fmt==2){var I=u.readUshort(i,s);s+=2;var F=u.readUshort(i,s);s+=2;var L=u.readUshort(i,s);s+=2;var k=u.readUshort(i,s);for(s+=2,h.classDef1=e._lctf.readClassDef(i,c+I),h.classDef2=e._lctf.readClassDef(i,c+F),h.matrix=[],A=0;A<L;A++){var V=[];for(R=0;R<k;R++){var j=null,Y=null;v!=0&&(j=e.GPOS.readValueRecord(i,s,v),s+=2*x),y!=0&&(Y=e.GPOS.readValueRecord(i,s,y),s+=2*S),V.push({val1:j,val2:Y})}h.matrix.push(V)}}}else if(a==4&&h.fmt==1)h.markCoverage=e._lctf.readCoverage(i,u.readUshort(i,s)+c),h.baseCoverage=e._lctf.readCoverage(i,u.readUshort(i,s+2)+c),h.markClassCount=u.readUshort(i,s+4),h.markArray=e.GPOS.readMarkArray(i,u.readUshort(i,s+6)+c),h.baseArray=e.GPOS.readBaseArray(i,u.readUshort(i,s+8)+c,h.markClassCount);else if(a==6&&h.fmt==1)h.mark1Coverage=e._lctf.readCoverage(i,u.readUshort(i,s)+c),h.mark2Coverage=e._lctf.readCoverage(i,u.readUshort(i,s+2)+c),h.markClassCount=u.readUshort(i,s+4),h.mark1Array=e.GPOS.readMarkArray(i,u.readUshort(i,s+6)+c),h.mark2Array=e.GPOS.readBaseArray(i,u.readUshort(i,s+8)+c,h.markClassCount);else{if(a==9&&h.fmt==1){var re=u.readUshort(i,s);s+=2;var Q=u.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=re;else if(o.ltype!=re)throw"invalid extension substitution";return e.GPOS.subt(i,o.ltype,c+Q)}console.debug("unsupported GPOS table LookupType",a,"format",h.fmt)}return h},e.GPOS.readValueRecord=function(i,a,s){var o=e._bin,u=[];return u.push(1&s?o.readShort(i,a):0),a+=1&s?2:0,u.push(2&s?o.readShort(i,a):0),a+=2&s?2:0,u.push(4&s?o.readShort(i,a):0),a+=4&s?2:0,u.push(8&s?o.readShort(i,a):0),a+=8&s?2:0,u},e.GPOS.readBaseArray=function(i,a,s){var o=e._bin,u=[],c=a,h=o.readUshort(i,a);a+=2;for(var p=0;p<h;p++){for(var v=[],y=0;y<s;y++)v.push(e.GPOS.readAnchorRecord(i,c+o.readUshort(i,a))),a+=2;u.push(v)}return u},e.GPOS.readMarkArray=function(i,a){var s=e._bin,o=[],u=a,c=s.readUshort(i,a);a+=2;for(var h=0;h<c;h++){var p=e.GPOS.readAnchorRecord(i,s.readUshort(i,a+2)+u);p.markClass=s.readUshort(i,a),o.push(p),a+=4}return o},e.GPOS.readAnchorRecord=function(i,a){var s=e._bin,o={};return o.fmt=s.readUshort(i,a),o.x=s.readShort(i,a+2),o.y=s.readShort(i,a+4),o},e.GSUB={},e.GSUB.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GSUB.subt)},e.GSUB.subt=function(i,a,s,o){var u=e._bin,c=s,h={};if(h.fmt=u.readUshort(i,s),s+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&h.fmt<=2||a==6&&h.fmt<=2){var p=u.readUshort(i,s);s+=2,h.coverage=e._lctf.readCoverage(i,c+p)}if(a==1&&h.fmt>=1&&h.fmt<=2){if(h.fmt==1)h.delta=u.readShort(i,s),s+=2;else if(h.fmt==2){var v=u.readUshort(i,s);s+=2,h.newg=u.readUshorts(i,s,v),s+=2*h.newg.length}}else if(a==2&&h.fmt==1){v=u.readUshort(i,s),s+=2,h.seqs=[];for(var y=0;y<v;y++){var x=u.readUshort(i,s)+c;s+=2;var S=u.readUshort(i,x);h.seqs.push(u.readUshorts(i,x+2,S))}}else if(a==4)for(h.vals=[],v=u.readUshort(i,s),s+=2,y=0;y<v;y++){var w=u.readUshort(i,s);s+=2,h.vals.push(e.GSUB.readLigatureSet(i,c+w))}else if(a==5&&h.fmt==2){if(h.fmt==2){var A=u.readUshort(i,s);s+=2,h.cDef=e._lctf.readClassDef(i,c+A),h.scset=[];var T=u.readUshort(i,s);for(s+=2,y=0;y<T;y++){var C=u.readUshort(i,s);s+=2,h.scset.push(C==0?null:e.GSUB.readSubClassSet(i,c+C))}}}else if(a==6&&h.fmt==3){if(h.fmt==3){for(y=0;y<3;y++){v=u.readUshort(i,s),s+=2;for(var O=[],R=0;R<v;R++)O.push(e._lctf.readCoverage(i,c+u.readUshort(i,s+2*R)));s+=2*v,y==0&&(h.backCvg=O),y==1&&(h.inptCvg=O),y==2&&(h.ahedCvg=O)}v=u.readUshort(i,s),s+=2,h.lookupRec=e.GSUB.readSubstLookupRecords(i,s,v)}}else{if(a==7&&h.fmt==1){var D=u.readUshort(i,s);s+=2;var I=u.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=D;else if(o.ltype!=D)throw"invalid extension substitution";return e.GSUB.subt(i,o.ltype,c+I)}console.debug("unsupported GSUB table LookupType",a,"format",h.fmt)}return h},e.GSUB.readSubClassSet=function(i,a){var s=e._bin.readUshort,o=a,u=[],c=s(i,a);a+=2;for(var h=0;h<c;h++){var p=s(i,a);a+=2,u.push(e.GSUB.readSubClassRule(i,o+p))}return u},e.GSUB.readSubClassRule=function(i,a){var s=e._bin.readUshort,o={},u=s(i,a),c=s(i,a+=2);a+=2,o.input=[];for(var h=0;h<u-1;h++)o.input.push(s(i,a)),a+=2;return o.substLookupRecords=e.GSUB.readSubstLookupRecords(i,a,c),o},e.GSUB.readSubstLookupRecords=function(i,a,s){for(var o=e._bin.readUshort,u=[],c=0;c<s;c++)u.push(o(i,a),o(i,a+2)),a+=4;return u},e.GSUB.readChainSubClassSet=function(i,a){var s=e._bin,o=a,u=[],c=s.readUshort(i,a);a+=2;for(var h=0;h<c;h++){var p=s.readUshort(i,a);a+=2,u.push(e.GSUB.readChainSubClassRule(i,o+p))}return u},e.GSUB.readChainSubClassRule=function(i,a){for(var s=e._bin,o={},u=["backtrack","input","lookahead"],c=0;c<u.length;c++){var h=s.readUshort(i,a);a+=2,c==1&&h--,o[u[c]]=s.readUshorts(i,a,h),a+=2*o[u[c]].length}return h=s.readUshort(i,a),a+=2,o.subst=s.readUshorts(i,a,2*h),a+=2*o.subst.length,o},e.GSUB.readLigatureSet=function(i,a){var s=e._bin,o=a,u=[],c=s.readUshort(i,a);a+=2;for(var h=0;h<c;h++){var p=s.readUshort(i,a);a+=2,u.push(e.GSUB.readLigature(i,o+p))}return u},e.GSUB.readLigature=function(i,a){var s=e._bin,o={chain:[]};o.nglyph=s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2;for(var c=0;c<u-1;c++)o.chain.push(s.readUshort(i,a)),a+=2;return o},e.head={},e.head.parse=function(i,a,s){var o=e._bin,u={};return o.readFixed(i,a),a+=4,u.fontRevision=o.readFixed(i,a),a+=4,o.readUint(i,a),a+=4,o.readUint(i,a),a+=4,u.flags=o.readUshort(i,a),a+=2,u.unitsPerEm=o.readUshort(i,a),a+=2,u.created=o.readUint64(i,a),a+=8,u.modified=o.readUint64(i,a),a+=8,u.xMin=o.readShort(i,a),a+=2,u.yMin=o.readShort(i,a),a+=2,u.xMax=o.readShort(i,a),a+=2,u.yMax=o.readShort(i,a),a+=2,u.macStyle=o.readUshort(i,a),a+=2,u.lowestRecPPEM=o.readUshort(i,a),a+=2,u.fontDirectionHint=o.readShort(i,a),a+=2,u.indexToLocFormat=o.readShort(i,a),a+=2,u.glyphDataFormat=o.readShort(i,a),a+=2,u},e.hhea={},e.hhea.parse=function(i,a,s){var o=e._bin,u={};return o.readFixed(i,a),a+=4,u.ascender=o.readShort(i,a),a+=2,u.descender=o.readShort(i,a),a+=2,u.lineGap=o.readShort(i,a),a+=2,u.advanceWidthMax=o.readUshort(i,a),a+=2,u.minLeftSideBearing=o.readShort(i,a),a+=2,u.minRightSideBearing=o.readShort(i,a),a+=2,u.xMaxExtent=o.readShort(i,a),a+=2,u.caretSlopeRise=o.readShort(i,a),a+=2,u.caretSlopeRun=o.readShort(i,a),a+=2,u.caretOffset=o.readShort(i,a),a+=2,a+=8,u.metricDataFormat=o.readShort(i,a),a+=2,u.numberOfHMetrics=o.readUshort(i,a),a+=2,u},e.hmtx={},e.hmtx.parse=function(i,a,s,o){for(var u=e._bin,c={aWidth:[],lsBearing:[]},h=0,p=0,v=0;v<o.maxp.numGlyphs;v++)v<o.hhea.numberOfHMetrics&&(h=u.readUshort(i,a),a+=2,p=u.readShort(i,a),a+=2),c.aWidth.push(h),c.lsBearing.push(p);return c},e.kern={},e.kern.parse=function(i,a,s,o){var u=e._bin,c=u.readUshort(i,a);if(a+=2,c==1)return e.kern.parseV1(i,a-2,s,o);var h=u.readUshort(i,a);a+=2;for(var p={glyph1:[],rval:[]},v=0;v<h;v++){a+=2,s=u.readUshort(i,a),a+=2;var y=u.readUshort(i,a);a+=2;var x=y>>>8;if((x&=15)!=0)throw"unknown kern table format: "+x;a=e.kern.readFormat0(i,a,p)}return p},e.kern.parseV1=function(i,a,s,o){var u=e._bin;u.readFixed(i,a),a+=4;var c=u.readUint(i,a);a+=4;for(var h={glyph1:[],rval:[]},p=0;p<c;p++){u.readUint(i,a),a+=4;var v=u.readUshort(i,a);a+=2,u.readUshort(i,a),a+=2;var y=v>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;a=e.kern.readFormat0(i,a,h)}return h},e.kern.readFormat0=function(i,a,s){var o=e._bin,u=-1,c=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2;for(var h=0;h<c;h++){var p=o.readUshort(i,a);a+=2;var v=o.readUshort(i,a);a+=2;var y=o.readShort(i,a);a+=2,p!=u&&(s.glyph1.push(p),s.rval.push({glyph2:[],vals:[]}));var x=s.rval[s.rval.length-1];x.glyph2.push(v),x.vals.push(y),u=p}return a},e.loca={},e.loca.parse=function(i,a,s,o){var u=e._bin,c=[],h=o.head.indexToLocFormat,p=o.maxp.numGlyphs+1;if(h==0)for(var v=0;v<p;v++)c.push(u.readUshort(i,a+(v<<1))<<1);if(h==1)for(v=0;v<p;v++)c.push(u.readUint(i,a+(v<<2)));return c},e.maxp={},e.maxp.parse=function(i,a,s){var o=e._bin,u={},c=o.readUint(i,a);return a+=4,u.numGlyphs=o.readUshort(i,a),a+=2,c==65536&&(u.maxPoints=o.readUshort(i,a),a+=2,u.maxContours=o.readUshort(i,a),a+=2,u.maxCompositePoints=o.readUshort(i,a),a+=2,u.maxCompositeContours=o.readUshort(i,a),a+=2,u.maxZones=o.readUshort(i,a),a+=2,u.maxTwilightPoints=o.readUshort(i,a),a+=2,u.maxStorage=o.readUshort(i,a),a+=2,u.maxFunctionDefs=o.readUshort(i,a),a+=2,u.maxInstructionDefs=o.readUshort(i,a),a+=2,u.maxStackElements=o.readUshort(i,a),a+=2,u.maxSizeOfInstructions=o.readUshort(i,a),a+=2,u.maxComponentElements=o.readUshort(i,a),a+=2,u.maxComponentDepth=o.readUshort(i,a),a+=2),u},e.name={},e.name.parse=function(i,a,s){var o=e._bin,u={};o.readUshort(i,a),a+=2;var c=o.readUshort(i,a);a+=2,o.readUshort(i,a);for(var h,p=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],v=a+=2,y=0;y<c;y++){var x=o.readUshort(i,a);a+=2;var S=o.readUshort(i,a);a+=2;var w=o.readUshort(i,a);a+=2;var A=o.readUshort(i,a);a+=2;var T=o.readUshort(i,a);a+=2;var C=o.readUshort(i,a);a+=2;var O,R=p[A],D=v+12*c+C;if(x==0)O=o.readUnicode(i,D,T/2);else if(x==3&&S==0)O=o.readUnicode(i,D,T/2);else if(S==0)O=o.readASCII(i,D,T);else if(S==1)O=o.readUnicode(i,D,T/2);else if(S==3)O=o.readUnicode(i,D,T/2);else{if(x!=1)throw"unknown encoding "+S+", platformID: "+x;O=o.readASCII(i,D,T),console.debug("reading unknown MAC encoding "+S+" as ASCII")}var I="p"+x+","+w.toString(16);u[I]==null&&(u[I]={}),u[I][R!==void 0?R:A]=O,u[I]._lang=w}for(var F in u)if(u[F].postScriptName!=null&&u[F]._lang==1033)return u[F];for(var F in u)if(u[F].postScriptName!=null&&u[F]._lang==0)return u[F];for(var F in u)if(u[F].postScriptName!=null&&u[F]._lang==3084)return u[F];for(var F in u)if(u[F].postScriptName!=null)return u[F];for(var F in u){h=F;break}return console.debug("returning name table with languageID "+u[h]._lang),u[h]},e["OS/2"]={},e["OS/2"].parse=function(i,a,s){var o=e._bin.readUshort(i,a);a+=2;var u={};if(o==0)e["OS/2"].version0(i,a,u);else if(o==1)e["OS/2"].version1(i,a,u);else if(o==2||o==3||o==4)e["OS/2"].version2(i,a,u);else{if(o!=5)throw"unknown OS/2 table version: "+o;e["OS/2"].version5(i,a,u)}return u},e["OS/2"].version0=function(i,a,s){var o=e._bin;return s.xAvgCharWidth=o.readShort(i,a),a+=2,s.usWeightClass=o.readUshort(i,a),a+=2,s.usWidthClass=o.readUshort(i,a),a+=2,s.fsType=o.readUshort(i,a),a+=2,s.ySubscriptXSize=o.readShort(i,a),a+=2,s.ySubscriptYSize=o.readShort(i,a),a+=2,s.ySubscriptXOffset=o.readShort(i,a),a+=2,s.ySubscriptYOffset=o.readShort(i,a),a+=2,s.ySuperscriptXSize=o.readShort(i,a),a+=2,s.ySuperscriptYSize=o.readShort(i,a),a+=2,s.ySuperscriptXOffset=o.readShort(i,a),a+=2,s.ySuperscriptYOffset=o.readShort(i,a),a+=2,s.yStrikeoutSize=o.readShort(i,a),a+=2,s.yStrikeoutPosition=o.readShort(i,a),a+=2,s.sFamilyClass=o.readShort(i,a),a+=2,s.panose=o.readBytes(i,a,10),a+=10,s.ulUnicodeRange1=o.readUint(i,a),a+=4,s.ulUnicodeRange2=o.readUint(i,a),a+=4,s.ulUnicodeRange3=o.readUint(i,a),a+=4,s.ulUnicodeRange4=o.readUint(i,a),a+=4,s.achVendID=[o.readInt8(i,a),o.readInt8(i,a+1),o.readInt8(i,a+2),o.readInt8(i,a+3)],a+=4,s.fsSelection=o.readUshort(i,a),a+=2,s.usFirstCharIndex=o.readUshort(i,a),a+=2,s.usLastCharIndex=o.readUshort(i,a),a+=2,s.sTypoAscender=o.readShort(i,a),a+=2,s.sTypoDescender=o.readShort(i,a),a+=2,s.sTypoLineGap=o.readShort(i,a),a+=2,s.usWinAscent=o.readUshort(i,a),a+=2,s.usWinDescent=o.readUshort(i,a),a+=2},e["OS/2"].version1=function(i,a,s){var o=e._bin;return a=e["OS/2"].version0(i,a,s),s.ulCodePageRange1=o.readUint(i,a),a+=4,s.ulCodePageRange2=o.readUint(i,a),a+=4},e["OS/2"].version2=function(i,a,s){var o=e._bin;return a=e["OS/2"].version1(i,a,s),s.sxHeight=o.readShort(i,a),a+=2,s.sCapHeight=o.readShort(i,a),a+=2,s.usDefault=o.readUshort(i,a),a+=2,s.usBreak=o.readUshort(i,a),a+=2,s.usMaxContext=o.readUshort(i,a),a+=2},e["OS/2"].version5=function(i,a,s){var o=e._bin;return a=e["OS/2"].version2(i,a,s),s.usLowerOpticalPointSize=o.readUshort(i,a),a+=2,s.usUpperOpticalPointSize=o.readUshort(i,a),a+=2},e.post={},e.post.parse=function(i,a,s){var o=e._bin,u={};return u.version=o.readFixed(i,a),a+=4,u.italicAngle=o.readFixed(i,a),a+=4,u.underlinePosition=o.readShort(i,a),a+=2,u.underlineThickness=o.readShort(i,a),a+=2,u},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,a){var s=i.cmap,o=-1;if(s.p0e4!=null?o=s.p0e4:s.p3e1!=null?o=s.p3e1:s.p1e0!=null?o=s.p1e0:s.p0e3!=null&&(o=s.p0e3),o==-1)throw"no familiar platform and encoding!";var u=s.tables[o];if(u.format==0)return a>=u.map.length?0:u.map[a];if(u.format==4){for(var c=-1,h=0;h<u.endCount.length;h++)if(a<=u.endCount[h]){c=h;break}return c==-1||u.startCount[c]>a?0:65535&(u.idRangeOffset[c]!=0?u.glyphIdArray[a-u.startCount[c]+(u.idRangeOffset[c]>>1)-(u.idRangeOffset.length-c)]:a+u.idDelta[c])}if(u.format==12){if(a>u.groups[u.groups.length-1][1])return 0;for(h=0;h<u.groups.length;h++){var p=u.groups[h];if(p[0]<=a&&a<=p[1])return p[2]+(a-p[0])}return 0}throw"unknown cmap table format "+u.format},e.U.glyphToPath=function(i,a){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[a]){var o=i.SVG.entries[a];return o==null?s:(typeof o=="string"&&(o=e.SVG.toPath(o),i.SVG.entries[a]=o),o)}if(i.CFF){var u={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,h=i.CFF.Private;if(c.ROS){for(var p=0;c.FDSelect[p+2]<=a;)p+=2;h=c.FDArray[c.FDSelect[p+1]].Private}e.U._drawCFF(i.CFF.CharStrings[a],u,c,h,s)}else i.glyf&&e.U._drawGlyf(a,i,s);return s},e.U._drawGlyf=function(i,a,s){var o=a.glyf[i];o==null&&(o=a.glyf[i]=e.glyf._parseGlyf(a,i)),o!=null&&(o.noc>-1?e.U._simpleGlyph(o,s):e.U._compoGlyph(o,a,s))},e.U._simpleGlyph=function(i,a){for(var s=0;s<i.noc;s++){for(var o=s==0?0:i.endPts[s-1]+1,u=i.endPts[s],c=o;c<=u;c++){var h=c==o?u:c-1,p=c==u?o:c+1,v=1&i.flags[c],y=1&i.flags[h],x=1&i.flags[p],S=i.xs[c],w=i.ys[c];if(c==o)if(v){if(!y){e.U.P.moveTo(a,S,w);continue}e.U.P.moveTo(a,i.xs[h],i.ys[h])}else y?e.U.P.moveTo(a,i.xs[h],i.ys[h]):e.U.P.moveTo(a,(i.xs[h]+S)/2,(i.ys[h]+w)/2);v?y&&e.U.P.lineTo(a,S,w):x?e.U.P.qcurveTo(a,S,w,i.xs[p],i.ys[p]):e.U.P.qcurveTo(a,S,w,(S+i.xs[p])/2,(w+i.ys[p])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(i,a,s){for(var o=0;o<i.parts.length;o++){var u={cmds:[],crds:[]},c=i.parts[o];e.U._drawGlyf(c.glyphIndex,a,u);for(var h=c.m,p=0;p<u.crds.length;p+=2){var v=u.crds[p],y=u.crds[p+1];s.crds.push(v*h.a+y*h.b+h.tx),s.crds.push(v*h.c+y*h.d+h.ty)}for(p=0;p<u.cmds.length;p++)s.cmds.push(u.cmds[p])}},e.U._getGlyphClass=function(i,a){var s=e._lctf.getInterval(a,i);return s==-1?0:a[s+2]},e.U._applySubs=function(i,a,s,o){for(var u=i.length-a-1,c=0;c<s.tabs.length;c++)if(s.tabs[c]!=null){var h,p=s.tabs[c];if(!p.coverage||(h=e._lctf.coverageIndex(p.coverage,i[a]))!=-1){if(s.ltype==1)i[a],p.fmt==1?i[a]=i[a]+p.delta:i[a]=p.newg[h];else if(s.ltype==4)for(var v=p.vals[h],y=0;y<v.length;y++){var x=v[y],S=x.chain.length;if(!(S>u)){for(var w=!0,A=0,T=0;T<S;T++){for(;i[a+A+(1+T)]==-1;)A++;x.chain[T]!=i[a+A+(1+T)]&&(w=!1)}if(w){for(i[a]=x.nglyph,T=0;T<S+A;T++)i[a+T+1]=-1;break}}}else if(s.ltype==5&&p.fmt==2)for(var C=e._lctf.getInterval(p.cDef,i[a]),O=p.cDef[C+2],R=p.scset[O],D=0;D<R.length;D++){var I=R[D],F=I.input;if(!(F.length>u)){for(w=!0,T=0;T<F.length;T++){var L=e._lctf.getInterval(p.cDef,i[a+1+T]);if(C==-1&&p.cDef[L+2]!=F[T]){w=!1;break}}if(w){var k=I.substLookupRecords;for(y=0;y<k.length;y+=2)k[y],k[y+1]}}}else if(s.ltype==6&&p.fmt==3){if(!e.U._glsCovered(i,p.backCvg,a-p.backCvg.length)||!e.U._glsCovered(i,p.inptCvg,a)||!e.U._glsCovered(i,p.ahedCvg,a+p.inptCvg.length))continue;var V=p.lookupRec;for(D=0;D<V.length;D+=2){C=V[D];var j=o[V[D+1]];e.U._applySubs(i,a+C,j,o)}}}}},e.U._glsCovered=function(i,a,s){for(var o=0;o<a.length;o++)if(e._lctf.coverageIndex(a[o],i[s+o])==-1)return!1;return!0},e.U.glyphsToPath=function(i,a,s){for(var o={cmds:[],crds:[]},u=0,c=0;c<a.length;c++){var h=a[c];if(h!=-1){for(var p=c<a.length-1&&a[c+1]!=-1?a[c+1]:0,v=e.U.glyphToPath(i,h),y=0;y<v.crds.length;y+=2)o.crds.push(v.crds[y]+u),o.crds.push(v.crds[y+1]);for(s&&o.cmds.push(s),y=0;y<v.cmds.length;y++)o.cmds.push(v.cmds[y]);s&&o.cmds.push("X"),u+=i.hmtx.aWidth[h],c<a.length-1&&(u+=e.U.getPairAdjustment(i,h,p))}}return o},e.U.P={},e.U.P.moveTo=function(i,a,s){i.cmds.push("M"),i.crds.push(a,s)},e.U.P.lineTo=function(i,a,s){i.cmds.push("L"),i.crds.push(a,s)},e.U.P.curveTo=function(i,a,s,o,u,c,h){i.cmds.push("C"),i.crds.push(a,s,o,u,c,h)},e.U.P.qcurveTo=function(i,a,s,o,u){i.cmds.push("Q"),i.crds.push(a,s,o,u)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,a,s,o,u){for(var c=a.stack,h=a.nStems,p=a.haveWidth,v=a.width,y=a.open,x=0,S=a.x,w=a.y,A=0,T=0,C=0,O=0,R=0,D=0,I=0,F=0,L=0,k=0,V={val:0,size:0};x<i.length;){e.CFF.getCharString(i,x,V);var j=V.val;if(x+=V.size,j=="o1"||j=="o18")c.length%2!=0&&!p&&(v=c.shift()+o.nominalWidthX),h+=c.length>>1,c.length=0,p=!0;else if(j=="o3"||j=="o23")c.length%2!=0&&!p&&(v=c.shift()+o.nominalWidthX),h+=c.length>>1,c.length=0,p=!0;else if(j=="o4")c.length>1&&!p&&(v=c.shift()+o.nominalWidthX,p=!0),y&&e.U.P.closePath(u),w+=c.pop(),e.U.P.moveTo(u,S,w),y=!0;else if(j=="o5")for(;c.length>0;)S+=c.shift(),w+=c.shift(),e.U.P.lineTo(u,S,w);else if(j=="o6"||j=="o7")for(var Y=c.length,re=j=="o6",Q=0;Q<Y;Q++){var W=c.shift();re?S+=W:w+=W,re=!re,e.U.P.lineTo(u,S,w)}else if(j=="o8"||j=="o24"){Y=c.length;for(var X=0;X+6<=Y;)A=S+c.shift(),T=w+c.shift(),C=A+c.shift(),O=T+c.shift(),S=C+c.shift(),w=O+c.shift(),e.U.P.curveTo(u,A,T,C,O,S,w),X+=6;j=="o24"&&(S+=c.shift(),w+=c.shift(),e.U.P.lineTo(u,S,w))}else{if(j=="o11")break;if(j=="o1234"||j=="o1235"||j=="o1236"||j=="o1237")j=="o1234"&&(T=w,C=(A=S+c.shift())+c.shift(),k=O=T+c.shift(),D=O,F=w,S=(I=(R=(L=C+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(u,A,T,C,O,L,k),e.U.P.curveTo(u,R,D,I,F,S,w)),j=="o1235"&&(A=S+c.shift(),T=w+c.shift(),C=A+c.shift(),O=T+c.shift(),L=C+c.shift(),k=O+c.shift(),R=L+c.shift(),D=k+c.shift(),I=R+c.shift(),F=D+c.shift(),S=I+c.shift(),w=F+c.shift(),c.shift(),e.U.P.curveTo(u,A,T,C,O,L,k),e.U.P.curveTo(u,R,D,I,F,S,w)),j=="o1236"&&(A=S+c.shift(),T=w+c.shift(),C=A+c.shift(),k=O=T+c.shift(),D=O,I=(R=(L=C+c.shift())+c.shift())+c.shift(),F=D+c.shift(),S=I+c.shift(),e.U.P.curveTo(u,A,T,C,O,L,k),e.U.P.curveTo(u,R,D,I,F,S,w)),j=="o1237"&&(A=S+c.shift(),T=w+c.shift(),C=A+c.shift(),O=T+c.shift(),L=C+c.shift(),k=O+c.shift(),R=L+c.shift(),D=k+c.shift(),I=R+c.shift(),F=D+c.shift(),Math.abs(I-S)>Math.abs(F-w)?S=I+c.shift():w=F+c.shift(),e.U.P.curveTo(u,A,T,C,O,L,k),e.U.P.curveTo(u,R,D,I,F,S,w));else if(j=="o14"){if(c.length>0&&!p&&(v=c.shift()+s.nominalWidthX,p=!0),c.length==4){var se=c.shift(),J=c.shift(),ae=c.shift(),B=c.shift(),Z=e.CFF.glyphBySE(s,ae),le=e.CFF.glyphBySE(s,B);e.U._drawCFF(s.CharStrings[Z],a,s,o,u),a.x=se,a.y=J,e.U._drawCFF(s.CharStrings[le],a,s,o,u)}y&&(e.U.P.closePath(u),y=!1)}else if(j=="o19"||j=="o20")c.length%2!=0&&!p&&(v=c.shift()+o.nominalWidthX),h+=c.length>>1,c.length=0,p=!0,x+=h+7>>3;else if(j=="o21")c.length>2&&!p&&(v=c.shift()+o.nominalWidthX,p=!0),w+=c.pop(),S+=c.pop(),y&&e.U.P.closePath(u),e.U.P.moveTo(u,S,w),y=!0;else if(j=="o22")c.length>1&&!p&&(v=c.shift()+o.nominalWidthX,p=!0),S+=c.pop(),y&&e.U.P.closePath(u),e.U.P.moveTo(u,S,w),y=!0;else if(j=="o25"){for(;c.length>6;)S+=c.shift(),w+=c.shift(),e.U.P.lineTo(u,S,w);A=S+c.shift(),T=w+c.shift(),C=A+c.shift(),O=T+c.shift(),S=C+c.shift(),w=O+c.shift(),e.U.P.curveTo(u,A,T,C,O,S,w)}else if(j=="o26")for(c.length%2&&(S+=c.shift());c.length>0;)A=S,T=w+c.shift(),S=C=A+c.shift(),w=(O=T+c.shift())+c.shift(),e.U.P.curveTo(u,A,T,C,O,S,w);else if(j=="o27")for(c.length%2&&(w+=c.shift());c.length>0;)T=w,C=(A=S+c.shift())+c.shift(),O=T+c.shift(),S=C+c.shift(),w=O,e.U.P.curveTo(u,A,T,C,O,S,w);else if(j=="o10"||j=="o29"){var he=j=="o10"?o:s;if(c.length==0)console.debug("error: empty stack");else{var ve=c.pop(),ue=he.Subrs[ve+he.Bias];a.x=S,a.y=w,a.nStems=h,a.haveWidth=p,a.width=v,a.open=y,e.U._drawCFF(ue,a,s,o,u),S=a.x,w=a.y,h=a.nStems,p=a.haveWidth,v=a.width,y=a.open}}else if(j=="o30"||j=="o31"){var ce=c.length,Se=(X=0,j=="o31");for(X+=ce-(Y=-3&ce);X<Y;)Se?(T=w,C=(A=S+c.shift())+c.shift(),w=(O=T+c.shift())+c.shift(),Y-X==5?(S=C+c.shift(),X++):S=C,Se=!1):(A=S,T=w+c.shift(),C=A+c.shift(),O=T+c.shift(),S=C+c.shift(),Y-X==5?(w=O+c.shift(),X++):w=O,Se=!0),e.U.P.curveTo(u,A,T,C,O,S,w),X+=4}else{if((j+"").charAt(0)=="o")throw console.debug("Unknown operation: "+j,i),j;c.push(j)}}}a.x=S,a.y=w,a.nStems=h,a.haveWidth=p,a.width=v,a.open=y};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n})({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woe(){return(function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(j,Y){for(var re=new t(31),Q=0;Q<31;++Q)re[Q]=Y+=1<<j[Q-1];var W=new r(re[30]);for(Q=1;Q<30;++Q)for(var X=re[Q];X<re[Q+1];++X)W[X]=X-re[Q]<<5|Q;return[re,W]},u=o(i,2),c=u[0],h=u[1];c[28]=258,h[258]=28;for(var p=o(a,0)[0],v=new t(32768),y=0;y<32768;++y){var x=(43690&y)>>>1|(21845&y)<<1;x=(61680&(x=(52428&x)>>>2|(13107&x)<<2))>>>4|(3855&x)<<4,v[y]=((65280&x)>>>8|(255&x)<<8)>>>1}var S=function(j,Y,re){for(var Q=j.length,W=0,X=new t(Y);W<Q;++W)++X[j[W]-1];var se,J=new t(Y);for(W=0;W<Y;++W)J[W]=J[W-1]+X[W-1]<<1;{se=new t(1<<Y);var ae=15-Y;for(W=0;W<Q;++W)if(j[W])for(var B=W<<4|j[W],Z=Y-j[W],le=J[j[W]-1]++<<Z,he=le|(1<<Z)-1;le<=he;++le)se[v[le]>>>ae]=B}return se},w=new e(288);for(y=0;y<144;++y)w[y]=8;for(y=144;y<256;++y)w[y]=9;for(y=256;y<280;++y)w[y]=7;for(y=280;y<288;++y)w[y]=8;var A=new e(32);for(y=0;y<32;++y)A[y]=5;var T=S(w,9),C=S(A,5),O=function(j){for(var Y=j[0],re=1;re<j.length;++re)j[re]>Y&&(Y=j[re]);return Y},R=function(j,Y,re){var Q=Y/8|0;return(j[Q]|j[Q+1]<<8)>>(7&Y)&re},D=function(j,Y){var re=Y/8|0;return(j[re]|j[re+1]<<8|j[re+2]<<16)>>(7&Y)},I=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],F=function(j,Y,re){var Q=new Error(Y||I[j]);if(Q.code=j,Error.captureStackTrace&&Error.captureStackTrace(Q,F),!re)throw Q;return Q},L=function(j,Y,re){var Q=j.length;if(!Q||re&&!re.l&&Q<5)return Y||new e(0);var W=!Y||re,X=!re||re.i;re||(re={}),Y||(Y=new e(3*Q));var se,J=function(nt){var fe=Y.length;if(nt>fe){var Te=new e(Math.max(2*fe,nt));Te.set(Y),Y=Te}},ae=re.f||0,B=re.p||0,Z=re.b||0,le=re.l,he=re.d,ve=re.m,ue=re.n,ce=8*Q;do{if(!le){re.f=ae=R(j,B,1);var Se=R(j,B+1,3);if(B+=3,!Se){var me=j[(Ze=((se=B)/8|0)+(7&se&&1)+4)-4]|j[Ze-3]<<8,Ne=Ze+me;if(Ne>Q){X&&F(0);break}W&&J(Z+me),Y.set(j.subarray(Ze,Ne),Z),re.b=Z+=me,re.p=B=8*Ne;continue}if(Se==1)le=T,he=C,ve=9,ue=5;else if(Se==2){var Be=R(j,B,31)+257,ye=R(j,B+10,15)+4,ut=Be+R(j,B+5,31)+1;B+=14;for(var _e=new e(ut),Le=new e(19),Ce=0;Ce<ye;++Ce)Le[s[Ce]]=R(j,B+3*Ce,7);B+=3*ye;var tt=O(Le),ne=(1<<tt)-1,ft=S(Le,tt);for(Ce=0;Ce<ut;){var Ze,De=ft[R(j,B,ne)];if(B+=15&De,(Ze=De>>>4)<16)_e[Ce++]=Ze;else{var qe=0,$=0;for(Ze==16?($=3+R(j,B,3),B+=2,qe=_e[Ce-1]):Ze==17?($=3+R(j,B,7),B+=3):Ze==18&&($=11+R(j,B,127),B+=7);$--;)_e[Ce++]=qe}}var H=_e.subarray(0,Be),de=_e.subarray(Be);ve=O(H),ue=O(de),le=S(H,ve),he=S(de,ue)}else F(1);if(B>ce){X&&F(0);break}}W&&J(Z+131072);for(var Ue=(1<<ve)-1,Pe=(1<<ue)-1,Ee=B;;Ee=B){var ct=(qe=le[D(j,B)&Ue])>>>4;if((B+=15&qe)>ce){X&&F(0);break}if(qe||F(2),ct<256)Y[Z++]=ct;else{if(ct==256){Ee=B,le=null;break}var ot=ct-254;if(ct>264){var bt=i[Ce=ct-257];ot=R(j,B,(1<<bt)-1)+c[Ce],B+=bt}var Mt=he[D(j,B)&Pe],Xe=Mt>>>4;if(Mt||F(3),B+=15&Mt,de=p[Xe],Xe>3&&(bt=a[Xe],de+=D(j,B)&(1<<bt)-1,B+=bt),B>ce){X&&F(0);break}W&&J(Z+131072);for(var Qe=Z+ot;Z<Qe;Z+=4)Y[Z]=Y[Z-de],Y[Z+1]=Y[Z+1-de],Y[Z+2]=Y[Z+2-de],Y[Z+3]=Y[Z+3-de];Z=Qe}}re.l=le,re.p=Ee,re.b=Z,le&&(ae=1,re.m=ve,re.d=he,re.n=ue)}while(!ae);return Z==Y.length?Y:(function(nt,fe,Te){(Te==null||Te>nt.length)&&(Te=nt.length);var vt=new(nt instanceof t?t:nt instanceof r?r:e)(Te-fe);return vt.set(nt.subarray(fe,Te)),vt})(Y,0,Z)},k=new e(0),V=typeof TextDecoder<"u"&&new TextDecoder;try{V.decode(k,{stream:!0})}catch{}return n.convert_streams=function(j){var Y=new DataView(j),re=0;function Q(){var Be=Y.getUint16(re);return re+=2,Be}function W(){var Be=Y.getUint32(re);return re+=4,Be}function X(Be){me.setUint16(Ne,Be),Ne+=2}function se(Be){me.setUint32(Ne,Be),Ne+=4}for(var J={signature:W(),flavor:W(),length:W(),numTables:Q(),reserved:Q(),totalSfntSize:W(),majorVersion:Q(),minorVersion:Q(),metaOffset:W(),metaLength:W(),metaOrigLength:W(),privOffset:W(),privLength:W()},ae=0;Math.pow(2,ae)<=J.numTables;)ae++;ae--;for(var B=16*Math.pow(2,ae),Z=16*J.numTables-B,le=12,he=[],ve=0;ve<J.numTables;ve++)he.push({tag:W(),offset:W(),compLength:W(),origLength:W(),origChecksum:W()}),le+=16;var ue,ce=new Uint8Array(12+16*he.length+he.reduce((function(Be,ye){return Be+ye.origLength+4}),0)),Se=ce.buffer,me=new DataView(Se),Ne=0;return se(J.flavor),X(J.numTables),X(B),X(ae),X(Z),he.forEach((function(Be){se(Be.tag),se(Be.origChecksum),se(le),se(Be.origLength),Be.outOffset=le,(le+=Be.origLength)%4!=0&&(le+=4-le%4)})),he.forEach((function(Be){var ye,ut=j.slice(Be.offset,Be.offset+Be.compLength);if(Be.compLength!=Be.origLength){var _e=new Uint8Array(Be.origLength);ye=new Uint8Array(ut,2),L(ye,_e)}else _e=new Uint8Array(ut);ce.set(_e,Be.outOffset);var Le=0;(le=Be.outOffset+Be.origLength)%4!=0&&(Le=4-le%4),ce.set(new Uint8Array(Le).buffer,Be.outOffset+Be.origLength),ue=le+Le})),Se.slice(0,ue)},Object.defineProperty(n,"__esModule",{value:!0}),n})({}).convert_streams}function Soe(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,s=4,o=8,u=16,c=32;let h;function p(I){if(!h){const F={R:a,L:i,D:s,C:u,U:c,T:o};h=new Map;for(let L in r){let k=0;r[L].split(",").forEach(V=>{let[j,Y]=V.split("+");j=parseInt(j,36),Y=Y?parseInt(Y,36):0,h.set(k+=j,F[L]);for(let re=Y;re--;)h.set(++k,F[L])})}}return h.get(I)||c}const v=1,y=2,x=3,S=4,w=[null,"isol","init","fina","medi"];function A(I){const F=new Uint8Array(I.length);let L=c,k=v,V=-1;for(let j=0;j<I.length;j++){const Y=I.codePointAt(j);let re=p(Y)|0,Q=v;re&o||(L&(i|s|u)?re&(a|s|u)?(Q=x,(k===v||k===x)&&F[V]++):re&(i|c)&&(k===y||k===S)&&F[V]--:L&(a|c)&&(k===y||k===S)&&F[V]--,k=F[j]=Q,L=re,V=j,Y>65535&&j++)}return F}function T(I,F){const L=[];for(let V=0;V<F.length;V++){const j=F.codePointAt(V);j>65535&&V++,L.push(n.U.codeToGlyph(I,j))}const k=I.GSUB;if(k){const{lookupList:V,featureList:j}=k;let Y;const re=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,Q=[];j.forEach(W=>{if(re.test(W.tag))for(let X=0;X<W.tab.length;X++){if(Q[W.tab[X]])continue;Q[W.tab[X]]=!0;const se=V[W.tab[X]],J=/^(isol|init|fina|medi)$/.test(W.tag);J&&!Y&&(Y=A(F));for(let ae=0;ae<L.length;ae++)(!Y||!J||w[Y[ae]]===W.tag)&&n.U._applySubs(L,ae,se,V)}})}return L}function C(I,F){const L=new Int16Array(F.length*3);let k=0;for(;k<F.length;k++){const re=F[k];if(re===-1)continue;L[k*3+2]=I.hmtx.aWidth[re];const Q=I.GPOS;if(Q){const W=Q.lookupList;for(let X=0;X<W.length;X++){const se=W[X];for(let J=0;J<se.tabs.length;J++){const ae=se.tabs[J];if(se.ltype===1){if(n._lctf.coverageIndex(ae.coverage,re)!==-1&&ae.pos){Y(ae.pos,k);break}}else if(se.ltype===2){let B=null,Z=V();if(Z!==-1){const le=n._lctf.coverageIndex(ae.coverage,F[Z]);if(le!==-1){if(ae.fmt===1){const he=ae.pairsets[le];for(let ve=0;ve<he.length;ve++)he[ve].gid2===re&&(B=he[ve])}else if(ae.fmt===2){const he=n.U._getGlyphClass(F[Z],ae.classDef1),ve=n.U._getGlyphClass(re,ae.classDef2);B=ae.matrix[he][ve]}if(B){B.val1&&Y(B.val1,Z),B.val2&&Y(B.val2,k);break}}}}else if(se.ltype===4){const B=n._lctf.coverageIndex(ae.markCoverage,re);if(B!==-1){const Z=V(j),le=Z===-1?-1:n._lctf.coverageIndex(ae.baseCoverage,F[Z]);if(le!==-1){const he=ae.markArray[B],ve=ae.baseArray[le][he.markClass];L[k*3]=ve.x-he.x+L[Z*3]-L[Z*3+2],L[k*3+1]=ve.y-he.y+L[Z*3+1];break}}}else if(se.ltype===6){const B=n._lctf.coverageIndex(ae.mark1Coverage,re);if(B!==-1){const Z=V();if(Z!==-1){const le=F[Z];if(O(I,le)===3){const he=n._lctf.coverageIndex(ae.mark2Coverage,le);if(he!==-1){const ve=ae.mark1Array[B],ue=ae.mark2Array[he][ve.markClass];L[k*3]=ue.x-ve.x+L[Z*3]-L[Z*3+2],L[k*3+1]=ue.y-ve.y+L[Z*3+1];break}}}}}}}}else if(I.kern&&!I.cff){const W=V();if(W!==-1){const X=I.kern.glyph1.indexOf(F[W]);if(X!==-1){const se=I.kern.rval[X].glyph2.indexOf(re);se!==-1&&(L[W*3+2]+=I.kern.rval[X].vals[se])}}}}return L;function V(re){for(let Q=k-1;Q>=0;Q--)if(F[Q]!==-1&&(!re||re(F[Q])))return Q;return-1}function j(re){return O(I,re)===1}function Y(re,Q){for(let W=0;W<3;W++)L[Q*3+W]+=re[W]||0}}function O(I,F){const L=I.GDEF&&I.GDEF.glyphClassDef;return L?n.U._getGlyphClass(F,L):0}function R(...I){for(let F=0;F<I.length;F++)if(typeof I[F]=="number")return I[F]}function D(I){const F=Object.create(null),L=I["OS/2"],k=I.hhea,V=I.head.unitsPerEm,j=R(L&&L.sTypoAscender,k&&k.ascender,V),Y={unitsPerEm:V,ascender:j,descender:R(L&&L.sTypoDescender,k&&k.descender,0),capHeight:R(L&&L.sCapHeight,j),xHeight:R(L&&L.sxHeight,j),lineGap:R(L&&L.sTypoLineGap,k&&k.lineGap),supportsCodePoint(re){return n.U.codeToGlyph(I,re)>0},forEachGlyph(re,Q,W,X){let se=0;const J=1/Y.unitsPerEm*Q,ae=T(I,re);let B=0;const Z=C(I,ae);return ae.forEach((le,he)=>{if(le!==-1){let ve=F[le];if(!ve){const{cmds:ue,crds:ce}=n.U.glyphToPath(I,le);let Se="",me=0;for(let _e=0,Le=ue.length;_e<Le;_e++){const Ce=t[ue[_e]];Se+=ue[_e];for(let tt=1;tt<=Ce;tt++)Se+=(tt>1?",":"")+ce[me++]}let Ne,Be,ye,ut;if(ce.length){Ne=Be=1/0,ye=ut=-1/0;for(let _e=0,Le=ce.length;_e<Le;_e+=2){let Ce=ce[_e],tt=ce[_e+1];Ce<Ne&&(Ne=Ce),tt<Be&&(Be=tt),Ce>ye&&(ye=Ce),tt>ut&&(ut=tt)}}else Ne=ye=Be=ut=0;ve=F[le]={index:le,advanceWidth:I.hmtx.aWidth[le],xMin:Ne,yMin:Be,xMax:ye,yMax:ut,path:Se}}X.call(null,ve,se+Z[he*3]*J,Z[he*3+1]*J,B),se+=Z[he*3+2]*J,W&&(se+=W*Q)}B+=re.codePointAt(B)>65535?2:1}),se}};return Y}return function(F){const L=new Uint8Array(F,0,4),k=n._bin.readASCII(L,0,4);if(k==="wOFF")F=e(F);else if(k==="wOF2")throw new Error("woff2 fonts not supported");return D(n.parse(F)[0])}}const Aoe=rx({name:"Typr Font Parser",dependencies:[_oe,woe,Soe],init(n,e,t){const r=n(),i=e();return t(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Eoe(){return(function(n){var e=function(){this.buckets=new Map};e.prototype.add=function(C){var O=C>>5;this.buckets.set(O,(this.buckets.get(O)||0)|1<<(31&C))},e.prototype.has=function(C){var O=this.buckets.get(C>>5);return O!==void 0&&(O&1<<(31&C))!=0},e.prototype.serialize=function(){var C=[];return this.buckets.forEach((function(O,R){C.push((+R).toString(36)+":"+O.toString(36))})),C.join(",")},e.prototype.deserialize=function(C){var O=this;this.buckets.clear(),C.split(",").forEach((function(R){var D=R.split(":");O.buckets.set(parseInt(D[0],36),parseInt(D[1],36))}))};var t=Math.pow(2,8),r=t-1,i=~r;function a(C){var O=(function(D){return D&i})(C).toString(16),R=(function(D){return(D&i)+t-1})(C).toString(16);return"codepoint-index/plane"+(C>>16)+"/"+O+"-"+R+".json"}function s(C,O){var R=C&r,D=O.codePointAt(R/6|0);return((D=(D||48)-48)&1<<R%6)!=0}function o(C,O){var R;(R=C,R.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(D){return D.split("-").map((function(I){return parseInt(I.trim(),16)}))}))).forEach((function(D){var I=D[0],F=D[1];F===void 0&&(F=I),O(I,F)}))}function u(C,O){o(C,(function(R,D){for(var I=R;I<=D;I++)O(I)}))}var c={},h={},p=new WeakMap,v="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function y(C){var O=p.get(C);return O||(O=new e,u(C.ranges,(function(R){return O.add(R)})),p.set(C,O)),O}var x,S=new Map;function w(C,O,R){return C[O]?O:C[R]?R:(function(D){for(var I in D)return I})(C)}function A(C,O){var R=O;if(!C.includes(R)){R=1/0;for(var D=0;D<C.length;D++)Math.abs(C[D]-O)<Math.abs(R-O)&&(R=C[D])}return R}function T(C){return x||(x=new Set,u("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(O){x.add(O)}))),x.has(C)}return n.CodePointSet=e,n.clearCache=function(){c={},h={}},n.getFontsForString=function(C,O){O===void 0&&(O={});var R,D=O.lang;D===void 0&&(D=new RegExp("\\p{Script=Hangul}","u").test(R=C)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(R)?"ja":"en");var I=O.category;I===void 0&&(I="sans-serif");var F=O.style;F===void 0&&(F="normal");var L=O.weight;L===void 0&&(L=400);var k=(O.dataUrl||v).replace(/\/$/g,""),V=new Map,j=new Uint8Array(C.length),Y={},re={},Q=new Array(C.length),W=new Map,X=!1;function se(B){var Z=S.get(B);return Z||(Z=fetch(k+"/"+B).then((function(le){if(!le.ok)throw new Error(le.statusText);return le.json().then((function(he){if(!Array.isArray(he)||he[0]!==1)throw new Error("Incorrect schema version; need 1, got "+he[0]);return he[1]}))})).catch((function(le){if(k!==v)return X||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+k+'", trying default CDN. '+le.message),X=!0),k=v,S.delete(B),se(B);throw le})),S.set(B,Z)),Z}for(var J=function(B){var Z=C.codePointAt(B),le=a(Z);Q[B]=le,c[le]||W.has(le)||W.set(le,se(le).then((function(he){c[le]=he}))),Z>65535&&(B++,ae=B)},ae=0;ae<C.length;ae++)J(ae);return Promise.all(W.values()).then((function(){W.clear();for(var B=function(le){var he=C.codePointAt(le),ve=null,ue=c[Q[le]],ce=void 0;for(var Se in ue){var me=re[Se];if(me===void 0&&(me=re[Se]=new RegExp(Se).test(D||"en")),me){for(var Ne in ce=Se,ue[Se])if(s(he,ue[Se][Ne])){ve=Ne;break}break}}if(!ve){e:for(var Be in ue)if(Be!==ce){for(var ye in ue[Be])if(s(he,ue[Be][ye])){ve=ye;break e}}}ve||(console.debug("No font coverage for U+"+he.toString(16)),ve="latin"),Q[le]=ve,h[ve]||W.has(ve)||W.set(ve,se("font-meta/"+ve+".json").then((function(ut){h[ve]=ut}))),he>65535&&(le++,Z=le)},Z=0;Z<C.length;Z++)B(Z);return Promise.all(W.values())})).then((function(){for(var B,Z=null,le=0;le<C.length;le++){var he=C.codePointAt(le);if(Z&&(T(he)||y(Z).has(he)))j[le]=j[le-1];else{Z=h[Q[le]];var ve=Y[Z.id];if(!ve){var ue=Z.typeforms,ce=w(ue,I,"sans-serif"),Se=w(ue[ce],F,"normal"),me=A((B=ue[ce])===null||B===void 0?void 0:B[Se],L);ve=Y[Z.id]=k+"/font-files/"+Z.id+"/"+ce+"."+Se+"."+me+".woff"}var Ne=V.get(ve);Ne==null&&(Ne=V.size,V.set(ve,Ne)),j[le]=Ne}he>65535&&(le++,j[le]=j[le-1])}return{fontUrls:Array.from(V.keys()),chars:j}}))},Object.defineProperty(n,"__esModule",{value:!0}),n})({})}function Moe(n,e){const t=Object.create(null),r=Object.create(null);function i(s,o){const u=c=>{console.error(`Failure loading font ${s}`,c)};try{const c=new XMLHttpRequest;c.open("get",s,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)u(new Error(c.statusText));else if(c.status>0)try{const h=n(c.response);h.src=s,o(h)}catch(h){u(h)}},c.onerror=u,c.send()}catch(c){u(c)}}function a(s,o){let u=t[s];u?o(u):r[s]?r[s].push(o):(r[s]=[o],i(s,c=>{c.src=s,t[s]=c,r[s].forEach(h=>h(c)),delete r[s]}))}return function(s,o,{lang:u,fonts:c=[],style:h="normal",weight:p="normal",unicodeFontsURL:v}={}){const y=new Uint8Array(s.length),x=[];s.length||T();const S=new Map,w=[];if(h!=="italic"&&(h="normal"),typeof p!="number"&&(p=p==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(O=>!O.lang||O.lang.test(u)).reverse(),c.length){let I=0;(function F(L=0){for(let k=L,V=s.length;k<V;k++){const j=s.codePointAt(k);if(I===1&&x[y[k-1]].supportsCodePoint(j)||k>0&&/\s/.test(s[k]))y[k]=y[k-1],I===2&&(w[w.length-1][1]=k);else for(let Y=y[k],re=c.length;Y<=re;Y++)if(Y===re){const Q=I===2?w[w.length-1]:w[w.length]=[k,k];Q[1]=k,I=2}else{y[k]=Y;const{src:Q,unicodeRange:W}=c[Y];if(!W||C(j,W)){const X=t[Q];if(!X){a(Q,()=>{F(k)});return}if(X.supportsCodePoint(j)){let se=S.get(X);typeof se!="number"&&(se=x.length,x.push(X),S.set(X,se)),y[k]=se,I=1;break}}}j>65535&&k+1<V&&(y[k+1]=y[k],k++,I===2&&(w[w.length-1][1]=k))}A()})()}else w.push([0,s.length-1]),A();function A(){if(w.length){const O=w.map(R=>s.substring(R[0],R[1]+1)).join(`
`);e.getFontsForString(O,{lang:u||void 0,style:h,weight:p,dataUrl:v}).then(({fontUrls:R,chars:D})=>{const I=x.length;let F=0;w.forEach(k=>{for(let V=0,j=k[1]-k[0];V<=j;V++)y[k[0]+V]=D[F++]+I;F++});let L=0;R.forEach((k,V)=>{a(k,j=>{x[V+I]=j,++L===R.length&&T()})})})}else T()}function T(){o({chars:y,fonts:x})}function C(O,R){for(let D=0;D<R.length;D++){const[I,F=I]=R[D];if(I<=O&&O<=F)return!0}return!1}}}const Toe=rx({name:"FontResolver",dependencies:[Moe,Aoe,Eoe],init(n,e,t){return n(e,t())}});function Coe(n,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:x,lang:S,fonts:w,style:A,weight:T,preResolvedFonts:C,unicodeFontsURL:O},R){const D=({chars:I,fonts:F})=>{let L,k;const V=[];for(let j=0;j<I.length;j++)I[j]!==k?(k=I[j],V.push(L={start:j,end:j,fontObj:F[I[j]]})):L.end=j;R(V)};C?D(C):n(x,D,{lang:S,fonts:w,style:A,weight:T,unicodeFontsURL:O})}function o({text:x="",font:S,lang:w,sdfGlyphSize:A=64,fontSize:T=400,fontWeight:C=1,fontStyle:O="normal",letterSpacing:R=0,lineHeight:D="normal",maxWidth:I=1/0,direction:F,textAlign:L="left",textIndent:k=0,whiteSpace:V="normal",overflowWrap:j="normal",anchorX:Y=0,anchorY:re=0,metricsOnly:Q=!1,unicodeFontsURL:W,preResolvedFonts:X=null,includeCaretPositions:se=!1,chunkedBoundsSize:J=8192,colorRanges:ae=null},B){const Z=p(),le={fontLoad:0,typesetting:0};x.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),x=x.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),T=+T,R=+R,I=+I,D=D||"normal",k=+k,s({text:x,lang:w,style:O,weight:C,fonts:typeof S=="string"?[{src:S}]:S,unicodeFontsURL:W,preResolvedFonts:X},he=>{le.fontLoad=p()-Z;const ve=isFinite(I);let ue=null,ce=null,Se=null,me=null,Ne=null,Be=null,ye=null,ut=null,_e=0,Le=0,Ce=V!=="nowrap";const tt=new Map,ne=p();let ft=k,Ze=0,De=new v;const qe=[De];he.forEach(Pe=>{const{fontObj:Ee}=Pe,{ascender:ct,descender:ot,unitsPerEm:bt,lineGap:Mt,capHeight:Xe,xHeight:Qe}=Ee;let nt=tt.get(Ee);if(!nt){const Ye=T/bt,rt=D==="normal"?(ct-ot+Mt)*Ye:D*T,wt=(rt-(ct-ot)*Ye)/2,it=Math.min(rt,(ct-ot)*Ye),Ge=(ct+ot)/2*Ye+it/2;nt={index:tt.size,src:Ee.src,fontObj:Ee,fontSizeMult:Ye,unitsPerEm:bt,ascender:ct*Ye,descender:ot*Ye,capHeight:Xe*Ye,xHeight:Qe*Ye,lineHeight:rt,baseline:-wt-ct*Ye,caretTop:Ge,caretBottom:Ge-it},tt.set(Ee,nt)}const{fontSizeMult:fe}=nt,Te=x.slice(Pe.start,Pe.end+1);let vt,ge;Ee.forEachGlyph(Te,T,R,(Ye,rt,wt,it)=>{rt+=Ze,it+=Pe.start,vt=rt,ge=Ye;const Ge=x.charAt(it),ht=Ye.advanceWidth*fe,Ct=De.count;let Tt;if("isEmpty"in Ye||(Ye.isWhitespace=!!Ge&&new RegExp(i).test(Ge),Ye.canBreakAfter=!!Ge&&a.test(Ge),Ye.isEmpty=Ye.xMin===Ye.xMax||Ye.yMin===Ye.yMax||r.test(Ge)),!Ye.isWhitespace&&!Ye.isEmpty&&Le++,Ce&&ve&&!Ye.isWhitespace&&rt+ht+ft>I&&Ct){if(De.glyphAt(Ct-1).glyphObj.canBreakAfter)Tt=new v,ft=-rt;else for(let Mn=Ct;Mn--;)if(Mn===0&&j==="break-word"){Tt=new v,ft=-rt;break}else if(De.glyphAt(Mn).glyphObj.canBreakAfter){Tt=De.splitAt(Mn+1);const kn=Tt.glyphAt(0).x;ft-=kn;for(let pr=Tt.count;pr--;)Tt.glyphAt(pr).x-=kn;break}Tt&&(De.isSoftWrapped=!0,De=Tt,qe.push(De),_e=I)}let Gt=De.glyphAt(De.count);Gt.glyphObj=Ye,Gt.x=rt+ft,Gt.y=wt,Gt.width=ht,Gt.charIndex=it,Gt.fontData=nt,Ge===`
`&&(De=new v,qe.push(De),ft=-(rt+ht+R*T)+k)}),Ze=vt+ge.advanceWidth*fe+R*T});let $=0;qe.forEach(Pe=>{let Ee=!0;for(let ct=Pe.count;ct--;){const ot=Pe.glyphAt(ct);Ee&&!ot.glyphObj.isWhitespace&&(Pe.width=ot.x+ot.width,Pe.width>_e&&(_e=Pe.width),Ee=!1);let{lineHeight:bt,capHeight:Mt,xHeight:Xe,baseline:Qe}=ot.fontData;bt>Pe.lineHeight&&(Pe.lineHeight=bt);const nt=Qe-Pe.baseline;nt<0&&(Pe.baseline+=nt,Pe.cap+=nt,Pe.ex+=nt),Pe.cap=Math.max(Pe.cap,Pe.baseline+Mt),Pe.ex=Math.max(Pe.ex,Pe.baseline+Xe)}Pe.baseline-=$,Pe.cap-=$,Pe.ex-=$,$+=Pe.lineHeight});let H=0,de=0;if(Y&&(typeof Y=="number"?H=-Y:typeof Y=="string"&&(H=-_e*(Y==="left"?0:Y==="center"?.5:Y==="right"?1:c(Y)))),re&&(typeof re=="number"?de=-re:typeof re=="string"&&(de=re==="top"?0:re==="top-baseline"?-qe[0].baseline:re==="top-cap"?-qe[0].cap:re==="top-ex"?-qe[0].ex:re==="middle"?$/2:re==="bottom"?$:re==="bottom-baseline"?-qe[qe.length-1].baseline:c(re)*$)),!Q){const Pe=e.getEmbeddingLevels(x,F);ue=new Uint16Array(Le),ce=new Uint8Array(Le),Se=new Float32Array(Le*2),me={},ye=[1/0,1/0,-1/0,-1/0],ut=[],se&&(Be=new Float32Array(x.length*4)),ae&&(Ne=new Uint8Array(Le*3));let Ee=0,ct=-1,ot=-1,bt,Mt;if(qe.forEach((Xe,Qe)=>{let{count:nt,width:fe}=Xe;if(nt>0){let Te=0;for(let it=nt;it--&&Xe.glyphAt(it).glyphObj.isWhitespace;)Te++;let vt=0,ge=0;if(L==="center")vt=(_e-fe)/2;else if(L==="right")vt=_e-fe;else if(L==="justify"&&Xe.isSoftWrapped){let it=0;for(let Ge=nt-Te;Ge--;)Xe.glyphAt(Ge).glyphObj.isWhitespace&&it++;ge=(_e-fe)/it}if(ge||vt){let it=0;for(let Ge=0;Ge<nt;Ge++){let ht=Xe.glyphAt(Ge);const Ct=ht.glyphObj;ht.x+=vt+it,ge!==0&&Ct.isWhitespace&&Ge<nt-Te&&(it+=ge,ht.width+=ge)}}const Ye=e.getReorderSegments(x,Pe,Xe.glyphAt(0).charIndex,Xe.glyphAt(Xe.count-1).charIndex);for(let it=0;it<Ye.length;it++){const[Ge,ht]=Ye[it];let Ct=1/0,Tt=-1/0;for(let Gt=0;Gt<nt;Gt++)if(Xe.glyphAt(Gt).charIndex>=Ge){let Mn=Gt,kn=Gt;for(;kn<nt;kn++){let pr=Xe.glyphAt(kn);if(pr.charIndex>ht)break;kn<nt-Te&&(Ct=Math.min(Ct,pr.x),Tt=Math.max(Tt,pr.x+pr.width))}for(let pr=Mn;pr<kn;pr++){const wi=Xe.glyphAt(pr);wi.x=Tt-(wi.x+wi.width-Ct)}break}}let rt;const wt=it=>rt=it;for(let it=0;it<nt;it++){const Ge=Xe.glyphAt(it);rt=Ge.glyphObj;const ht=rt.index,Ct=Pe.levels[Ge.charIndex]&1;if(Ct){const Tt=e.getMirroredCharacter(x[Ge.charIndex]);Tt&&Ge.fontData.fontObj.forEachGlyph(Tt,0,0,wt)}if(se){const{charIndex:Tt,fontData:Gt}=Ge,Mn=Ge.x+H,kn=Ge.x+Ge.width+H;Be[Tt*4]=Ct?kn:Mn,Be[Tt*4+1]=Ct?Mn:kn,Be[Tt*4+2]=Xe.baseline+Gt.caretBottom+de,Be[Tt*4+3]=Xe.baseline+Gt.caretTop+de;const pr=Tt-ct;pr>1&&h(Be,ct,pr),ct=Tt}if(ae){const{charIndex:Tt}=Ge;for(;Tt>ot;)ot++,ae.hasOwnProperty(ot)&&(Mt=ae[ot])}if(!rt.isWhitespace&&!rt.isEmpty){const Tt=Ee++,{fontSizeMult:Gt,src:Mn,index:kn}=Ge.fontData,pr=me[Mn]||(me[Mn]={});pr[ht]||(pr[ht]={path:rt.path,pathBounds:[rt.xMin,rt.yMin,rt.xMax,rt.yMax]});const wi=Ge.x+H,xa=Ge.y+Xe.baseline+de;Se[Tt*2]=wi,Se[Tt*2+1]=xa;const ji=wi+rt.xMin*Gt,Wi=xa+rt.yMin*Gt,Fa=wi+rt.xMax*Gt,_r=xa+rt.yMax*Gt;ji<ye[0]&&(ye[0]=ji),Wi<ye[1]&&(ye[1]=Wi),Fa>ye[2]&&(ye[2]=Fa),_r>ye[3]&&(ye[3]=_r),Tt%J===0&&(bt={start:Tt,end:Tt,rect:[1/0,1/0,-1/0,-1/0]},ut.push(bt)),bt.end++;const ur=bt.rect;if(ji<ur[0]&&(ur[0]=ji),Wi<ur[1]&&(ur[1]=Wi),Fa>ur[2]&&(ur[2]=Fa),_r>ur[3]&&(ur[3]=_r),ue[Tt]=ht,ce[Tt]=kn,ae){const tr=Tt*3;Ne[tr]=Mt>>16&255,Ne[tr+1]=Mt>>8&255,Ne[tr+2]=Mt&255}}}}}),Be){const Xe=x.length-ct;Xe>1&&h(Be,ct,Xe)}}const Ue=[];tt.forEach(({index:Pe,src:Ee,unitsPerEm:ct,ascender:ot,descender:bt,lineHeight:Mt,capHeight:Xe,xHeight:Qe})=>{Ue[Pe]={src:Ee,unitsPerEm:ct,ascender:ot,descender:bt,lineHeight:Mt,capHeight:Xe,xHeight:Qe}}),le.typesetting=p()-ne,B({glyphIds:ue,glyphFontIndices:ce,glyphPositions:Se,glyphData:me,fontData:Ue,caretPositions:Be,glyphColors:Ne,chunkedBounds:ut,fontSize:T,topBaseline:de+qe[0].baseline,blockBounds:[H,de-$,H+_e,de],visibleBounds:ye,timings:le})})}function u(x,S){o({...x,metricsOnly:!0},w=>{const[A,T,C,O]=w.blockBounds;S({width:C-A,height:O-T})})}function c(x){let S=x.match(/^([\d.]+)%$/),w=S?parseFloat(S[1]):NaN;return isNaN(w)?0:w/100}function h(x,S,w){const A=x[S*4],T=x[S*4+1],C=x[S*4+2],O=x[S*4+3],R=(T-A)/w;for(let D=0;D<w;D++){const I=(S+D)*4;x[I]=A+R*D,x[I+1]=A+R*(D+1),x[I+2]=C,x[I+3]=O}}function p(){return(self.performance||Date).now()}function v(){this.data=[]}const y=["glyphObj","x","y","width","charIndex","fontData"];return v.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(x){let S=v.flyweight;return S.data=this.data,S.index=x,S},splitAt(x){let S=new v;return S.data=this.data.splice(x*y.length),S}},v.flyweight=y.reduce((x,S,w,A)=>(Object.defineProperty(x,S,{get(){return this.data[this.index*y.length+w]},set(T){this.data[this.index*y.length+w]=T}}),x),{data:null,index:0}),{typeset:o,measure:u}}const o0=()=>(self.performance||Date).now(),X3=s9();let kF;function Poe(n,e,t,r,i,a,s,o,u,c,h=!0){return h?Roe(n,e,t,r,i,a,s,o,u,c).then(null,p=>(kF||(console.warn("WebGL SDF generation failed, falling back to JS",p),kF=!0),FF(n,e,t,r,i,a,s,o,u,c))):FF(n,e,t,r,i,a,s,o,u,c)}const RM=[],Ooe=5;let uI=0;function l9(){const n=o0();for(;RM.length&&o0()-n<Ooe;)RM.shift()();uI=RM.length?setTimeout(l9,0):0}const Roe=(...n)=>new Promise((e,t)=>{RM.push(()=>{const r=o0();try{X3.webgl.generateIntoCanvas(...n),e({timing:o0()-r})}catch(i){t(i)}}),uI||(uI=setTimeout(l9,0))}),Noe=4,Doe=2e3,BF={};let Ioe=0;function FF(n,e,t,r,i,a,s,o,u,c){const h="TroikaTextSDFGenerator_JS_"+Ioe++%Noe;let p=BF[h];return p||(p=BF[h]={workerModule:rx({name:h,workerId:h,dependencies:[s9,o0],init(v,y){const x=v().javascript.generate;return function(...S){const w=y();return{textureData:x(...S),timing:y()-w}}},getTransferables(v){return[v.textureData.buffer]}}),requests:0,idleTimer:null}),p.requests++,clearTimeout(p.idleTimer),p.workerModule(n,e,t,r,i,a).then(({textureData:v,timing:y})=>{const x=o0(),S=new Uint8Array(v.length*4);for(let w=0;w<v.length;w++)S[w*4+c]=v[w];return X3.webglUtils.renderImageData(s,S,o,u,n,e,1<<3-c),y+=o0()-x,--p.requests===0&&(p.idleTimer=setTimeout(()=>{foe(h)},Doe)),{timing:y}})}function Loe(n){n._warm||(X3.webgl.isSupported(n),n._warm=!0)}const Uoe=X3.webglUtils.resizeWebGLCanvasWithoutClearing,u_={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},koe=new Ot;function uy(){return(self.performance||Date).now()}const zF=Object.create(null);function u9(n,e){n=zoe({},n);const t=uy(),r=[];if(n.font&&r.push({label:"user",src:Goe(n.font)}),n.font=r,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||u_.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||u_.unicodeFontsURL,n.colorRanges!=null){let v={};for(let y in n.colorRanges)if(n.colorRanges.hasOwnProperty(y)){let x=n.colorRanges[y];typeof x!="number"&&(x=koe.set(x).getHex()),v[y]=x}n.colorRanges=v}Object.freeze(n);const{textureWidth:i,sdfExponent:a}=u_,{sdfGlyphSize:s}=n,o=i/s*4;let u=zF[s];if(!u){const v=document.createElement("canvas");v.width=i,v.height=s*256/o,u=zF[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:v,sdfTexture:new _i(v,void 0,void 0,void 0,Or,Or),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,Boe(u)}const{sdfTexture:c,sdfCanvas:h}=u;h9(n).then(v=>{const{glyphIds:y,glyphFontIndices:x,fontData:S,glyphPositions:w,fontSize:A,timings:T}=v,C=[],O=new Float32Array(y.length*4);let R=0,D=0;const I=uy(),F=S.map(Y=>{let re=u.glyphsByFont.get(Y.src);return re||u.glyphsByFont.set(Y.src,re=new Map),re});y.forEach((Y,re)=>{const Q=x[re],{src:W,unitsPerEm:X}=S[Q];let se=F[Q].get(Y);if(!se){const{path:le,pathBounds:he}=v.glyphData[W][Y],ve=Math.max(he[2]-he[0],he[3]-he[1])/s*(u_.sdfMargin*s+.5),ue=u.glyphCount++,ce=[he[0]-ve,he[1]-ve,he[2]+ve,he[3]+ve];F[Q].set(Y,se={path:le,atlasIndex:ue,sdfViewBox:ce}),C.push(se)}const{sdfViewBox:J}=se,ae=w[D++],B=w[D++],Z=A/X;O[R++]=ae+J[0]*Z,O[R++]=B+J[1]*Z,O[R++]=ae+J[2]*Z,O[R++]=B+J[3]*Z,y[re]=se.atlasIndex}),T.quads=(T.quads||0)+(uy()-I);const L=uy();T.sdf={};const k=h.height,V=Math.ceil(u.glyphCount/o),j=Math.pow(2,Math.ceil(Math.log2(V*s)));j>k&&(console.info(`Increasing SDF texture size ${k}->${j}`),Uoe(h,i,j),c.dispose()),Promise.all(C.map(Y=>c9(Y,u,n.gpuAccelerateSDF).then(({timing:re})=>{T.sdf[Y.atlasIndex]=re}))).then(()=>{C.length&&!u.contextLost&&(f9(u),c.needsUpdate=!0),T.sdfTotal=uy()-L,T.total=uy()-t,e(Object.freeze({parameters:n,sdfTexture:c,sdfGlyphSize:s,sdfExponent:a,glyphBounds:O,glyphAtlasIndices:y,glyphColors:v.glyphColors,caretPositions:v.caretPositions,chunkedBounds:v.chunkedBounds,ascender:v.ascender,descender:v.descender,lineHeight:v.lineHeight,capHeight:v.capHeight,xHeight:v.xHeight,topBaseline:v.topBaseline,blockBounds:v.blockBounds,visibleBounds:v.visibleBounds,timings:v.timings}))})}),Promise.resolve().then(()=>{u.contextLost||Loe(h)})}function c9({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},s){if(a)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:u}=u_,c=Math.max(t[2]-t[0],t[3]-t[1]),h=Math.floor(e/4),p=h%(o/r)*r,v=Math.floor(h/(o/r))*r,y=e%4;return Poe(r,r,n,t,c,u,i,p,v,y,s)}function Boe(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(a=>{r.push(c9(a,n,!0))})}),Promise.all(r).then(()=>{f9(n),n.sdfTexture.needsUpdate=!0})})}function Foe({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;u9({font:n,sdfGlyphSize:t,text:i},r)}function zoe(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let ZE;function Goe(n){return ZE||(ZE=typeof document>"u"?{}:document.createElement("a")),ZE.href=n,ZE.href}function f9(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,a=n.sdfCanvas.getContext("webgl");let s=t.image.data;(!s||s.length!==r*i*4)&&(s=new Uint8Array(r*i*4),t.image={width:r,height:i,data:s},t.flipY=!1,t.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,s)}}const Hoe=rx({name:"Typesetter",dependencies:[Coe,Toe,doe],init(n,e,t){return n(e,t())}}),h9=rx({name:"Typesetter",dependencies:[Hoe],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[];for(let t in n)n[t]&&n[t].buffer&&e.push(n[t].buffer);return e}});h9.onMainThread;const GF={};function Voe(n){let e=GF[n];return e||(e=GF[n]=new gd(1,1,n,n).translate(.5,.5,0)),e}const joe="aTroikaGlyphBounds",HF="aTroikaGlyphIndex",Woe="aTroikaGlyphColor";class qoe extends V3{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new ra,this.boundingBox=new Vi}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=Voe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,a){this.updateAttributeData(joe,e,4),this.updateAttributeData(HF,t,1),this.updateAttributeData(Woe,a,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:a,min:s,max:o,sin:u,cos:c}=Math,h=i/2,p=i*2,v=Math.abs(t),y=e[0]/v,x=e[2]/v,S=a((y+h)/p)!==a((x+h)/p)?-v:s(u(y)*v,u(x)*v),w=a((y-h)/p)!==a((x-h)/p)?v:o(u(y)*v,u(x)*v),A=a((y+i)/p)!==a((x+i)/p)?v*2:o(v-c(y)*v,v-c(x)*v);r.min.set(S,e[1],t<0?-A:0),r.max.set(w,e[3],t<0?0:A)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(HF).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let a=r[i].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,r){const i=this.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(this.setAttribute(e,new m0(t,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const Xoe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Yoe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Koe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,$oe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Zoe(n){const e=lI(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new st},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Qn(0,0,0,0)},uTroikaClipRect:{value:new Qn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new st},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Ot},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new yn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Xoe,vertexTransform:Yoe,fragmentDefs:Koe,fragmentColorTransform:$oe,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(o9,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const VU=new md({color:16777215,side:_u,transparent:!0}),VF=8421504,jF=new sn,QE=new oe,kR=new oe,Y1=[],Qoe=new oe,BR="+x+y";function WF(n){return Array.isArray(n)?n[0]:n}let d9=()=>{const n=new li(new gd(1,1),VU);return d9=()=>n,n},p9=()=>{const n=new li(new gd(1,1,32,1),VU);return p9=()=>n,n};const Joe={type:"syncstart"},ele={type:"synccomplete"},m9=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],tle=m9.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let g9=class extends li{constructor(){const e=new qoe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=VF,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=BR,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Joe),u9({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(ele),e&&e()})))}onBeforeRender(e,t,r,i,a,s){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Zoe(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=VU.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return WF(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return WF(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:o,blockBounds:u}=i;r.uTroikaSDFTexture.value=o,r.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(u),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let c=0,h=0,p=0,v,y,x,S=0,w=0;if(t){let{outlineWidth:T,outlineOffsetX:C,outlineOffsetY:O,outlineBlur:R,outlineOpacity:D}=this;c=this._parsePercent(T)||0,h=Math.max(0,this._parsePercent(R)||0),v=D,S=this._parsePercent(C)||0,w=this._parsePercent(O)||0}else p=Math.max(0,this._parsePercent(this.strokeWidth)||0),p&&(x=this.strokeColor,r.uTroikaStrokeColor.value.set(x??VF),y=this.strokeOpacity,y==null&&(y=1)),v=this.fillOpacity;r.uTroikaEdgeOffset.value=c,r.uTroikaPositionOffset.value.set(S,w),r.uTroikaBlurRadius.value=h,r.uTroikaStrokeWidth.value=p,r.uTroikaStrokeOpacity.value=y,r.uTroikaFillOpacity.value=v??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let A=this.clipRect;if(A&&Array.isArray(A)&&A.length===4)r.uTroikaClipRect.value.fromArray(A);else{const T=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(u[0]-T,u[1]-T,u[2]+T,u[3]+T)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=t?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const o=e.hasOwnProperty("color")?e.color:e.color=new Ot;(a!==o._input||typeof a=="object")&&o.set(o._input=a)}let s=this.orientation||BR;if(s!==e._orientation){let o=r.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let u=s!==BR&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(u){let[,c,h,p,v]=u;QE.set(0,0,0)[h]=c==="-"?1:-1,kR.set(0,0,0)[v]=p==="-"?-1:1,jF.lookAt(Qoe,QE.cross(kR),kR),o.setFromMatrix4(jF)}else o.identity();e._orientation=s}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new st){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new st){return QE.copy(e),this.localPositionToTextCoords(this.worldToLocal(QE),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const a=r.blockBounds,s=i?p9():d9(),o=s.geometry,{position:u,uv:c}=o.attributes;for(let h=0;h<c.count;h++){let p=a[0]+c.getX(h)*(a[2]-a[0]);const v=a[1]+c.getY(h)*(a[3]-a[1]);let y=0;i&&(y=i-Math.cos(p/i)*i,p=Math.sin(p/i)*i),u.setXYZ(h,p,v,y)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,Y1.length=0,s.raycast(e,Y1);for(let h=0;h<Y1.length;h++)Y1[h].object=this,t.push(Y1[h])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,tle.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};m9.forEach(n=>{const e="_private_"+n;Object.defineProperty(g9.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new Vi;new Ot;const nle=z.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:a,characters:s,onSync:o,...u},c)=>{const h=bu(({invalidate:x})=>x),[p]=z.useState(()=>new g9),[v,y]=z.useMemo(()=>{const x=[];let S="";return z.Children.forEach(a,w=>{typeof w=="string"||typeof w=="number"?S+=w:x.push(w)}),[x,S]},[a]);return qae(()=>new Promise(x=>Foe({font:r,characters:s},x)),["troika-text",r,s]),z.useLayoutEffect(()=>void p.sync(()=>{h(),o&&o(p)})),z.useEffect(()=>()=>p.dispose(),[p]),z.createElement("primitive",Ub({object:p,ref:c,font:r,text:y,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},u),v)}),rle=()=>parseInt(O0.replace(/\D+/g,"")),ile=rle();var ale=Object.defineProperty,sle=(n,e,t)=>e in n?ale(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dr=(n,e,t)=>(sle(n,typeof e!="symbol"?e+"":e,t),t);function FR(n,e,t,r,i){let a;if(n=n.subarray||n.slice?n:n.buffer,t=t.subarray||t.slice?t:t.buffer,n=e?n.subarray?n.subarray(e,i&&e+i):n.slice(e,i&&e+i):n,t.set)t.set(n,r);else for(a=0;a<n.length;a++)t[a+r]=n[a];return t}function ole(n){return n instanceof Float32Array?n:n instanceof dn?n.getAttribute("position").array:n.map(e=>{const t=Array.isArray(e);return e instanceof oe?[e.x,e.y,e.z]:e instanceof st?[e.x,e.y,0]:t&&e.length===3?[e[0],e[1],e[2]]:t&&e.length===2?[e[0],e[1],0]:e}).flat()}class lle extends dn{constructor(){super(),dr(this,"type","MeshLine"),dr(this,"isMeshLine",!0),dr(this,"positions",[]),dr(this,"previous",[]),dr(this,"next",[]),dr(this,"side",[]),dr(this,"width",[]),dr(this,"indices_array",[]),dr(this,"uvs",[]),dr(this,"counters",[]),dr(this,"widthCallback",null),dr(this,"_attributes"),dr(this,"_points",[]),dr(this,"points"),dr(this,"matrixWorld",new sn),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,t){if(e=ole(e),this._points=e,this.widthCallback=t??null,this.positions=[],this.counters=[],e.length&&e[0]instanceof oe)for(let r=0;r<e.length;r++){const i=e[r],a=r/(e.length-1);this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(a),this.counters.push(a)}else for(let r=0;r<e.length;r+=3){const i=r/(e.length-1);this.positions.push(e[r],e[r+1],e[r+2]),this.positions.push(e[r],e[r+1],e[r+2]),this.counters.push(i),this.counters.push(i)}this.process()}compareV3(e,t){const r=e*6,i=t*6;return this.positions[r]===this.positions[i]&&this.positions[r+1]===this.positions[i+1]&&this.positions[r+2]===this.positions[i+2]}copyV3(e){const t=e*6;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){const e=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];let t,r;this.compareV3(0,e-1)?r=this.copyV3(e-2):r=this.copyV3(0),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);for(let i=0;i<e;i++){if(this.side.push(1),this.side.push(-1),this.widthCallback?t=this.widthCallback(i/(e-1)):t=1,this.width.push(t),this.width.push(t),this.uvs.push(i/(e-1),0),this.uvs.push(i/(e-1),1),i<e-1){r=this.copyV3(i),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);const a=i*2;this.indices_array.push(a,a+1,a+2),this.indices_array.push(a+2,a+1,a+3)}i>0&&(r=this.copyV3(i),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]))}this.compareV3(e-1,0)?r=this.copyV3(1):r=this.copyV3(e-1),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]),!this._attributes||this._attributes.position.count!==this.counters.length?this._attributes={position:new Yn(new Float32Array(this.positions),3),previous:new Yn(new Float32Array(this.previous),3),next:new Yn(new Float32Array(this.next),3),side:new Yn(new Float32Array(this.side),1),width:new Yn(new Float32Array(this.width),1),uv:new Yn(new Float32Array(this.uvs),2),index:new Yn(new Uint16Array(this.indices_array),1),counters:new Yn(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:t,z:r}){const i=this._attributes.position.array,a=this._attributes.previous.array,s=this._attributes.next.array,o=i.length;FR(i,0,a,0,o),FR(i,6,i,0,o-6),i[o-6]=e,i[o-5]=t,i[o-4]=r,i[o-3]=e,i[o-2]=t,i[o-1]=r,FR(i,6,s,0,o-6),s[o-6]=e,s[o-5]=t,s[o-4]=r,s[o-3]=e,s[o-2]=t,s[o-1]=r,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const ule=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>
  #include <clipping_planes_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
    vCounters = counters;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0) * aspect;
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <clipping_planes_vertex>
    #include <fog_vertex>
  }
`,cle=parseInt(O0.replace(/\D+/g,"")),fle=cle>=154?"colorspace_fragment":"encodings_fragment",hle=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  #include <clipping_planes_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 diffuseColor = vColor;
    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;
    if (diffuseColor.a < alphaTest) discard;
    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    diffuseColor.a *= step(vCounters, visibility);
    #include <clipping_planes_fragment>
    gl_FragColor = diffuseColor;     
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <${fle}>
  }
`;class dle extends ho{constructor(e){super({uniforms:{...Nt.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new Ot(16777215)},gradient:{value:[new Ot(16711680),new Ot(65280)]},opacity:{value:1},resolution:{value:new st(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new st(1,1)}},vertexShader:ule,fragmentShader:hle}),dr(this,"lineWidth"),dr(this,"map"),dr(this,"useMap"),dr(this,"alphaMap"),dr(this,"useAlphaMap"),dr(this,"color"),dr(this,"gradient"),dr(this,"resolution"),dr(this,"sizeAttenuation"),dr(this,"dashArray"),dr(this,"dashOffset"),dr(this,"dashRatio"),dr(this,"useDash"),dr(this,"useGradient"),dr(this,"visibility"),dr(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(t){this.uniforms.lineWidth.value=t}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(t){this.uniforms.map.value=t}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(t){this.uniforms.useMap.value=t}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(t){this.uniforms.alphaMap.value=t}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(t){this.uniforms.useAlphaMap.value=t}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(t){this.uniforms.color.value=t}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(t){this.uniforms.gradient.value=t}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(t){this.uniforms.resolution.value.copy(t)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(t){this.uniforms.sizeAttenuation.value=t}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(t){this.uniforms.dashArray.value=t,this.useDash=t!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(t){this.uniforms.dashOffset.value=t}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(t){this.uniforms.dashRatio.value=t}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(t){this.uniforms.useDash.value=t}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(t){this.uniforms.useGradient.value=t}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(t){this.uniforms.visibility.value=t}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(t){this.uniforms.alphaTest.value=t}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(t){this.uniforms.repeat.value.copy(t)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.gradient=e.gradient,this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.useGradient=e.useGradient,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}const v9={width:.2,length:1,decay:1,local:!1,stride:0,interval:1},ple=(n,e=1)=>(n.set(n.subarray(e)),n.fill(-1/0,-e),n);function mle(n,e){const{length:t,local:r,decay:i,interval:a,stride:s}={...v9,...e},o=z.useRef(null),[u]=z.useState(()=>new oe);z.useLayoutEffect(()=>{n&&(o.current=Float32Array.from({length:t*10*3},(p,v)=>n.position.getComponent(v%3)))},[t,n]);const c=z.useRef(new oe),h=z.useRef(0);return $w(()=>{if(n&&o.current){if(h.current===0){let p;r?p=n.position:(n.getWorldPosition(u),p=u);const v=1*i;for(let y=0;y<v;y++)p.distanceTo(c.current)<s||(ple(o.current,3),o.current.set(p.toArray(),o.current.length-3));c.current.copy(p)}h.current++,h.current=h.current%a}}),o}const gle=z.forwardRef((n,e)=>{const{children:t}=n,{width:r,length:i,decay:a,local:s,stride:o,interval:u}={...v9,...n},{color:c="hotpink",attenuation:h,target:p}=n,v=bu(O=>O.size),y=bu(O=>O.scene),x=z.useRef(null),[S,w]=z.useState(null),A=mle(S,{length:i,decay:a,local:s,stride:o,interval:u});z.useEffect(()=>{const O=(p==null?void 0:p.current)||x.current.children.find(R=>R instanceof er);O&&w(O)},[A,p]);const T=z.useMemo(()=>new lle,[]),C=z.useMemo(()=>{var O,R;const D=new dle({lineWidth:.1*r,color:c,sizeAttenuation:1,resolution:new st(v.width,v.height)});let I;if(t)if(Array.isArray(t))I=t.find(F=>{const L=F;return typeof L.type=="string"&&L.type==="meshLineMaterial"});else{const F=t;typeof F.type=="string"&&F.type==="meshLineMaterial"&&(I=F)}return typeof((O=I)==null?void 0:O.props)=="object"&&((R=I)==null?void 0:R.props)!==null&&D.setValues(I.props),D},[r,c,v,t]);return z.useEffect(()=>{C.uniforms.resolution.value.set(v.width,v.height)},[v]),$w(()=>{A.current&&T.setPoints(A.current,h)}),z.createElement("group",null,Use(z.createElement("mesh",{ref:e,geometry:T,material:C}),y),z.createElement("group",{ref:x},t))}),vle=z.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:u,...c},h)=>{const p=bu(D=>D.invalidate),v=bu(D=>D.camera),y=bu(D=>D.gl),x=bu(D=>D.events),S=bu(D=>D.setEvents),w=bu(D=>D.set),A=bu(D=>D.get),T=bu(D=>D.performance),C=e||v,O=r||x.connected||y.domElement,R=z.useMemo(()=>new noe(C),[C]);return $w(()=>{R.enabled&&R.update()},-1),z.useEffect(()=>(a&&R.connect(a===!0?O:a),R.connect(O),()=>void R.dispose()),[a,O,t,R,p]),z.useEffect(()=>{const D=L=>{p(),t&&T.regress(),s&&s(L)},I=L=>{o&&o(L)},F=L=>{u&&u(L)};return R.addEventListener("change",D),R.addEventListener("start",I),R.addEventListener("end",F),()=>{R.removeEventListener("start",I),R.removeEventListener("end",F),R.removeEventListener("change",D)}},[s,o,u,R,p,S]),z.useEffect(()=>{if(n){const D=A().controls;return w({controls:R}),()=>w({controls:D})}},[n,R]),z.createElement("primitive",Ub({ref:h,object:R,enableDamping:i},c))}),yle="modulepreload",ble=function(n){return"/"+n},qF={},XF=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=s(t.map(c=>{if(c=ble(c),c in qF)return;qF[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":yle,h||(v.as="script"),v.crossOrigin="",v.href=c,u&&v.setAttribute("nonce",u),document.head.appendChild(v),h)return new Promise((y,x)=>{v.addEventListener("load",y),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};class xle extends ho{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${ile>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const _le=n=>new oe().setFromSpherical(new jT(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),wle=z.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:r=0,factor:i=4,fade:a=!1,speed:s=1},o)=>{const u=z.useRef(null),[c,h,p]=z.useMemo(()=>{const y=[],x=[],S=Array.from({length:t},()=>(.5+.5*Math.random())*i),w=new Ot;let A=n+e;const T=e/t;for(let C=0;C<t;C++)A-=T*Math.random(),y.push(..._le(A).toArray()),w.setHSL(C/t,r,.9),x.push(w.r,w.g,w.b);return[new Float32Array(y),new Float32Array(x),new Float32Array(S)]},[t,e,i,n,r]);$w(y=>u.current&&(u.current.uniforms.time.value=y.clock.elapsedTime*s));const[v]=z.useState(()=>new xle);return z.createElement("points",{ref:o},z.createElement("bufferGeometry",null,z.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),z.createElement("bufferAttribute",{attach:"attributes-color",args:[h,3]}),z.createElement("bufferAttribute",{attach:"attributes-size",args:[p,1]})),z.createElement("primitive",{ref:u,object:v,attach:"material",blending:$M,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))});var Wo=(n=>(n.YES="SECURE",n.NO="COMPROMISED",n))(Wo||{});const Sle=(n,e)=>n+e===0?0:e/(n+e),em=(n,e)=>Sle(n,e),NM=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(n),Ale=({market:n,onClick:e,isActive:t,isHovered:r,position:i})=>{const a=z.useRef(null),s=z.useRef(null),o=em(n.yesPool,n.noPool),u=z.useMemo(()=>{const p=o<.5?1:(1-o)*2,v=o>.5?1:o*2;return new Ot(p,v,.2)},[o]),c=n.yesPool+n.noPool,h=Math.min(Math.max(c/1e4,1.5),4);return $w((p,v)=>{t||r?(a.current.scale.x=A_.lerp(a.current.scale.x,h*1.5,.1),a.current.scale.y=A_.lerp(a.current.scale.y,h*1.5,.1),a.current.scale.z=A_.lerp(a.current.scale.z,h*1.5,.1),s.current&&(s.current.rotation.z-=v*2,s.current.scale.setScalar(1.5+Math.sin(p.clock.elapsedTime*5)*.1))):(a.current.scale.setScalar(h),a.current.rotation.y+=v*.2)}),K.jsxs("group",{position:i,children:[(t||r)&&K.jsxs("group",{children:[K.jsx(soe,{points:[[0,0,0],[0,-10,0]],color:r?"#00ffcc":"white",opacity:.2,transparent:!0,lineWidth:1}),K.jsxs("mesh",{ref:s,rotation:[Math.PI/2,0,0],children:[K.jsx("ringGeometry",{args:[h*1.2,h*1.3,32]}),K.jsx("meshBasicMaterial",{color:r?"#00ffcc":"white",transparent:!0,opacity:.8,side:_u})]})]}),K.jsx(gle,{width:.2,length:4,color:u,decay:2,attenuation:p=>p*p,children:K.jsxs("mesh",{ref:a,onClick:p=>{p.stopPropagation(),e(n.id)},children:[K.jsx("sphereGeometry",{args:[1,32,32]}),K.jsx("meshStandardMaterial",{emissive:u,emissiveIntensity:t||r?4:1.5,color:u,roughness:.2})]})}),K.jsxs(nle,{position:[0,h+1.5,0],fontSize:t||r?.8:.5,color:t||r?"#00ffcc":"#aaaaaa",anchorX:"center",anchorY:"middle",outlineWidth:r?.05:0,outlineColor:"#000000",children:[n.title,(t||r)&&`
${(o*100).toFixed(1)}%`]})]})},Ele=({markets:n,activeMarketId:e,hoveredMarketId:t,onMarketSelect:r})=>{const i=z.useMemo(()=>n.filter(s=>!s.resolved&&!s.cancelled),[n]),a=z.useMemo(()=>i.map((s,o)=>{const u=o*2.39996,c=8+o*2,h=c*Math.cos(u),p=(Math.random()-.5)*8,v=c*Math.sin(u);return[h,p,v]}),[i.length]);return K.jsx("div",{className:"absolute inset-0 z-0 bg-slate-950 transition-opacity duration-1000",children:K.jsxs(Yse,{camera:{position:[0,5,25],fov:50},children:[K.jsx("fog",{attach:"fog",args:["#050505",10,50]}),K.jsx("ambientLight",{intensity:.2}),K.jsx("pointLight",{position:[10,10,10],intensity:1}),K.jsx(wle,{radius:100,depth:50,count:3e3,factor:4,saturation:0,fade:!0,speed:.5}),i.map((s,o)=>K.jsx(Ale,{market:s,position:a[o],isActive:e===s.id,isHovered:t===s.id,onClick:r},s.id)),K.jsx(vle,{enablePan:!1,autoRotate:!e&&!t,autoRotateSpeed:.3,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3}),K.jsxs("mesh",{visible:!1,onClick:()=>r(null),scale:100,children:[K.jsx("sphereGeometry",{}),K.jsx("meshBasicMaterial",{transparent:!0,opacity:0})]})]})})};class Mle{constructor(){this.APR=.05}shouldEnableYield(e){return e>1}calculateAccumulatedYield(e,t){if(!this.shouldEnableYield(e))return 0;const a=(Date.now()-t)/1e3/(365*24*60*60);return e*this.APR*a}getAPR(){return this.APR}calculateYearlyYield(e){return this.shouldEnableYield(e)?e*this.APR:0}formatYield(e){return e<1e-4?"< 0.0001 METH":`${e.toFixed(6)} METH`}}const YF=new Mle;function y9(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=y9(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Nr(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=y9(n))&&(r&&(r+=" "),r+=e);return r}var Tle=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jU(n){if(typeof n!="string")return!1;var e=Tle;return e.includes(n)}var Cle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ple=new Set(Cle);function b9(n){return typeof n!="string"?!1:Ple.has(n)}function x9(n){return typeof n=="string"&&n.startsWith("data-")}function id(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(b9(t)||x9(t))&&(e[t]=n[t]);return e}function Y3(n){if(n==null)return null;if(z.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return id(e)}return typeof n=="object"&&!Array.isArray(n)?id(n):null}function Ds(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(b9(t)||x9(t)||jU(t))&&(e[t]=n[t]);return e}function Ole(n){return n==null?null:z.isValidElement(n)?Ds(n.props):typeof n=="object"&&!Array.isArray(n)?Ds(n):null}var Rle=["children","width","height","viewBox","className","style","title","desc"];function cI(){return cI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cI.apply(null,arguments)}function Nle(n,e){if(n==null)return{};var t,r,i=Dle(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Dle(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var _9=z.forwardRef((n,e)=>{var{children:t,width:r,height:i,viewBox:a,className:s,style:o,title:u,desc:c}=n,h=Nle(n,Rle),p=a||{width:r,height:i,x:0,y:0},v=Nr("recharts-surface",s);return z.createElement("svg",cI({},Ds(h),{className:v,width:r,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),z.createElement("title",null,u),z.createElement("desc",null,c),t)}),Ile=["children","className"];function fI(){return fI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fI.apply(null,arguments)}function Lle(n,e){if(n==null)return{};var t,r,i=Ule(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Ule(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var ad=z.forwardRef((n,e)=>{var{children:t,className:r}=n,i=Lle(n,Ile),a=Nr("recharts-layer",r);return z.createElement("g",fI({className:a},Ds(i),{ref:e}),t)}),w9=XH(),kle=z.createContext(null);function zr(n){return function(){return n}}const S9=Math.cos,$T=Math.sin,xc=Math.sqrt,ZT=Math.PI,K3=2*ZT,hI=Math.PI,dI=2*hI,gg=1e-6,Ble=dI-gg;function A9(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Fle(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return A9;const t=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class zle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?A9:Fle(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,a,s){this._append`C${+e},${+t},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,t,r,i,a){if(e=+e,t=+t,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-e,c=i-t,h=s-e,p=o-t,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(v>gg)if(!(Math.abs(p*u-c*h)>gg)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let y=r-s,x=i-o,S=u*u+c*c,w=y*y+x*x,A=Math.sqrt(S),T=Math.sqrt(v),C=a*Math.tan((hI-Math.acos((S+v-w)/(2*A*T)))/2),O=C/T,R=C/A;Math.abs(O-1)>gg&&this._append`L${e+O*h},${t+O*p}`,this._append`A${a},${a},0,0,${+(p*y>h*x)},${this._x1=e+R*u},${this._y1=t+R*c}`}}arc(e,t,r,i,a,s){if(e=+e,t=+t,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),c=e+o,h=t+u,p=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>gg||Math.abs(this._y1-h)>gg)&&this._append`L${c},${h}`,r&&(v<0&&(v=v%dI+dI),v>Ble?this._append`A${r},${r},0,1,${p},${e-o},${t-u}A${r},${r},0,1,${p},${this._x1=c},${this._y1=h}`:v>gg&&this._append`A${r},${r},0,${+(v>=hI)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function WU(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new zle(e)}function qU(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function E9(n){this._context=n}E9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function $3(n){return new E9(n)}function M9(n){return n[0]}function T9(n){return n[1]}function C9(n,e){var t=zr(!0),r=null,i=$3,a=null,s=WU(o);n=typeof n=="function"?n:n===void 0?M9:zr(n),e=typeof e=="function"?e:e===void 0?T9:zr(e);function o(u){var c,h=(u=qU(u)).length,p,v=!1,y;for(r==null&&(a=i(y=s())),c=0;c<=h;++c)!(c<h&&t(p=u[c],c,u))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+n(p,c,u),+e(p,c,u));if(y)return a=null,y+""||null}return o.x=function(u){return arguments.length?(n=typeof u=="function"?u:zr(+u),o):n},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:zr(+u),o):e},o.defined=function(u){return arguments.length?(t=typeof u=="function"?u:zr(!!u),o):t},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function JE(n,e,t){var r=null,i=zr(!0),a=null,s=$3,o=null,u=WU(c);n=typeof n=="function"?n:n===void 0?M9:zr(+n),e=typeof e=="function"?e:zr(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?T9:zr(+t);function c(p){var v,y,x,S=(p=qU(p)).length,w,A=!1,T,C=new Array(S),O=new Array(S);for(a==null&&(o=s(T=u())),v=0;v<=S;++v){if(!(v<S&&i(w=p[v],v,p))===A)if(A=!A)y=v,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=v-1;x>=y;--x)o.point(C[x],O[x]);o.lineEnd(),o.areaEnd()}A&&(C[v]=+n(w,v,p),O[v]=+e(w,v,p),o.point(r?+r(w,v,p):C[v],t?+t(w,v,p):O[v]))}if(T)return o=null,T+""||null}function h(){return C9().defined(i).curve(s).context(a)}return c.x=function(p){return arguments.length?(n=typeof p=="function"?p:zr(+p),r=null,c):n},c.x0=function(p){return arguments.length?(n=typeof p=="function"?p:zr(+p),c):n},c.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:zr(+p),c):r},c.y=function(p){return arguments.length?(e=typeof p=="function"?p:zr(+p),t=null,c):e},c.y0=function(p){return arguments.length?(e=typeof p=="function"?p:zr(+p),c):e},c.y1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:zr(+p),c):t},c.lineX0=c.lineY0=function(){return h().x(n).y(e)},c.lineY1=function(){return h().x(n).y(t)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(p){return arguments.length?(i=typeof p=="function"?p:zr(!!p),c):i},c.curve=function(p){return arguments.length?(s=p,a!=null&&(o=s(a)),c):s},c.context=function(p){return arguments.length?(p==null?a=o=null:o=s(a=p),c):a},c}class P9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Gle(n){return new P9(n,!0)}function Hle(n){return new P9(n,!1)}const XU={draw(n,e){const t=xc(e/ZT);n.moveTo(t,0),n.arc(0,0,t,0,K3)}},Vle={draw(n,e){const t=xc(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},O9=xc(1/3),jle=O9*2,Wle={draw(n,e){const t=xc(e/jle),r=t*O9;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},qle={draw(n,e){const t=xc(e),r=-t/2;n.rect(r,r,t,t)}},Xle=.8908130915292852,R9=$T(ZT/10)/$T(7*ZT/10),Yle=$T(K3/10)*R9,Kle=-S9(K3/10)*R9,$le={draw(n,e){const t=xc(e*Xle),r=Yle*t,i=Kle*t;n.moveTo(0,-t),n.lineTo(r,i);for(let a=1;a<5;++a){const s=K3*a/5,o=S9(s),u=$T(s);n.lineTo(u*t,-o*t),n.lineTo(o*r-u*i,u*r+o*i)}n.closePath()}},zR=xc(3),Zle={draw(n,e){const t=-xc(e/(zR*3));n.moveTo(0,t*2),n.lineTo(-zR*t,-t),n.lineTo(zR*t,-t),n.closePath()}},lu=-.5,uu=xc(3)/2,pI=1/xc(12),Qle=(pI/2+1)*3,Jle={draw(n,e){const t=xc(e/Qle),r=t/2,i=t*pI,a=r,s=t*pI+t,o=-a,u=s;n.moveTo(r,i),n.lineTo(a,s),n.lineTo(o,u),n.lineTo(lu*r-uu*i,uu*r+lu*i),n.lineTo(lu*a-uu*s,uu*a+lu*s),n.lineTo(lu*o-uu*u,uu*o+lu*u),n.lineTo(lu*r+uu*i,lu*i-uu*r),n.lineTo(lu*a+uu*s,lu*s-uu*a),n.lineTo(lu*o+uu*u,lu*u-uu*o),n.closePath()}};function eue(n,e){let t=null,r=WU(i);n=typeof n=="function"?n:zr(n||XU),e=typeof e=="function"?e:zr(e===void 0?64:+e);function i(){let a;if(t||(t=a=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),a)return t=null,a+""||null}return i.type=function(a){return arguments.length?(n=typeof a=="function"?a:zr(a),i):n},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:zr(+a),i):e},i.context=function(a){return arguments.length?(t=a??null,i):t},i}function QT(){}function JT(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function N9(n){this._context=n}N9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:JT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:JT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function tue(n){return new N9(n)}function D9(n){this._context=n}D9.prototype={areaStart:QT,areaEnd:QT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:JT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function nue(n){return new D9(n)}function I9(n){this._context=n}I9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:JT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function rue(n){return new I9(n)}function L9(n){this._context=n}L9.prototype={areaStart:QT,areaEnd:QT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function iue(n){return new L9(n)}function KF(n){return n<0?-1:1}function $F(n,e,t){var r=n._x1-n._x0,i=e-n._x1,a=(n._y1-n._y0)/(r||i<0&&-0),s=(t-n._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(KF(a)+KF(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function ZF(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function GR(n,e,t){var r=n._x0,i=n._y0,a=n._x1,s=n._y1,o=(a-r)/3;n._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*t,a,s)}function eC(n){this._context=n}eC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:GR(this,this._t0,ZF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,GR(this,ZF(this,t=$F(this,n,e)),t);break;default:GR(this,this._t0,t=$F(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function U9(n){this._context=new k9(n)}(U9.prototype=Object.create(eC.prototype)).point=function(n,e){eC.prototype.point.call(this,e,n)};function k9(n){this._context=n}k9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,a){this._context.bezierCurveTo(e,n,r,t,a,i)}};function aue(n){return new eC(n)}function sue(n){return new U9(n)}function B9(n){this._context=n}B9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=QF(n),i=QF(e),a=0,s=1;s<t;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],n[s],e[s]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function QF(n){var e,t=n.length-1,r,i=new Array(t),a=new Array(t),s=new Array(t);for(i[0]=0,a[0]=2,s[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,a[e]=4,s[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,a[t-1]=7,s[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[t-1]=s[t-1]/a[t-1],e=t-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)a[e]=2*n[e+1]-i[e+1];return[i,a]}function oue(n){return new B9(n)}function Z3(n,e){this._context=n,this._t=e}Z3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function lue(n){return new Z3(n,.5)}function uue(n){return new Z3(n,0)}function cue(n){return new Z3(n,1)}function y0(n,e){if((s=n.length)>1)for(var t=1,r,i,a=n[e[0]],s,o=a.length;t<s;++t)for(i=a,a=n[e[t]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mI(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function fue(n,e){return n[e]}function hue(n){const e=[];return e.key=n,e}function due(){var n=zr([]),e=mI,t=y0,r=fue;function i(a){var s=Array.from(n.apply(this,arguments),hue),o,u=s.length,c=-1,h;for(const p of a)for(o=0,++c;o<u;++o)(s[o][c]=[0,+r(p,s[o].key,c,a)]).data=p;for(o=0,h=qU(e(s));o<u;++o)s[h[o]].index=o;return t(s,h),s}return i.keys=function(a){return arguments.length?(n=typeof a=="function"?a:zr(Array.from(a)),i):n},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:zr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?mI:typeof a=="function"?a:zr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(t=a??y0,i):t},i}function pue(n,e){if((r=n.length)>0){for(var t,r,i=0,a=n[0].length,s;i<a;++i){for(s=t=0;t<r;++t)s+=n[t][i][1]||0;if(s)for(t=0;t<r;++t)n[t][i][1]/=s}y0(n,e)}}function mue(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,a=r.length;t<a;++t){for(var s=0,o=0;s<i;++s)o+=n[s][t][1]||0;r[t][1]+=r[t][0]=-o/2}y0(n,e)}}function gue(n,e){if(!(!((s=n.length)>0)||!((a=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,a,s;r<a;++r){for(var o=0,u=0,c=0;o<s;++o){for(var h=n[e[o]],p=h[r][1]||0,v=h[r-1][1]||0,y=(p-v)/2,x=0;x<o;++x){var S=n[e[x]],w=S[r][1]||0,A=S[r-1][1]||0;y+=w-A}u+=p,c+=y*p}i[r-1][1]+=i[r-1][0]=t,u&&(t-=c/u)}i[r-1][1]+=i[r-1][0]=t,y0(n,e)}}var HR={},VR={},JF;function vue(){return JF||(JF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(VR)),VR}var jR={},ez;function F9(){return ez||(ez=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(jR)),jR}var WR={},tz;function YU(){return tz||(tz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;return typeof t=="string"||typeof t=="symbol"?t:Object.is((r=t==null?void 0:t.valueOf)==null?void 0:r.call(t),-0)?"-0":String(t)}n.toKey=e})(WR)),WR}var qR={},XR={},nz;function yue(){return nz||(nz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return r==="0"&&Object.is(Number(t),-0)?"-0":r}n.toString=e})(XR)),XR}var rz;function KU(){return rz||(rz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=yue(),t=YU();function r(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,u="",c="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const p=i[o];c?p==="\\"&&o+1<s?(o++,u+=i[o]):p===c?c="":u+=p:h?p==='"'||p==="'"?c=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,o++}return u&&a.push(u),a}n.toPath=r})(qR)),qR}var iz;function $U(){return iz||(iz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=vue(),t=F9(),r=YU(),i=KU();function a(o,u,c){if(o==null)return c;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return c;const h=o[u];return h===void 0?t.isDeepKey(u)?a(o,i.toPath(u),c):c:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=o[u];return h===void 0?c:h}default:{if(Array.isArray(u))return s(o,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return c;const h=o[u];return h===void 0?c:h}}}function s(o,u,c){if(u.length===0)return c;let h=o;for(let p=0;p<u.length;p++){if(h==null||e.isUnsafeProperty(u[p]))return c;h=h[u[p]]}return h===void 0?c:h}n.get=a})(HR)),HR}var YR,az;function bue(){return az||(az=1,YR=$U().get),YR}var xue=bue();const Q3=Cu(xue);var _ue=4;function Xp(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_ue,t=10**e,r=Math.round(n*t)/t;return Object.is(r,-0)?0:r}function Pi(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return n.reduce((i,a,s)=>{var o=t[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Xp(o)+a:i+a},"")}var dc=n=>n===0?0:n>0?1:-1,gc=n=>typeof n=="number"&&n!=+n,sd=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,un=n=>(typeof n=="number"||n instanceof Number)&&!gc(n),Eu=n=>un(n)||typeof n=="string",wue=0,J_=n=>{var e=++wue;return"".concat(n||"").concat(e)},tm=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!un(e)&&typeof e!="string")return r;var a;if(sd(e)){if(t==null)return r;var s=e.indexOf("%");a=t*parseFloat(e.slice(0,s))/100}else a=+e;return gc(a)&&(a=r),i&&t!=null&&a>t&&(a=t),a},z9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},r=0;r<e;r++)if(!t[String(n[r])])t[String(n[r])]=!0;else return!0;return!1};function Ko(n,e,t){return un(n)&&un(e)?Xp(n+t*(e-n)):e}function G9(n,e,t){if(!(!n||!n.length))return n.find(r=>r&&(typeof e=="function"?e(r):Q3(r,e))===t)}var Ua=n=>n===null||typeof n>"u",Zw=n=>Ua(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function Sue(n){return n!=null}function Qw(){}var Aue=["type","size","sizeType"];function gI(){return gI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gI.apply(null,arguments)}function sz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function oz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(t),!0).forEach(function(r){Eue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Eue(n,e,t){return(e=Mue(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mue(n){var e=Tue(n,"string");return typeof e=="symbol"?e:e+""}function Tue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Cue(n,e){if(n==null)return{};var t,r,i=Pue(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Pue(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var H9={symbolCircle:XU,symbolCross:Vle,symbolDiamond:Wle,symbolSquare:qle,symbolStar:$le,symbolTriangle:Zle,symbolWye:Jle},Oue=Math.PI/180,Rue=n=>{var e="symbol".concat(Zw(n));return H9[e]||XU},Nue=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var r=18*Oue;return 1.25*n*n*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},Due=(n,e)=>{H9["symbol".concat(Zw(n))]=e},V9=n=>{var{type:e="circle",size:t=64,sizeType:r="area"}=n,i=Cue(n,Aue),a=oz(oz({},i),{},{type:e,size:t,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var v=Rue(s),y=eue().type(v).size(Nue(t,r,s)),x=y();if(x!==null)return x},{className:u,cx:c,cy:h}=a,p=Ds(a);return un(c)&&un(h)&&un(t)?z.createElement("path",gI({},p,{className:Nr("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(h,")"),d:o()})):null};V9.registerSymbol=Due;var j9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,ZU=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(z.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var r={};return Object.keys(t).forEach(i=>{jU(i)&&(r[i]=(a=>t[i](t,a)))}),r},Iue=(n,e,t)=>r=>(n(e,t,r),null),Lue=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var r=null;return Object.keys(n).forEach(i=>{var a=n[i];jU(i)&&typeof a=="function"&&(r||(r={}),r[i]=Iue(a,e,t))}),r};function lz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Uue(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(t),!0).forEach(function(r){kue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kue(n,e,t){return(e=Bue(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bue(n){var e=Fue(n,"string");return typeof e=="symbol"?e:e+""}function Fue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ol(n,e){var t=Uue({},n),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),t);return a}var KR={},$R={},uz;function zue(){return uz||(uz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){const i=new Map;for(let a=0;a<t.length;a++){const s=t[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}n.uniqBy=e})($R)),$R}var ZR={},cz;function W9(){return cz||(cz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(ZR)),ZR}var QR={},JR={},eN={},fz;function Gue(){return fz||(fz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(eN)),eN}var hz;function QU(){return hz||(hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Gue();function t(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}n.isArrayLike=t})(JR)),JR}var tN={},dz;function Hue(){return dz||(dz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(tN)),tN}var pz;function Vue(){return pz||(pz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=QU(),t=Hue();function r(i){return t.isObjectLike(i)&&e.isArrayLike(i)}n.isArrayLikeObject=r})(QR)),QR}var nN={},rN={},mz;function jue(){return mz||(mz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$U();function t(r){return function(i){return e.get(i,r)}}n.property=t})(rN)),rN}var iN={},aN={},sN={},oN={},gz;function q9(){return gz||(gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(oN)),oN}var lN={},vz;function X9(){return vz||(vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(lN)),lN}var uN={},yz;function Y9(){return yz||(yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){return t===r||Number.isNaN(t)&&Number.isNaN(r)}n.eq=e})(uN)),uN}var bz;function Wue(){return bz||(bz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=q9(),t=X9(),r=Y9();function i(h,p,v){return typeof v!="function"?i(h,p,()=>{}):a(h,p,function y(x,S,w,A,T,C){const O=v(x,S,w,A,T,C);return O!==void 0?!!O:a(x,S,y,C)},new Map)}function a(h,p,v,y){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,v,y);case"function":return Object.keys(p).length>0?a(h,{...p},v,y):r.eq(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function s(h,p,v,y){if(p==null)return!0;if(Array.isArray(p))return u(h,p,v,y);if(p instanceof Map)return o(h,p,v,y);if(p instanceof Set)return c(h,p,v,y);const x=Object.keys(p);if(h==null||t.isPrimitive(h))return x.length===0;if(x.length===0)return!0;if(y!=null&&y.has(p))return y.get(p)===h;y==null||y.set(p,h);try{for(let S=0;S<x.length;S++){const w=x[S];if(!t.isPrimitive(h)&&!(w in h)||p[w]===void 0&&h[w]!==void 0||p[w]===null&&h[w]!==null||!v(h[w],p[w],w,h,p,y))return!1}return!0}finally{y==null||y.delete(p)}}function o(h,p,v,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[x,S]of p.entries()){const w=h.get(x);if(v(w,S,x,h,p,y)===!1)return!1}return!0}function u(h,p,v,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const x=new Set;for(let S=0;S<p.length;S++){const w=p[S];let A=!1;for(let T=0;T<h.length;T++){if(x.has(T))continue;const C=h[T];let O=!1;if(v(C,w,S,h,p,y)&&(O=!0),O){x.add(T),A=!0;break}}if(!A)return!1}return!0}function c(h,p,v,y){return p.size===0?!0:h instanceof Set?u([...h],[...p],v,y):!1}n.isMatchWith=i,n.isSetMatch=c})(sN)),sN}var xz;function K9(){return xz||(xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Wue();function t(r,i){return e.isMatchWith(r,i,()=>{})}n.isMatch=t})(aN)),aN}var cN={},fN={},hN={},_z;function que(){return _z||(_z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}n.getSymbols=e})(hN)),hN}var dN={},wz;function $9(){return wz||(wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(dN)),dN}var pN={},Sz;function Z9(){return Sz||(Sz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",u="[object Map]",c="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",y="[object Object]",x="[object Error]",S="[object DataView]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",C="[object Uint32Array]",O="[object BigUint64Array]",R="[object Int8Array]",D="[object Int16Array]",I="[object Int32Array]",F="[object BigInt64Array]",L="[object Float32Array]",k="[object Float64Array]";n.argumentsTag=a,n.arrayBufferTag=v,n.arrayTag=h,n.bigInt64ArrayTag=F,n.bigUint64ArrayTag=O,n.booleanTag=i,n.dataViewTag=S,n.dateTag=o,n.errorTag=x,n.float32ArrayTag=L,n.float64ArrayTag=k,n.functionTag=p,n.int16ArrayTag=D,n.int32ArrayTag=I,n.int8ArrayTag=R,n.mapTag=u,n.numberTag=r,n.objectTag=y,n.regexpTag=e,n.setTag=c,n.stringTag=t,n.symbolTag=s,n.uint16ArrayTag=T,n.uint32ArrayTag=C,n.uint8ArrayTag=w,n.uint8ClampedArrayTag=A})(pN)),pN}var mN={},Az;function Xue(){return Az||(Az=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(mN)),mN}var Ez;function Q9(){return Ez||(Ez=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=que(),t=$9(),r=Z9(),i=X9(),a=Xue();function s(h,p){return o(h,void 0,h,new Map,p)}function o(h,p,v,y=new Map,x=void 0){const S=x==null?void 0:x(h,p,v,y);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const w=new Array(h.length);y.set(h,w);for(let A=0;A<h.length;A++)w[A]=o(h[A],A,v,y,x);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;y.set(h,w);for(const[A,T]of h)w.set(A,o(T,A,v,y,x));return w}if(h instanceof Set){const w=new Set;y.set(h,w);for(const A of h)w.add(o(A,void 0,v,y,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,w);for(let A=0;A<h.length;A++)w[A]=o(h[A],A,v,y,x);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,w),u(w,h,v,y,x),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return y.set(h,w),u(w,h,v,y,x),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return y.set(h,w),u(w,h,v,y,x),w}if(h instanceof Error){const w=new h.constructor;return y.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,u(w,h,v,y,x),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return y.set(h,w),u(w,h,v,y,x),w}if(h instanceof Number){const w=new Number(h.valueOf());return y.set(h,w),u(w,h,v,y,x),w}if(h instanceof String){const w=new String(h.valueOf());return y.set(h,w),u(w,h,v,y,x),w}if(typeof h=="object"&&c(h)){const w=Object.create(Object.getPrototypeOf(h));return y.set(h,w),u(w,h,v,y,x),w}return h}function u(h,p,v=h,y,x){const S=[...Object.keys(p),...e.getSymbols(p)];for(let w=0;w<S.length;w++){const A=S[w],T=Object.getOwnPropertyDescriptor(h,A);(T==null||T.writable)&&(h[A]=o(p[A],A,v,y,x))}}function c(h){switch(t.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=s,n.cloneDeepWithImpl=o,n.copyProperties=u})(fN)),fN}var Mz;function Yue(){return Mz||(Mz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Q9();function t(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}n.cloneDeep=t})(cN)),cN}var Tz;function Kue(){return Tz||(Tz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=K9(),t=Yue();function r(i){return i=t.cloneDeep(i),a=>e.isMatch(a,i)}n.matches=r})(iN)),iN}var gN={},vN={},yN={},Cz;function $ue(){return Cz||(Cz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Q9(),t=Z9();function r(i,a){return e.cloneDeepWith(i,(s,o,u,c)=>{const h=a==null?void 0:a(s,o,u,c);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case t.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}n.cloneDeepWith=r})(yN)),yN}var Pz;function Zue(){return Pz||(Pz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$ue();function t(r){return e.cloneDeepWith(r)}n.cloneDeep=t})(vN)),vN}var bN={},xN={},Oz;function J9(){return Oz||(Oz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}n.isIndex=t})(xN)),xN}var _N={},Rz;function Que(){return Rz||(Rz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$9();function t(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}n.isArguments=t})(_N)),_N}var Nz;function Jue(){return Nz||(Nz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=F9(),t=J9(),r=Que(),i=KU();function a(s,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?u=i.toPath(o):u=[o],u.length===0)return!1;let c=s;for(let h=0;h<u.length;h++){const p=u[h];if((c==null||!Object.hasOwn(c,p))&&!((Array.isArray(c)||r.isArguments(c))&&t.isIndex(p)&&p<c.length))return!1;c=c[p]}return!0}n.has=a})(bN)),bN}var Dz;function ece(){return Dz||(Dz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=K9(),t=YU(),r=Zue(),i=$U(),a=Jue();function s(o,u){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return u=r.cloneDeep(u),function(c){const h=i.get(c,o);return h===void 0?a.has(c,o):u===void 0?h===void 0:e.isMatch(h,u)}}n.matchesProperty=s})(gN)),gN}var Iz;function tce(){return Iz||(Iz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=W9(),t=jue(),r=Kue(),i=ece();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return t.property(s)}}n.iteratee=a})(nN)),nN}var Lz;function nce(){return Lz||(Lz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=zue(),t=W9(),r=Vue(),i=tce();function a(s,o=t.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}n.uniqBy=a})(KR)),KR}var wN,Uz;function rce(){return Uz||(Uz=1,wN=nce().uniqBy),wN}var ice=rce();const kz=Cu(ice);function ace(n,e,t){return e===!0?kz(n,t):typeof e=="function"?kz(n,e):n}var JU=z.createContext(null),sce=n=>n,ka=()=>{var n=z.useContext(JU);return n?n.store.dispatch:sce},DM=()=>{},oce=()=>DM,lce=(n,e)=>n===e;function fn(n){var e=z.useContext(JU);return kj.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:oce,e?e.store.getState:DM,e?e.store.getState:DM,e?n:DM,lce)}function uce(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function cce(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function fce(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var Bz=n=>Array.isArray(n)?n:[n];function hce(n){const e=Array.isArray(n[0])?n[0]:n;return fce(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function dce(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var pce=class{constructor(n){this.value=n}deref(){return this.value}},mce=typeof WeakRef<"u"?WeakRef:pce,gce=0,Fz=1;function eM(){return{s:gce,v:void 0,o:null,p:null}}function e7(n,e={}){let t=eM();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let o=t;const{length:u}=arguments;for(let v=0,y=u;v<y;v++){const x=arguments[v];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=o.o;S===null&&(o.o=S=new WeakMap);const w=S.get(x);w===void 0?(o=eM(),S.set(x,o)):o=w}else{let S=o.p;S===null&&(o.p=S=new Map);const w=S.get(x);w===void 0?(o=eM(),S.set(x,o)):o=w}}const c=o;let h;if(o.s===Fz)h=o.v;else if(h=n.apply(null,arguments),a++,r){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&r(v,h)&&(h=v,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new mce(h):h}return c.s=Fz,c.v=h,h}return s.clearCache=()=>{t=eM(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function vce(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let a=0,s=0,o,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),uce(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...t,...u},{memoize:p,memoizeOptions:v=[],argsMemoize:y=e7,argsMemoizeOptions:x=[]}=h,S=Bz(v),w=Bz(x),A=hce(i),T=p(function(){return a++,c.apply(null,arguments)},...S),C=y(function(){s++;const R=dce(A,arguments);return o=T.apply(null,R),o},...w);return Object.assign(C,{resultFunc:c,memoizedResultFunc:T,dependencies:A,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var at=vce(e7),yce=Object.assign((n,e=at)=>{cce(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(a=>n[a]);return e(r,(...a)=>a.reduce((s,o,u)=>(s[t[u]]=o,s),{}))},{withTypes:()=>yce}),SN={},AN={},EN={},zz;function bce(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const t=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};n.compareValues=t})(EN)),EN}var MN={},TN={},Gz;function t7(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(TN)),TN}var Hz;function xce(){return Hz||(Hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=t7(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!t.test(a))||s!=null&&Object.hasOwn(s,a)}n.isKey=i})(MN)),MN}var Vz;function _ce(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=bce(),t=xce(),r=KU();function i(a,s,o,u){if(a==null)return[];o=u?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const c=(y,x)=>{let S=y;for(let w=0;w<x.length&&S!=null;++w)S=S[x[w]];return S},h=(y,x)=>x==null||y==null?x:typeof y=="object"&&"key"in y?Object.hasOwn(x,y.key)?x[y.key]:c(x,y.path):typeof y=="function"?y(x):Array.isArray(y)?c(x,y):typeof x=="object"?x[y]:x,p=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||t.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(x=>h(x,y))})).slice().sort((y,x)=>{for(let S=0;S<p.length;S++){const w=e.compareValues(y.criteria[S],x.criteria[S],o[S]);if(w!==0)return w}return 0}).map(y=>y.original)}n.orderBy=i})(AN)),AN}var CN={},jz;function wce(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r=1){const i=[],a=Math.floor(r),s=(o,u)=>{for(let c=0;c<o.length;c++){const h=o[c];Array.isArray(h)&&u<a?s(h,u+1):i.push(h)}};return s(t,0),i}n.flatten=e})(CN)),CN}var PN={},Wz;function n7(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=J9(),t=QU(),r=q9(),i=Y9();function a(s,o,u){return r.isObject(u)&&(typeof o=="number"&&t.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.eq(u[o],s):!1}n.isIterateeCall=a})(PN)),PN}var qz;function Sce(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_ce(),t=wce(),r=n7();function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,t.flatten(s),["asc"])}n.sortBy=i})(SN)),SN}var ON,Xz;function Ace(){return Xz||(Xz=1,ON=Sce().sortBy),ON}var Ece=Ace();const J3=Cu(Ece);var r7=n=>n.legend.settings,Mce=n=>n.legend.size,Tce=n=>n.legend.payload;at([Tce,r7],(n,e)=>{var{itemSorter:t}=e,r=n.flat(1);return t?J3(r,t):r});var tM=1;function Cce(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=z.useState({height:0,left:0,top:0,width:0}),r=z.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>tM||Math.abs(s.left-e.left)>tM||Math.abs(s.top-e.top)>tM||Math.abs(s.width-e.width)>tM)&&t({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,r]}function ts(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Pce=typeof Symbol=="function"&&Symbol.observable||"@@observable",Yz=Pce,RN=()=>Math.random().toString(36).substring(7).split("").join("."),Oce={INIT:`@@redux/INIT${RN()}`,REPLACE:`@@redux/REPLACE${RN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${RN()}`},tC=Oce;function e2(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function i7(n,e,t){if(typeof n!="function")throw new Error(ts(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ts(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ts(1));return t(i7)(n,e)}let r=n,i=e,a=new Map,s=a,o=0,u=!1;function c(){s===a&&(s=new Map,a.forEach((w,A)=>{s.set(A,w)}))}function h(){if(u)throw new Error(ts(3));return i}function p(w){if(typeof w!="function")throw new Error(ts(4));if(u)throw new Error(ts(5));let A=!0;c();const T=o++;return s.set(T,w),function(){if(A){if(u)throw new Error(ts(6));A=!1,c(),s.delete(T),a=null}}}function v(w){if(!e2(w))throw new Error(ts(7));if(typeof w.type>"u")throw new Error(ts(8));if(typeof w.type!="string")throw new Error(ts(17));if(u)throw new Error(ts(9));try{u=!0,i=r(i,w)}finally{u=!1}return(a=s).forEach(T=>{T()}),w}function y(w){if(typeof w!="function")throw new Error(ts(10));r=w,v({type:tC.REPLACE})}function x(){const w=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(ts(11));function T(){const O=A;O.next&&O.next(h())}return T(),{unsubscribe:w(T)}},[Yz](){return this}}}return v({type:tC.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:y,[Yz]:x}}function Rce(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:tC.INIT})>"u")throw new Error(ts(12));if(typeof t(void 0,{type:tC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ts(13))})}function a7(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const s=e[a];typeof n[s]=="function"&&(t[s]=n[s])}const r=Object.keys(t);let i;try{Rce(t)}catch(a){i=a}return function(s={},o){if(i)throw i;let u=!1;const c={};for(let h=0;h<r.length;h++){const p=r[h],v=t[p],y=s[p],x=v(y,o);if(typeof x>"u")throw o&&o.type,new Error(ts(14));c[p]=x,u=u||x!==y}return u=u||r.length!==Object.keys(s).length,u?c:s}}function nC(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function Nce(...n){return e=>(t,r)=>{const i=e(t,r);let a=()=>{throw new Error(ts(15))};const s={getState:i.getState,dispatch:(u,...c)=>a(u,...c)},o=n.map(u=>u(s));return a=nC(...o)(i.dispatch),{...i,dispatch:a}}}function s7(n){return e2(n)&&"type"in n&&typeof n.type=="string"}var o7=Symbol.for("immer-nothing"),Kz=Symbol.for("immer-draftable"),po=Symbol.for("immer-state");function lc(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Al=Object,kb=Al.getPrototypeOf,rC="constructor",eP="prototype",vI="configurable",iC="enumerable",IM="writable",ew="value",od=n=>!!n&&!!n[po];function vc(n){var e;return n?l7(n)||nP(n)||!!n[Kz]||!!((e=n[rC])!=null&&e[Kz])||rP(n)||iP(n):!1}var Dce=Al[eP][rC].toString(),$z=new WeakMap;function l7(n){if(!n||!t2(n))return!1;const e=kb(n);if(e===null||e===Al[eP])return!0;const t=Al.hasOwnProperty.call(e,rC)&&e[rC];if(t===Object)return!0;if(!my(t))return!1;let r=$z.get(t);return r===void 0&&(r=Function.toString.call(t),$z.set(t,r)),r===Dce}function tP(n,e,t=!0){Jw(n)===0?(t?Reflect.ownKeys(n):Al.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function Jw(n){const e=n[po];return e?e.type_:nP(n)?1:rP(n)?2:iP(n)?3:0}var Zz=(n,e,t=Jw(n))=>t===2?n.has(e):Al[eP].hasOwnProperty.call(n,e),yI=(n,e,t=Jw(n))=>t===2?n.get(e):n[e],aC=(n,e,t,r=Jw(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function Ice(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var nP=Array.isArray,rP=n=>n instanceof Map,iP=n=>n instanceof Set,t2=n=>typeof n=="object",my=n=>typeof n=="function",NN=n=>typeof n=="boolean";function Lce(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var Ph=n=>n.copy_||n.base_,n2=n=>n.modified_?n.copy_:n.base_;function bI(n,e){if(rP(n))return new Map(n);if(iP(n))return new Set(n);if(nP(n))return Array[eP].slice.call(n);const t=l7(n);if(e===!0||e==="class_only"&&!t){const r=Al.getOwnPropertyDescriptors(n);delete r[po];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[IM]===!1&&(o[IM]=!0,o[vI]=!0),(o.get||o.set)&&(r[s]={[vI]:!0,[IM]:!0,[iC]:o[iC],[ew]:n[s]})}return Al.create(kb(n),r)}else{const r=kb(n);if(r!==null&&t)return{...n};const i=Al.create(r);return Al.assign(i,n)}}function r2(n,e=!1){return aP(n)||od(n)||!vc(n)||(Jw(n)>1&&Al.defineProperties(n,{set:nM,add:nM,clear:nM,delete:nM}),Al.freeze(n),e&&tP(n,(t,r)=>{r2(r,!0)},!1)),n}function Uce(){lc(2)}var nM={[ew]:Uce};function aP(n){return n===null||!t2(n)?!0:Al.isFrozen(n)}var sC="MapSet",xI="Patches",Qz="ArrayMethods",u7={};function b0(n){const e=u7[n];return e||lc(0,n),e}var Jz=n=>!!u7[n],tw,c7=()=>tw,kce=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Jz(sC)?b0(sC):void 0,arrayMethodsPlugin_:Jz(Qz)?b0(Qz):void 0});function e5(n,e){e&&(n.patchPlugin_=b0(xI),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function _I(n){wI(n),n.drafts_.forEach(Bce),n.drafts_=null}function wI(n){n===tw&&(tw=n.parent_)}var t5=n=>tw=kce(tw,n);function Bce(n){const e=n[po];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function n5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[po].modified_&&(_I(e),lc(4)),vc(n)&&(n=r5(e,n));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[po].base_,n,e)}else n=r5(e,t);return Fce(e,n,!0),_I(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==o7?n:void 0}function r5(n,e){if(aP(e))return e;const t=e[po];if(!t)return oC(e,n.handledSet_,n);if(!sP(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);d7(t,n)}return t.copy_}function Fce(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&r2(e,t)}function f7(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var sP=(n,e)=>n.scope_===e,zce=[];function h7(n,e,t,r){const i=Ph(n),a=n.type_;if(r!==void 0&&yI(i,r,a)===e){aC(i,r,t,a);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;tP(i,(u,c)=>{if(od(c)){const h=o.get(c)||[];h.push(u),o.set(c,h)}})}const s=n.draftLocations_.get(e)??zce;for(const o of s)aC(i,o,t,a)}function Gce(n,e,t){n.callbacks_.push(function(i){var o;const a=e;if(!a||!sP(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=n2(a);h7(n,a.draft_??a,s,t),d7(a,i)})}function d7(n,e){var r;if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(((r=n.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(n);a&&i.generatePatches_(n,a,e)}f7(n)}}function Hce(n,e,t){const{scope_:r}=n;if(od(t)){const i=t[po];sP(i,r)&&i.callbacks_.push(function(){LM(n);const s=n2(i);h7(n,t,s,e)})}else vc(t)&&n.callbacks_.push(function(){const a=Ph(n);n.type_===3?a.has(t)&&oC(t,r.handledSet_,r):yI(a,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&oC(yI(n.copy_,e,n.type_),r.handledSet_,r)})}function oC(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||od(n)||e.has(n)||!vc(n)||aP(n)||(e.add(n),tP(n,(r,i)=>{if(od(i)){const a=i[po];if(sP(a,t)){const s=n2(a);aC(n,r,s,n.type_),f7(a)}}else vc(i)&&oC(i,e,t)})),n}function Vce(n,e){const t=nP(n),r={type_:t?1:0,scope_:e?e.scope_:c7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=lC;t&&(i=[r],a=nw);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var lC={get(n,e){if(e===po)return n;let t=n.scope_.arrayMethodsPlugin_;const r=n.type_===1&&typeof e=="string";if(r&&t!=null&&t.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const i=Ph(n);if(!Zz(i,e,n.type_))return jce(n,i,e);const a=i[e];if(n.finalized_||!vc(a)||r&&n.operationMethod&&(t!=null&&t.isMutatingArrayMethod(n.operationMethod))&&Lce(e))return a;if(a===DN(n.base_,e)){LM(n);const s=n.type_===1?+e:e,o=AI(n.scope_,a,n,s);return n.copy_[s]=o}return a},has(n,e){return e in Ph(n)},ownKeys(n){return Reflect.ownKeys(Ph(n))},set(n,e,t){const r=p7(Ph(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=DN(Ph(n),e),a=i==null?void 0:i[po];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(Ice(t,i)&&(t!==void 0||Zz(n.base_,e,n.type_)))return!0;LM(n),SI(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),Hce(n,e,t)),!0},deleteProperty(n,e){return LM(n),DN(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),SI(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Ph(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[IM]:!0,[vI]:n.type_!==1||e!=="length",[iC]:r[iC],[ew]:t[e]}},defineProperty(){lc(11)},getPrototypeOf(n){return kb(n.base_)},setPrototypeOf(){lc(12)}},nw={};for(let n in lC){let e=lC[n];nw[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}nw.deleteProperty=function(n,e){return nw.set.call(this,n,e,void 0)};nw.set=function(n,e,t){return lC.set.call(this,n[0],e,t,n[0])};function DN(n,e){const t=n[po];return(t?Ph(t):n)[e]}function jce(n,e,t){var i;const r=p7(e,t);return r?ew in r?r[ew]:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function p7(n,e){if(!(e in n))return;let t=kb(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=kb(t)}}function SI(n){n.modified_||(n.modified_=!0,n.parent_&&SI(n.parent_))}function LM(n){n.copy_||(n.assigned_=new Map,n.copy_=bI(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Wce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,i)=>{if(my(t)&&!my(r)){const s=r;r=t;const o=this;return function(c=s,...h){return o.produce(c,p=>r.call(this,p,...h))}}my(r)||lc(6),i!==void 0&&!my(i)&&lc(7);let a;if(vc(t)){const s=t5(this),o=AI(s,t,void 0);let u=!0;try{a=r(o),u=!1}finally{u?_I(s):wI(s)}return e5(s,i),n5(a,s)}else if(!t||!t2(t)){if(a=r(t),a===void 0&&(a=t),a===o7&&(a=void 0),this.autoFreeze_&&r2(a,!0),i){const s=[],o=[];b0(xI).generateReplacementPatches_(t,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else lc(1,t)},this.produceWithPatches=(t,r)=>{if(my(t))return(o,...u)=>this.produceWithPatches(o,c=>t(c,...u));let i,a;return[this.produce(t,r,(o,u)=>{i=o,a=u}),i,a]},NN(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),NN(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),NN(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vc(e)||lc(8),od(e)&&(e=mc(e));const t=t5(this),r=AI(t,e,void 0);return r[po].isManual_=!0,wI(t),r}finishDraft(e,t){const r=e&&e[po];(!r||!r.isManual_)&&lc(9);const{scope_:i}=r;return e5(i,t),n5(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const i=b0(xI).applyPatches_;return od(e)?i(e,t):this.produce(e,a=>i(a,t))}};function AI(n,e,t,r){const[i,a]=rP(e)?b0(sC).proxyMap_(e,t):iP(e)?b0(sC).proxySet_(e,t):Vce(e,t);return((t==null?void 0:t.scope_)??c7()).drafts_.push(i),a.callbacks_=(t==null?void 0:t.callbacks_)??[],a.key_=r,t&&r!==void 0?Gce(t,a,r):a.callbacks_.push(function(u){var h;(h=u.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:c}=u;a.modified_&&c&&c.generatePatches_(a,[],u)}),i}function mc(n){return od(n)||lc(10,n),m7(n)}function m7(n){if(!vc(n)||aP(n))return n;const e=n[po];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=bI(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=bI(n,!0);return tP(t,(i,a)=>{aC(t,i,m7(a))},r),e&&(e.finalized_=!1),t}var qce=new Wce,g7=qce.produce;function v7(n){return({dispatch:t,getState:r})=>i=>a=>typeof a=="function"?a(t,r,n):i(a)}var Xce=v7(),Yce=v7,Kce=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nC:nC.apply(null,arguments)};function Mu(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(Tl(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>s7(r)&&r.type===n,t}var y7=class c_ extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,c_.prototype)}static get[Symbol.species](){return c_}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new c_(...e[0].concat(this)):new c_(...e.concat(this))}};function i5(n){return vc(n)?g7(n,()=>{}):n}function rM(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function $ce(n){return typeof n=="boolean"}var Zce=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new y7;return t&&($ce(t)?s.push(Xce):s.push(Yce(t.extraArgument))),s},b7="RTK_autoBatch",ii=()=>n=>({payload:n,meta:{[b7]:!0}}),a5=n=>e=>{setTimeout(e,n)},x7=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,a=!1,s=!1;const o=new Set,u=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:a5(10):n.type==="callback"?n.queueNotification:a5(n.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),v=r.subscribe(p);return o.add(h),()=>{v(),o.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[b7]),a=!i,a&&(s||(s=!0,u(c))),r.dispatch(h)}finally{i=!0}}})},Qce=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new y7(n);return r&&i.push(x7(typeof r=="object"?r:void 0)),i};function Jce(n){const e=Zce(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(e2(t))o=a7(t);else throw new Error(Tl(1));let u;typeof r=="function"?u=r(e):u=e();let c=nC;i&&(c=Kce({trace:!1,...typeof i=="object"&&i}));const h=Nce(...u),p=Qce(h);let v=typeof s=="function"?s(p):p();const y=c(...v);return i7(o,a,y)}function _7(n){const e={},t=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Tl(28));if(o in e)throw new Error(Tl(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&t.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return t.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return n(i),[e,t,r]}function efe(n){return typeof n=="function"}function tfe(n,e){let[t,r,i]=_7(e),a;if(efe(n))a=()=>i5(n());else{const o=i5(n);a=()=>o}function s(o=a(),u){let c=[t[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,p)=>{if(p)if(od(h)){const y=p(h,u);return y===void 0?h:y}else{if(vc(h))return g7(h,v=>p(v,u));{const v=p(h,u);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},o)}return s.getInitialState=a,s}var nfe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rfe=(n=21)=>{let e="",t=n;for(;t--;)e+=nfe[Math.random()*64|0];return e},ife=Symbol.for("rtk-slice-createasyncthunk");function afe(n,e){return`${n}/${e}`}function sfe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[ife];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Tl(11));const o=(typeof i.reducers=="function"?i.reducers(lfe()):i.reducers)||{},u=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,R){const D=typeof O=="string"?O:O.type;if(!D)throw new Error(Tl(12));if(D in c.sliceCaseReducersByType)throw new Error(Tl(13));return c.sliceCaseReducersByType[D]=R,h},addMatcher(O,R){return c.sliceMatchers.push({matcher:O,reducer:R}),h},exposeAction(O,R){return c.actionCreators[O]=R,h},exposeCaseReducer(O,R){return c.sliceCaseReducersByName[O]=R,h}};u.forEach(O=>{const R=o[O],D={reducerName:O,type:afe(a,O),createNotation:typeof i.reducers=="function"};cfe(R)?hfe(D,R,h,e):ufe(D,R,h)});function p(){const[O={},R=[],D=void 0]=typeof i.extraReducers=="function"?_7(i.extraReducers):[i.extraReducers],I={...O,...c.sliceCaseReducersByType};return tfe(i.initialState,F=>{for(let L in I)F.addCase(L,I[L]);for(let L of c.sliceMatchers)F.addMatcher(L.matcher,L.reducer);for(let L of R)F.addMatcher(L.matcher,L.reducer);D&&F.addDefaultCase(D)})}const v=O=>O,y=new Map,x=new WeakMap;let S;function w(O,R){return S||(S=p()),S(O,R)}function A(){return S||(S=p()),S.getInitialState()}function T(O,R=!1){function D(F){let L=F[O];return typeof L>"u"&&R&&(L=rM(x,D,A)),L}function I(F=v){const L=rM(y,R,()=>new WeakMap);return rM(L,F,()=>{const k={};for(const[V,j]of Object.entries(i.selectors??{}))k[V]=ofe(j,F,()=>rM(x,F,A),R);return k})}return{reducerPath:O,getSelectors:I,get selectors(){return I(D)},selectSlice:D}}const C={name:a,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:A,...T(s),injectInto(O,{reducerPath:R,...D}={}){const I=R??s;return O.inject({reducerPath:I,reducer:w},D),{...C,...T(I,!0)}}};return C}}function ofe(n,e,t,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=t()),n(o,...s)}return i.unwrapped=n,i}var tl=sfe();function lfe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function ufe({type:n,reducerName:e,createNotation:t},r,i){let a,s;if("reducer"in r){if(t&&!ffe(r))throw new Error(Tl(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,s?Mu(n,s):Mu(n))}function cfe(n){return n._reducerDefinitionType==="asyncThunk"}function ffe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function hfe({type:n,reducerName:e},t,r,i){if(!i)throw new Error(Tl(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:u,settled:c,options:h}=t,p=i(n,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),o&&r.addCase(p.pending,o),u&&r.addCase(p.rejected,u),c&&r.addMatcher(p.settled,c),r.exposeCaseReducer(e,{fulfilled:s||iM,pending:o||iM,rejected:u||iM,settled:c||iM})}function iM(){}var dfe="task",w7="listener",S7="completed",i2="cancelled",pfe=`task-${i2}`,mfe=`task-${S7}`,EI=`${w7}-${i2}`,gfe=`${w7}-${S7}`,oP=class{constructor(n){ke(this,"name","TaskAbortError");ke(this,"message");this.code=n,this.message=`${dfe} ${i2} (reason: ${n})`}},a2=(n,e)=>{if(typeof n!="function")throw new TypeError(Tl(32))},uC=()=>{},A7=(n,e=uC)=>(n.catch(e),n),E7=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),l0=n=>{if(n.aborted)throw new oP(n.reason)};function M7(n,e){let t=uC;return new Promise((r,i)=>{const a=()=>i(new oP(n.reason));if(n.aborted){a();return}t=E7(n,a),e.finally(()=>t()).then(r,i)}).finally(()=>{t=uC})}var vfe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof oP?"cancelled":"rejected",error:t}}finally{e==null||e()}},cC=n=>e=>A7(M7(n,e).then(t=>(l0(n),t))),T7=n=>{const e=cC(n);return t=>e(new Promise(r=>setTimeout(r,t)))},{assign:Ny}=Object,s5={},lP="listenerMiddleware",yfe=(n,e)=>{const t=r=>E7(n,()=>r.abort(n.reason));return(r,i)=>{a2(r);const a=new AbortController;t(a);const s=vfe(async()=>{l0(n),l0(a.signal);const o=await r({pause:cC(a.signal),delay:T7(a.signal),signal:a.signal});return l0(a.signal),o},()=>a.abort(mfe));return i!=null&&i.autoJoin&&e.push(s.catch(uC)),{result:cC(n)(s),cancel(){a.abort(pfe)}}}},bfe=(n,e)=>{const t=async(r,i)=>{l0(e);let a=()=>{};const o=[new Promise((u,c)=>{let h=n({predicate:r,effect:(p,v)=>{v.unsubscribe(),u([p,v.getState(),v.getOriginalState()])}});a=()=>{h(),c()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await M7(e,Promise.race(o));return l0(e),u}finally{a()}};return(r,i)=>A7(t(r,i))},C7=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:a}=n;if(e)i=Mu(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(Tl(21));return a2(a),{predicate:i,type:e,effect:a}},P7=Ny(n=>{const{type:e,predicate:t,effect:r}=C7(n);return{id:rfe(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Tl(22))}}},{withTypes:()=>P7}),o5=(n,e)=>{const{type:t,effect:r,predicate:i}=C7(e);return Array.from(n.values()).find(a=>(typeof t=="string"?a.type===t:a.predicate===i)&&a.effect===r)},MI=n=>{n.pending.forEach(e=>{e.abort(EI)})},xfe=(n,e)=>()=>{for(const t of e.keys())MI(t);n.clear()},l5=(n,e,t)=>{try{n(e,t)}catch(r){setTimeout(()=>{throw r},0)}},O7=Ny(Mu(`${lP}/add`),{withTypes:()=>O7}),_fe=Mu(`${lP}/removeAll`),R7=Ny(Mu(`${lP}/remove`),{withTypes:()=>R7}),wfe=(...n)=>{console.error(`${lP}/error`,...n)},eS=(n={})=>{const e=new Map,t=new Map,r=y=>{const x=t.get(y)??0;t.set(y,x+1)},i=y=>{const x=t.get(y)??1;x===1?t.delete(y):t.set(y,x-1)},{extra:a,onError:s=wfe}=n;a2(s);const o=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),x=>{y.unsubscribe(),x!=null&&x.cancelActive&&MI(y)}),u=y=>{const x=o5(e,y)??P7(y);return o(x)};Ny(u,{withTypes:()=>u});const c=y=>{const x=o5(e,y);return x&&(x.unsubscribe(),y.cancelActive&&MI(x)),!!x};Ny(c,{withTypes:()=>c});const h=async(y,x,S,w)=>{const A=new AbortController,T=bfe(u,A.signal),C=[];try{y.pending.add(A),r(y),await Promise.resolve(y.effect(x,Ny({},S,{getOriginalState:w,condition:(O,R)=>T(O,R).then(Boolean),take:T,delay:T7(A.signal),pause:cC(A.signal),extra:a,signal:A.signal,fork:yfe(A.signal,C),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((O,R,D)=>{O!==A&&(O.abort(EI),D.delete(O))})},cancel:()=>{A.abort(EI),y.pending.delete(A)},throwIfCancelled:()=>{l0(A.signal)}})))}catch(O){O instanceof oP||l5(s,O,{raisedBy:"effect"})}finally{await Promise.all(C),A.abort(gfe),i(y),y.pending.delete(A)}},p=xfe(e,t);return{middleware:y=>x=>S=>{if(!s7(S))return x(S);if(O7.match(S))return u(S.payload);if(_fe.match(S)){p();return}if(R7.match(S))return c(S.payload);let w=y.getState();const A=()=>{if(w===s5)throw new Error(Tl(23));return w};let T;try{if(T=x(S),e.size>0){const C=y.getState(),O=Array.from(e.values());for(const R of O){let D=!1;try{D=R.predicate(S,C,w)}catch(I){D=!1,l5(s,I,{raisedBy:"predicate"})}D&&h(R,S,y,A)}}}finally{w=s5}return T},startListening:u,stopListening:c,clearListeners:p}};function Tl(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Sfe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},N7=tl({name:"chartLayout",initialState:Sfe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,r,i,a;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,n.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,n.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:Afe,setLayout:Efe,setChartSize:Mfe,setScale:Tfe}=N7.actions,Cfe=N7.reducer;function D7(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function ai(n){return Number.isFinite(n)}function nm(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function u5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(t),!0).forEach(function(r){Pfe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Pfe(n,e,t){return(e=Ofe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ofe(n){var e=Rfe(n,"string");return typeof e=="symbol"?e:e+""}function Rfe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function os(n,e,t){return Ua(n)||Ua(e)?t:Eu(e)?Q3(n,e,t):typeof e=="function"?e(n):t}var Nfe=(n,e,t)=>{if(e&&t){var{width:r,height:i}=t,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&un(n[a]))return wy(wy({},n),{},{[a]:n[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&un(n[s]))return wy(wy({},n),{},{[s]:n[s]+(i||0)})}return n},um=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",c5=1e-4,Dfe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,r=n.range(),i=Math.min(r[0],r[1])-c5,a=Math.max(r[0],r[1])+c5,s=n(e[0]),o=n(e[t-1]);(s<i||s>a||o<i||o>a)&&n.domain([e[0],e[t-1]])}},Ife=n=>{var e,t=n.length;if(!(t<=0)){var r=(e=n[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<t;++o){var u=n[o],c=u==null?void 0:u[i];if(c!=null){var h=c[1],p=c[0],v=gc(h)?p:h;v>=0?(c[0]=a,c[1]=a+v,a=h):(c[0]=s,c[1]=s+v,s=h)}}}},Lfe=n=>{var e,t=n.length;if(!(t<=0)){var r=(e=n[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<t;++s){var o=n[s],u=o==null?void 0:o[i];if(u!=null){var c=gc(u[1])?u[0]:u[1];c>=0?(u[0]=a,u[1]=a+c,a=u[1]):(u[0]=0,u[1]=0)}}}},Ufe={sign:Ife,expand:pue,none:y0,silhouette:mue,wiggle:gue,positive:Lfe},kfe=(n,e,t)=>{var r,i=(r=Ufe[t])!==null&&r!==void 0?r:y0,a=due().keys(e).value((o,u)=>Number(os(o,u,0))).order(mI).offset(i),s=a(n);return s.forEach((o,u)=>{o.forEach((c,h)=>{var p=os(n[h],e[u],0);Array.isArray(p)&&p.length===2&&un(p[0])&&un(p[1])&&(c[0]=p[0],c[1]=p[1])})}),s};function f5(n){var{axis:e,ticks:t,bandSize:r,entry:i,index:a,dataKey:s}=n;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ua(i[e.dataKey])){var o=G9(t,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return t[a]?t[a].coordinate+r/2:null}var u=os(i,Ua(s)?e.dataKey:s);return Ua(u)?null:e.scale(u)}var Bfe=n=>{var e=n.flat(2).filter(un);return[Math.min(...e),Math.max(...e)]},Ffe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],zfe=(n,e,t)=>{if(n!=null)return Ffe(Object.keys(n).reduce((r,i)=>{var a=n[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((u,c)=>{var h=D7(c,e,t),p=Bfe(h);return!ai(p[0])||!ai(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},h5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fC=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var r=n.scale.bandwidth();if(!t||r>0)return r}if(n&&e&&e.length>=2){for(var i=J3(e,h=>h.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var u=i[s],c=i[s-1];a=Math.min(((u==null?void 0:u.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return t?void 0:0};function p5(n){var{tooltipEntrySettings:e,dataKey:t,payload:r,value:i,name:a}=n;return wy(wy({},e),{},{dataKey:t,payload:r,value:i,name:a})}function I7(n,e){if(n)return String(n);if(typeof e=="string")return e}var Gfe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},Hfe=(n,e)=>e==="centric"?n.angle:n.radius,vd=n=>n.layout.width,yd=n=>n.layout.height,Vfe=n=>n.layout.scale,L7=n=>n.layout.margin,uP=at(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),cP=at(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),jfe="data-recharts-item-index",Wfe="data-recharts-item-id",tS=60;function m5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function aM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(t),!0).forEach(function(r){qfe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qfe(n,e,t){return(e=Xfe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xfe(n){var e=Yfe(n,"string");return typeof e=="symbol"?e:e+""}function Yfe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Kfe=n=>n.brush.height;function $fe(n){var e=cP(n);return e.reduce((t,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:tS;return t+i}return t},0)}function Zfe(n){var e=cP(n);return e.reduce((t,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:tS;return t+i}return t},0)}function Qfe(n){var e=uP(n);return e.reduce((t,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?t+r.height:t,0)}function Jfe(n){var e=uP(n);return e.reduce((t,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?t+r.height:t,0)}var us=at([vd,yd,L7,Kfe,$fe,Zfe,Qfe,Jfe,r7,Mce],(n,e,t,r,i,a,s,o,u,c)=>{var h={left:(t.left||0)+i,right:(t.right||0)+a},p={top:(t.top||0)+s,bottom:(t.bottom||0)+o},v=aM(aM({},p),h),y=v.bottom;v.bottom+=r,v=Nfe(v,u,c);var x=n-v.left-v.right,S=e-v.top-v.bottom;return aM(aM({brushBottom:y},v),{},{width:Math.max(x,0),height:Math.max(S,0)})}),ehe=at(us,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),the=at(vd,yd,(n,e)=>({x:0,y:0,width:n,height:e})),nhe=z.createContext(null),Rl=()=>z.useContext(nhe)!=null,fP=n=>n.brush,hP=at([fP,us,L7],(n,e,t)=>({height:n.height,x:un(n.x)?n.x:e.left,y:un(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:un(n.width)?n.width:e.width})),IN={},LN={},UN={},g5;function rhe(){return g5||(g5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r,{signal:i,edges:a}={}){let s,o=null;const u=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),h=()=>{o!==null&&(t.apply(s,o),s=void 0,o=null)},p=()=>{c&&h(),S()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},x=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{x(),s=void 0,o=null},w=()=>{h()},A=function(...T){if(i!=null&&i.aborted)return;s=this,o=T;const C=v==null;y(),u&&C&&h()};return A.schedule=y,A.cancel=S,A.flush=w,i==null||i.addEventListener("abort",S,{once:!0}),A}n.debounce=e})(UN)),UN}var v5;function ihe(){return v5||(v5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=rhe();function t(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:u}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let h,p=null;const v=e.debounce(function(...S){h=r.apply(this,S),p=null},i,{edges:c}),y=function(...S){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,S),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,S),h)},x=()=>(v.flush(),h);return y.cancel=v.cancel,y.flush=x,y}n.debounce=t})(LN)),LN}var y5;function ahe(){return y5||(y5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ihe();function t(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}n.throttle=t})(IN)),IN}var kN,b5;function she(){return b5||(b5=1,kN=ahe().throttle),kN}var ohe=she();const lhe=Cu(ohe);var x5=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(t.replace(/%s/g,()=>i[s++]))}},U7=(n,e,t)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=t,o=sd(r)?n:Number(r),u=sd(i)?e:Number(i);return a&&a>0&&(o?u=o/a:u&&(o=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:o,calculatedHeight:u}},uhe={width:0,height:0,overflow:"visible"},che={width:0,overflowX:"visible"},fhe={height:0,overflowY:"visible"},hhe={},dhe=n=>{var{width:e,height:t}=n,r=sd(e),i=sd(t);return r&&i?uhe:r?che:i?fhe:hhe};function phe(n){var{width:e,height:t,aspect:r}=n,i=e,a=t;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function TI(){return TI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},TI.apply(null,arguments)}function _5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function w5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_5(Object(t),!0).forEach(function(r){mhe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mhe(n,e,t){return(e=ghe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ghe(n){var e=vhe(n,"string");return typeof e=="symbol"?e:e+""}function vhe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var k7=z.createContext({width:-1,height:-1});function yhe(n){return nm(n.width)&&nm(n.height)}function B7(n){var{children:e,width:t,height:r}=n,i=z.useMemo(()=>({width:t,height:r}),[t,r]);return yhe(i)?z.createElement(k7.Provider,{value:i},e):null}var s2=()=>z.useContext(k7),bhe=z.forwardRef((n,e)=>{var{aspect:t,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:u,children:c,debounce:h=0,id:p,className:v,onResize:y,style:x={}}=n,S=z.useRef(null),w=z.useRef();w.current=y,z.useImperativeHandle(e,()=>S.current);var[A,T]=z.useState({containerWidth:r.width,containerHeight:r.height}),C=z.useCallback((F,L)=>{T(k=>{var V=Math.round(F),j=Math.round(L);return k.containerWidth===V&&k.containerHeight===j?k:{containerWidth:V,containerHeight:j}})},[]);z.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Qw;var F=j=>{var Y,{width:re,height:Q}=j[0].contentRect;C(re,Q),(Y=w.current)===null||Y===void 0||Y.call(w,re,Q)};h>0&&(F=lhe(F,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(F),{width:k,height:V}=S.current.getBoundingClientRect();return C(k,V),L.observe(S.current),()=>{L.disconnect()}},[C,h]);var{containerWidth:O,containerHeight:R}=A;x5(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:I}=U7(O,R,{width:i,height:a,aspect:t,maxHeight:u});return x5(D!=null&&D>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,I,i,a,s,o,t),z.createElement("div",{id:p?"".concat(p):void 0,className:Nr("recharts-responsive-container",v),style:w5(w5({},x),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:u}),ref:S},z.createElement("div",{style:dhe({width:i,height:a})},z.createElement(B7,{width:D,height:I},c)))}),xhe=z.forwardRef((n,e)=>{var t=s2();if(nm(t.width)&&nm(t.height))return n.children;var{width:r,height:i}=phe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:a,calculatedHeight:s}=U7(void 0,void 0,{width:r,height:i,aspect:n.aspect,maxHeight:n.maxHeight});return un(a)&&un(s)?z.createElement(B7,{width:a,height:s},n.children):z.createElement(bhe,TI({},n,{width:r,height:i,ref:e}))});function F7(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var nS=()=>{var n,e=Rl(),t=fn(ehe),r=fn(hP),i=(n=fn(fP))===null||n===void 0?void 0:n.padding;return!e||!r||!i?t:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},_he={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},whe=()=>{var n;return(n=fn(us))!==null&&n!==void 0?n:_he},She=()=>fn(vd),Ahe=()=>fn(yd),$r=n=>n.layout.layoutType,rS=()=>fn($r),Ehe=()=>{var n=rS();return n!==void 0},dP=n=>{var e=ka(),t=Rl(),{width:r,height:i}=n,a=s2(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),z.useEffect(()=>{!t&&nm(s)&&nm(o)&&e(Mfe({width:s,height:o}))},[e,t,s,o]),null},z7=Symbol.for("immer-nothing"),S5=Symbol.for("immer-draftable"),Pl=Symbol.for("immer-state");function uc(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var rw=Object.getPrototypeOf;function Bb(n){return!!n&&!!n[Pl]}function x0(n){var e;return n?G7(n)||Array.isArray(n)||!!n[S5]||!!((e=n.constructor)!=null&&e[S5])||iS(n)||mP(n):!1}var Mhe=Object.prototype.constructor.toString(),A5=new WeakMap;function G7(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let r=A5.get(t);return r===void 0&&(r=Function.toString.call(t),A5.set(t,r)),r===Mhe}function hC(n,e,t=!0){pP(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function pP(n){const e=n[Pl];return e?e.type_:Array.isArray(n)?1:iS(n)?2:mP(n)?3:0}function CI(n,e){return pP(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function H7(n,e,t){const r=pP(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function The(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function iS(n){return n instanceof Map}function mP(n){return n instanceof Set}function vg(n){return n.copy_||n.base_}function PI(n,e){if(iS(n))return new Map(n);if(mP(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=G7(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Pl];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[s]})}return Object.create(rw(n),r)}else{const r=rw(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function o2(n,e=!1){return gP(n)||Bb(n)||!x0(n)||(pP(n)>1&&Object.defineProperties(n,{set:sM,add:sM,clear:sM,delete:sM}),Object.freeze(n),e&&Object.values(n).forEach(t=>o2(t,!0))),n}function Che(){uc(2)}var sM={value:Che};function gP(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var Phe={};function _0(n){const e=Phe[n];return e||uc(0,n),e}var iw;function V7(){return iw}function Ohe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function E5(n,e){e&&(_0("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function OI(n){RI(n),n.drafts_.forEach(Rhe),n.drafts_=null}function RI(n){n===iw&&(iw=n.parent_)}function M5(n){return iw=Ohe(iw,n)}function Rhe(n){const e=n[Pl];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function T5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Pl].modified_&&(OI(e),uc(4)),x0(n)&&(n=dC(e,n),e.parent_||pC(e,n)),e.patches_&&_0("Patches").generateReplacementPatches_(t[Pl].base_,n,e.patches_,e.inversePatches_)):n=dC(e,t,[]),OI(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==z7?n:void 0}function dC(n,e,t){if(gP(e))return e;const r=n.immer_.shouldUseStrictIteration(),i=e[Pl];if(!i)return hC(e,(a,s)=>C5(n,i,e,a,s,t),r),e;if(i.scope_!==n)return e;if(!i.modified_)return pC(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),hC(s,(u,c)=>C5(n,i,a,u,c,t,o),r),pC(n,a,!1),t&&n.patches_&&_0("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function C5(n,e,t,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=gP(i);if(!(o&&!s)){if(Bb(i)){const u=a&&e&&e.type_!==3&&!CI(e.assigned_,r)?a.concat(r):void 0,c=dC(n,i,u);if(H7(t,r,c),Bb(c))n.canAutoFreeze_=!1;else return}else s&&t.add(i);if(x0(i)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;dC(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(iS(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&pC(n,i)}}}function pC(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&o2(e,t)}function Nhe(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:V7(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=l2;t&&(i=[r],a=aw);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var l2={get(n,e){if(e===Pl)return n;const t=vg(n);if(!CI(t,e))return Dhe(n,t,e);const r=t[e];return n.finalized_||!x0(r)?r:r===BN(n.base_,e)?(FN(n),n.copy_[e]=DI(r,n)):r},has(n,e){return e in vg(n)},ownKeys(n){return Reflect.ownKeys(vg(n))},set(n,e,t){const r=j7(vg(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=BN(vg(n),e),a=i==null?void 0:i[Pl];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(The(t,i)&&(t!==void 0||CI(n.base_,e)))return!0;FN(n),NI(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return BN(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,FN(n),NI(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=vg(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){uc(11)},getPrototypeOf(n){return rw(n.base_)},setPrototypeOf(){uc(12)}},aw={};hC(l2,(n,e)=>{aw[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});aw.deleteProperty=function(n,e){return aw.set.call(this,n,e,void 0)};aw.set=function(n,e,t){return l2.set.call(this,n[0],e,t,n[0])};function BN(n,e){const t=n[Pl];return(t?vg(t):n)[e]}function Dhe(n,e,t){var i;const r=j7(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function j7(n,e){if(!(e in n))return;let t=rw(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=rw(t)}}function NI(n){n.modified_||(n.modified_=!0,n.parent_&&NI(n.parent_))}function FN(n){n.copy_||(n.copy_=PI(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Ihe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const s=this;return function(u=a,...c){return s.produce(u,h=>t.call(this,h,...c))}}typeof t!="function"&&uc(6),r!==void 0&&typeof r!="function"&&uc(7);let i;if(x0(e)){const a=M5(this),s=DI(e,void 0);let o=!0;try{i=t(s),o=!1}finally{o?OI(a):RI(a)}return E5(a,r),T5(i,a)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===z7&&(i=void 0),this.autoFreeze_&&o2(i,!0),r){const a=[],s=[];_0("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else uc(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,u=>e(u,...o));let r,i;return[this.produce(e,t,(s,o)=>{r=s,i=o}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){x0(n)||uc(8),Bb(n)&&(n=Lhe(n));const e=M5(this),t=DI(n,void 0);return t[Pl].isManual_=!0,RI(e),t}finishDraft(n,e){const t=n&&n[Pl];(!t||!t.isManual_)&&uc(9);const{scope_:r}=t;return E5(r,e),T5(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=_0("Patches").applyPatches_;return Bb(n)?r(n,e):this.produce(n,i=>r(i,e))}};function DI(n,e){const t=iS(n)?_0("MapSet").proxyMap_(n,e):mP(n)?_0("MapSet").proxySet_(n,e):Nhe(n,e);return(e?e.scope_:V7()).drafts_.push(t),t}function Lhe(n){return Bb(n)||uc(10,n),W7(n)}function W7(n){if(!x0(n)||gP(n))return n;const e=n[Pl];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=PI(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=PI(n,!0);return hC(t,(i,a)=>{H7(t,i,W7(a))},r),e&&(e.finalized_=!1),t}var Uhe=new Ihe;Uhe.produce;var khe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},q7=tl({name:"legend",initialState:khe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:ii()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:r}=e.payload,i=mc(n).payload.indexOf(t);i>-1&&(n.payload[i]=r)},prepare:ii()},removeLegendPayload:{reducer(n,e){var t=mc(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:ii()}}}),{setLegendSize:R3e,setLegendSettings:N3e,addLegendPayload:Bhe,replaceLegendPayload:Fhe,removeLegendPayload:zhe}=q7.actions,Ghe=q7.reducer;function II(){return II=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},II.apply(null,arguments)}function P5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(t),!0).forEach(function(r){Hhe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Hhe(n,e,t){return(e=Vhe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vhe(n){var e=jhe(n,"string");return typeof e=="symbol"?e:e+""}function jhe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Whe(n){return Array.isArray(n)&&Eu(n[0])&&Eu(n[1])?n.join(" ~ "):n}var qhe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:u,labelClassName:c,label:h,labelFormatter:p,accessibilityLayer:v=!1}=n,y=()=>{if(a&&a.length){var R={padding:0,margin:0},D=(o?J3(a,o):a).map((I,F)=>{if(I.type==="none")return null;var L=I.formatter||s||Whe,{value:k,name:V}=I,j=k,Y=V;if(L){var re=L(k,V,I,F,a);if(Array.isArray(re))[j,Y]=re;else if(re!=null)j=re;else return null}var Q=zN({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:Q},Eu(Y)?z.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Eu(Y)?z.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,z.createElement("span",{className:"recharts-tooltip-item-value"},j),z.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:R},D)}return null},x=zN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),S=zN({margin:0},i),w=!Ua(h),A=w?h:"",T=Nr("recharts-default-tooltip",u),C=Nr("recharts-tooltip-label",c);w&&p&&a!==void 0&&a!==null&&(A=p(h,a));var O=v?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",II({className:T,style:x},O),z.createElement("p",{className:C,style:S},z.isValidElement(A)?A:"".concat(A)),y())},K1="recharts-tooltip-wrapper",Xhe={visibility:"hidden"};function Yhe(n){var{coordinate:e,translateX:t,translateY:r}=n;return Nr(K1,{["".concat(K1,"-right")]:un(t)&&e&&un(e.x)&&t>=e.x,["".concat(K1,"-left")]:un(t)&&e&&un(e.x)&&t<e.x,["".concat(K1,"-bottom")]:un(r)&&e&&un(e.y)&&r>=e.y,["".concat(K1,"-top")]:un(r)&&e&&un(e.y)&&r<e.y})}function O5(n){var{allowEscapeViewBox:e,coordinate:t,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:u,viewBoxDimension:c}=n;if(a&&un(a[r]))return a[r];var h=t[r]-o-(i>0?i:0),p=t[r]+i;if(e[r])return s[r]?h:p;var v=u[r];if(v==null)return 0;if(s[r]){var y=h,x=v;return y<x?Math.max(p,v):Math.max(h,v)}if(c==null)return 0;var S=p+o,w=v+c;return S>w?Math.max(h,v):Math.max(p,v)}function Khe(n){var{translateX:e,translateY:t,useTranslate3d:r}=n;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function $he(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:u}=n,c,h,p;return s.height>0&&s.width>0&&t?(h=O5({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),p=O5({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=Khe({translateX:h,translateY:p,useTranslate3d:o})):c=Xhe,{cssProperties:c,cssClasses:Yhe({translateX:h,translateY:p,coordinate:t})}}function R5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function oM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(t),!0).forEach(function(r){LI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function LI(n,e,t){return(e=Zhe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zhe(n){var e=Qhe(n,"string");return typeof e=="symbol"?e:e+""}function Qhe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Jhe extends z.PureComponent{constructor(){super(...arguments),LI(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),LI(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&t!==void 0?t:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:u,offset:c,position:h,reverseDirection:p,useTranslate3d:v,viewBox:y,wrapperStyle:x,lastBoundingBox:S,innerRef:w,hasPortalFromProps:A}=this.props,{cssClasses:T,cssProperties:C}=$he({allowEscapeViewBox:t,coordinate:s,offsetTopLeft:c,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:y}),O=A?{}:oM(oM({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),R=oM(oM({},O),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},x);return z.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:R,ref:w},a)}}var X7=()=>{var n;return(n=fn(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function UI(){return UI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UI.apply(null,arguments)}function N5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function D5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(t),!0).forEach(function(r){ede(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ede(n,e,t){return(e=tde(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tde(n){var e=nde(n,"string");return typeof e=="symbol"?e:e+""}function nde(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var I5={curveBasisClosed:nue,curveBasisOpen:rue,curveBasis:tue,curveBumpX:Gle,curveBumpY:Hle,curveLinearClosed:iue,curveLinear:$3,curveMonotoneX:aue,curveMonotoneY:sue,curveNatural:oue,curveStep:lue,curveStepAfter:cue,curveStepBefore:uue},mC=n=>ai(n.x)&&ai(n.y),L5=n=>n.base!=null&&mC(n.base)&&mC(n),$1=n=>n.x,Z1=n=>n.y,rde=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(Zw(n));return(t==="curveMonotone"||t==="curveBump")&&e?I5["".concat(t).concat(e==="vertical"?"Y":"X")]:I5[t]||$3},ide=n=>{var{type:e="linear",points:t=[],baseLine:r,layout:i,connectNulls:a=!1}=n,s=rde(e,i),o=a?t.filter(mC):t,u;if(Array.isArray(r)){var c=t.map((y,x)=>D5(D5({},y),{},{base:r[x]}));i==="vertical"?u=JE().y(Z1).x1($1).x0(y=>y.base.x):u=JE().x($1).y1(Z1).y0(y=>y.base.y);var h=u.defined(L5).curve(s),p=a?c.filter(L5):c;return h(p)}i==="vertical"&&un(r)?u=JE().y(Z1).x1($1).x0(r):un(r)?u=JE().x($1).y1(Z1).y0(r):u=C9().x($1).y(Z1);var v=u.defined(mC).curve(s);return v(o)},Y7=n=>{var{className:e,points:t,path:r,pathRef:i}=n,a=rS();if((!t||!t.length)&&!r)return null;var s={type:n.type,points:n.points,baseLine:n.baseLine,layout:n.layout||a,connectNulls:n.connectNulls},o=t&&t.length?ide(s):r;return z.createElement("path",UI({},id(n),ZU(n),{className:Nr("recharts-curve",e),d:o===null?void 0:o,ref:i}))},ade=["x","y","top","left","width","height","className"];function kI(){return kI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kI.apply(null,arguments)}function U5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function sde(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(t),!0).forEach(function(r){ode(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):U5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ode(n,e,t){return(e=lde(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lde(n){var e=ude(n,"string");return typeof e=="symbol"?e:e+""}function ude(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cde(n,e){if(n==null)return{};var t,r,i=fde(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function fde(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var hde=(n,e,t,r,i,a)=>"M".concat(n,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(t),dde=n=>{var{x:e=0,y:t=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=n,u=cde(n,ade),c=sde({x:e,y:t,top:r,left:i,width:a,height:s},u);return!un(e)||!un(t)||!un(a)||!un(s)||!un(r)||!un(i)?null:z.createElement("path",kI({},Ds(c),{className:Nr("recharts-cross",o),d:hde(e,t,a,s,r,i)}))};function pde(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function k5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function B5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(t),!0).forEach(function(r){mde(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mde(n,e,t){return(e=gde(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gde(n){var e=vde(n,"string");return typeof e=="symbol"?e:e+""}function vde(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var yde=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),K7=(n,e,t)=>n.map(r=>"".concat(yde(r)," ").concat(e,"ms ").concat(t)).join(","),bde=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,r)=>t.filter(i=>r.includes(i))),sw=(n,e)=>Object.keys(e).reduce((t,r)=>B5(B5({},t),{},{[r]:n(r,e[r])}),{});function F5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function da(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(t),!0).forEach(function(r){xde(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xde(n,e,t){return(e=_de(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _de(n){var e=wde(n,"string");return typeof e=="symbol"?e:e+""}function wde(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var gC=(n,e,t)=>n+(e-n)*t,BI=n=>{var{from:e,to:t}=n;return e!==t},$7=(n,e,t)=>{var r=sw((i,a)=>{if(BI(a)){var[s,o]=n(a.from,a.to,a.velocity);return da(da({},a),{},{from:s,velocity:o})}return a},e);return t<1?sw((i,a)=>BI(a)&&r[i]!=null?da(da({},a),{},{velocity:gC(a.velocity,r[i].velocity,t),from:gC(a.from,r[i].from,t)}):a,e):$7(n,r,t-1)};function Sde(n,e,t,r,i,a){var s,o=r.reduce((v,y)=>da(da({},v),{},{[y]:{from:n[y],velocity:0,to:e[y]}}),{}),u=()=>sw((v,y)=>y.from,o),c=()=>!Object.values(o).filter(BI).length,h=null,p=v=>{s||(s=v);var y=v-s,x=y/t.dt;o=$7(t,o,x),i(da(da(da({},n),e),u())),s=v,c()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var v;(v=h)===null||v===void 0||v()})}function Ade(n,e,t,r,i,a,s){var o=null,u=i.reduce((p,v)=>{var y=n[v],x=e[v];return y==null||x==null?p:da(da({},p),{},{[v]:[y,x]})},{}),c,h=p=>{c||(c=p);var v=(p-c)/r,y=sw((S,w)=>gC(...w,t(v)),u);if(a(da(da(da({},n),e),y)),v<1)o=s.setTimeout(h);else{var x=sw((S,w)=>gC(...w,t(1)),u);a(da(da(da({},n),e),x))}};return()=>(o=s.setTimeout(h),()=>{var p;(p=o)===null||p===void 0||p()})}const Ede=(n,e,t,r,i,a)=>{var s=bde(n,e);return t==null?()=>(i(da(da({},n),e)),()=>{}):t.isStepper===!0?Sde(n,e,t,s,i,a):Ade(n,e,t,r,s,i,a)};var vC=1e-4,Z7=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],Q7=(n,e)=>n.map((t,r)=>t*e**r).reduce((t,r)=>t+r),z5=(n,e)=>t=>{var r=Z7(n,e);return Q7(r,t)},Mde=(n,e)=>t=>{var r=Z7(n,e),i=[...r.map((a,s)=>a*s).slice(1),0];return Q7(i,t)},Tde=n=>{var e,t=n.split("(");if(t.length!==2||t[0]!=="cubic-bezier")return null;var r=(e=t[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Cde=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Tde(t[0]);if(i)return i}}return t.length===4?t:[0,0,1,1]},Pde=(n,e,t,r)=>{var i=z5(n,t),a=z5(e,r),s=Mde(n,t),o=c=>c>1?1:c<0?0:c,u=c=>{for(var h=c>1?1:c,p=h,v=0;v<8;++v){var y=i(p)-h,x=s(p);if(Math.abs(y-h)<vC||x<vC)return a(p);p=o(p-y/x)}return a(p)};return u.isStepper=!1,u},G5=function(){return Pde(...Cde(...arguments))},Ode=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:r=8,dt:i=17}=e,a=(s,o,u)=>{var c=-(s-o)*t,h=u*r,p=u+(c-h)*i/1e3,v=u*i/1e3+s;return Math.abs(v-o)<vC&&Math.abs(p)<vC?[o,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},Rde=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G5(n);case"spring":return Ode();default:if(n.split("(")[0]==="cubic-bezier")return G5(n)}return typeof n=="function"?n:null};function Nde(n){var e,t=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[u,...c]=o;if(typeof u=="number"){i=n.setTimeout(a.bind(null,c),u);return}a(u),i=n.setTimeout(a.bind(null,c));return}typeof s=="string"&&(e=s,t(e)),typeof s=="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(t=s,()=>{t=()=>null}),getTimeoutController:()=>n}}class Dde{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=t?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Ide(){return Nde(new Dde)}var Lde=z.createContext(Ide);function Ude(n,e){var t=z.useContext(Lde);return z.useMemo(()=>e??t(n),[n,e,t])}var kde=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vP={isSsr:kde()},Bde={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},H5={t:0},GN={t:1};function u2(n){var e=Ol(n,Bde),{isActive:t,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:u,children:c}=e,h=t==="auto"?!vP.isSsr:t,p=Ude(e.animationId,e.animationManager),[v,y]=z.useState(h?H5:GN),x=z.useRef(null);return z.useEffect(()=>{h||y(GN)},[h]),z.useEffect(()=>{if(!h||!r)return Qw;var S=Ede(H5,GN,Rde(a),i,y,p.getTimeoutController()),w=()=>{x.current=S()};return p.start([u,s,w,i,o]),()=>{p.stop(),x.current&&x.current(),o()}},[h,r,i,a,s,u,o,p]),c(v.t)}function c2(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=z.useRef(J_(e)),r=z.useRef(n);return r.current!==n&&(t.current=J_(e),r.current=n),t.current}var Fde=["radius"],zde=["radius"],V5,j5,W5,q5,X5,Y5,K5,$5,Z5,Q5;function J5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function e6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(t),!0).forEach(function(r){Gde(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gde(n,e,t){return(e=Hde(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hde(n){var e=Vde(n,"string");return typeof e=="symbol"?e:e+""}function Vde(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yC(){return yC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yC.apply(null,arguments)}function t6(n,e){if(n==null)return{};var t,r,i=jde(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function jde(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function lf(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var n6=(n,e,t,r,i)=>{var a=Xp(t),s=Xp(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,c=a>=0?1:-1,h=s>=0&&a>=0||s<0&&a<0?1:0,p;if(o>0&&i instanceof Array){for(var v=[0,0,0,0],y=0,x=4;y<x;y++)v[y]=i[y]>o?o:i[y];p=Pi(V5||(V5=lf(["M",",",""])),n,e+u*v[0]),v[0]>0&&(p+=Pi(j5||(j5=lf(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,n+c*v[0],e)),p+=Pi(W5||(W5=lf(["L ",",",""])),n+t-c*v[1],e),v[1]>0&&(p+=Pi(q5||(q5=lf(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,n+t,e+u*v[1])),p+=Pi(X5||(X5=lf(["L ",",",""])),n+t,e+r-u*v[2]),v[2]>0&&(p+=Pi(Y5||(Y5=lf(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,n+t-c*v[2],e+r)),p+=Pi(K5||(K5=lf(["L ",",",""])),n+c*v[3],e+r),v[3]>0&&(p+=Pi($5||($5=lf(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,n,e+r-u*v[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var S=Math.min(o,i);p=Pi(Z5||(Z5=lf(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),n,e+u*S,S,S,h,n+c*S,e,n+t-c*S,e,S,S,h,n+t,e+u*S,n+t,e+r-u*S,S,S,h,n+t-c*S,e+r,n+c*S,e+r,S,S,h,n,e+r-u*S)}else p=Pi(Q5||(Q5=lf(["M ",","," h "," v "," h "," Z"])),n,e,t,r,-t);return p},r6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J7=n=>{var e=Ol(n,r6),t=z.useRef(null),[r,i]=z.useState(-1);z.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var X=t.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:s,width:o,height:u,radius:c,className:h}=e,{animationEasing:p,animationDuration:v,animationBegin:y,isAnimationActive:x,isUpdateAnimationActive:S}=e,w=z.useRef(o),A=z.useRef(u),T=z.useRef(a),C=z.useRef(s),O=z.useMemo(()=>({x:a,y:s,width:o,height:u,radius:c}),[a,s,o,u,c]),R=c2(O,"rectangle-");if(a!==+a||s!==+s||o!==+o||u!==+u||o===0||u===0)return null;var D=Nr("recharts-rectangle",h);if(!S){var I=Ds(e),{radius:F}=I,L=t6(I,Fde);return z.createElement("path",yC({},L,{x:Xp(a),y:Xp(s),width:Xp(o),height:Xp(u),radius:typeof c=="number"?c:void 0,className:D,d:n6(a,s,o,u,c)}))}var k=w.current,V=A.current,j=T.current,Y=C.current,re="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),W=K7(["strokeDasharray"],v,typeof p=="string"?p:r6.animationEasing);return z.createElement(u2,{animationId:R,key:R,canBegin:r>0,duration:v,easing:p,isActive:S,begin:y},X=>{var se=Ko(k,o,X),J=Ko(V,u,X),ae=Ko(j,a,X),B=Ko(Y,s,X);t.current&&(w.current=se,A.current=J,T.current=ae,C.current=B);var Z;x?X>0?Z={transition:W,strokeDasharray:Q}:Z={strokeDasharray:re}:Z={strokeDasharray:Q};var le=Ds(e),{radius:he}=le,ve=t6(le,zde);return z.createElement("path",yC({},ve,{radius:typeof c=="number"?c:void 0,className:D,d:n6(ae,B,se,J,c),ref:t,style:e6(e6({},Z),e.style)}))})};function i6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function a6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(t),!0).forEach(function(r){Wde(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i6(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wde(n,e,t){return(e=qde(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qde(n){var e=Xde(n,"string");return typeof e=="symbol"?e:e+""}function Xde(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var bC=Math.PI/180,Yde=n=>n*180/Math.PI,ss=(n,e,t,r)=>({x:n+Math.cos(-bC*r)*t,y:e+Math.sin(-bC*r)*t}),Kde=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},$de=(n,e)=>{var{x:t,y:r}=n,{x:i,y:a}=e;return Math.sqrt((t-i)**2+(r-a)**2)},Zde=(n,e)=>{var{x:t,y:r}=n,{cx:i,cy:a}=e,s=$de({x:t,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(t-i)/s,u=Math.acos(o);return r>a&&(u=2*Math.PI-u),{radius:s,angle:Yde(u),angleInRadian:u}},Qde=n=>{var{startAngle:e,endAngle:t}=n,r=Math.floor(e/360),i=Math.floor(t/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:t-a*360}},Jde=(n,e)=>{var{startAngle:t,endAngle:r}=e,i=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(i,a);return n+s*360},epe=(n,e)=>{var{chartX:t,chartY:r}=n,{radius:i,angle:a}=Zde({x:t,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:u,endAngle:c}=Qde(e),h=a,p;if(u<=c){for(;h>c;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=c}else{for(;h>u;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=u}return p?a6(a6({},e),{},{radius:i,angle:Jde(h,e)}):null};function eW(n){var{cx:e,cy:t,radius:r,startAngle:i,endAngle:a}=n,s=ss(e,t,r,i),o=ss(e,t,r,a);return{points:[s,o],cx:e,cy:t,radius:r,startAngle:i,endAngle:a}}var s6,o6,l6,u6,c6,f6,h6;function FI(){return FI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},FI.apply(null,arguments)}function Rg(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var tpe=(n,e)=>{var t=dc(e-n),r=Math.min(Math.abs(e-n),359.999);return t*r},lM=n=>{var{cx:e,cy:t,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:u}=n,c=o*(s?1:-1)+r,h=Math.asin(o/c)/bC,p=u?i:i+a*h,v=ss(e,t,c,p),y=ss(e,t,r,p),x=u?i-a*h:i,S=ss(e,t,c*Math.cos(h*bC),x);return{center:v,circleTangency:y,lineTangency:S,theta:h}},tW=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=n,o=tpe(a,s),u=a+o,c=ss(e,t,i,a),h=ss(e,t,i,u),p=Pi(s6||(s6=Rg(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>u),h.x,h.y);if(r>0){var v=ss(e,t,r,a),y=ss(e,t,r,u);p+=Pi(o6||(o6=Rg(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(o)>180),+(a<=u),v.x,v.y)}else p+=Pi(l6||(l6=Rg(["L ",","," Z"])),e,t);return p},npe=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:u,endAngle:c}=n,h=dc(c-u),{circleTangency:p,lineTangency:v,theta:y}=lM({cx:e,cy:t,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:o}),{circleTangency:x,lineTangency:S,theta:w}=lM({cx:e,cy:t,radius:i,angle:c,sign:-h,cornerRadius:a,cornerIsExternal:o}),A=o?Math.abs(u-c):Math.abs(u-c)-y-w;if(A<0)return s?Pi(u6||(u6=Rg(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,a,a,a*2,a,a,-a*2):tW({cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:u,endAngle:c});var T=Pi(c6||(c6=Rg(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,a,a,+(h<0),p.x,p.y,i,i,+(A>180),+(h<0),x.x,x.y,a,a,+(h<0),S.x,S.y);if(r>0){var{circleTangency:C,lineTangency:O,theta:R}=lM({cx:e,cy:t,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:D,lineTangency:I,theta:F}=lM({cx:e,cy:t,radius:r,angle:c,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),L=o?Math.abs(u-c):Math.abs(u-c)-R-F;if(L<0&&a===0)return"".concat(T,"L").concat(e,",").concat(t,"Z");T+=Pi(f6||(f6=Rg(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,a,a,+(h<0),D.x,D.y,r,r,+(L>180),+(h>0),C.x,C.y,a,a,+(h<0),O.x,O.y)}else T+=Pi(h6||(h6=Rg(["L",",","Z"])),e,t);return T},rpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nW=n=>{var e=Ol(n,rpe),{cx:t,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:h,className:p}=e;if(a<i||c===h)return null;var v=Nr("recharts-sector",p),y=a-i,x=tm(s,y,0,!0),S;return x>0&&Math.abs(c-h)<360?S=npe({cx:t,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,y/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:h}):S=tW({cx:t,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:h}),z.createElement("path",FI({},Ds(e),{className:v,d:S}))};function ipe(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(j9(e)){if(n==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,u=ss(r,i,a,o),c=ss(r,i,s,o);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return eW(e)}}var HN={},VN={},jN={},d6;function ape(){return d6||(d6=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=t7();function t(r){return e.isSymbol(r)?NaN:Number(r)}n.toNumber=t})(jN)),jN}var p6;function spe(){return p6||(p6=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ape();function t(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}n.toFinite=t})(VN)),VN}var m6;function ope(){return m6||(m6=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=n7(),t=spe();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=t.toFinite(i),a===void 0?(a=i,i=0):a=t.toFinite(a),s=s===void 0?i<a?1:-1:t.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(o);for(let c=0;c<o;c++)u[c]=i,i+=s;return u}n.range=r})(HN)),HN}var WN,g6;function lpe(){return g6||(g6=1,WN=ope().range),WN}var upe=lpe();const rW=Cu(upe);function Yp(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function cpe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function f2(n){let e,t,r;n.length!==2?(e=Yp,t=(o,u)=>Yp(n(o),u),r=(o,u)=>n(o)-u):(e=n===Yp||n===cpe?n:fpe,t=n,r=n);function i(o,u,c=0,h=o.length){if(c<h){if(e(u,u)!==0)return h;do{const p=c+h>>>1;t(o[p],u)<0?c=p+1:h=p}while(c<h)}return c}function a(o,u,c=0,h=o.length){if(c<h){if(e(u,u)!==0)return h;do{const p=c+h>>>1;t(o[p],u)<=0?c=p+1:h=p}while(c<h)}return c}function s(o,u,c=0,h=o.length){const p=i(o,u,c,h-1);return p>c&&r(o[p-1],u)>-r(o[p],u)?p-1:p}return{left:i,center:s,right:a}}function fpe(){return 0}function iW(n){return n===null?NaN:+n}function*hpe(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const dpe=f2(Yp),aS=dpe.right;f2(iW).center;class v6 extends Map{constructor(e,t=gpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(y6(this,e))}has(e){return super.has(y6(this,e))}set(e,t){return super.set(ppe(this,e),t)}delete(e){return super.delete(mpe(this,e))}}function y6({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function ppe({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function mpe({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function gpe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function vpe(n=Yp){if(n===Yp)return aW;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function aW(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const ype=Math.sqrt(50),bpe=Math.sqrt(10),xpe=Math.sqrt(2);function xC(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=ype?10:a>=bpe?5:a>=xpe?2:1;let o,u,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(n*c),u=Math.round(e*c),o/c<n&&++o,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,o=Math.round(n/c),u=Math.round(e/c),o*c<n&&++o,u*c>e&&--u),u<o&&.5<=t&&t<2?xC(n,e,t*2):[o,u,c]}function zI(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,a,s]=r?xC(e,n,t):xC(n,e,t);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)u[c]=(a-c)/-s;else for(let c=0;c<o;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)u[c]=(i+c)/-s;else for(let c=0;c<o;++c)u[c]=(i+c)*s;return u}function GI(n,e,t){return e=+e,n=+n,t=+t,xC(n,e,t)[2]}function HI(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?GI(e,n,t):GI(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function b6(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function x6(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function sW(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?aW:vpe(i);r>t;){if(r-t>600){const u=r-t+1,c=e-t+1,h=Math.log(u),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(u-p)/u)*(c-u/2<0?-1:1),y=Math.max(t,Math.floor(e-c*p/u+v)),x=Math.min(r,Math.floor(e+(u-c)*p/u+v));sW(n,e,y,x,i)}const a=n[e];let s=t,o=r;for(Q1(n,t,e),i(n[r],a)>0&&Q1(n,t,r);s<o;){for(Q1(n,s,o),++s,--o;i(n[s],a)<0;)++s;for(;i(n[o],a)>0;)--o}i(n[t],a)===0?Q1(n,t,o):(++o,Q1(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function Q1(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function _pe(n,e,t){if(n=Float64Array.from(hpe(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return x6(n);if(e>=1)return b6(n);var r,i=(r-1)*e,a=Math.floor(i),s=b6(sW(n,a).subarray(0,a+1)),o=x6(n.subarray(a+1));return s+(o-s)*(i-a)}}function wpe(n,e,t=iW){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,a=Math.floor(i),s=+t(n[a],a,n),o=+t(n[a+1],a+1,n);return s+(o-s)*(i-a)}}function Spe(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,a=new Array(i);++r<i;)a[r]=n+r*t;return a}function Ou(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function bd(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const VI=Symbol("implicit");function h2(){var n=new v6,e=[],t=[],r=VI;function i(a){let s=n.get(a);if(s===void 0){if(r!==VI)return r;n.set(a,s=e.push(a)-1)}return t[s%t.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],n=new v6;for(const s of a)n.has(s)||n.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return h2(e,t).unknown(r)},Ou.apply(i,arguments),i}function d2(){var n=h2().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,a,s,o=!1,u=0,c=0,h=.5;delete n.unknown;function p(){var v=e().length,y=i<r,x=y?i:r,S=y?r:i;a=(S-x)/Math.max(1,v-u+c*2),o&&(a=Math.floor(a)),x+=(S-x-a*(v-u))*h,s=a*(1-u),o&&(x=Math.round(x),s=Math.round(s));var w=Spe(v).map(function(A){return x+a*A});return t(y?w.reverse():w)}return n.domain=function(v){return arguments.length?(e(v),p()):e()},n.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},n.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,o=!0,p()},n.bandwidth=function(){return s},n.step=function(){return a},n.round=function(v){return arguments.length?(o=!!v,p()):o},n.padding=function(v){return arguments.length?(u=Math.min(1,c=+v),p()):u},n.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),p()):u},n.paddingOuter=function(v){return arguments.length?(c=+v,p()):c},n.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},n.copy=function(){return d2(e(),[r,i]).round(o).paddingInner(u).paddingOuter(c).align(h)},Ou.apply(p(),arguments)}function oW(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return oW(e())},n}function Ape(){return oW(d2.apply(null,arguments).paddingInner(1))}function p2(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function lW(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function sS(){}var ow=.7,_C=1/ow,Dy="\\s*([+-]?\\d+)\\s*",lw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Epe=/^#([0-9a-f]{3,8})$/,Mpe=new RegExp(`^rgb\\(${Dy},${Dy},${Dy}\\)$`),Tpe=new RegExp(`^rgb\\(${Pf},${Pf},${Pf}\\)$`),Cpe=new RegExp(`^rgba\\(${Dy},${Dy},${Dy},${lw}\\)$`),Ppe=new RegExp(`^rgba\\(${Pf},${Pf},${Pf},${lw}\\)$`),Ope=new RegExp(`^hsl\\(${lw},${Pf},${Pf}\\)$`),Rpe=new RegExp(`^hsla\\(${lw},${Pf},${Pf},${lw}\\)$`),_6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p2(sS,uw,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:w6,formatHex:w6,formatHex8:Npe,formatHsl:Dpe,formatRgb:S6,toString:S6});function w6(){return this.rgb().formatHex()}function Npe(){return this.rgb().formatHex8()}function Dpe(){return uW(this).formatHsl()}function S6(){return this.rgb().formatRgb()}function uw(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Epe.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?A6(e):t===3?new Zo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?uM(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?uM(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Mpe.exec(n))?new Zo(e[1],e[2],e[3],1):(e=Tpe.exec(n))?new Zo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Cpe.exec(n))?uM(e[1],e[2],e[3],e[4]):(e=Ppe.exec(n))?uM(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ope.exec(n))?T6(e[1],e[2]/100,e[3]/100,1):(e=Rpe.exec(n))?T6(e[1],e[2]/100,e[3]/100,e[4]):_6.hasOwnProperty(n)?A6(_6[n]):n==="transparent"?new Zo(NaN,NaN,NaN,0):null}function A6(n){return new Zo(n>>16&255,n>>8&255,n&255,1)}function uM(n,e,t,r){return r<=0&&(n=e=t=NaN),new Zo(n,e,t,r)}function Ipe(n){return n instanceof sS||(n=uw(n)),n?(n=n.rgb(),new Zo(n.r,n.g,n.b,n.opacity)):new Zo}function jI(n,e,t,r){return arguments.length===1?Ipe(n):new Zo(n,e,t,r??1)}function Zo(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}p2(Zo,jI,lW(sS,{brighter(n){return n=n==null?_C:Math.pow(_C,n),new Zo(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?ow:Math.pow(ow,n),new Zo(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Zo(u0(this.r),u0(this.g),u0(this.b),wC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E6,formatHex:E6,formatHex8:Lpe,formatRgb:M6,toString:M6}));function E6(){return`#${Ng(this.r)}${Ng(this.g)}${Ng(this.b)}`}function Lpe(){return`#${Ng(this.r)}${Ng(this.g)}${Ng(this.b)}${Ng((isNaN(this.opacity)?1:this.opacity)*255)}`}function M6(){const n=wC(this.opacity);return`${n===1?"rgb(":"rgba("}${u0(this.r)}, ${u0(this.g)}, ${u0(this.b)}${n===1?")":`, ${n})`}`}function wC(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function u0(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ng(n){return n=u0(n),(n<16?"0":"")+n.toString(16)}function T6(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new cc(n,e,t,r)}function uW(n){if(n instanceof cc)return new cc(n.h,n.s,n.l,n.opacity);if(n instanceof sS||(n=uw(n)),!n)return new cc;if(n instanceof cc)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),a=Math.max(e,t,r),s=NaN,o=a-i,u=(a+i)/2;return o?(e===a?s=(t-r)/o+(t<r)*6:t===a?s=(r-e)/o+2:s=(e-t)/o+4,o/=u<.5?a+i:2-a-i,s*=60):o=u>0&&u<1?0:s,new cc(s,o,u,n.opacity)}function Upe(n,e,t,r){return arguments.length===1?uW(n):new cc(n,e,t,r??1)}function cc(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}p2(cc,Upe,lW(sS,{brighter(n){return n=n==null?_C:Math.pow(_C,n),new cc(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?ow:Math.pow(ow,n),new cc(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Zo(qN(n>=240?n-240:n+120,i,r),qN(n,i,r),qN(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new cc(C6(this.h),cM(this.s),cM(this.l),wC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=wC(this.opacity);return`${n===1?"hsl(":"hsla("}${C6(this.h)}, ${cM(this.s)*100}%, ${cM(this.l)*100}%${n===1?")":`, ${n})`}`}}));function C6(n){return n=(n||0)%360,n<0?n+360:n}function cM(n){return Math.max(0,Math.min(1,n||0))}function qN(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const m2=n=>()=>n;function kpe(n,e){return function(t){return n+t*e}}function Bpe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function Fpe(n){return(n=+n)==1?cW:function(e,t){return t-e?Bpe(e,t,n):m2(isNaN(e)?t:e)}}function cW(n,e){var t=e-n;return t?kpe(n,t):m2(isNaN(n)?e:n)}const P6=(function n(e){var t=Fpe(e);function r(i,a){var s=t((i=jI(i)).r,(a=jI(a)).r),o=t(i.g,a.g),u=t(i.b,a.b),c=cW(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=u(h),i.opacity=c(h),i+""}}return r.gamma=n,r})(1);function zpe(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(a){for(i=0;i<t;++i)r[i]=n[i]*(1-a)+e[i]*a;return r}}function Gpe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Hpe(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),a=new Array(t),s;for(s=0;s<r;++s)i[s]=ix(n[s],e[s]);for(;s<t;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Vpe(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function SC(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function jpe(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=ix(n[i],e[i]):r[i]=e[i];return function(a){for(i in t)r[i]=t[i](a);return r}}var WI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XN=new RegExp(WI.source,"g");function Wpe(n){return function(){return n}}function qpe(n){return function(e){return n(e)+""}}function Xpe(n,e){var t=WI.lastIndex=XN.lastIndex=0,r,i,a,s=-1,o=[],u=[];for(n=n+"",e=e+"";(r=WI.exec(n))&&(i=XN.exec(e));)(a=i.index)>t&&(a=e.slice(t,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,u.push({i:s,x:SC(r,i)})),t=XN.lastIndex;return t<e.length&&(a=e.slice(t),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?qpe(u[0].x):Wpe(e):(e=u.length,function(c){for(var h=0,p;h<e;++h)o[(p=u[h]).i]=p.x(c);return o.join("")})}function ix(n,e){var t=typeof e,r;return e==null||t==="boolean"?m2(e):(t==="number"?SC:t==="string"?(r=uw(e))?(e=r,P6):Xpe:e instanceof uw?P6:e instanceof Date?Vpe:Gpe(e)?zpe:Array.isArray(e)?Hpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?jpe:SC)(n,e)}function g2(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Ype(n,e){e===void 0&&(e=n,n=ix);for(var t=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);t<r;)a[t]=n(i,i=e[++t]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Kpe(n){return function(){return n}}function AC(n){return+n}var O6=[0,1];function so(n){return n}function qI(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Kpe(isNaN(e)?NaN:.5)}function $pe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function Zpe(n,e,t){var r=n[0],i=n[1],a=e[0],s=e[1];return i<r?(r=qI(i,r),a=t(s,a)):(r=qI(r,i),a=t(a,s)),function(o){return a(r(o))}}function Qpe(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=qI(n[s],n[s+1]),a[s]=t(e[s],e[s+1]);return function(o){var u=aS(n,o,1,r)-1;return a[u](i[u](o))}}function oS(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function yP(){var n=O6,e=O6,t=ix,r,i,a,s=so,o,u,c;function h(){var v=Math.min(n.length,e.length);return s!==so&&(s=$pe(n[0],n[v-1])),o=v>2?Qpe:Zpe,u=c=null,p}function p(v){return v==null||isNaN(v=+v)?a:(u||(u=o(n.map(r),e,t)))(r(s(v)))}return p.invert=function(v){return s(i((c||(c=o(e,n.map(r),SC)))(v)))},p.domain=function(v){return arguments.length?(n=Array.from(v,AC),h()):n.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),t=g2,h()},p.clamp=function(v){return arguments.length?(s=v?!0:so,h()):s!==so},p.interpolate=function(v){return arguments.length?(t=v,h()):t},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,y){return r=v,i=y,h()}}function v2(){return yP()(so,so)}function Jpe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function EC(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function Fb(n){return n=EC(Math.abs(n)),n?n[1]:NaN}function eme(n,e){return function(t,r){for(var i=t.length,a=[],s=0,o=n[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(t.substring(i-=o,i+o)),!((u+=o+1)>r));)o=n[s=(s+1)%n.length];return a.reverse().join(e)}}function tme(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var nme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cw(n){if(!(e=nme.exec(n)))throw new Error("invalid format: "+n);var e;return new y2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cw.prototype=y2.prototype;function y2(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}y2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rme(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var fW;function ime(n,e){var t=EC(n,e);if(!t)return n+"";var r=t[0],i=t[1],a=i-(fW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+EC(n,Math.max(0,e+a-1))[0]}function R6(n,e){var t=EC(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const N6={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Jpe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>R6(n*100,e),r:R6,s:ime,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function D6(n){return n}var I6=Array.prototype.map,L6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ame(n){var e=n.grouping===void 0||n.thousands===void 0?D6:eme(I6.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?D6:tme(I6.call(n.numerals,String)),s=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",u=n.nan===void 0?"NaN":n.nan+"";function c(p){p=cw(p);var v=p.fill,y=p.align,x=p.sign,S=p.symbol,w=p.zero,A=p.width,T=p.comma,C=p.precision,O=p.trim,R=p.type;R==="n"?(T=!0,R="g"):N6[R]||(C===void 0&&(C=12),O=!0,R="g"),(w||v==="0"&&y==="=")&&(w=!0,v="0",y="=");var D=S==="$"?t:S==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",I=S==="$"?r:/[%p]/.test(R)?s:"",F=N6[R],L=/[defgprs%]/.test(R);C=C===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function k(V){var j=D,Y=I,re,Q,W;if(R==="c")Y=F(V)+Y,V="";else{V=+V;var X=V<0||1/V<0;if(V=isNaN(V)?u:F(Math.abs(V),C),O&&(V=rme(V)),X&&+V==0&&x!=="+"&&(X=!1),j=(X?x==="("?x:o:x==="-"||x==="("?"":x)+j,Y=(R==="s"?L6[8+fW/3]:"")+Y+(X&&x==="("?")":""),L){for(re=-1,Q=V.length;++re<Q;)if(W=V.charCodeAt(re),48>W||W>57){Y=(W===46?i+V.slice(re+1):V.slice(re))+Y,V=V.slice(0,re);break}}}T&&!w&&(V=e(V,1/0));var se=j.length+V.length+Y.length,J=se<A?new Array(A-se+1).join(v):"";switch(T&&w&&(V=e(J+V,J.length?A-Y.length:1/0),J=""),y){case"<":V=j+V+Y+J;break;case"=":V=j+J+V+Y;break;case"^":V=J.slice(0,se=J.length>>1)+j+V+Y+J.slice(se);break;default:V=J+j+V+Y;break}return a(V)}return k.toString=function(){return p+""},k}function h(p,v){var y=c((p=cw(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Fb(v)/3)))*3,S=Math.pow(10,-x),w=L6[8+x/3];return function(A){return y(S*A)+w}}return{format:c,formatPrefix:h}}var fM,b2,hW;sme({thousands:",",grouping:[3],currency:["$",""]});function sme(n){return fM=ame(n),b2=fM.format,hW=fM.formatPrefix,fM}function ome(n){return Math.max(0,-Fb(Math.abs(n)))}function lme(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fb(e)/3)))*3-Fb(Math.abs(n)))}function ume(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Fb(e)-Fb(n))+1}function dW(n,e,t,r){var i=HI(n,e,t),a;switch(r=cw(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(a=lme(i,s))&&(r.precision=a),hW(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ume(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ome(i))&&(r.precision=a-(r.type==="%")*2);break}}return b2(r)}function cm(n){var e=n.domain;return n.ticks=function(t){var r=e();return zI(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return dW(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],u,c,h=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);h-- >0;){if(c=GI(s,o,t),c===u)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;u=c}return n},n}function pW(){var n=v2();return n.copy=function(){return oS(n,pW())},Ou.apply(n,arguments),cm(n)}function mW(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,AC),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return mW(n).unknown(e)},n=arguments.length?Array.from(n,AC):[0,1],cm(t)}function gW(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],a=n[r],s;return a<i&&(s=t,t=r,r=s,s=i,i=a,a=s),n[t]=e.floor(i),n[r]=e.ceil(a),n}function U6(n){return Math.log(n)}function k6(n){return Math.exp(n)}function cme(n){return-Math.log(-n)}function fme(n){return-Math.exp(-n)}function hme(n){return isFinite(n)?+("1e"+n):n<0?0:n}function dme(n){return n===10?hme:n===Math.E?Math.exp:e=>Math.pow(n,e)}function pme(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function B6(n){return(e,t)=>-n(-e,t)}function x2(n){const e=n(U6,k6),t=e.domain;let r=10,i,a;function s(){return i=pme(r),a=dme(r),t()[0]<0?(i=B6(i),a=B6(a),n(cme,fme)):n(U6,k6),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(t(o),s()):t()},e.ticks=o=>{const u=t();let c=u[0],h=u[u.length-1];const p=h<c;p&&([c,h]=[h,c]);let v=i(c),y=i(h),x,S;const w=o==null?10:+o;let A=[];if(!(r%1)&&y-v<w){if(v=Math.floor(v),y=Math.ceil(y),c>0){for(;v<=y;++v)for(x=1;x<r;++x)if(S=v<0?x/a(-v):x*a(v),!(S<c)){if(S>h)break;A.push(S)}}else for(;v<=y;++v)for(x=r-1;x>=1;--x)if(S=v>0?x/a(-v):x*a(v),!(S<c)){if(S>h)break;A.push(S)}A.length*2<w&&(A=zI(c,h,w))}else A=zI(v,y,Math.min(y-v,w)).map(a);return p?A.reverse():A},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=cw(u)).precision==null&&(u.trim=!0),u=b2(u)),o===1/0)return u;const c=Math.max(1,r*o/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=c?u(h):""}},e.nice=()=>t(gW(t(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function vW(){const n=x2(yP()).domain([1,10]);return n.copy=()=>oS(n,vW()).base(n.base()),Ou.apply(n,arguments),n}function F6(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function z6(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function _2(n){var e=1,t=n(F6(e),z6(e));return t.constant=function(r){return arguments.length?n(F6(e=+r),z6(e)):e},cm(t)}function yW(){var n=_2(yP());return n.copy=function(){return oS(n,yW()).constant(n.constant())},Ou.apply(n,arguments)}function G6(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function mme(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function gme(n){return n<0?-n*n:n*n}function w2(n){var e=n(so,so),t=1;function r(){return t===1?n(so,so):t===.5?n(mme,gme):n(G6(t),G6(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},cm(e)}function S2(){var n=w2(yP());return n.copy=function(){return oS(n,S2()).exponent(n.exponent())},Ou.apply(n,arguments),n}function vme(){return S2.apply(null,arguments).exponent(.5)}function H6(n){return Math.sign(n)*n*n}function yme(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function bW(){var n=v2(),e=[0,1],t=!1,r;function i(a){var s=yme(n(a));return isNaN(s)?r:t?Math.round(s):s}return i.invert=function(a){return n.invert(H6(a))},i.domain=function(a){return arguments.length?(n.domain(a),i):n.domain()},i.range=function(a){return arguments.length?(n.range((e=Array.from(a,AC)).map(H6)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(t=!!a,i):t},i.clamp=function(a){return arguments.length?(n.clamp(a),i):n.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bW(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},Ou.apply(i,arguments),cm(i)}function xW(){var n=[],e=[],t=[],r;function i(){var s=0,o=Math.max(1,e.length);for(t=new Array(o-1);++s<o;)t[s-1]=wpe(n,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[aS(t,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},a.domain=function(s){if(!arguments.length)return n.slice();n=[];for(let o of s)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(Yp),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return t.slice()},a.copy=function(){return xW().domain(n).range(e).unknown(r)},Ou.apply(a,arguments)}function _W(){var n=0,e=1,t=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[aS(r,u,0,t)]:a}function o(){var u=-1;for(r=new Array(t);++u<t;)r[u]=((u+1)*e-(u-t)*n)/(t+1);return s}return s.domain=function(u){return arguments.length?([n,e]=u,n=+n,e=+e,o()):[n,e]},s.range=function(u){return arguments.length?(t=(i=Array.from(u)).length-1,o()):i.slice()},s.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=t?[r[t-1],e]:[r[c-1],r[c]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return _W().domain([n,e]).range(i).unknown(a)},Ou.apply(cm(s),arguments)}function wW(){var n=[.5],e=[0,1],t,r=1;function i(a){return a!=null&&a<=a?e[aS(n,a,0,r)]:t}return i.domain=function(a){return arguments.length?(n=Array.from(a),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[n[s-1],n[s]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return wW().domain(n).range(e).unknown(t)},Ou.apply(i,arguments)}const YN=new Date,KN=new Date;function ga(n,e,t,r){function i(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(n(a=new Date(+a)),a),i.ceil=a=>(n(a=new Date(a-1)),e(a,1),n(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let c;do u.push(c=new Date(+a)),e(a,o),n(a);while(c<a&&a<s);return u},i.filter=a=>ga(s=>{if(s>=s)for(;n(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),t&&(i.count=(a,s)=>(YN.setTime(+a),KN.setTime(+s),n(YN),n(KN),Math.floor(t(YN,KN))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const MC=ga(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);MC.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?ga(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):MC);MC.range;const Xh=1e3,wu=Xh*60,Yh=wu*60,ld=Yh*24,A2=ld*7,V6=ld*30,$N=ld*365,Dg=ga(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Xh)},(n,e)=>(e-n)/Xh,n=>n.getUTCSeconds());Dg.range;const E2=ga(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Xh)},(n,e)=>{n.setTime(+n+e*wu)},(n,e)=>(e-n)/wu,n=>n.getMinutes());E2.range;const M2=ga(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*wu)},(n,e)=>(e-n)/wu,n=>n.getUTCMinutes());M2.range;const T2=ga(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Xh-n.getMinutes()*wu)},(n,e)=>{n.setTime(+n+e*Yh)},(n,e)=>(e-n)/Yh,n=>n.getHours());T2.range;const C2=ga(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Yh)},(n,e)=>(e-n)/Yh,n=>n.getUTCHours());C2.range;const lS=ga(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*wu)/ld,n=>n.getDate()-1);lS.range;const bP=ga(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/ld,n=>n.getUTCDate()-1);bP.range;const SW=ga(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/ld,n=>Math.floor(n/ld));SW.range;function L0(n){return ga(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wu)/A2)}const xP=L0(0),TC=L0(1),bme=L0(2),xme=L0(3),zb=L0(4),_me=L0(5),wme=L0(6);xP.range;TC.range;bme.range;xme.range;zb.range;_me.range;wme.range;function U0(n){return ga(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/A2)}const _P=U0(0),CC=U0(1),Sme=U0(2),Ame=U0(3),Gb=U0(4),Eme=U0(5),Mme=U0(6);_P.range;CC.range;Sme.range;Ame.range;Gb.range;Eme.range;Mme.range;const P2=ga(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());P2.range;const O2=ga(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());O2.range;const ud=ga(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());ud.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:ga(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});ud.range;const cd=ga(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());cd.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:ga(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});cd.range;function AW(n,e,t,r,i,a){const s=[[Dg,1,Xh],[Dg,5,5*Xh],[Dg,15,15*Xh],[Dg,30,30*Xh],[a,1,wu],[a,5,5*wu],[a,15,15*wu],[a,30,30*wu],[i,1,Yh],[i,3,3*Yh],[i,6,6*Yh],[i,12,12*Yh],[r,1,ld],[r,2,2*ld],[t,1,A2],[e,1,V6],[e,3,3*V6],[n,1,$N]];function o(c,h,p){const v=h<c;v&&([c,h]=[h,c]);const y=p&&typeof p.range=="function"?p:u(c,h,p),x=y?y.range(c,+h+1):[];return v?x.reverse():x}function u(c,h,p){const v=Math.abs(h-c)/p,y=f2(([,,w])=>w).right(s,v);if(y===s.length)return n.every(HI(c/$N,h/$N,p));if(y===0)return MC.every(Math.max(HI(c,h,p),1));const[x,S]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return x.every(S)}return[o,u]}const[Tme,Cme]=AW(cd,O2,_P,SW,C2,M2),[Pme,Ome]=AW(ud,P2,xP,lS,T2,E2);function ZN(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function QN(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function J1(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function Rme(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,a=n.days,s=n.shortDays,o=n.months,u=n.shortMonths,c=e_(i),h=t_(i),p=e_(a),v=t_(a),y=e_(s),x=t_(s),S=e_(o),w=t_(o),A=e_(u),T=t_(u),C={a:X,A:se,b:J,B:ae,c:null,d:K6,e:K6,f:ege,g:cge,G:hge,H:Zme,I:Qme,j:Jme,L:EW,m:tge,M:nge,p:B,q:Z,Q:Q6,s:J6,S:rge,u:ige,U:age,V:sge,w:oge,W:lge,x:null,X:null,y:uge,Y:fge,Z:dge,"%":Z6},O={a:le,A:he,b:ve,B:ue,c:null,d:$6,e:$6,f:vge,g:Tge,G:Pge,H:pge,I:mge,j:gge,L:TW,m:yge,M:bge,p:ce,q:Se,Q:Q6,s:J6,S:xge,u:_ge,U:wge,V:Sge,w:Age,W:Ege,x:null,X:null,y:Mge,Y:Cge,Z:Oge,"%":Z6},R={a:k,A:V,b:j,B:Y,c:re,d:X6,e:X6,f:Xme,g:q6,G:W6,H:Y6,I:Y6,j:Vme,L:qme,m:Hme,M:jme,p:L,q:Gme,Q:Kme,s:$me,S:Wme,u:Ume,U:kme,V:Bme,w:Lme,W:Fme,x:Q,X:W,y:q6,Y:W6,Z:zme,"%":Yme};C.x=D(t,C),C.X=D(r,C),C.c=D(e,C),O.x=D(t,O),O.X=D(r,O),O.c=D(e,O);function D(me,Ne){return function(Be){var ye=[],ut=-1,_e=0,Le=me.length,Ce,tt,ne;for(Be instanceof Date||(Be=new Date(+Be));++ut<Le;)me.charCodeAt(ut)===37&&(ye.push(me.slice(_e,ut)),(tt=j6[Ce=me.charAt(++ut)])!=null?Ce=me.charAt(++ut):tt=Ce==="e"?" ":"0",(ne=Ne[Ce])&&(Ce=ne(Be,tt)),ye.push(Ce),_e=ut+1);return ye.push(me.slice(_e,ut)),ye.join("")}}function I(me,Ne){return function(Be){var ye=J1(1900,void 0,1),ut=F(ye,me,Be+="",0),_e,Le;if(ut!=Be.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Ne&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(_e=QN(J1(ye.y,0,1)),Le=_e.getUTCDay(),_e=Le>4||Le===0?CC.ceil(_e):CC(_e),_e=bP.offset(_e,(ye.V-1)*7),ye.y=_e.getUTCFullYear(),ye.m=_e.getUTCMonth(),ye.d=_e.getUTCDate()+(ye.w+6)%7):(_e=ZN(J1(ye.y,0,1)),Le=_e.getDay(),_e=Le>4||Le===0?TC.ceil(_e):TC(_e),_e=lS.offset(_e,(ye.V-1)*7),ye.y=_e.getFullYear(),ye.m=_e.getMonth(),ye.d=_e.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Le="Z"in ye?QN(J1(ye.y,0,1)).getUTCDay():ZN(J1(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Le+5)%7:ye.w+ye.U*7-(Le+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,QN(ye)):ZN(ye)}}function F(me,Ne,Be,ye){for(var ut=0,_e=Ne.length,Le=Be.length,Ce,tt;ut<_e;){if(ye>=Le)return-1;if(Ce=Ne.charCodeAt(ut++),Ce===37){if(Ce=Ne.charAt(ut++),tt=R[Ce in j6?Ne.charAt(ut++):Ce],!tt||(ye=tt(me,Be,ye))<0)return-1}else if(Ce!=Be.charCodeAt(ye++))return-1}return ye}function L(me,Ne,Be){var ye=c.exec(Ne.slice(Be));return ye?(me.p=h.get(ye[0].toLowerCase()),Be+ye[0].length):-1}function k(me,Ne,Be){var ye=y.exec(Ne.slice(Be));return ye?(me.w=x.get(ye[0].toLowerCase()),Be+ye[0].length):-1}function V(me,Ne,Be){var ye=p.exec(Ne.slice(Be));return ye?(me.w=v.get(ye[0].toLowerCase()),Be+ye[0].length):-1}function j(me,Ne,Be){var ye=A.exec(Ne.slice(Be));return ye?(me.m=T.get(ye[0].toLowerCase()),Be+ye[0].length):-1}function Y(me,Ne,Be){var ye=S.exec(Ne.slice(Be));return ye?(me.m=w.get(ye[0].toLowerCase()),Be+ye[0].length):-1}function re(me,Ne,Be){return F(me,e,Ne,Be)}function Q(me,Ne,Be){return F(me,t,Ne,Be)}function W(me,Ne,Be){return F(me,r,Ne,Be)}function X(me){return s[me.getDay()]}function se(me){return a[me.getDay()]}function J(me){return u[me.getMonth()]}function ae(me){return o[me.getMonth()]}function B(me){return i[+(me.getHours()>=12)]}function Z(me){return 1+~~(me.getMonth()/3)}function le(me){return s[me.getUTCDay()]}function he(me){return a[me.getUTCDay()]}function ve(me){return u[me.getUTCMonth()]}function ue(me){return o[me.getUTCMonth()]}function ce(me){return i[+(me.getUTCHours()>=12)]}function Se(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Ne=D(me+="",C);return Ne.toString=function(){return me},Ne},parse:function(me){var Ne=I(me+="",!1);return Ne.toString=function(){return me},Ne},utcFormat:function(me){var Ne=D(me+="",O);return Ne.toString=function(){return me},Ne},utcParse:function(me){var Ne=I(me+="",!0);return Ne.toString=function(){return me},Ne}}}var j6={"-":"",_:" ",0:"0"},Ba=/^\s*\d+/,Nme=/^%/,Dme=/[\\^$*+?|[\]().{}]/g;function lr(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",a=i.length;return r+(a<t?new Array(t-a+1).join(e)+i:i)}function Ime(n){return n.replace(Dme,"\\$&")}function e_(n){return new RegExp("^(?:"+n.map(Ime).join("|")+")","i")}function t_(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function Lme(n,e,t){var r=Ba.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function Ume(n,e,t){var r=Ba.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function kme(n,e,t){var r=Ba.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function Bme(n,e,t){var r=Ba.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function Fme(n,e,t){var r=Ba.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function W6(n,e,t){var r=Ba.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function q6(n,e,t){var r=Ba.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function zme(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function Gme(n,e,t){var r=Ba.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function Hme(n,e,t){var r=Ba.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function X6(n,e,t){var r=Ba.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function Vme(n,e,t){var r=Ba.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function Y6(n,e,t){var r=Ba.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function jme(n,e,t){var r=Ba.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function Wme(n,e,t){var r=Ba.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function qme(n,e,t){var r=Ba.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function Xme(n,e,t){var r=Ba.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function Yme(n,e,t){var r=Nme.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function Kme(n,e,t){var r=Ba.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function $me(n,e,t){var r=Ba.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function K6(n,e){return lr(n.getDate(),e,2)}function Zme(n,e){return lr(n.getHours(),e,2)}function Qme(n,e){return lr(n.getHours()%12||12,e,2)}function Jme(n,e){return lr(1+lS.count(ud(n),n),e,3)}function EW(n,e){return lr(n.getMilliseconds(),e,3)}function ege(n,e){return EW(n,e)+"000"}function tge(n,e){return lr(n.getMonth()+1,e,2)}function nge(n,e){return lr(n.getMinutes(),e,2)}function rge(n,e){return lr(n.getSeconds(),e,2)}function ige(n){var e=n.getDay();return e===0?7:e}function age(n,e){return lr(xP.count(ud(n)-1,n),e,2)}function MW(n){var e=n.getDay();return e>=4||e===0?zb(n):zb.ceil(n)}function sge(n,e){return n=MW(n),lr(zb.count(ud(n),n)+(ud(n).getDay()===4),e,2)}function oge(n){return n.getDay()}function lge(n,e){return lr(TC.count(ud(n)-1,n),e,2)}function uge(n,e){return lr(n.getFullYear()%100,e,2)}function cge(n,e){return n=MW(n),lr(n.getFullYear()%100,e,2)}function fge(n,e){return lr(n.getFullYear()%1e4,e,4)}function hge(n,e){var t=n.getDay();return n=t>=4||t===0?zb(n):zb.ceil(n),lr(n.getFullYear()%1e4,e,4)}function dge(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lr(e/60|0,"0",2)+lr(e%60,"0",2)}function $6(n,e){return lr(n.getUTCDate(),e,2)}function pge(n,e){return lr(n.getUTCHours(),e,2)}function mge(n,e){return lr(n.getUTCHours()%12||12,e,2)}function gge(n,e){return lr(1+bP.count(cd(n),n),e,3)}function TW(n,e){return lr(n.getUTCMilliseconds(),e,3)}function vge(n,e){return TW(n,e)+"000"}function yge(n,e){return lr(n.getUTCMonth()+1,e,2)}function bge(n,e){return lr(n.getUTCMinutes(),e,2)}function xge(n,e){return lr(n.getUTCSeconds(),e,2)}function _ge(n){var e=n.getUTCDay();return e===0?7:e}function wge(n,e){return lr(_P.count(cd(n)-1,n),e,2)}function CW(n){var e=n.getUTCDay();return e>=4||e===0?Gb(n):Gb.ceil(n)}function Sge(n,e){return n=CW(n),lr(Gb.count(cd(n),n)+(cd(n).getUTCDay()===4),e,2)}function Age(n){return n.getUTCDay()}function Ege(n,e){return lr(CC.count(cd(n)-1,n),e,2)}function Mge(n,e){return lr(n.getUTCFullYear()%100,e,2)}function Tge(n,e){return n=CW(n),lr(n.getUTCFullYear()%100,e,2)}function Cge(n,e){return lr(n.getUTCFullYear()%1e4,e,4)}function Pge(n,e){var t=n.getUTCDay();return n=t>=4||t===0?Gb(n):Gb.ceil(n),lr(n.getUTCFullYear()%1e4,e,4)}function Oge(){return"+0000"}function Z6(){return"%"}function Q6(n){return+n}function J6(n){return Math.floor(+n/1e3)}var cy,PW,OW;Rge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rge(n){return cy=Rme(n),PW=cy.format,cy.parse,OW=cy.utcFormat,cy.utcParse,cy}function Nge(n){return new Date(n)}function Dge(n){return n instanceof Date?+n:+new Date(+n)}function R2(n,e,t,r,i,a,s,o,u,c){var h=v2(),p=h.invert,v=h.domain,y=c(".%L"),x=c(":%S"),S=c("%I:%M"),w=c("%I %p"),A=c("%a %d"),T=c("%b %d"),C=c("%B"),O=c("%Y");function R(D){return(u(D)<D?y:o(D)<D?x:s(D)<D?S:a(D)<D?w:r(D)<D?i(D)<D?A:T:t(D)<D?C:O)(D)}return h.invert=function(D){return new Date(p(D))},h.domain=function(D){return arguments.length?v(Array.from(D,Dge)):v().map(Nge)},h.ticks=function(D){var I=v();return n(I[0],I[I.length-1],D??10)},h.tickFormat=function(D,I){return I==null?R:c(I)},h.nice=function(D){var I=v();return(!D||typeof D.range!="function")&&(D=e(I[0],I[I.length-1],D??10)),D?v(gW(I,D)):h},h.copy=function(){return oS(h,R2(n,e,t,r,i,a,s,o,u,c))},h}function Ige(){return Ou.apply(R2(Pme,Ome,ud,P2,xP,lS,T2,E2,Dg,PW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lge(){return Ou.apply(R2(Tme,Cme,cd,O2,_P,bP,C2,M2,Dg,OW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wP(){var n=0,e=1,t,r,i,a,s=so,o=!1,u;function c(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(a(p)-t)*i,o?Math.max(0,Math.min(1,p)):p))}c.domain=function(p){return arguments.length?([n,e]=p,t=a(n=+n),r=a(e=+e),i=t===r?0:1/(r-t),c):[n,e]},c.clamp=function(p){return arguments.length?(o=!!p,c):o},c.interpolator=function(p){return arguments.length?(s=p,c):s};function h(p){return function(v){var y,x;return arguments.length?([y,x]=v,s=p(y,x),c):[s(0),s(1)]}}return c.range=h(ix),c.rangeRound=h(g2),c.unknown=function(p){return arguments.length?(u=p,c):u},function(p){return a=p,t=p(n),r=p(e),i=t===r?0:1/(r-t),c}}function fm(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function RW(){var n=cm(wP()(so));return n.copy=function(){return fm(n,RW())},bd.apply(n,arguments)}function NW(){var n=x2(wP()).domain([1,10]);return n.copy=function(){return fm(n,NW()).base(n.base())},bd.apply(n,arguments)}function DW(){var n=_2(wP());return n.copy=function(){return fm(n,DW()).constant(n.constant())},bd.apply(n,arguments)}function N2(){var n=w2(wP());return n.copy=function(){return fm(n,N2()).exponent(n.exponent())},bd.apply(n,arguments)}function Uge(){return N2.apply(null,arguments).exponent(.5)}function IW(){var n=[],e=so;function t(r){if(r!=null&&!isNaN(r=+r))return e((aS(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(Yp),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,a)=>_pe(n,a/r))},t.copy=function(){return IW(e).domain(n)},bd.apply(t,arguments)}function SP(){var n=0,e=.5,t=1,r=1,i,a,s,o,u,c=so,h,p=!1,v;function y(S){return isNaN(S=+S)?v:(S=.5+((S=+h(S))-a)*(r*S<r*a?o:u),c(p?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([n,e,t]=S,i=h(n=+n),a=h(e=+e),s=h(t=+t),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,y):[n,e,t]},y.clamp=function(S){return arguments.length?(p=!!S,y):p},y.interpolator=function(S){return arguments.length?(c=S,y):c};function x(S){return function(w){var A,T,C;return arguments.length?([A,T,C]=w,c=Ype(S,[A,T,C]),y):[c(0),c(.5),c(1)]}}return y.range=x(ix),y.rangeRound=x(g2),y.unknown=function(S){return arguments.length?(v=S,y):v},function(S){return h=S,i=S(n),a=S(e),s=S(t),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function LW(){var n=cm(SP()(so));return n.copy=function(){return fm(n,LW())},bd.apply(n,arguments)}function UW(){var n=x2(SP()).domain([.1,1,10]);return n.copy=function(){return fm(n,UW()).base(n.base())},bd.apply(n,arguments)}function kW(){var n=_2(SP());return n.copy=function(){return fm(n,kW()).constant(n.constant())},bd.apply(n,arguments)}function D2(){var n=w2(SP());return n.copy=function(){return fm(n,D2()).exponent(n.exponent())},bd.apply(n,arguments)}function kge(){return D2.apply(null,arguments).exponent(.5)}const f_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:d2,scaleDiverging:LW,scaleDivergingLog:UW,scaleDivergingPow:D2,scaleDivergingSqrt:kge,scaleDivergingSymlog:kW,scaleIdentity:mW,scaleImplicit:VI,scaleLinear:pW,scaleLog:vW,scaleOrdinal:h2,scalePoint:Ape,scalePow:S2,scaleQuantile:xW,scaleQuantize:_W,scaleRadial:bW,scaleSequential:RW,scaleSequentialLog:NW,scaleSequentialPow:N2,scaleSequentialQuantile:IW,scaleSequentialSqrt:Uge,scaleSequentialSymlog:DW,scaleSqrt:vme,scaleSymlog:yW,scaleThreshold:wW,scaleTime:Ige,scaleUtc:Lge,tickFormat:dW},Symbol.toStringTag,{value:"Module"}));var hm=n=>n.chartData,Bge=at([hm],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),I2=(n,e,t,r)=>r?Bge(n):hm(n);function rm(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(ai(e)&&ai(t))return!0}return!1}function e8(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function BW(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,r]=n,i,a;if(ai(t))i=t;else if(typeof t=="function")return;if(ai(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(rm(s))return s}}function Fge(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var r=n(e,t);if(rm(r))return e8(r,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[i,a]=n,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(un(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&h5.test(i)){var u=h5.exec(i);if(u==null||u[1]==null||e==null)s=void 0;else{var c=+u[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(un(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&d5.test(a)){var h=d5.exec(a);if(h==null||h[1]==null||e==null)o=void 0;else{var p=+h[1];o=e[1]+p}}else o=e==null?void 0:e[1];var v=[s,o];if(rm(v))return e==null?v:e8(v,e,t)}}}var ax=1e9,zge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},U2,si=!0,Tu="[DecimalError] ",c0=Tu+"Invalid argument: ",L2=Tu+"Exponent out of range: ",sx=Math.floor,yg=Math.pow,Gge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_l,Da=1e7,Kr=7,FW=9007199254740991,PC=sx(FW/Kr),jt={};jt.absoluteValue=jt.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};jt.comparedTo=jt.cmp=function(n){var e,t,r,i,a=this;if(n=new a.constructor(n),a.s!==n.s)return a.s||-n.s;if(a.e!==n.e)return a.e>n.e^a.s<0?1:-1;for(r=a.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(a.d[e]!==n.d[e])return a.d[e]>n.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Kr;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};jt.dividedBy=jt.div=function(n){return Qh(this,new this.constructor(n))};jt.dividedToIntegerBy=jt.idiv=function(n){var e=this,t=e.constructor;return Rr(Qh(e,new t(n),0,1),t.precision)};jt.equals=jt.eq=function(n){return!this.cmp(n)};jt.exponent=function(){return ia(this)};jt.greaterThan=jt.gt=function(n){return this.cmp(n)>0};jt.greaterThanOrEqualTo=jt.gte=function(n){return this.cmp(n)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(n){return this.cmp(n)<0};jt.lessThanOrEqualTo=jt.lte=function(n){return this.cmp(n)<1};jt.logarithm=jt.log=function(n){var e,t=this,r=t.constructor,i=r.precision,a=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(_l))throw Error(Tu+"NaN");if(t.s<1)throw Error(Tu+(t.s?"NaN":"-Infinity"));return t.eq(_l)?new r(0):(si=!1,e=Qh(fw(t,a),fw(n,a),a),si=!0,Rr(e,i))};jt.minus=jt.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?HW(e,n):zW(e,(n.s=-n.s,n))};jt.modulo=jt.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(Tu+"NaN");return t.s?(si=!1,e=Qh(t,n,0,1).times(n),si=!0,t.minus(e)):Rr(new r(t),i)};jt.naturalExponential=jt.exp=function(){return GW(this)};jt.naturalLogarithm=jt.ln=function(){return fw(this)};jt.negated=jt.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};jt.plus=jt.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?zW(e,n):HW(e,(n.s=-n.s,n))};jt.precision=jt.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(c0+n);if(e=ia(i)+1,r=i.d.length-1,t=r*Kr+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};jt.squareRoot=jt.sqrt=function(){var n,e,t,r,i,a,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Tu+"NaN")}for(n=ia(o),si=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Mf(o.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=sx((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new u(e)):r=new u(i.toString()),t=u.precision,i=s=t+3;;)if(a=r,r=a.plus(Qh(o,a,s+2)).times(.5),Mf(a.d).slice(0,s)===(e=Mf(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Rr(a,t+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return si=!0,Rr(r,t)};jt.times=jt.mul=function(n){var e,t,r,i,a,s,o,u,c,h=this,p=h.constructor,v=h.d,y=(n=new p(n)).d;if(!h.s||!n.s)return new p(0);for(n.s*=h.s,t=h.e+n.e,u=v.length,c=y.length,u<c&&(a=v,v=y,y=a,s=u,u=c,c=s),a=[],s=u+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+y[r]*v[i-r-1]+e,a[i--]=o%Da|0,e=o/Da|0;a[i]=(a[i]+e)%Da|0}for(;!a[--s];)a.pop();return e?++t:a.shift(),n.d=a,n.e=t,si?Rr(n,p.precision):n};jt.toDecimalPlaces=jt.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(Lf(n,0,ax),e===void 0?e=r.rounding:Lf(e,0,8),Rr(t,n+ia(t)+1,e))};jt.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=w0(r,!0):(Lf(n,0,ax),e===void 0?e=i.rounding:Lf(e,0,8),r=Rr(new i(r),n+1,e),t=w0(r,!0,n+1)),t};jt.toFixed=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?w0(i):(Lf(n,0,ax),e===void 0?e=a.rounding:Lf(e,0,8),r=Rr(new a(i),n+ia(i)+1,e),t=w0(r.abs(),!1,n+ia(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};jt.toInteger=jt.toint=function(){var n=this,e=n.constructor;return Rr(new e(n),ia(n)+1,e.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(n){var e,t,r,i,a,s,o=this,u=o.constructor,c=12,h=+(n=new u(n));if(!n.s)return new u(_l);if(o=new u(o),!o.s){if(n.s<1)throw Error(Tu+"Infinity");return o}if(o.eq(_l))return o;if(r=u.precision,n.eq(_l))return Rr(o,r);if(e=n.e,t=n.d.length-1,s=e>=t,a=o.s,s){if((t=h<0?-h:h)<=FW){for(i=new u(_l),e=Math.ceil(r/Kr+4),si=!1;t%2&&(i=i.times(o),n8(i.d,e)),t=sx(t/2),t!==0;)o=o.times(o),n8(o.d,e);return si=!0,n.s<0?new u(_l).div(i):Rr(i,r)}}else if(a<0)throw Error(Tu+"NaN");return a=a<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,si=!1,i=n.times(fw(o,r+c)),si=!0,i=GW(i),i.s=a,i};jt.toPrecision=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?(t=ia(i),r=w0(i,t<=a.toExpNeg||t>=a.toExpPos)):(Lf(n,1,ax),e===void 0?e=a.rounding:Lf(e,0,8),i=Rr(new a(i),n,e),t=ia(i),r=w0(i,n<=t||t<=a.toExpNeg,n)),r};jt.toSignificantDigits=jt.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(Lf(n,1,ax),e===void 0?e=r.rounding:Lf(e,0,8)),Rr(new r(t),n,e)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=ia(n),t=n.constructor;return w0(n,e<=t.toExpNeg||e>=t.toExpPos)};function zW(n,e){var t,r,i,a,s,o,u,c,h=n.constructor,p=h.precision;if(!n.s||!e.s)return e.s||(e=new h(n)),si?Rr(e,p):e;if(u=n.d,c=e.d,s=n.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,o=c.length):(r=c,i=s,o=u.length),s=Math.ceil(p/Kr),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=c.length,o-a<0&&(a=o,r=c,c=u,u=r),t=0;a;)t=(u[--a]=u[a]+c[a]+t)/Da|0,u[a]%=Da;for(t&&(u.unshift(t),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,si?Rr(e,p):e}function Lf(n,e,t){if(n!==~~n||n<e||n>t)throw Error(c0+n)}function Mf(n){var e,t,r,i=n.length-1,a="",s=n[0];if(i>0){for(a+=s,e=1;e<i;e++)r=n[e]+"",t=Kr-r.length,t&&(a+=xp(t)),a+=r;s=n[e],r=s+"",t=Kr-r.length,t&&(a+=xp(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Qh=(function(){function n(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Da|0,s=a/Da|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,u;if(a!=s)u=a>s?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function t(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Da+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,u,c,h,p,v,y,x,S,w,A,T,C,O,R,D,I,F,L=r.constructor,k=r.s==i.s?1:-1,V=r.d,j=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Tu+"Division by zero");for(u=r.e-i.e,I=j.length,R=V.length,y=new L(k),x=y.d=[],c=0;j[c]==(V[c]||0);)++c;if(j[c]>(V[c]||0)&&--u,a==null?T=a=L.precision:s?T=a+(ia(r)-ia(i))+1:T=a,T<0)return new L(0);if(T=T/Kr+2|0,c=0,I==1)for(h=0,j=j[0],T++;(c<R||h)&&T--;c++)C=h*Da+(V[c]||0),x[c]=C/j|0,h=C%j|0;else{for(h=Da/(j[0]+1)|0,h>1&&(j=n(j,h),V=n(V,h),I=j.length,R=V.length),O=I,S=V.slice(0,I),w=S.length;w<I;)S[w++]=0;F=j.slice(),F.unshift(0),D=j[0],j[1]>=Da/2&&++D;do h=0,o=e(j,S,I,w),o<0?(A=S[0],I!=w&&(A=A*Da+(S[1]||0)),h=A/D|0,h>1?(h>=Da&&(h=Da-1),p=n(j,h),v=p.length,w=S.length,o=e(p,S,v,w),o==1&&(h--,t(p,I<v?F:j,v))):(h==0&&(o=h=1),p=j.slice()),v=p.length,v<w&&p.unshift(0),t(S,p,w),o==-1&&(w=S.length,o=e(j,S,I,w),o<1&&(h++,t(S,I<w?F:j,w))),w=S.length):o===0&&(h++,S=[0]),x[c++]=h,o&&S[0]?S[w++]=V[O]||0:(S=[V[O]],w=1);while((O++<R||S[0]!==void 0)&&T--)}return x[0]||x.shift(),y.e=u,Rr(y,s?a+ia(y)+1:a)}})();function GW(n,e){var t,r,i,a,s,o,u=0,c=0,h=n.constructor,p=h.precision;if(ia(n)>16)throw Error(L2+ia(n));if(!n.s)return new h(_l);for(si=!1,o=p,s=new h(.03125);n.abs().gte(.1);)n=n.times(s),c+=5;for(r=Math.log(yg(2,c))/Math.LN10*2+5|0,o+=r,t=i=a=new h(_l),h.precision=o;;){if(i=Rr(i.times(n),o),t=t.times(++u),s=a.plus(Qh(i,t,o)),Mf(s.d).slice(0,o)===Mf(a.d).slice(0,o)){for(;c--;)a=Rr(a.times(a),o);return h.precision=p,e==null?(si=!0,Rr(a,p)):a}a=s}}function ia(n){for(var e=n.e*Kr,t=n.d[0];t>=10;t/=10)e++;return e}function JN(n,e,t){if(e>n.LN10.sd())throw si=!0,t&&(n.precision=t),Error(Tu+"LN10 precision limit exceeded");return Rr(new n(n.LN10),e)}function xp(n){for(var e="";n--;)e+="0";return e}function fw(n,e){var t,r,i,a,s,o,u,c,h,p=1,v=10,y=n,x=y.d,S=y.constructor,w=S.precision;if(y.s<1)throw Error(Tu+(y.s?"NaN":"-Infinity"));if(y.eq(_l))return new S(0);if(e==null?(si=!1,c=w):c=e,y.eq(10))return e==null&&(si=!0),JN(S,c);if(c+=v,S.precision=c,t=Mf(x),r=t.charAt(0),a=ia(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)y=y.times(n),t=Mf(y.d),r=t.charAt(0),p++;a=ia(y),r>1?(y=new S("0."+t),a++):y=new S(r+"."+t.slice(1))}else return u=JN(S,c+2,w).times(a+""),y=fw(new S(r+"."+t.slice(1)),c-v).plus(u),S.precision=w,e==null?(si=!0,Rr(y,w)):y;for(o=s=y=Qh(y.minus(_l),y.plus(_l),c),h=Rr(y.times(y),c),i=3;;){if(s=Rr(s.times(h),c),u=o.plus(Qh(s,new S(i),c)),Mf(u.d).slice(0,c)===Mf(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(JN(S,c+2,w).times(a+""))),o=Qh(o,new S(p),c),S.precision=w,e==null?(si=!0,Rr(o,w)):o;o=u,i+=2}}function t8(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=sx(t/Kr),n.d=[],r=(t+1)%Kr,t<0&&(r+=Kr),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Kr;r<i;)n.d.push(+e.slice(r,r+=Kr));e=e.slice(r),r=Kr-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),si&&(n.e>PC||n.e<-PC))throw Error(L2+t)}else n.s=0,n.e=0,n.d=[0];return n}function Rr(n,e,t){var r,i,a,s,o,u,c,h,p=n.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Kr,i=e,c=p[h=0];else{if(h=Math.ceil((r+1)/Kr),a=p.length,h>=a)return n;for(c=a=p[h],s=1;a>=10;a/=10)s++;r%=Kr,i=r-Kr+s}if(t!==void 0&&(a=yg(10,s-i-1),o=c/a%10|0,u=e<0||p[h+1]!==void 0||c%a,u=t<4?(o||u)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||u||t==6&&(r>0?i>0?c/yg(10,s-i):0:p[h-1])%10&1||t==(n.s<0?8:7))),e<1||!p[0])return u?(a=ia(n),p.length=1,e=e-a-1,p[0]=yg(10,(Kr-e%Kr)%Kr),n.e=sx(-e/Kr)||0):(p.length=1,p[0]=n.e=n.s=0),n;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=yg(10,Kr-r),p[h]=i>0?(c/yg(10,s-i)%yg(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==Da&&(p[0]=1,++n.e);break}else{if(p[h]+=a,p[h]!=Da)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(si&&(n.e>PC||n.e<-PC))throw Error(L2+ia(n));return n}function HW(n,e){var t,r,i,a,s,o,u,c,h,p,v=n.constructor,y=v.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new v(n),si?Rr(e,y):e;if(u=n.d,p=e.d,r=e.e,c=n.e,u=u.slice(),s=c-r,s){for(h=s<0,h?(t=u,s=-s,o=p.length):(t=p,r=c,o=u.length),i=Math.max(Math.ceil(y/Kr),o)+2,s>i&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for(i=u.length,o=p.length,h=i<o,h&&(o=i),i=0;i<o;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}s=0}for(h&&(t=u,u=p,p=t,e.s=-e.s),o=u.length,i=p.length-o;i>0;--i)u[o++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=Da-1;--u[a],u[i]+=Da}u[i]-=p[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,si?Rr(e,y):e):new v(0)}function w0(n,e,t){var r,i=ia(n),a=Mf(n.d),s=a.length;return e?(t&&(r=t-s)>0?a=a.charAt(0)+"."+a.slice(1)+xp(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xp(-i-1)+a,t&&(r=t-s)>0&&(a+=xp(r))):i>=s?(a+=xp(i+1-s),t&&(r=t-i-1)>0&&(a=a+"."+xp(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),t&&(r=t-s)>0&&(i+1===s&&(a+="."),a+=xp(r))),n.s<0?"-"+a:a}function n8(n,e){if(n.length>e)return n.length=e,!0}function VW(n){var e,t,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(c0+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return t8(s,a.toString())}else if(typeof a!="string")throw Error(c0+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Gge.test(a))t8(s,a);else throw Error(c0+a)}if(i.prototype=jt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VW,i.config=i.set=Hge,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function Hge(n){if(!n||typeof n!="object")throw Error(Tu+"Object expected");var e,t,r,i=["precision",1,ax,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(sx(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(c0+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(c0+t+": "+r);return this}var U2=VW(zge);_l=new U2(1);const xr=U2;var Vge=n=>n,jW={},WW=n=>n===jW,r8=n=>function e(){return arguments.length===0||arguments.length===1&&WW(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},qW=(n,e)=>n===1?e:r8(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=r.filter(s=>s!==jW).length;return a>=n?e(...r):qW(n-a,r8(function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var c=r.map(h=>WW(h)?o.shift():h);return e(...c,...o)}))}),jge=n=>qW(n.length,n),XI=(n,e)=>{for(var t=[],r=n;r<e;++r)t[r-n]=r;return t},Wge=jge((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),qge=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Vge;var i=t.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,u)=>u(o),a(...arguments))}};function XW(n){var e;return n===0?e=1:e=Math.floor(new xr(n).abs().log(10).toNumber())+1,e}function YW(n,e,t){for(var r=new xr(n),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(t),i++;return a}var KW=n=>{var[e,t]=n,[r,i]=[e,t];return e>t&&([r,i]=[t,e]),[r,i]},$W=(n,e,t)=>{if(n.lte(0))return new xr(0);var r=XW(n.toNumber()),i=new xr(10).pow(r),a=n.div(i),s=r!==1?.05:.1,o=new xr(Math.ceil(a.div(s).toNumber())).add(t).mul(s),u=o.mul(i);return e?new xr(u.toNumber()):new xr(Math.ceil(u.toNumber()))},Xge=(n,e,t)=>{var r=new xr(1),i=new xr(n);if(!i.isint()&&t){var a=Math.abs(n);a<1?(r=new xr(10).pow(XW(n)-1),i=new xr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new xr(Math.floor(n)))}else n===0?i=new xr(Math.floor((e-1)/2)):t||(i=new xr(Math.floor(n)));var s=Math.floor((e-1)/2),o=qge(Wge(u=>i.add(new xr(u-s).mul(r)).toNumber()),XI);return o(0,e)},ZW=function(e,t,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xr(0),tickMin:new xr(0),tickMax:new xr(0)};var s=$W(new xr(t).sub(e).div(r-1),i,a),o;e<=0&&t>=0?o=new xr(0):(o=new xr(e).add(t).div(2),o=o.sub(new xr(o).mod(s)));var u=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new xr(t).sub(o).div(s).toNumber()),h=u+c+1;return h>r?ZW(e,t,r,i,a+1):(h<r&&(c=t>0?c+(r-h):c,u=t>0?u:u+(r-h)),{step:s,tickMin:o.sub(new xr(u).mul(s)),tickMax:o.add(new xr(c).mul(s))})},Yge=function(e){var[t,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,u]=KW([t,r]);if(o===-1/0||u===1/0){var c=u===1/0?[o,...XI(0,i-1).map(()=>1/0)]:[...XI(0,i-1).map(()=>-1/0),u];return t>r?c.reverse():c}if(o===u)return Xge(o,i,a);var{step:h,tickMin:p,tickMax:v}=ZW(o,u,s,a,0),y=YW(p,v.add(new xr(.1).mul(h)),h);return t>r?y.reverse():y},Kge=function(e,t){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=KW([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var u=Math.max(t,2),c=$W(new xr(o).sub(s).div(u-1),a,0),h=[...YW(new xr(s),new xr(o),c),o];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},$ge=n=>n.rootProps.barCategoryGap,AP=n=>n.rootProps.stackOffset,QW=n=>n.rootProps.reverseStackOrder,k2=n=>n.options.chartName,B2=n=>n.rootProps.syncId,JW=n=>n.rootProps.syncMethod,F2=n=>n.options.eventEmitter,oo={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},jh={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},EP=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},Zge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jh.angleAxisId,includeHidden:!1,name:void 0,reversed:jh.reversed,scale:jh.scale,tick:jh.tick,tickCount:void 0,ticks:void 0,type:jh.type,unit:void 0},Qge={allowDataOverflow:xl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xl.scale,tick:xl.tick,tickCount:xl.tickCount,ticks:void 0,type:xl.type,unit:void 0},Jge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:jh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jh.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jh.scale,tick:jh.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},e0e={allowDataOverflow:xl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xl.scale,tick:xl.tick,tickCount:xl.tickCount,ticks:void 0,type:"category",unit:void 0},z2=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?Jge:Zge,G2=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?e0e:Qge,MP=n=>n.polarOptions,H2=at([vd,yd,us],Kde),eq=at([MP,H2],(n,e)=>{if(n!=null)return tm(n.innerRadius,e,0)}),tq=at([MP,H2],(n,e)=>{if(n!=null)return tm(n.outerRadius,e,e*.8)}),t0e=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},nq=at([MP],t0e);at([z2,nq],EP);var rq=at([H2,eq,tq],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});at([G2,rq],EP);var iq=at([$r,MP,eq,tq,vd,yd],(n,e,t,r,i,a)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||r==null)){var{cx:s,cy:o,startAngle:u,endAngle:c}=e;return{cx:tm(s,i,i/2),cy:tm(o,a,a/2),innerRadius:t,outerRadius:r,startAngle:u,endAngle:c,clockWise:!1}}}),va=(n,e)=>e,TP=(n,e,t)=>t;function aq(n){return n==null?void 0:n.id}function sq(n,e,t){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=t,s=new Map;return n.forEach(o=>{var u,c=(u=o.data)!==null&&u!==void 0?u:r;if(!(c==null||c.length===0)){var h=aq(o);c.forEach((p,v)=>{var y=a==null||i?v:String(os(p,a,null)),x=os(p,o.dataKey,0),S;s.has(y)?S=s.get(y):S={},Object.assign(S,{[h]:x}),s.set(y,S)})}}),Array.from(s.values())}function V2(n){return"stackId"in n&&n.stackId!=null&&n.dataKey!=null}var CP=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function PP(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function n0e(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var ya=n=>{var e=$r(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ox=n=>n.tooltip.settings.axisId;function i8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function OC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(t),!0).forEach(function(r){r0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function r0e(n,e,t){return(e=i0e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i0e(n){var e=a0e(n,"string");return typeof e=="symbol"?e:e+""}function a0e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var YI=[0,"auto"],oq={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},s0e=(n,e)=>n.cartesianAxis.xAxis[e],Bf=(n,e)=>{var t=s0e(n,e);return t??oq},Ra={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:YI,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:tS},lq=(n,e)=>n.cartesianAxis.yAxis[e],Ff=(n,e)=>{var t=lq(n,e);return t??Ra},o0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},j2=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??o0e},go=(n,e,t)=>{switch(e){case"xAxis":return Bf(n,t);case"yAxis":return Ff(n,t);case"zAxis":return j2(n,t);case"angleAxis":return z2(n,t);case"radiusAxis":return G2(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},l0e=(n,e,t)=>{switch(e){case"xAxis":return Bf(n,t);case"yAxis":return Ff(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},uS=(n,e,t)=>{switch(e){case"xAxis":return Bf(n,t);case"yAxis":return Ff(n,t);case"angleAxis":return z2(n,t);case"radiusAxis":return G2(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},uq=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function cq(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var fq=n=>n.graphicalItems.cartesianItems,u0e=at([va,TP],cq),hq=(n,e,t)=>n.filter(t).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),cS=at([fq,go,u0e],hq,{memoizeOptions:{resultEqualityCheck:PP}}),dq=at([cS],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(V2)),pq=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),c0e=at([cS],pq),mq=n=>n.map(e=>e.data).filter(Boolean).flat(1),f0e=at([cS],mq,{memoizeOptions:{resultEqualityCheck:PP}}),gq=(n,e)=>{var{chartData:t=[],dataStartIndex:r,dataEndIndex:i}=e;return n.length>0?n:t.slice(r,i+1)},W2=at([f0e,I2],gq),vq=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(r=>({value:os(r,e.dataKey)})):t.length>0?t.map(r=>r.dataKey).flatMap(r=>n.map(i=>({value:os(i,r)}))):n.map(r=>({value:r})),OP=at([W2,go,cS],vq);function yq(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function UM(n){if(Eu(n)||n instanceof Date){var e=Number(n);if(ai(e))return e}}function a8(n){if(Array.isArray(n)){var e=[UM(n[0]),UM(n[1])];return rm(e)?e:void 0}var t=UM(n);if(t!=null)return[t,t]}function fd(n){return n.map(UM).filter(Sue)}function h0e(n,e,t){return!t||typeof e!="number"||gc(e)?[]:t.length?fd(t.flatMap(r=>{var i=os(n,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!ai(a)||!ai(s)))return[e-a,e+s]})):[]}var ba=n=>{var e=ya(n),t=ox(n);return uS(n,e,t)},fS=at([ba],n=>n==null?void 0:n.dataKey),d0e=at([dq,I2,ba],sq),bq=(n,e,t,r)=>{var i={},a=e.reduce((s,o)=>{if(o.stackId==null)return s;var u=s[o.stackId];return u==null&&(u=[]),u.push(o),s[o.stackId]=u,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,u]=s,c=r?[...u].reverse():u,h=c.map(aq);return[o,{stackedData:kfe(n,h,t),graphicalItems:c}]}))},p0e=at([d0e,dq,AP,QW],bq),xq=(n,e,t,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&t!=="zAxis"){var s=zfe(n,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},m0e=at([go],n=>n.allowDataOverflow),q2=n=>{var e;if(n==null||!("domain"in n))return YI;if(n.domain!=null)return n.domain;if("ticks"in n&&n.ticks!=null){if(n.type==="number"){var t=fd(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:YI},_q=at([go],q2),wq=at([_q,m0e],BW),g0e=at([p0e,hm,va,wq],xq,{memoizeOptions:{resultEqualityCheck:CP}}),X2=n=>n.errorBars,v0e=(n,e,t)=>n.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>yq(t,r)),RC=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Sq=(n,e,t,r,i)=>{var a,s;if(t.length>0&&n.forEach(o=>{t.forEach(u=>{var c,h,p=(c=r[u.id])===null||c===void 0?void 0:c.filter(A=>yq(i,A)),v=os(o,(h=e.dataKey)!==null&&h!==void 0?h:u.dataKey),y=h0e(o,v,p);if(y.length>=2){var x=Math.min(...y),S=Math.max(...y);(a==null||x<a)&&(a=x),(s==null||S>s)&&(s=S)}var w=a8(v);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),s=s==null?w[1]:Math.max(s,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var u=a8(os(o,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),ai(a)&&ai(s))return[a,s]},y0e=at([W2,go,c0e,X2,va],Sq,{memoizeOptions:{resultEqualityCheck:CP}});function b0e(n){var{value:e}=n;if(Eu(e)||e instanceof Date)return e}var x0e=(n,e,t)=>{var r=n.map(b0e).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&z9(r))?rW(0,n.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Aq=n=>n.referenceElements.dots,lx=(n,e,t)=>n.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===t:r.yAxisId===t),_0e=at([Aq,va,TP],lx),Eq=n=>n.referenceElements.areas,w0e=at([Eq,va,TP],lx),Mq=n=>n.referenceElements.lines,S0e=at([Mq,va,TP],lx),Tq=(n,e)=>{if(n!=null){var t=fd(n.map(r=>e==="xAxis"?r.x:r.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},A0e=at(_0e,va,Tq),Cq=(n,e)=>{if(n!=null){var t=fd(n.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},E0e=at([w0e,va],Cq);function M0e(n){var e;if(n.x!=null)return fd([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.x);return t==null||t.length===0?[]:fd(t)}function T0e(n){var e;if(n.y!=null)return fd([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.y);return t==null||t.length===0?[]:fd(t)}var Pq=(n,e)=>{if(n!=null){var t=n.flatMap(r=>e==="xAxis"?M0e(r):T0e(r));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},C0e=at([S0e,va],Pq),P0e=at(A0e,C0e,E0e,(n,e,t)=>RC(n,t,e)),Oq=(n,e,t,r,i,a,s,o)=>{if(t!=null)return t;var u=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=u?RC(r,a,i):RC(a,i);return Fge(e,c,n.allowDataOverflow)},O0e=at([go,_q,wq,g0e,y0e,P0e,$r,va],Oq,{memoizeOptions:{resultEqualityCheck:CP}}),R0e=[0,1],Rq=(n,e,t,r,i,a,s)=>{if(!((n==null||t==null||t.length===0)&&s===void 0)){var{dataKey:o,type:u}=n,c=um(e,a);if(c&&o==null){var h;return rW(0,(h=t==null?void 0:t.length)!==null&&h!==void 0?h:0)}return u==="category"?x0e(r,n,c):i==="expand"?R0e:s}},Y2=at([go,$r,W2,OP,AP,va,O0e],Rq),Nq=(n,e,t,r,i)=>{if(n!=null){var{scale:a,type:s}=n;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Zw(a));return o in f_?o:"point"}}},hS=at([go,$r,uq,k2,va],Nq);function N0e(n){if(n!=null){if(n in f_)return f_[n]();var e="scale".concat(Zw(n));if(e in f_)return f_[e]()}}function K2(n,e,t,r){if(!(t==null||r==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(r);var i=N0e(e);if(i!=null){var a=i.domain(t).range(r);return Dfe(a),a}}}var Dq=(n,e,t)=>{var r=q2(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&rm(n))return Yge(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&rm(n))return Kge(n,e.tickCount,e.allowDecimals)}},$2=at([Y2,uS,hS],Dq),Iq=(n,e,t,r)=>{if(r!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&rm(e)&&Array.isArray(t)&&t.length>0){var i=e[0],a=t[0],s=e[1],o=t[t.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},D0e=at([go,Y2,$2,va],Iq),I0e=at(OP,go,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,r=Array.from(fd(n.map(p=>p.value))).sort((p,v)=>p-v),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o],c=r[o+1];if(!(u==null||c==null)){var h=c-u;t=Math.min(t,h)}}return t/s}}),Lq=at(I0e,$r,$ge,us,(n,e,t,r,i)=>i,(n,e,t,r,i)=>{if(!ai(n))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return n*a/2;if(i==="no-gap"){var s=tm(t,n*a),o=n*a/2;return o-s-(o-s)/a*s}return 0}),L0e=(n,e,t)=>{var r=Bf(n,e);return r==null||typeof r.padding!="string"?0:Lq(n,"xAxis",e,t,r.padding)},U0e=(n,e,t)=>{var r=Ff(n,e);return r==null||typeof r.padding!="string"?0:Lq(n,"yAxis",e,t,r.padding)},k0e=at(Bf,L0e,(n,e)=>{var t,r;if(n==null)return{left:0,right:0};var{padding:i}=n;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),B0e=at(Ff,U0e,(n,e)=>{var t,r;if(n==null)return{top:0,bottom:0};var{padding:i}=n;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),F0e=at([us,k0e,hP,fP,(n,e,t)=>t],(n,e,t,r,i)=>{var{padding:a}=r;return i?[a.left,t.width-a.right]:[n.left+e.left,n.left+n.width-e.right]}),z0e=at([us,$r,B0e,hP,fP,(n,e,t)=>t],(n,e,t,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),dS=(n,e,t,r)=>{var i;switch(e){case"xAxis":return F0e(n,t,r);case"yAxis":return z0e(n,t,r);case"zAxis":return(i=j2(n,t))===null||i===void 0?void 0:i.range;case"angleAxis":return nq(n);case"radiusAxis":return rq(n,t);default:return}},Uq=at([go,dS],EP),Hb=at([go,hS,D0e,Uq],K2);at([cS,X2,va],v0e);function kq(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var RP=(n,e)=>e,NP=(n,e,t)=>t,G0e=at(uP,RP,NP,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(kq)),H0e=at(cP,RP,NP,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(kq)),Bq=(n,e)=>({width:n.width,height:e.height}),V0e=(n,e)=>{var t=typeof e.width=="number"?e.width:tS;return{width:t,height:n.height}};at(us,Bf,Bq);var j0e=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},W0e=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},q0e=at(yd,us,G0e,RP,NP,(n,e,t,r,i)=>{var a={},s;return t.forEach(o=>{var u=Bq(e,o);s==null&&(s=j0e(e,r,n));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*u.height,s+=(c?-1:1)*u.height}),a}),X0e=at(vd,us,H0e,RP,NP,(n,e,t,r,i)=>{var a={},s;return t.forEach(o=>{var u=V0e(e,o);s==null&&(s=W0e(e,r,n));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*u.width,s+=(c?-1:1)*u.width}),a}),Y0e=(n,e)=>{var t=Bf(n,e);if(t!=null)return q0e(n,t.orientation,t.mirror)};at([us,Bf,Y0e,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}});var K0e=(n,e)=>{var t=Ff(n,e);if(t!=null)return X0e(n,t.orientation,t.mirror)},$0e=at([us,Ff,K0e,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}}),Z0e=at(us,Ff,(n,e)=>{var t=typeof e.width=="number"?e.width:tS;return{width:t,height:n.height}}),Fq=(n,e,t,r)=>{if(t!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=t,o=um(n,r),u=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&z9(u))return u}},Z2=at([$r,OP,go,va],Fq),zq=(n,e,t,r)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:a}=t,s=um(n,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},Q2=at([$r,OP,uS,va],zq);at([$r,l0e,hS,Hb,Z2,Q2,dS,$2,va],(n,e,t,r,i,a,s,o,u)=>{if(e!=null){var c=um(n,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:t,scale:r}}});var Q0e=(n,e,t,r,i,a,s,o,u)=>{if(!(e==null||r==null)){var c=um(n,u),{type:h,ticks:p,tickCount:v}=e,y=t==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=h==="category"&&r.bandwidth?r.bandwidth()/y:0;x=u==="angleAxis"&&a!=null&&a.length>=2?dc(a[0]-a[1])*2*x:x;var S=p||i;if(S){var w=S.map((A,T)=>{var C=s?s.indexOf(A):A;return{index:T,coordinate:r(C)+x,value:A,offset:x}});return w.filter(A=>ai(A.coordinate))}return c&&o?o.map((A,T)=>({coordinate:r(A)+x,value:A,index:T,offset:x})).filter(A=>ai(A.coordinate)):r.ticks?r.ticks(v).map(A=>({coordinate:r(A)+x,value:A,offset:x})):r.domain().map((A,T)=>({coordinate:r(A)+x,value:s?s[A]:A,index:T,offset:x}))}},J0e=at([$r,uS,hS,Hb,$2,dS,Z2,Q2,va],Q0e),eve=(n,e,t,r,i,a,s)=>{if(!(e==null||t==null||r==null||r[0]===r[1])){var o=um(n,s),{tickCount:u}=e,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?dc(r[0]-r[1])*2*c:c,o&&a?a.map((h,p)=>({coordinate:t(h)+c,value:h,index:p,offset:c})):t.ticks?t.ticks(u).map(h=>({coordinate:t(h)+c,value:h,offset:c})):t.domain().map((h,p)=>({coordinate:t(h)+c,value:i?i[h]:h,index:p,offset:c}))}},Gq=at([$r,uS,Hb,dS,Z2,Q2,va],eve),Hq=at(go,Hb,(n,e)=>{if(!(n==null||e==null))return OC(OC({},n),{},{scale:e})}),tve=at([go,hS,Y2,Uq],K2);at((n,e,t)=>j2(n,t),tve,(n,e)=>{if(!(n==null||e==null))return OC(OC({},n),{},{scale:e})});var nve=at([$r,uP,cP],(n,e,t)=>{switch(n){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Vq=n=>n.options.defaultTooltipEventType,jq=n=>n.options.validateTooltipEventTypes;function Wq(n,e,t){if(n==null)return e;var r=n?"axis":"item";return t==null?e:t.includes(r)?r:e}function J2(n,e){var t=Vq(n),r=jq(n);return Wq(e,t,r)}function rve(n){return fn(e=>J2(e,n))}var qq=(n,e)=>{var t,r=Number(e);if(!(gc(r)||e==null))return r>=0?n==null||(t=n[r])===null||t===void 0?void 0:t.value:void 0},ive=n=>n.tooltip.settings,Ep={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ave={itemInteraction:{click:Ep,hover:Ep},axisInteraction:{click:Ep,hover:Ep},keyboardInteraction:Ep,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Xq=tl({name:"tooltip",initialState:ave,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:ii()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:r}=e.payload,i=mc(n).tooltipItemPayloads.indexOf(t);i>-1&&(n.tooltipItemPayloads[i]=r)},prepare:ii()},removeTooltipEntrySettings:{reducer(n,e){var t=mc(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:ii()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:sve,replaceTooltipEntrySettings:ove,removeTooltipEntrySettings:lve,setTooltipSettingsState:uve,setActiveMouseOverItemIndex:cve,mouseLeaveItem:D3e,mouseLeaveChart:Yq,setActiveClickItemIndex:I3e,setMouseOverAxisIndex:Kq,setMouseClickAxisIndex:fve,setSyncInteraction:KI,setKeyboardInteraction:$I}=Xq.actions,hve=Xq.reducer;function s8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(t),!0).forEach(function(r){dve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dve(n,e,t){return(e=pve(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pve(n){var e=mve(n,"string");return typeof e=="symbol"?e:e+""}function mve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gve(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function vve(n){return n.index!=null}var $q=(n,e,t,r)=>{if(e==null)return Ep;var i=gve(n,e,t);if(i==null)return Ep;if(i.active)return i;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var a=n.settings.active===!0;if(vve(i)){if(a)return hM(hM({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return hM(hM({},Ep),{},{coordinate:i.coordinate})};function yve(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function bve(n,e){var t=yve(n),r=e[0],i=e[1];if(t===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return t>=a&&t<=s}function xve(n,e,t){if(t==null||e==null)return!0;var r=os(n,e);return r==null||!rm(t)?!0:bve(r,t)}var ek=(n,e,t,r)=>{var i=n==null?void 0:n.index;if(i==null)return null;var a=Number(i);if(!ai(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(s,Math.min(a,o)),c=e[u];return c==null||xve(c,t,r)?String(u):null},Zq=(n,e,t,r,i,a,s,o)=>{if(!(a==null||o==null)){var u=s[0],c=u==null?void 0:o(u.positions,a);if(c!=null)return c;var h=i==null?void 0:i[Number(a)];if(h)switch(t){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+n)/2,y:h.coordinate}}}},Qq=(n,e,t,r)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var i;if(t==="hover"?i=n.itemInteraction.hover.graphicalItemId:i=n.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=n.tooltipItemPayloads[0];return a!=null?[a]:[]}return n.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},pS=n=>n.options.tooltipPayloadSearcher,ux=n=>n.tooltip;function o8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function l8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o8(Object(t),!0).forEach(function(r){_ve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _ve(n,e,t){return(e=wve(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wve(n){var e=Sve(n,"string");return typeof e=="symbol"?e:e+""}function Sve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ave(n,e){return n??e}var Jq=(n,e,t,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:u,dataStartIndex:c,dataEndIndex:h}=t,p=[];return n.reduce((v,y)=>{var x,{dataDefinedOnItem:S,settings:w}=y,A=Ave(S,o),T=Array.isArray(A)?D7(A,c,h):A,C=(x=w==null?void 0:w.dataKey)!==null&&x!==void 0?x:r,O=w==null?void 0:w.nameKey,R;if(r&&Array.isArray(T)&&!Array.isArray(T[0])&&s==="axis"?R=G9(T,r,i):R=a(T,e,u,O),Array.isArray(R))R.forEach(I=>{var F=l8(l8({},w),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});v.push(p5({tooltipEntrySettings:F,dataKey:I.dataKey,payload:I.payload,value:os(I.payload,I.dataKey),name:I.name}))});else{var D;v.push(p5({tooltipEntrySettings:w,dataKey:C,payload:R,value:os(R,C),name:(D=os(R,O))!==null&&D!==void 0?D:w==null?void 0:w.name}))}return v},p)}},tk=at([ba,$r,uq,k2,ya],Nq),Eve=at([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),Mve=at([ya,ox],cq),cx=at([Eve,ba,Mve],hq,{memoizeOptions:{resultEqualityCheck:PP}}),Tve=at([cx],n=>n.filter(V2)),Cve=at([cx],mq,{memoizeOptions:{resultEqualityCheck:PP}}),fx=at([Cve,hm],gq),Pve=at([Tve,hm,ba],sq),nk=at([fx,ba,cx],vq),eX=at([ba],q2),Ove=at([ba],n=>n.allowDataOverflow),tX=at([eX,Ove],BW),Rve=at([cx],n=>n.filter(V2)),Nve=at([Pve,Rve,AP,QW],bq),Dve=at([Nve,hm,ya,tX],xq),Ive=at([cx],pq),Lve=at([fx,ba,Ive,X2,ya],Sq,{memoizeOptions:{resultEqualityCheck:CP}}),Uve=at([Aq,ya,ox],lx),kve=at([Uve,ya],Tq),Bve=at([Eq,ya,ox],lx),Fve=at([Bve,ya],Cq),zve=at([Mq,ya,ox],lx),Gve=at([zve,ya],Pq),Hve=at([kve,Gve,Fve],RC),Vve=at([ba,eX,tX,Dve,Lve,Hve,$r,ya],Oq),mS=at([ba,$r,fx,nk,AP,ya,Vve],Rq),jve=at([mS,ba,tk],Dq),Wve=at([ba,mS,jve,ya],Iq),nX=n=>{var e=ya(n),t=ox(n),r=!1;return dS(n,e,t,r)},rX=at([ba,nX],EP),iX=at([ba,tk,Wve,rX],K2),qve=at([$r,nk,ba,ya],Fq),Xve=at([$r,nk,ba,ya],zq),Yve=(n,e,t,r,i,a,s,o)=>{if(e){var{type:u}=e,c=um(n,o);if(r){var h=t==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?dc(i[0]-i[1])*2*p:p,c&&s?s.map((v,y)=>({coordinate:r(v)+p,value:v,index:y,offset:p})):r.domain().map((v,y)=>({coordinate:r(v)+p,value:a?a[v]:v,index:y,offset:p}))}}},xd=at([$r,ba,tk,iX,nX,qve,Xve,ya],Yve),rk=at([Vq,jq,ive],(n,e,t)=>Wq(t.shared,n,e)),aX=n=>n.tooltip.settings.trigger,ik=n=>n.tooltip.settings.defaultIndex,gS=at([ux,rk,aX,ik],$q),hw=at([gS,fx,fS,mS],ek),sX=at([xd,hw],qq),Kve=at([gS],n=>{if(n)return n.dataKey});at([gS],n=>{if(n)return n.graphicalItemId});var oX=at([ux,rk,aX,ik],Qq),$ve=at([vd,yd,$r,us,xd,ik,oX,pS],Zq),Zve=at([gS,$ve],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),Qve=at([gS],n=>{var e;return(e=n==null?void 0:n.active)!==null&&e!==void 0?e:!1}),Jve=at([oX,hw,hm,fS,sX,pS,rk],Jq),eye=at([Jve],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function u8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function c8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(t),!0).forEach(function(r){tye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tye(n,e,t){return(e=nye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nye(n){var e=rye(n,"string");return typeof e=="symbol"?e:e+""}function rye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var iye=()=>fn(ba),aye=()=>{var n=iye(),e=fn(xd),t=fn(iX);return fC(!n||!t?void 0:c8(c8({},n),{},{scale:t}),e)};function f8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(t),!0).forEach(function(r){sye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sye(n,e,t){return(e=oye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oye(n){var e=lye(n,"string");return typeof e=="symbol"?e:e+""}function lye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var uye=(n,e,t,r)=>{var i=e.find(a=>a&&a.index===t);if(i){if(n==="horizontal")return{x:i.coordinate,y:r.chartY};if(n==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},cye=(n,e,t,r)=>{var i=e.find(c=>c&&c.index===t);if(i){if(n==="centric"){var a=i.coordinate,{radius:s}=r;return fy(fy(fy({},r),ss(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:u}=r;return fy(fy(fy({},r),ss(r.cx,r.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function fye(n,e){var{chartX:t,chartY:r}=n;return t>=e.left&&t<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var lX=(n,e,t,r,i)=>{var a,s=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(s<=1||n==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var u,c,h,p,v,y=o>0?(u=t[o-1])===null||u===void 0?void 0:u.coordinate:(c=t[s-1])===null||c===void 0?void 0:c.coordinate,x=(h=t[o])===null||h===void 0?void 0:h.coordinate,S=o>=s-1?(p=t[0])===null||p===void 0?void 0:p.coordinate:(v=t[o+1])===null||v===void 0?void 0:v.coordinate,w=void 0;if(!(y==null||x==null||S==null))if(dc(x-y)!==dc(S-x)){var A=[];if(dc(S-x)===dc(i[1]-i[0])){w=S;var T=x+i[1]-i[0];A[0]=Math.min(T,(T+y)/2),A[1]=Math.max(T,(T+y)/2)}else{w=y;var C=S+i[1]-i[0];A[0]=Math.min(x,(C+x)/2),A[1]=Math.max(x,(C+x)/2)}var O=[Math.min(x,(w+x)/2),Math.max(x,(w+x)/2)];if(n>O[0]&&n<=O[1]||n>=A[0]&&n<=A[1]){var R;return(R=t[o])===null||R===void 0?void 0:R.index}}else{var D=Math.min(y,S),I=Math.max(y,S);if(n>(D+x)/2&&n<=(I+x)/2){var F;return(F=t[o])===null||F===void 0?void 0:F.index}}}else if(e)for(var L=0;L<s;L++){var k=e[L];if(k!=null){var V=e[L+1],j=e[L-1];if(L===0&&V!=null&&n<=(k.coordinate+V.coordinate)/2||L===s-1&&j!=null&&n>(k.coordinate+j.coordinate)/2||L>0&&L<s-1&&j!=null&&V!=null&&n>(k.coordinate+j.coordinate)/2&&n<=(k.coordinate+V.coordinate)/2)return k.index}}return-1},hye=()=>fn(k2),ak=(n,e)=>e,uX=(n,e,t)=>t,sk=(n,e,t,r)=>r,dye=at(xd,n=>J3(n,e=>e.coordinate)),ok=at([ux,ak,uX,sk],$q),lk=at([ok,fx,fS,mS],ek),pye=(n,e,t)=>{if(e!=null){var r=ux(n);return e==="axis"?t==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:t==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},cX=at([ux,ak,uX,sk],Qq),NC=at([vd,yd,$r,us,xd,sk,cX,pS],Zq),mye=at([ok,NC],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),fX=at([xd,lk],qq),gye=at([cX,lk,hm,fS,fX,pS,ak],Jq),vye=at([ok,lk],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),yye=(n,e,t,r,i,a,s)=>{if(!(!n||!t||!r||!i)&&fye(n,s)){var o=Gfe(n,e),u=lX(o,a,i,t,r),c=uye(e,i,u,n);return{activeIndex:String(u),activeCoordinate:c}}},bye=(n,e,t,r,i,a,s)=>{if(!(!n||!r||!i||!a||!t)){var o=epe(n,t);if(o){var u=Hfe(o,e),c=lX(u,s,a,r,i),h=cye(e,a,c,o);return{activeIndex:String(c),activeCoordinate:h}}}},xye=(n,e,t,r,i,a,s,o)=>{if(!(!n||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?yye(n,e,r,i,a,s,o):bye(n,e,t,r,i,a,s)},_ye=at(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var r=n[e];if(r!=null)return t?r.panoramaElement:r.element}}),wye=at(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(r=>parseInt(r,10)).concat(Object.values(oo)),t=Array.from(new Set(e));return t.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:n0e}});function h8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function d8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(t),!0).forEach(function(r){Sye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Sye(n,e,t){return(e=Aye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Aye(n){var e=Eye(n,"string");return typeof e=="symbol"?e:e+""}function Eye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Mye={},Tye={zIndexMap:Object.values(oo).reduce((n,e)=>d8(d8({},n),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Mye)},Cye=new Set(Object.values(oo));function Pye(n){return Cye.has(n)}var hX=tl({name:"zIndex",initialState:Tye,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ii()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!Pye(t)&&delete n.zIndexMap[t])},prepare:ii()},registerZIndexPortalElement:{reducer:(n,e)=>{var{zIndex:t,element:r,isPanorama:i}=e.payload;n.zIndexMap[t]?i?n.zIndexMap[t].panoramaElement=r:n.zIndexMap[t].element=r:n.zIndexMap[t]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:ii()},unregisterZIndexPortalElement:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElement=void 0:n.zIndexMap[t].element=void 0)},prepare:ii()}}}),{registerZIndexPortal:Oye,unregisterZIndexPortal:Rye,registerZIndexPortalElement:Nye,unregisterZIndexPortalElement:Dye}=hX.actions,Iye=hX.reducer;function _d(n){var{zIndex:e,children:t}=n,r=Ehe(),i=r&&e!==void 0&&e!==0,a=Rl(),s=ka();z.useLayoutEffect(()=>i?(s(Oye({zIndex:e})),()=>{s(Rye({zIndex:e}))}):Qw,[s,e,i]);var o=fn(u=>_ye(u,e,a));return i?o?w9.createPortal(t,o):null:t}function ZI(){return ZI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ZI.apply(null,arguments)}function p8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(t),!0).forEach(function(r){Lye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Lye(n,e,t){return(e=Uye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Uye(n){var e=kye(n,"string");return typeof e=="symbol"?e:e+""}function kye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Bye(n){var{cursor:e,cursorComp:t,cursorProps:r}=n;return z.isValidElement(e)?z.cloneElement(e,r):z.createElement(t,r)}function Fye(n){var e,{coordinate:t,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:c,chartName:h}=n,p=t,v=r,y=i;if(!u||!p||h!=="ScatterChart"&&c!=="axis")return null;var x,S,w;if(h==="ScatterChart")x=p,S=dde,w=oo.cursorLine;else if(h==="BarChart")x=pde(o,p,a,s),S=J7,w=oo.cursorRectangle;else if(o==="radial"&&j9(p)){var{cx:A,cy:T,radius:C,startAngle:O,endAngle:R}=eW(p);x={cx:A,cy:T,startAngle:O,endAngle:R,innerRadius:C,outerRadius:C},S=nW,w=oo.cursorLine}else x={points:ipe(o,p,a)},S=Y7,w=oo.cursorLine;var D=typeof u=="object"&&"className"in u?u.className:void 0,I=dM(dM(dM(dM({stroke:"#ccc",pointerEvents:"none"},a),x),Y3(u)),{},{payload:v,payloadIndex:y,className:Nr("recharts-tooltip-cursor",D)});return z.createElement(_d,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:w},z.createElement(Bye,{cursor:u,cursorComp:S,cursorProps:I}))}function zye(n){var e=aye(),t=whe(),r=rS(),i=hye();return e==null||t==null||r==null||i==null?null:z.createElement(Fye,ZI({},n,{offset:t,layout:r,tooltipAxisBandSize:e,chartName:i}))}var dX=z.createContext(null),Gye=()=>z.useContext(dX),eD={exports:{}},m8;function Hye(){return m8||(m8=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(u,c,h){this.fn=u,this.context=c,this.once=h||!1}function a(u,c,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||u,v),x=t?t+c:c;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],y]:u._events[x].push(y):(u._events[x]=y,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],h,p;if(this._eventsCount===0)return c;for(p in h=this._events)e.call(h,p)&&c.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},o.prototype.listeners=function(c){var h=t?t+c:c,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,x=new Array(y);v<y;v++)x[v]=p[v].fn;return x},o.prototype.listenerCount=function(c){var h=t?t+c:c,p=this._events[h];return p?p.fn?1:p.length:0},o.prototype.emit=function(c,h,p,v,y,x){var S=t?t+c:c;if(!this._events[S])return!1;var w=this._events[S],A=arguments.length,T,C;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,v),!0;case 5:return w.fn.call(w.context,h,p,v,y),!0;case 6:return w.fn.call(w.context,h,p,v,y,x),!0}for(C=1,T=new Array(A-1);C<A;C++)T[C-1]=arguments[C];w.fn.apply(w.context,T)}else{var O=w.length,R;for(C=0;C<O;C++)switch(w[C].once&&this.removeListener(c,w[C].fn,void 0,!0),A){case 1:w[C].fn.call(w[C].context);break;case 2:w[C].fn.call(w[C].context,h);break;case 3:w[C].fn.call(w[C].context,h,p);break;case 4:w[C].fn.call(w[C].context,h,p,v);break;default:if(!T)for(R=1,T=new Array(A-1);R<A;R++)T[R-1]=arguments[R];w[C].fn.apply(w[C].context,T)}}return!0},o.prototype.on=function(c,h,p){return a(this,c,h,p,!1)},o.prototype.once=function(c,h,p){return a(this,c,h,p,!0)},o.prototype.removeListener=function(c,h,p,v){var y=t?t+c:c;if(!this._events[y])return this;if(!h)return s(this,y),this;var x=this._events[y];if(x.fn)x.fn===h&&(!v||x.once)&&(!p||x.context===p)&&s(this,y);else{for(var S=0,w=[],A=x.length;S<A;S++)(x[S].fn!==h||v&&!x[S].once||p&&x[S].context!==p)&&w.push(x[S]);w.length?this._events[y]=w.length===1?w[0]:w:s(this,y)}return this},o.prototype.removeAllListeners=function(c){var h;return c?(h=t?t+c:c,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(eD)),eD.exports}var Vye=Hye();const jye=Cu(Vye);var dw=new jye,QI="recharts.syncEvent.tooltip",g8="recharts.syncEvent.brush";function Wye(n,e){if(e){var t=Number.parseInt(e,10);if(!gc(t))return n==null?void 0:n[t]}}var qye={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pX=tl({name:"options",initialState:qye,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Xye=pX.reducer,{createEventEmitter:Yye}=pX.actions;function Kye(n){return n.tooltip.syncInteraction}var $ye={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},mX=tl({name:"chartData",initialState:$ye,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:r}=e.payload;t!=null&&(n.dataStartIndex=t),r!=null&&(n.dataEndIndex=r)}}}),{setChartData:v8,setDataStartEndIndexes:Zye,setComputedData:L3e}=mX.actions,Qye=mX.reducer,Jye=["x","y"];function y8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(t),!0).forEach(function(r){ebe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ebe(n,e,t){return(e=tbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tbe(n){var e=nbe(n,"string");return typeof e=="symbol"?e:e+""}function nbe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rbe(n,e){if(n==null)return{};var t,r,i=ibe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ibe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function abe(){var n=fn(B2),e=fn(F2),t=ka(),r=fn(JW),i=fn(xd),a=rS(),s=nS(),o=fn(u=>u.rootProps.className);z.useEffect(()=>{if(n==null)return Qw;var u=(c,h,p)=>{if(e!==p&&n===c){if(r==="index"){var v;if(s&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x,y:S}=y,w=rbe(y,Jye),{x:A,y:T,width:C,height:O}=h.payload.sourceViewBox,R=hy(hy({},w),{},{x:s.x+(C?(x-A)/C:0)*s.width,y:s.y+(O?(S-T)/O:0)*s.height});t(hy(hy({},h),{},{payload:hy(hy({},h.payload),{},{coordinate:R})}))}else t(h);return}if(i!=null){var D;if(typeof r=="function"){var I={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},F=r(i,I);D=i[F]}else r==="value"&&(D=i.find(W=>String(W.value)===h.payload.label));var{coordinate:L}=h.payload;if(D==null||h.payload.active===!1||L==null||s==null){t(KI({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:V}=L,j=Math.min(k,s.x+s.width),Y=Math.min(V,s.y+s.height),re={x:a==="horizontal"?D.coordinate:j,y:a==="horizontal"?Y:D.coordinate},Q=KI({active:h.payload.active,coordinate:re,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});t(Q)}}};return dw.on(QI,u),()=>{dw.off(QI,u)}},[o,t,e,n,r,i,a,s])}function sbe(){var n=fn(B2),e=fn(F2),t=ka();z.useEffect(()=>{if(n==null)return Qw;var r=(i,a,s)=>{e!==s&&n===i&&t(Zye(a))};return dw.on(g8,r),()=>{dw.off(g8,r)}},[t,e,n])}function obe(){var n=ka();z.useEffect(()=>{n(Yye())},[n]),abe(),sbe()}function lbe(n,e,t,r,i,a){var s=fn(y=>pye(y,n,e)),o=fn(F2),u=fn(B2),c=fn(JW),h=fn(Kye),p=h==null?void 0:h.active,v=nS();z.useEffect(()=>{if(!p&&u!=null&&o!=null){var y=KI({active:a,coordinate:t,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});dw.emit(QI,u,y,o)}},[p,t,s,i,r,o,u,c,a,v])}function b8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function x8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(t),!0).forEach(function(r){ube(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ube(n,e,t){return(e=cbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cbe(n){var e=fbe(n,"string");return typeof e=="symbol"?e:e+""}function fbe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hbe(n){return n.dataKey}function dbe(n,e){return z.isValidElement(n)?z.cloneElement(n,e):typeof n=="function"?z.createElement(n,e):z.createElement(qhe,e)}var _8=[],pbe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mbe(n){var e,t,r=Ol(n,pbe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:u,filterNull:c,isAnimationActive:h,offset:p,payloadUniqBy:v,position:y,reverseDirection:x,useTranslate3d:S,wrapperStyle:w,cursor:A,shared:T,trigger:C,defaultIndex:O,portal:R,axisId:D}=r,I=ka(),F=typeof O=="number"?String(O):O;z.useEffect(()=>{I(uve({shared:T,trigger:C,axisId:D,active:i,defaultIndex:F}))},[I,T,C,D,i,F]);var L=nS(),k=X7(),V=rve(T),{activeIndex:j,isActive:Y}=(e=fn(ce=>vye(ce,V,C,F)))!==null&&e!==void 0?e:{},re=fn(ce=>gye(ce,V,C,F)),Q=fn(ce=>fX(ce,V,C,F)),W=fn(ce=>mye(ce,V,C,F)),X=re,se=Gye(),J=(t=i??Y)!==null&&t!==void 0?t:!1,[ae,B]=Cce([X,J]),Z=V==="axis"?Q:void 0;lbe(V,C,W,Z,j,J);var le=R??se;if(le==null||L==null||V==null)return null;var he=X??_8;J||(he=_8),c&&he.length&&(he=ace(he.filter(ce=>ce.value!=null&&(ce.hide!==!0||r.includeHidden)),v,hbe));var ve=he.length>0,ue=z.createElement(Jhe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:h,active:J,coordinate:W,hasPayload:ve,offset:p,position:y,reverseDirection:x,useTranslate3d:S,viewBox:L,wrapperStyle:w,lastBoundingBox:ae,innerRef:B,hasPortalFromProps:!!R},dbe(u,x8(x8({},r),{},{payload:he,label:Z,active:J,activeIndex:j,coordinate:W,accessibilityLayer:k})));return z.createElement(z.Fragment,null,w9.createPortal(ue,le),J&&z.createElement(zye,{cursor:A,tooltipEventType:V,coordinate:W,payload:he,index:j}))}function gbe(n,e,t){return(e=vbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vbe(n){var e=ybe(n,"string");return typeof e=="symbol"?e:e+""}function ybe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class bbe{constructor(e){gbe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function w8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xbe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(t),!0).forEach(function(r){_be(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _be(n,e,t){return(e=wbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wbe(n){var e=Sbe(n,"string");return typeof e=="symbol"?e:e+""}function Sbe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Abe={cacheSize:2e3,enableCache:!0},gX=xbe({},Abe),S8=new bbe(gX.cacheSize),Ebe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A8="recharts_measurement_span";function Mbe(n,e){var t=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var E8=(n,e)=>{try{var t=document.getElementById(A8);t||(t=document.createElement("span"),t.setAttribute("id",A8),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,Ebe,e),t.textContent="".concat(n);var r=t.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},O_=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vP.isSsr)return{width:0,height:0};if(!gX.enableCache)return E8(e,t);var r=Mbe(e,t),i=S8.get(r);if(i)return i;var a=E8(e,t);return S8.set(r,a),a},vX;function Tbe(n,e,t){return(e=Cbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cbe(n){var e=Pbe(n,"string");return typeof e=="symbol"?e:e+""}function Pbe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var M8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Obe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Nbe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dbe=["cm","mm","pt","pc","in","Q","px"];function Ibe(n){return Dbe.includes(n)}var Sy="NaN";function Lbe(n,e){return n*Nbe[e]}class rs{static parse(e){var t,[,r,i]=(t=Rbe.exec(e))!==null&&t!==void 0?t:[];return r==null?rs.NaN:new rs(parseFloat(r),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,gc(e)&&(this.unit=""),t!==""&&!Obe.test(t)&&(this.num=NaN,this.unit=""),Ibe(t)&&(this.num=Lbe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new rs(NaN,""):new rs(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new rs(NaN,""):new rs(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rs(NaN,""):new rs(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rs(NaN,""):new rs(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gc(this.num)}}vX=rs;Tbe(rs,"NaN",new vX(NaN,""));function yX(n){if(n==null||n.includes(Sy))return Sy;for(var e=n;e.includes("*")||e.includes("/");){var t,[,r,i,a]=(t=M8.exec(e))!==null&&t!==void 0?t:[],s=rs.parse(r??""),o=rs.parse(a??""),u=i==="*"?s.multiply(o):s.divide(o);if(u.isNaN())return Sy;e=e.replace(M8,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,h,p,v]=(c=T8.exec(e))!==null&&c!==void 0?c:[],y=rs.parse(h??""),x=rs.parse(v??""),S=p==="+"?y.add(x):y.subtract(x);if(S.isNaN())return Sy;e=e.replace(T8,S.toString())}return e}var C8=/\(([^()]*)\)/;function Ube(n){for(var e=n,t;(t=C8.exec(e))!=null;){var[,r]=t;e=e.replace(C8,yX(r))}return e}function kbe(n){var e=n.replace(/\s+/g,"");return e=Ube(e),e=yX(e),e}function Bbe(n){try{return kbe(n)}catch{return Sy}}function tD(n){var e=Bbe(n.slice(5,-1));return e===Sy?"":e}var Fbe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zbe=["dx","dy","angle","className","breakAll"];function JI(){return JI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JI.apply(null,arguments)}function P8(n,e){if(n==null)return{};var t,r,i=Gbe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Gbe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var bX=/[ \f\n\r\t\v\u2028\u2029]+/,xX=n=>{var{children:e,breakAll:t,style:r}=n;try{var i=[];Ua(e)||(t?i=e.toString().split(""):i=e.toString().split(bX));var a=i.map(o=>({word:o,width:O_(o,r).width})),s=t?0:O_("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Hbe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var _X=(n,e,t,r)=>n.reduce((i,a)=>{var{word:s,width:o}=a,u=i[i.length-1];if(u&&o!=null&&(e==null||r||u.width+o+t<Number(e)))u.words.push(s),u.width+=o+t;else{var c={words:[s],width:o};i.push(c)}return i},[]),wX=n=>n.reduce((e,t)=>e.width>t.width?e:t),Vbe="",O8=(n,e,t,r,i,a,s,o)=>{var u=n.slice(0,e),c=xX({breakAll:t,style:r,children:u+Vbe});if(!c)return[!1,[]];var h=_X(c.wordsWithComputedWidth,a,s,o),p=h.length>i||wX(h).width>Number(a);return[p,h]},jbe=(n,e,t,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:u}=n,c=un(a),h=String(s),p=_X(e,r,t,i);if(!c||i)return p;var v=p.length>a||wX(p).width>Number(r);if(!v)return p;for(var y=0,x=h.length-1,S=0,w;y<=x&&S<=h.length-1;){var A=Math.floor((y+x)/2),T=A-1,[C,O]=O8(h,T,u,o,a,r,t,i),[R]=O8(h,A,u,o,a,r,t,i);if(!C&&!R&&(y=A+1),C&&R&&(x=A-1),!C&&R){w=O;break}S++}return w||p},R8=n=>{var e=Ua(n)?[]:n.toString().split(bX);return[{words:e,width:void 0}]},Wbe=n=>{var{width:e,scaleToFit:t,children:r,style:i,breakAll:a,maxLines:s}=n;if((e||t)&&!vP.isSsr){var o,u,c=xX({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:h,spaceWidth:p}=c;o=h,u=p}else return R8(r);return jbe({breakAll:a,children:r,maxLines:s,style:i},o,u,e,!!t)}return R8(r)},SX="#808080",qbe={angle:0,breakAll:!1,capHeight:"0.71em",fill:SX,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},uk=z.forwardRef((n,e)=>{var t=Ol(n,qbe),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:u,textAnchor:c,verticalAnchor:h}=t,p=P8(t,Fbe),v=z.useMemo(()=>Wbe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:y,dy:x,angle:S,className:w,breakAll:A}=p,T=P8(p,zbe);if(!Eu(r)||!Eu(i)||v.length===0)return null;var C=Number(r)+(un(y)?y:0),O=Number(i)+(un(x)?x:0);if(!ai(C)||!ai(O))return null;var R;switch(h){case"start":R=tD("calc(".concat(s,")"));break;case"middle":R=tD("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:R=tD("calc(".concat(v.length-1," * -").concat(a,")"));break}var D=[];if(u){var I=v[0].width,{width:F}=p;D.push("scale(".concat(un(F)&&un(I)?F/I:1,")"))}return S&&D.push("rotate(".concat(S,", ").concat(C,", ").concat(O,")")),D.length&&(T.transform=D.join(" ")),z.createElement("text",JI({},Ds(T),{ref:e,x:C,y:O,className:Nr("recharts-text",w),textAnchor:c,fill:o.includes("url")?SX:o}),v.map((L,k)=>{var V=L.words.join(A?"":" ");return z.createElement("tspan",{x:C,dy:k===0?R:a,key:"".concat(V,"-").concat(k)},V)}))});uk.displayName="Text";var Xbe=["labelRef"],Ybe=["content"];function N8(n,e){if(n==null)return{};var t,r,i=Kbe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Kbe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function D8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ki(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(t),!0).forEach(function(r){$be(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $be(n,e,t){return(e=Zbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zbe(n){var e=Qbe(n,"string");return typeof e=="symbol"?e:e+""}function Qbe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wh.apply(null,arguments)}var AX=z.createContext(null),EX=n=>{var{x:e,y:t,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=n,u=z.useMemo(()=>({x:e,y:t,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,t,r,i,a,s]);return z.createElement(AX.Provider,{value:u},o)},MX=()=>{var n=z.useContext(AX),e=nS();return n||F7(e)},Jbe=z.createContext(null),exe=()=>{var n=z.useContext(Jbe),e=fn(iq);return n||e},txe=n=>{var{value:e,formatter:t}=n,r=Ua(n.children)?e:n.children;return typeof t=="function"?t(r):r},ck=n=>n!=null&&typeof n=="function",nxe=(n,e)=>{var t=dc(e-n),r=Math.min(Math.abs(e-n),360);return t*r},rxe=(n,e,t,r,i)=>{var{offset:a,className:s}=n,{cx:o,cy:u,innerRadius:c,outerRadius:h,startAngle:p,endAngle:v,clockWise:y}=i,x=(c+h)/2,S=nxe(p,v),w=S>=0?1:-1,A,T;switch(e){case"insideStart":A=p+w*a,T=y;break;case"insideEnd":A=v-w*a,T=!y;break;case"end":A=v+w*a,T=y;break;default:throw new Error("Unsupported position ".concat(e))}T=S<=0?T:!T;var C=ss(o,u,x,A),O=ss(o,u,x,A+(T?1:-1)*359),R="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(O.x,",").concat(O.y),D=Ua(n.id)?J_("recharts-radial-line-"):n.id;return z.createElement("text",Wh({},r,{dominantBaseline:"central",className:Nr("recharts-radial-bar-label",s)}),z.createElement("defs",null,z.createElement("path",{id:D,d:R})),z.createElement("textPath",{xlinkHref:"#".concat(D)},t))},ixe=(n,e,t)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:u}=n,c=(o+u)/2;if(t==="outside"){var{x:h,y:p}=ss(r,i,s+e,c);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+s)/2,{x:y,y:x}=ss(r,i,v,c);return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},eL=n=>"cx"in n&&un(n.cx),axe=(n,e)=>{var{parentViewBox:t,offset:r,position:i}=n,a;t!=null&&!eL(t)&&(a=t);var{x:s,y:o,upperWidth:u,lowerWidth:c,height:h}=e,p=s,v=s+(u-c)/2,y=(p+v)/2,x=(u+c)/2,S=p+u/2,w=h>=0?1:-1,A=w*r,T=w>0?"end":"start",C=w>0?"start":"end",O=u>=0?1:-1,R=O*r,D=O>0?"end":"start",I=O>0?"start":"end";if(i==="top"){var F={x:p+u/2,y:o-A,textAnchor:"middle",verticalAnchor:T};return ki(ki({},F),a?{height:Math.max(o-a.y,0),width:u}:{})}if(i==="bottom"){var L={x:v+c/2,y:o+h+A,textAnchor:"middle",verticalAnchor:C};return ki(ki({},L),a?{height:Math.max(a.y+a.height-(o+h),0),width:c}:{})}if(i==="left"){var k={x:y-R,y:o+h/2,textAnchor:D,verticalAnchor:"middle"};return ki(ki({},k),a?{width:Math.max(k.x-a.x,0),height:h}:{})}if(i==="right"){var V={x:y+x+R,y:o+h/2,textAnchor:I,verticalAnchor:"middle"};return ki(ki({},V),a?{width:Math.max(a.x+a.width-V.x,0),height:h}:{})}var j=a?{width:x,height:h}:{};return i==="insideLeft"?ki({x:y+R,y:o+h/2,textAnchor:I,verticalAnchor:"middle"},j):i==="insideRight"?ki({x:y+x-R,y:o+h/2,textAnchor:D,verticalAnchor:"middle"},j):i==="insideTop"?ki({x:p+u/2,y:o+A,textAnchor:"middle",verticalAnchor:C},j):i==="insideBottom"?ki({x:v+c/2,y:o+h-A,textAnchor:"middle",verticalAnchor:T},j):i==="insideTopLeft"?ki({x:p+R,y:o+A,textAnchor:I,verticalAnchor:C},j):i==="insideTopRight"?ki({x:p+u-R,y:o+A,textAnchor:D,verticalAnchor:C},j):i==="insideBottomLeft"?ki({x:v+R,y:o+h-A,textAnchor:I,verticalAnchor:T},j):i==="insideBottomRight"?ki({x:v+c-R,y:o+h-A,textAnchor:D,verticalAnchor:T},j):i&&typeof i=="object"&&(un(i.x)||sd(i.x))&&(un(i.y)||sd(i.y))?ki({x:s+tm(i.x,x),y:o+tm(i.y,h),textAnchor:"end",verticalAnchor:"end"},j):ki({x:S,y:o+h/2,textAnchor:"middle",verticalAnchor:"middle"},j)},sxe={angle:0,offset:5,zIndex:oo.label,position:"middle",textBreakAll:!1};function _p(n){var e=Ol(n,sxe),{viewBox:t,position:r,value:i,children:a,content:s,className:o="",textBreakAll:u,labelRef:c}=e,h=exe(),p=MX(),v=r==="center"?p:h??p,y,x,S;if(t==null?y=v:eL(t)?y=t:y=F7(t),!y||Ua(i)&&Ua(a)&&!z.isValidElement(s)&&typeof s!="function")return null;var w=ki(ki({},e),{},{viewBox:y});if(z.isValidElement(s)){var{labelRef:A}=w,T=N8(w,Xbe);return z.cloneElement(s,T)}if(typeof s=="function"){var{content:C}=w,O=N8(w,Ybe);if(x=z.createElement(s,O),z.isValidElement(x))return x}else x=txe(e);var R=Ds(e);if(eL(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return rxe(e,r,x,R,y);S=ixe(y,e.offset,e.position)}else S=axe(e,y);return z.createElement(_d,{zIndex:e.zIndex},z.createElement(uk,Wh({ref:c,className:Nr("recharts-label",o)},R,S,{textAnchor:Hbe(R.textAnchor)?R.textAnchor:S.textAnchor,breakAll:u}),x))}_p.displayName="Label";var oxe=(n,e,t)=>{if(!n)return null;var r={viewBox:e,labelRef:t};return n===!0?z.createElement(_p,Wh({key:"label-implicit"},r)):Eu(n)?z.createElement(_p,Wh({key:"label-implicit",value:n},r)):z.isValidElement(n)?n.type===_p?z.cloneElement(n,ki({key:"label-implicit"},r)):z.createElement(_p,Wh({key:"label-implicit",content:n},r)):ck(n)?z.createElement(_p,Wh({key:"label-implicit",content:n},r)):n&&typeof n=="object"?z.createElement(_p,Wh({},n,{key:"label-implicit"},r)):null};function TX(n){var{label:e,labelRef:t}=n,r=MX();return oxe(e,r,t)||null}var nD={},rD={},I8;function lxe(){return I8||(I8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(rD)),rD}var iD={},L8;function uxe(){return L8||(L8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(iD)),iD}var U8;function cxe(){return U8||(U8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lxe(),t=uxe(),r=QU();function i(a){if(r.isArrayLike(a))return e.last(t.toArray(a))}n.last=i})(nD)),nD}var aD,k8;function fxe(){return k8||(k8=1,aD=cxe().last),aD}var hxe=fxe();const dxe=Cu(hxe);var pxe=["valueAccessor"],mxe=["dataKey","clockWise","id","textBreakAll","zIndex"];function DC(){return DC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DC.apply(null,arguments)}function B8(n,e){if(n==null)return{};var t,r,i=gxe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function gxe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var vxe=n=>Array.isArray(n.value)?dxe(n.value):n.value,CX=z.createContext(void 0),yxe=CX.Provider,PX=z.createContext(void 0);PX.Provider;function bxe(){return z.useContext(CX)}function xxe(){return z.useContext(PX)}function kM(n){var{valueAccessor:e=vxe}=n,t=B8(n,pxe),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=t,u=B8(t,mxe),c=bxe(),h=xxe(),p=c||h;return!p||!p.length?null:z.createElement(_d,{zIndex:o??oo.label},z.createElement(ad,{className:"recharts-label-list"},p.map((v,y)=>{var x,S=Ua(r)?e(v,y):os(v&&v.payload,r),w=Ua(a)?{}:{id:"".concat(a,"-").concat(y)};return z.createElement(_p,DC({key:"label-".concat(y)},Ds(v),u,w,{fill:(x=t.fill)!==null&&x!==void 0?x:v.fill,parentViewBox:v.parentViewBox,value:S,textBreakAll:s,viewBox:v.viewBox,index:y,zIndex:0}))})))}kM.displayName="LabelList";function _xe(n){var{label:e}=n;return e?e===!0?z.createElement(kM,{key:"labelList-implicit"}):z.isValidElement(e)||ck(e)?z.createElement(kM,{key:"labelList-implicit",content:e}):typeof e=="object"?z.createElement(kM,DC({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function tL(){return tL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tL.apply(null,arguments)}var OX=n=>{var{cx:e,cy:t,r,className:i}=n,a=Nr("recharts-dot",i);return un(e)&&un(t)&&un(r)?z.createElement("circle",tL({},id(n),ZU(n),{className:a,cx:e,cy:t,r})):null},wxe={radiusAxis:{},angleAxis:{}},RX=tl({name:"polarAxis",initialState:wxe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:U3e,removeRadiusAxis:k3e,addAngleAxis:B3e,removeAngleAxis:F3e}=RX.actions,Sxe=RX.reducer,NX=n=>n&&typeof n=="object"&&"clipDot"in n?!!n.clipDot:!0,sD={},F8;function Axe(){return F8||(F8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const a=t[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&i.writable)?!1:t.toString()===`[object ${a}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}n.isPlainObject=e})(sD)),sD}var oD,z8;function Exe(){return z8||(z8=1,oD=Axe().isPlainObject),oD}var Mxe=Exe();const Txe=Cu(Mxe);var G8,H8,V8,j8,W8;function q8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function X8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(t),!0).forEach(function(r){Cxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):q8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Cxe(n,e,t){return(e=Pxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pxe(n){var e=Oxe(n,"string");return typeof e=="symbol"?e:e+""}function Oxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function IC(){return IC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},IC.apply(null,arguments)}function n_(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var Y8=(n,e,t,r,i)=>{var a=t-r,s;return s=Pi(G8||(G8=n_(["M ",",",""])),n,e),s+=Pi(H8||(H8=n_(["L ",",",""])),n+t,e),s+=Pi(V8||(V8=n_(["L ",",",""])),n+t-a/2,e+i),s+=Pi(j8||(j8=n_(["L ",",",""])),n+t-a/2-r,e+i),s+=Pi(W8||(W8=n_(["L ",","," Z"])),n,e),s},Rxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nxe=n=>{var e=Ol(n,Rxe),{x:t,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:u,animationDuration:c,animationBegin:h,isUpdateAnimationActive:p}=e,v=z.useRef(null),[y,x]=z.useState(-1),S=z.useRef(i),w=z.useRef(a),A=z.useRef(s),T=z.useRef(t),C=z.useRef(r),O=c2(n,"trapezoid-");if(z.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var re=v.current.getTotalLength();re&&x(re)}catch{}},[]),t!==+t||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var R=Nr("recharts-trapezoid",o);if(!p)return z.createElement("g",null,z.createElement("path",IC({},Ds(e),{className:R,d:Y8(t,r,i,a,s)})));var D=S.current,I=w.current,F=A.current,L=T.current,k=C.current,V="0px ".concat(y===-1?1:y,"px"),j="".concat(y,"px 0px"),Y=K7(["strokeDasharray"],c,u);return z.createElement(u2,{animationId:O,key:O,canBegin:y>0,duration:c,easing:u,isActive:p,begin:h},re=>{var Q=Ko(D,i,re),W=Ko(I,a,re),X=Ko(F,s,re),se=Ko(L,t,re),J=Ko(k,r,re);v.current&&(S.current=Q,w.current=W,A.current=X,T.current=se,C.current=J);var ae=re>0?{transition:Y,strokeDasharray:j}:{strokeDasharray:V};return z.createElement("path",IC({},Ds(e),{className:R,d:Y8(se,J,Q,W,X),ref:v,style:X8(X8({},ae),e.style)}))})},Dxe=["option","shapeType","activeClassName"];function Ixe(n,e){if(n==null)return{};var t,r,i=Lxe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Lxe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function K8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function LC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(t),!0).forEach(function(r){Uxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):K8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Uxe(n,e,t){return(e=kxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kxe(n){var e=Bxe(n,"string");return typeof e=="symbol"?e:e+""}function Bxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fxe(n,e){return LC(LC({},e),n)}function zxe(n,e){return n==="symbols"}function $8(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return z.createElement(J7,t);case"trapezoid":return z.createElement(Nxe,t);case"sector":return z.createElement(nW,t);case"symbols":if(zxe(e))return z.createElement(V9,t);break;case"curve":return z.createElement(Y7,t);default:return null}}function Gxe(n){return z.isValidElement(n)?n.props:n}function Hxe(n){var{option:e,shapeType:t,activeClassName:r="recharts-active-shape"}=n,i=Ixe(n,Dxe),a;if(z.isValidElement(e))a=z.cloneElement(e,LC(LC({},i),Gxe(e)));else if(typeof e=="function")a=e(i,i.index);else if(Txe(e)&&typeof e!="boolean"){var s=Fxe(e,i);a=z.createElement($8,{shapeType:t,elementProps:s})}else{var o=i;a=z.createElement($8,{shapeType:t,elementProps:o})}return i.isActive?z.createElement(ad,{className:r},a):a}function Vxe(n){var{tooltipEntrySettings:e}=n,t=ka(),r=Rl(),i=z.useRef(null);return z.useLayoutEffect(()=>{r||(i.current===null?t(sve(e)):i.current!==e&&t(ove({prev:i.current,next:e})),i.current=e)},[e,t,r]),z.useLayoutEffect(()=>()=>{i.current&&(t(lve(i.current)),i.current=null)},[t]),null}function jxe(n){var{legendPayload:e}=n,t=ka(),r=Rl(),i=z.useRef(null);return z.useLayoutEffect(()=>{r||(i.current===null?t(Bhe(e)):i.current!==e&&t(Fhe({prev:i.current,next:e})),i.current=e)},[t,r,e]),z.useLayoutEffect(()=>()=>{i.current&&(t(zhe(i.current)),i.current=null)},[t]),null}var lD,Wxe=()=>{var[n]=z.useState(()=>J_("uid-"));return n},qxe=(lD=Y$.useId)!==null&&lD!==void 0?lD:Wxe;function Xxe(n,e){var t=qxe();return e||(n?"".concat(n,"-").concat(t):t)}var Yxe=z.createContext(void 0),Kxe=n=>{var{id:e,type:t,children:r}=n,i=Xxe("recharts-".concat(t),e);return z.createElement(Yxe.Provider,{value:i},r(i))},$xe={cartesianItems:[],polarItems:[]},DX=tl({name:"graphicalItems",initialState:$xe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:ii()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:r}=e.payload,i=mc(n).cartesianItems.indexOf(t);i>-1&&(n.cartesianItems[i]=r)},prepare:ii()},removeCartesianGraphicalItem:{reducer(n,e){var t=mc(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:ii()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:ii()},removePolarGraphicalItem:{reducer(n,e){var t=mc(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:ii()}}}),{addCartesianGraphicalItem:Zxe,replaceCartesianGraphicalItem:Qxe,removeCartesianGraphicalItem:Jxe,addPolarGraphicalItem:z3e,removePolarGraphicalItem:G3e}=DX.actions,e1e=DX.reducer,t1e=n=>{var e=ka(),t=z.useRef(null);return z.useLayoutEffect(()=>{t.current===null?e(Zxe(n)):t.current!==n&&e(Qxe({prev:t.current,next:n})),t.current=n},[e,n]),z.useLayoutEffect(()=>()=>{t.current&&(e(Jxe(t.current)),t.current=null)},[e]),null},n1e=z.memo(t1e),r1e=["points"];function Z8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function uD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(t),!0).forEach(function(r){i1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Z8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function i1e(n,e,t){return(e=a1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a1e(n){var e=s1e(n,"string");return typeof e=="symbol"?e:e+""}function s1e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UC(){return UC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UC.apply(null,arguments)}function o1e(n,e){if(n==null)return{};var t,r,i=l1e(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function l1e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function u1e(n){var{option:e,dotProps:t,className:r}=n;if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return e(t);var i=Nr(r,typeof e!="boolean"?e.className:""),a=t??{},{points:s}=a,o=o1e(a,r1e);return z.createElement(OX,UC({},o,{className:i}))}function c1e(n,e){return n==null?!1:e?!0:n.length===1}function f1e(n){var{points:e,dot:t,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:u,zIndex:c=oo.scatter}=n;if(!c1e(e,t))return null;var h=NX(t),p=Ole(t),v=e.map((x,S)=>{var w,A,T=uD(uD(uD({r:3},s),p),{},{index:S,cx:(w=x.x)!==null&&w!==void 0?w:void 0,cy:(A=x.y)!==null&&A!==void 0?A:void 0,dataKey:a,value:x.value,payload:x.payload,points:e});return z.createElement(u1e,{key:"dot-".concat(S),option:t,dotProps:T,className:i})}),y={};return o&&u!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),z.createElement(_d,{zIndex:c},z.createElement(ad,UC({className:r},y),v))}function Q8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function J8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(t),!0).forEach(function(r){h1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function h1e(n,e,t){return(e=d1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function d1e(n){var e=p1e(n,"string");return typeof e=="symbol"?e:e+""}function p1e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var m1e={xAxis:{},yAxis:{},zAxis:{}},IX=tl({name:"cartesianAxis",initialState:m1e,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:ii()},replaceXAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.xAxis[t.id],n.xAxis[r.id]=r)},prepare:ii()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:ii()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:ii()},replaceYAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.yAxis[t.id],n.yAxis[r.id]=r)},prepare:ii()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:ii()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:ii()},replaceZAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.zAxis[t.id],n.zAxis[r.id]=r)},prepare:ii()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:ii()},updateYAxisWidth(n,e){var{id:t,width:r}=e.payload,i=n.yAxis[t];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);n.yAxis[t]=J8(J8({},n.yAxis[t]),{},{width:r,widthHistory:s})}}}}),{addXAxis:H3e,replaceXAxis:V3e,removeXAxis:j3e,addYAxis:g1e,replaceYAxis:v1e,removeYAxis:y1e,addZAxis:W3e,replaceZAxis:q3e,removeZAxis:X3e,updateYAxisWidth:b1e}=IX.actions,x1e=IX.reducer,_1e=at([us],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),w1e=at([_1e,vd,yd],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),fk=()=>fn(w1e),S1e=()=>fn(eye);function eG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eG(Object(t),!0).forEach(function(r){A1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function A1e(n,e,t){return(e=E1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function E1e(n){var e=M1e(n,"string");return typeof e=="symbol"?e:e+""}function M1e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var T1e=n=>{var{point:e,childIndex:t,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=n;if(i===!1||e.x==null||e.y==null)return null;var o={index:t,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=cD(cD(cD({},o),Y3(i)),ZU(i)),c;return z.isValidElement(i)?c=z.cloneElement(i,u):typeof i=="function"?c=i(u):c=z.createElement(OX,u),z.createElement(ad,{className:"recharts-active-dot",clipPath:s},c)};function C1e(n){var{points:e,mainColor:t,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=oo.activeDot}=n,o=fn(hw),u=S1e();if(e==null||u==null)return null;var c=e.find(h=>u.includes(h.payload));return Ua(c)?null:z.createElement(_d,{zIndex:s},z.createElement(T1e,{point:c,childIndex:Number(o),mainColor:t,dataKey:i,activeDot:r,clipPath:a}))}var P1e=n=>{var{chartData:e}=n,t=ka(),r=Rl();return z.useEffect(()=>r?()=>{}:(t(v8(e)),()=>{t(v8(void 0))}),[e,t,r]),null},tG={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},LX=tl({name:"brush",initialState:tG,reducers:{setBrushSettings(n,e){return e.payload==null?tG:e.payload}}}),{setBrushSettings:Y3e}=LX.actions,O1e=LX.reducer;function nG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function pM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nG(Object(t),!0).forEach(function(r){UX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function UX(n,e,t){return(e=R1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R1e(n){var e=N1e(n,"string");return typeof e=="symbol"?e:e+""}function N1e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var D1e=(n,e)=>{var{x:t,y:r}=n,{x:i,y:a}=e;return{x:Math.min(t,i),y:Math.min(r,a),width:Math.abs(i-t),height:Math.abs(a-r)}},I1e=n=>{var{x1:e,y1:t,x2:r,y2:i}=n;return D1e({x:e,y:t},{x:r,y:i})};class DP{static create(e){return new DP(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(t){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],i=t[t.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}UX(DP,"EPS",1e-4);var L1e=n=>{var e=Object.keys(n).reduce((t,r)=>pM(pM({},t),{},{[r]:DP.create(n[r])}),{});return pM(pM({},e),{},{apply(t){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(t).map(a=>{var[s,o]=a;return[s,e[s].apply(o,{bandAware:r,position:i})]}))},isInRange(t){return Object.keys(t).every(r=>e[r].isInRange(t[r]))}})};function U1e(n){return(n%180+180)%180}var k1e=function(e){var{width:t,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=U1e(i),s=a*Math.PI/180,o=Math.atan(r/t),u=s>o&&s<Math.PI-o?r/Math.sin(s):t/Math.cos(s);return Math.abs(u)},B1e={dots:[],areas:[],lines:[]},kX=tl({name:"referenceElements",initialState:B1e,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=mc(n).dots.findIndex(r=>r===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=mc(n).areas.findIndex(r=>r===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=mc(n).lines.findIndex(r=>r===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:K3e,removeDot:$3e,addArea:Z3e,removeArea:Q3e,addLine:F1e,removeLine:z1e}=kX.actions,G1e=kX.reducer,BX=z.createContext(void 0),H1e=n=>{var{children:e}=n,[t]=z.useState("".concat(J_("recharts"),"-clip")),r=fk();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return z.createElement(BX.Provider,{value:t},z.createElement("defs",null,z.createElement("clipPath",{id:t},z.createElement("rect",{x:i,y:a,height:o,width:s}))),e)},V1e=()=>z.useContext(BX);function rG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function iG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rG(Object(t),!0).forEach(function(r){j1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function j1e(n,e,t){return(e=W1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W1e(n){var e=q1e(n,"string");return typeof e=="symbol"?e:e+""}function q1e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kC(){return kC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kC.apply(null,arguments)}var X1e=(n,e)=>{var t;if(z.isValidElement(n))t=z.cloneElement(n,e);else if(typeof n=="function")t=n(e);else{if(!ai(e.x1)||!ai(e.y1)||!ai(e.x2)||!ai(e.y2))return null;t=z.createElement("line",kC({},e,{className:"recharts-reference-line-line"}))}return t},Y1e=(n,e,t,r,i,a)=>{var{x:s,width:o}=a,u=i.y.apply(n,{position:t});if(gc(u)||e==="discard"&&!i.y.isInRange(u))return null;var c=[{x:s+o,y:u},{x:s,y:u}];return r==="left"?c.reverse():c},K1e=(n,e,t,r,i,a)=>{var{y:s,height:o}=a,u=i.x.apply(n,{position:t});if(gc(u)||e==="discard"&&!i.x.isInRange(u))return null;var c=[{x:u,y:s+o},{x:u,y:s}];return r==="top"?c.reverse():c},$1e=(n,e,t,r)=>{var i=n.map(a=>r.apply(a,{position:t}));return e==="discard"&&i.some(a=>!r.isInRange(a))?null:i},Z1e=(n,e,t,r,i,a)=>{var{x:s,y:o,segment:u,ifOverflow:c}=a,h=Eu(s),p=Eu(o);return p?Y1e(o,c,t,i,n,e):h?K1e(s,c,t,r,n,e):u!=null&&u.length===2?$1e(u,c,t,n):null};function Q1e(n){var e=ka();return z.useEffect(()=>(e(F1e(n)),()=>{e(z1e(n))})),null}function J1e(n){var{xAxisId:e,yAxisId:t,shape:r,className:i,ifOverflow:a}=n,s=Rl(),o=V1e(),u=fn(D=>Bf(D,e)),c=fn(D=>Ff(D,t)),h=fn(D=>Hb(D,"xAxis",e,s)),p=fn(D=>Hb(D,"yAxis",t,s)),v=nS();if(!o||!v||u==null||c==null||h==null||p==null)return null;var y=L1e({x:h,y:p}),x=Z1e(y,v,n.position,u.orientation,c.orientation,n);if(!x)return null;var[{x:S,y:w},{x:A,y:T}]=x,C=a==="hidden"?"url(#".concat(o,")"):void 0,O=iG(iG({clipPath:C},Ds(n)),{},{x1:S,y1:w,x2:A,y2:T}),R=I1e({x1:S,y1:w,x2:A,y2:T});return z.createElement(_d,{zIndex:n.zIndex},z.createElement(ad,{className:Nr("recharts-reference-line",i)},X1e(r,O),z.createElement(EX,kC({},R,{lowerWidth:R.width,upperWidth:R.width}),z.createElement(TX,{label:n.label}),n.children)))}var e_e={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:oo.line};function FX(n){var e=Ol(n,e_e);return z.createElement(z.Fragment,null,z.createElement(Q1e,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),z.createElement(J1e,e))}FX.displayName="ReferenceLine";function zX(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],r=0;r<n.length;r+=e){var i=n[r];i!==void 0&&t.push(i)}return t}function t_e(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return k1e(r,t)}function n_e(n,e,t){var r=t==="width",{x:i,y:a,width:s,height:o}=n;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function pw(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var a=t();return n*(e-n*a/2-r)>=0&&n*(e+n*a/2-i)<=0}function r_e(n,e){return zX(n,e+1)}function i_e(n,e,t,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,u=0,c=1,h=s,p=function(){var x=r==null?void 0:r[u];if(x===void 0)return{v:zX(r,c)};var S=u,w,A=()=>(w===void 0&&(w=t(x,S)),w),T=x.coordinate,C=u===0||pw(n,T,A,h,o);C||(u=0,h=s,c+=1),C&&(h=T+n*(A()/2+i),u+=c)},v;c<=a.length;)if(v=p(),v)return v.v;return[]}function a_e(n,e,t,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:u}=e,c=1;c<=s;c++){for(var h=(s-1)%c,p=o,v=!0,y=function(){var T=r[x],C=x,O,R=()=>(O===void 0&&(O=t(T,C)),O),D=T.coordinate,I=x===h||pw(n,D,R,p,u);if(!I)return v=!1,1;I&&(p=D+n*(R()/2+i))},x=h;x<s&&!y();x+=c);if(v){for(var S=[],w=h;w<s;w+=c)S.push(r[w]);return S}}return[]}function aG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(t),!0).forEach(function(r){s_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function s_e(n,e,t){return(e=o_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o_e(n){var e=l_e(n,"string");return typeof e=="symbol"?e:e+""}function l_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function u_e(n,e,t,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:u}=e,c=function(v){var y=a[v],x,S=()=>(x===void 0&&(x=t(y,v)),x);if(v===s-1){var w=n*(y.coordinate+n*S()/2-u);a[v]=y=Cs(Cs({},y),{},{tickCoord:w>0?y.coordinate-w*n:y.coordinate})}else a[v]=y=Cs(Cs({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var A=pw(n,y.tickCoord,S,o,u);A&&(u=y.tickCoord-n*(S()/2+i),a[v]=Cs(Cs({},y),{},{isShow:!0}))}},h=s-1;h>=0;h--)c(h);return a}function c_e(n,e,t,r,i,a){var s=(r||[]).slice(),o=s.length,{start:u,end:c}=e;if(a){var h=r[o-1],p=t(h,o-1),v=n*(h.coordinate+n*p/2-c);if(s[o-1]=h=Cs(Cs({},h),{},{tickCoord:v>0?h.coordinate-v*n:h.coordinate}),h.tickCoord!=null){var y=pw(n,h.tickCoord,()=>p,u,c);y&&(c=h.tickCoord-n*(p/2+i),s[o-1]=Cs(Cs({},h),{},{isShow:!0}))}}for(var x=a?o-1:o,S=function(T){var C=s[T],O,R=()=>(O===void 0&&(O=t(C,T)),O);if(T===0){var D=n*(C.coordinate-n*R()/2-u);s[T]=C=Cs(Cs({},C),{},{tickCoord:D<0?C.coordinate-D*n:C.coordinate})}else s[T]=C=Cs(Cs({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var I=pw(n,C.tickCoord,R,u,c);I&&(u=C.tickCoord+n*(R()/2+i),s[T]=Cs(Cs({},C),{},{isShow:!0}))}},w=0;w<x;w++)S(w);return s}function f_e(n,e,t){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:u,tickFormatter:c,unit:h,angle:p}=n;if(!i||!i.length||!r)return[];if(un(u)||vP.isSsr){var v;return(v=r_e(i,un(u)?u:0))!==null&&v!==void 0?v:[]}var y=[],x=o==="top"||o==="bottom"?"width":"height",S=h&&x==="width"?O_(h,{fontSize:e,letterSpacing:t}):{width:0,height:0},w=(C,O)=>{var R=typeof c=="function"?c(C.value,O):C.value;return x==="width"?t_e(O_(R,{fontSize:e,letterSpacing:t}),S,p):O_(R,{fontSize:e,letterSpacing:t})[x]},A=i.length>=2?dc(i[1].coordinate-i[0].coordinate):1,T=n_e(a,A,x);return u==="equidistantPreserveStart"?i_e(A,T,w,i,s):u==="equidistantPreserveEnd"?a_e(A,T,w,i,s):(u==="preserveStart"||u==="preserveStartEnd"?y=c_e(A,T,w,i,s,u==="preserveStartEnd"):y=u_e(A,T,w,i,s),y.filter(C=>C.isShow))}var h_e=n=>{var{ticks:e,label:t,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=n,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var o=t?t.getBoundingClientRect().width:0,u=i+a,c=s+u+o+(t?r:0);return Math.round(c)}return 0},d_e=["axisLine","width","height","className","hide","ticks","axisType"];function p_e(n,e){if(n==null)return{};var t,r,i=m_e(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function m_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function S0(){return S0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},S0.apply(null,arguments)}function sG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ta(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sG(Object(t),!0).forEach(function(r){g_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function g_e(n,e,t){return(e=v_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v_e(n){var e=y_e(n,"string");return typeof e=="symbol"?e:e+""}function y_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var BM={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:oo.axis};function b_e(n){var{x:e,y:t,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:u}=n;if(!o)return null;var c=ta(ta(ta({},u),id(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);c=ta(ta({},c),{},{x1:e,y1:t+h*i,x2:e+r,y2:t+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);c=ta(ta({},c),{},{x1:e+p*r,y1:t,x2:e+p*r,y2:t+i})}return z.createElement("line",S0({},c,{className:Nr("recharts-cartesian-axis-line",Q3(o,"className"))}))}function x_e(n,e,t,r,i,a,s,o,u){var c,h,p,v,y,x,S=o?-1:1,w=n.tickSize||s,A=un(n.tickCoord)?n.tickCoord:n.coordinate;switch(a){case"top":c=h=n.coordinate,v=t+ +!o*i,p=v-S*w,x=p-S*u,y=A;break;case"left":p=v=n.coordinate,h=e+ +!o*r,c=h-S*w,y=c-S*u,x=A;break;case"right":p=v=n.coordinate,h=e+ +o*r,c=h+S*w,y=c+S*u,x=A;break;default:c=h=n.coordinate,v=t+ +o*i,p=v+S*w,x=p+S*u,y=A;break}return{line:{x1:c,y1:p,x2:h,y2:v},tick:{x:y,y:x}}}function __e(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function w_e(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function S_e(n){var{option:e,tickProps:t,value:r}=n,i,a=Nr(t.className,"recharts-cartesian-axis-tick-value");if(z.isValidElement(e))i=z.cloneElement(e,ta(ta({},t),{},{className:a}));else if(typeof e=="function")i=e(ta(ta({},t),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Nr(s,e==null?void 0:e.className)),i=z.createElement(uk,S0({},t,{className:s}),r)}return i}var A_e=z.forwardRef((n,e)=>{var{ticks:t=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:u,tickTextProps:c,orientation:h,mirror:p,x:v,y,width:x,height:S,tickSize:w,tickMargin:A,fontSize:T,letterSpacing:C,getTicksConfig:O,events:R,axisType:D}=n,I=f_e(ta(ta({},O),{},{ticks:t}),T,C),F=__e(h,p),L=w_e(h,p),k=id(O),V=Y3(r),j={};typeof i=="object"&&(j=i);var Y=ta(ta({},k),{},{fill:"none"},j),re=I.map(X=>ta({entry:X},x_e(X,v,y,x,S,h,w,p,A))),Q=re.map(X=>{var{entry:se,line:J}=X;return z.createElement(ad,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},i&&z.createElement("line",S0({},Y,J,{className:Nr("recharts-cartesian-axis-tick-line",Q3(i,"className"))})))}),W=re.map((X,se)=>{var{entry:J,tick:ae}=X,B=ta(ta(ta(ta({textAnchor:F,verticalAnchor:L},k),{},{stroke:"none",fill:a},V),ae),{},{index:se,payload:J,visibleTicksCount:I.length,tickFormatter:s,padding:u},c);return z.createElement(ad,S0({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},Lue(R,J,se)),r&&z.createElement(S_e,{option:r,tickProps:B,value:"".concat(typeof s=="function"?s(J.value,se):J.value).concat(o||"")}))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},W.length>0&&z.createElement(_d,{zIndex:oo.label},z.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},W)),Q.length>0&&z.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},Q))}),E_e=z.forwardRef((n,e)=>{var{axisLine:t,width:r,height:i,className:a,hide:s,ticks:o,axisType:u}=n,c=p_e(n,d_e),[h,p]=z.useState(""),[v,y]=z.useState(""),x=z.useRef(null);z.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return h_e({ticks:x.current,label:(w=n.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var S=z.useCallback(w=>{if(w){var A=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=A;var T=A[0];if(T){var C=window.getComputedStyle(T),O=C.fontSize,R=C.letterSpacing;(O!==h||R!==v)&&(p(O),y(R))}}},[h,v]);return s||r!=null&&r<=0||i!=null&&i<=0?null:z.createElement(_d,{zIndex:n.zIndex},z.createElement(ad,{className:Nr("recharts-cartesian-axis",a)},z.createElement(b_e,{x:n.x,y:n.y,width:r,height:i,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:id(n)}),z.createElement(A_e,{ref:S,axisType:u,events:c,fontSize:h,getTicksConfig:n,height:n.height,letterSpacing:v,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),z.createElement(EX,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},z.createElement(TX,{label:n.label,labelRef:n.labelRef}),n.children)))}),GX=z.forwardRef((n,e)=>{var t=Ol(n,BM);return z.createElement(E_e,S0({},t,{ref:e}))});GX.displayName="CartesianAxis";var M_e={},HX=tl({name:"errorBars",initialState:M_e,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]||(n[t]=[]),n[t].push(r)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:r,next:i}=e.payload;n[t]&&(n[t]=n[t].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]&&(n[t]=n[t].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:J3e,replaceErrorBar:ePe,removeErrorBar:tPe}=HX.actions,T_e=HX.reducer,C_e=["children"];function P_e(n,e){if(n==null)return{};var t,r,i=O_e(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function O_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var R_e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},N_e=z.createContext(R_e);function D_e(n){var{children:e}=n,t=P_e(n,C_e);return z.createElement(N_e.Provider,{value:t},e)}function VX(n,e){var t,r,i=fn(c=>Bf(c,n)),a=fn(c=>Ff(c,e)),s=(t=i==null?void 0:i.allowDataOverflow)!==null&&t!==void 0?t:oq.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Ra.allowDataOverflow,u=s||o;return{needClip:u,needClipX:s,needClipY:o}}function I_e(n){var{xAxisId:e,yAxisId:t,clipPathId:r}=n,i=fk(),{needClipX:a,needClipY:s,needClip:o}=VX(e,t);if(!o||!i)return null;var{x:u,y:c,width:h,height:p}=i;return z.createElement("clipPath",{id:"clipPath-".concat(r)},z.createElement("rect",{x:a?u:u-h/2,y:s?c:c-p/2,width:a?h:h*2,height:s?p:p*2}))}var jX=(n,e,t,r)=>Hq(n,"xAxis",e,r),WX=(n,e,t,r)=>Gq(n,"xAxis",e,r),qX=(n,e,t,r)=>Hq(n,"yAxis",t,r),XX=(n,e,t,r)=>Gq(n,"yAxis",t,r),L_e=at([$r,jX,qX,WX,XX],(n,e,t,r,i)=>um(n,"xAxis")?fC(e,r,!1):fC(t,i,!1)),U_e=(n,e,t,r,i)=>i;function k_e(n){return n.type==="line"}var B_e=at([fq,U_e],(n,e)=>n.filter(k_e).find(t=>t.id===e)),F_e=at([$r,jX,qX,WX,XX,B_e,L_e,I2],(n,e,t,r,i,a,s,o)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:h}=o;if(!(a==null||e==null||t==null||r==null||i==null||r.length===0||i.length===0||s==null||n!=="horizontal"&&n!=="vertical")){var{dataKey:p,data:v}=a,y;if(v!=null&&v.length>0?y=v:y=u==null?void 0:u.slice(c,h+1),y!=null)return Awe({layout:n,xAxis:e,yAxis:t,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:y})}});function z_e(n){var e=Y3(n),t=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=t),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:t,strokeWidth:r}}var fD={exports:{}},hD={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oG;function G_e(){if(oG)return hD;oG=1;var n=Qb();function e(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,a=n.useEffect,s=n.useMemo,o=n.useDebugValue;return hD.useSyncExternalStoreWithSelector=function(u,c,h,p,v){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=s(function(){function w(R){if(!A){if(A=!0,T=R,R=p(R),v!==void 0&&x.hasValue){var D=x.value;if(v(D,R))return C=D}return C=R}if(D=C,t(T,R))return D;var I=p(R);return v!==void 0&&v(D,I)?(T=R,D):(T=R,C=I)}var A=!1,T,C,O=h===void 0?null:h;return[function(){return w(c())},O===null?void 0:function(){return w(O())}]},[c,h,p,v]);var S=r(u,y[0],y[1]);return a(function(){x.hasValue=!0,x.value=S},[S]),o(S),S},hD}var lG;function H_e(){return lG||(lG=1,fD.exports=G_e()),fD.exports}H_e();function V_e(n){n()}function j_e(){let n=null,e=null;return{clear(){n=null,e=null},notify(){V_e(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var uG={notify(){},get:()=>[]};function W_e(n,e){let t,r=uG,i=0,a=!1;function s(S){h();const w=r.subscribe(S);let A=!1;return()=>{A||(A=!0,w(),p())}}function o(){r.notify()}function u(){x.onStateChange&&x.onStateChange()}function c(){return a}function h(){i++,t||(t=n.subscribe(u),r=j_e())}function p(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=uG)}function v(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const x={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:c,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return x}var q_e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X_e=q_e(),Y_e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",K_e=Y_e(),$_e=()=>X_e||K_e?z.useLayoutEffect:z.useEffect,Z_e=$_e();function cG(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function Q_e(n,e){if(cG(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!cG(n[t[i]],e[t[i]]))return!1;return!0}var dD=Symbol.for("react-redux-context"),pD=typeof globalThis<"u"?globalThis:{};function J_e(){if(!z.createContext)return{};const n=pD[dD]??(pD[dD]=new Map);let e=n.get(z.createContext);return e||(e=z.createContext(null),n.set(z.createContext,e)),e}var ewe=J_e();function twe(n){const{children:e,context:t,serverState:r,store:i}=n,a=z.useMemo(()=>{const u=W_e(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=z.useMemo(()=>i.getState(),[i]);Z_e(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const o=t||ewe;return z.createElement(o.Provider,{value:a},e)}var nwe=twe,rwe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function iwe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function hk(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var r of t)if(rwe.has(r)){if(n[r]==null&&e[r]==null)continue;if(!Q_e(n[r],e[r]))return!1}else if(!iwe(n[r],e[r]))return!1;return!0}var awe=["id"],swe=["type","layout","connectNulls","needClip","shape"],owe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function mw(){return mw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mw.apply(null,arguments)}function fG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fG(Object(t),!0).forEach(function(r){lwe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lwe(n,e,t){return(e=uwe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uwe(n){var e=cwe(n,"string");return typeof e=="symbol"?e:e+""}function cwe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dk(n,e){if(n==null)return{};var t,r,i=fwe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function fwe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var hwe=n=>{var{dataKey:e,name:t,stroke:r,legendType:i,hide:a}=n;return[{inactive:a,dataKey:e,type:i,color:r,value:I7(t,e),payload:n}]},dwe=z.memo(n=>{var{dataKey:e,data:t,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:u,tooltipType:c,id:h}=n,p={dataDefinedOnItem:t,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:I7(s,e),hide:o,type:c,color:r,unit:u,graphicalItemId:h}};return z.createElement(Vxe,{tooltipEntrySettings:p})}),YX=(n,e)=>"".concat(e,"px ").concat(n-e,"px");function pwe(n,e){for(var t=n.length%2!==0?[...n,0]:n,r=[],i=0;i<e;++i)r=[...r,...t];return r}var mwe=(n,e,t)=>{var r=t.reduce((p,v)=>p+v);if(!r)return YX(e,n);for(var i=Math.floor(n/r),a=n%r,s=e-n,o=[],u=0,c=0;u<t.length;c+=t[u],++u)if(c+t[u]>a){o=[...t.slice(0,u),a-c];break}var h=o.length%2===0?[0,s]:[s];return[...pwe(t,i),...o,...h].map(p=>"".concat(p,"px")).join(", ")};function gwe(n){var{clipPathId:e,points:t,props:r}=n,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,u=dk(r,awe),c=id(u);return z.createElement(f1e,{points:t,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:e})}function vwe(n){var{showLabels:e,children:t,points:r}=n,i=z.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return xf(xf({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return z.createElement(yxe,{value:e?i:void 0},t)}function hG(n){var{clipPathId:e,pathRef:t,points:r,strokeDasharray:i,props:a}=n,{type:s,layout:o,connectNulls:u,needClip:c,shape:h}=a,p=dk(a,swe),v=xf(xf({},Ds(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:o,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return z.createElement(z.Fragment,null,(r==null?void 0:r.length)>1&&z.createElement(Hxe,mw({shapeType:"curve",option:h},v,{pathRef:t})),z.createElement(gwe,{points:r,clipPathId:e,props:a}))}function ywe(n){try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}function bwe(n){var{clipPathId:e,props:t,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=n,{points:s,strokeDasharray:o,isAnimationActive:u,animationBegin:c,animationDuration:h,animationEasing:p,animateNewValues:v,width:y,height:x,onAnimationEnd:S,onAnimationStart:w}=t,A=i.current,T=c2(s,"recharts-line-"),C=z.useRef(T),[O,R]=z.useState(!1),D=!O,I=z.useCallback(()=>{typeof S=="function"&&S(),R(!1)},[S]),F=z.useCallback(()=>{typeof w=="function"&&w(),R(!0)},[w]),L=ywe(r.current),k=z.useRef(0);C.current!==T&&(k.current=a.current,C.current=T);var V=k.current;return z.createElement(vwe,{points:s,showLabels:D},t.children,z.createElement(u2,{animationId:T,begin:c,duration:h,isActive:u,easing:p,onAnimationEnd:I,onAnimationStart:F,key:T},j=>{var Y=Ko(V,L+V,j),re=Math.min(Y,L),Q;if(u)if(o){var W="".concat(o).split(/[,\s]+/gim).map(J=>parseFloat(J));Q=mwe(re,L,W)}else Q=YX(L,re);else Q=o==null?void 0:String(o);if(j>0&&L>0&&(i.current=s,a.current=Math.max(a.current,re)),A){var X=A.length/s.length,se=j===1?s:s.map((J,ae)=>{var B=Math.floor(ae*X);if(A[B]){var Z=A[B];return xf(xf({},J),{},{x:Ko(Z.x,J.x,j),y:Ko(Z.y,J.y,j)})}return v?xf(xf({},J),{},{x:Ko(y*2,J.x,j),y:Ko(x/2,J.y,j)}):xf(xf({},J),{},{x:J.x,y:J.y})});return i.current=se,z.createElement(hG,{props:t,points:se,clipPathId:e,pathRef:r,strokeDasharray:Q})}return z.createElement(hG,{props:t,points:s,clipPathId:e,pathRef:r,strokeDasharray:Q})}),z.createElement(_xe,{label:t.label}))}function xwe(n){var{clipPathId:e,props:t}=n,r=z.useRef(null),i=z.useRef(0),a=z.useRef(null);return z.createElement(bwe,{props:t,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var _we=(n,e)=>{var t,r;return{x:(t=n.x)!==null&&t!==void 0?t:void 0,y:(r=n.y)!==null&&r!==void 0?r:void 0,value:n.value,errorVal:os(n.payload,e)}};class wwe extends z.Component{render(){var{hide:e,dot:t,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:u,width:c,height:h,id:p,needClip:v,zIndex:y}=this.props;if(e)return null;var x=Nr("recharts-line",i),S=p,{r:w,strokeWidth:A}=z_e(t),T=NX(t),C=w*2+A,O=v?"url(#clipPath-".concat(T?"":"dots-").concat(S,")"):void 0;return z.createElement(_d,{zIndex:y},z.createElement(ad,{className:x},v&&z.createElement("defs",null,z.createElement(I_e,{clipPathId:S,xAxisId:a,yAxisId:s}),!T&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:u-C/2,y:o-C/2,width:c+C,height:h+C}))),z.createElement(D_e,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:_we,errorBarOffset:0},z.createElement(xwe,{props:this.props,clipPathId:S}))),z.createElement(C1e,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var KX={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:oo.line,type:"linear"};function Swe(n){var e=Ol(n,KX),{activeDot:t,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:u,hide:c,isAnimationActive:h,label:p,legendType:v,xAxisId:y,yAxisId:x,id:S}=e,w=dk(e,owe),{needClip:A}=VX(y,x),T=fk(),C=rS(),O=Rl(),R=fn(k=>F_e(k,y,x,O,S));if(C!=="horizontal"&&C!=="vertical"||R==null||T==null)return null;var{height:D,width:I,x:F,y:L}=T;return z.createElement(wwe,mw({},w,{id:S,connectNulls:o,dot:u,activeDot:t,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:h,hide:c,label:p,legendType:v,xAxisId:y,yAxisId:x,points:R,layout:C,height:D,width:I,left:F,top:L,needClip:A}))}function Awe(n){var{layout:e,xAxis:t,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:u}=n;return u.map((c,h)=>{var p=os(c,s);if(e==="horizontal"){var v=f5({axis:t,ticks:i,bandSize:o,entry:c,index:h}),y=Ua(p)?null:r.scale(p);return{x:v,y,value:p,payload:c}}var x=Ua(p)?null:t.scale(p),S=f5({axis:r,ticks:a,bandSize:o,entry:c,index:h});return x==null||S==null?null:{x,y:S,value:p,payload:c}}).filter(Boolean)}function Ewe(n){var e=Ol(n,KX),t=Rl();return z.createElement(Kxe,{id:e.id,type:"line"},r=>z.createElement(z.Fragment,null,z.createElement(jxe,{legendPayload:hwe(e)}),z.createElement(dwe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),z.createElement(n1e,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:t}),z.createElement(Swe,mw({},e,{id:r}))))}var $X=z.memo(Ewe,hk);$X.displayName="Line";var Mwe=["domain","range"],Twe=["domain","range"];function dG(n,e){if(n==null)return{};var t,r,i=Cwe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Cwe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function pG(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function Pwe(n,e){if(n===e)return!0;var{domain:t,range:r}=n,i=dG(n,Mwe),{domain:a,range:s}=e,o=dG(e,Twe);return!pG(t,a)||!pG(r,s)?!1:hk(i,o)}var Owe=["dangerouslySetInnerHTML","ticks","scale"],Rwe=["id","scale"];function nL(){return nL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nL.apply(null,arguments)}function mG(n,e){if(n==null)return{};var t,r,i=Nwe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Nwe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Dwe(n){var e=ka(),t=z.useRef(null);return z.useLayoutEffect(()=>{t.current===null?e(g1e(n)):t.current!==n&&e(v1e({prev:t.current,next:n})),t.current=n},[n,e]),z.useLayoutEffect(()=>()=>{t.current&&(e(y1e(t.current)),t.current=null)},[e]),null}var Iwe=n=>{var{yAxisId:e,className:t,width:r,label:i}=n,a=z.useRef(null),s=z.useRef(null),o=fn(the),u=Rl(),c=ka(),h="yAxis",p=fn(D=>Z0e(D,e)),v=fn(D=>$0e(D,e)),y=fn(D=>J0e(D,h,e,u)),x=fn(D=>lq(D,e));if(z.useLayoutEffect(()=>{if(!(r!=="auto"||!p||ck(i)||z.isValidElement(i)||x==null)){var D=a.current;if(D){var I=D.getCalculatedWidth();Math.round(p.width)!==Math.round(I)&&c(b1e({id:e,width:I}))}}},[y,p,c,i,e,r,x]),p==null||v==null||x==null)return null;var{dangerouslySetInnerHTML:S,ticks:w,scale:A}=n,T=mG(n,Owe),{id:C,scale:O}=x,R=mG(x,Rwe);return z.createElement(GX,nL({},T,R,{ref:a,labelRef:s,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Nr("recharts-".concat(h," ").concat(h),t),viewBox:o,ticks:y,axisType:h}))},Lwe={allowDataOverflow:Ra.allowDataOverflow,allowDecimals:Ra.allowDecimals,allowDuplicatedCategory:Ra.allowDuplicatedCategory,angle:Ra.angle,axisLine:BM.axisLine,hide:!1,includeHidden:Ra.includeHidden,interval:Ra.interval,minTickGap:Ra.minTickGap,mirror:Ra.mirror,orientation:Ra.orientation,padding:Ra.padding,reversed:Ra.reversed,scale:Ra.scale,tick:Ra.tick,tickCount:Ra.tickCount,tickLine:BM.tickLine,tickSize:BM.tickSize,type:Ra.type,width:Ra.width,yAxisId:0},Uwe=n=>{var e=Ol(n,Lwe);return z.createElement(z.Fragment,null,z.createElement(Dwe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),z.createElement(Iwe,e))},ZX=z.memo(Uwe,Pwe);ZX.displayName="YAxis";var kwe=(n,e)=>e,pk=at([kwe,$r,iq,ya,rX,xd,dye,us],xye),mk=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,r=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/r)}},QX=Mu("mouseClick"),JX=eS();JX.startListening({actionCreator:QX,effect:(n,e)=>{var t=n.payload,r=pk(e.getState(),mk(t));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(fve({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rL=Mu("mouseMove"),eY=eS(),mM=null;eY.startListening({actionCreator:rL,effect:(n,e)=>{var t=n.payload;mM!==null&&cancelAnimationFrame(mM);var r=mk(t);mM=requestAnimationFrame(()=>{var i=e.getState(),a=J2(i,i.tooltip.settings.shared);if(a==="axis"){var s=pk(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(Kq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Yq())}mM=null})}});function Bwe(n,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":n==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var gG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},tY=tl({name:"rootProps",initialState:gG,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:gG.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),Fwe=tY.reducer,{updateOptions:zwe}=tY.actions,nY=tl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:nPe}=nY.actions,Gwe=nY.reducer,rY=Mu("keyDown"),iY=Mu("focus"),gk=eS();gk.startListening({actionCreator:rY,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip,a=n.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=ek(i,fx(t),fS(t),mS(t)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var u=xd(t);if(a==="Enter"){var c=NC(t,"axis","hover",String(i.index));e.dispatch($I({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var h=nve(t),p=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,y=o+v*p;if(!(u==null||y>=u.length||y<0)){var x=NC(t,"axis","hover",String(y));e.dispatch($I({active:!0,activeIndex:y.toString(),activeCoordinate:x}))}}}}}});gk.startListening({actionCreator:iY,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var a="0",s=NC(t,"axis","hover",String(a));e.dispatch($I({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var fu=Mu("externalEvent"),aY=eS(),mD=new Map;aY.startListening({actionCreator:fu,effect:(n,e)=>{var{handler:t,reactEvent:r}=n.payload;if(t!=null){r.persist();var i=r.type,a=mD.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:Zve(o),activeDataKey:Kve(o),activeIndex:hw(o),activeLabel:sX(o),activeTooltipIndex:hw(o),isTooltipActive:Qve(o)};t(u,r)}finally{mD.delete(i)}});mD.set(i,s)}}});var Hwe=at([ux],n=>n.tooltipItemPayloads),Vwe=at([Hwe,pS,(n,e)=>e,(n,e,t)=>t],(n,e,t,r)=>{var i=n.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,t);return s}}}),sY=Mu("touchMove"),oY=eS();oY.startListening({actionCreator:sY,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var r=e.getState(),i=J2(r,r.tooltip.settings.shared);if(i==="axis"){var a=t.touches[0];if(a==null)return;var s=pk(r,mk({clientX:a.clientX,clientY:a.clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(Kq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,u=t.touches[0];if(document.elementFromPoint==null||u==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var h=c.getAttribute(jfe),p=(o=c.getAttribute(Wfe))!==null&&o!==void 0?o:void 0,v=cx(r).find(S=>S.id===p);if(h==null||v==null||p==null)return;var{dataKey:y}=v,x=Vwe(r,h,p);e.dispatch(cve({activeDataKey:y,activeIndex:h,activeCoordinate:x,activeGraphicalItemId:p}))}}}});var jwe=a7({brush:O1e,cartesianAxis:x1e,chartData:Qye,errorBars:T_e,graphicalItems:e1e,layout:Cfe,legend:Ghe,options:Xye,polarAxis:Sxe,polarOptions:Gwe,referenceElements:G1e,rootProps:Fwe,tooltip:hve,zIndex:Iye}),Wwe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Jce({reducer:jwe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([JX.middleware,eY.middleware,gk.middleware,aY.middleware,oY.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(x7({type:"raf"}))},devTools:{serialize:{replacer:Bwe},name:"recharts-".concat(t)}})};function qwe(n){var{preloadedState:e,children:t,reduxStoreName:r}=n,i=Rl(),a=z.useRef(null);if(i)return t;a.current==null&&(a.current=Wwe(e,r));var s=JU;return z.createElement(nwe,{context:s,store:a.current},t)}function Xwe(n){var{layout:e,margin:t}=n,r=ka(),i=Rl();return z.useEffect(()=>{i||(r(Efe(e)),r(Afe(t)))},[r,i,e,t]),null}var Ywe=z.memo(Xwe,hk);function Kwe(n){var e=ka();return z.useEffect(()=>{e(zwe(n))},[e,n]),null}function vG(n){var{zIndex:e,isPanorama:t}=n,r=z.useRef(null),i=ka();return z.useLayoutEffect(()=>(r.current&&i(Nye({zIndex:e,element:r.current,isPanorama:t})),()=>{i(Dye({zIndex:e,isPanorama:t}))}),[i,e,t]),z.createElement("g",{tabIndex:-1,ref:r})}function yG(n){var{children:e,isPanorama:t}=n,r=fn(wye);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return z.createElement(z.Fragment,null,i.map(s=>z.createElement(vG,{key:s,zIndex:s,isPanorama:t})),e,a.map(s=>z.createElement(vG,{key:s,zIndex:s,isPanorama:t})))}var $we=["children"];function Zwe(n,e){if(n==null)return{};var t,r,i=Qwe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Qwe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function BC(){return BC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BC.apply(null,arguments)}var Jwe={width:"100%",height:"100%",display:"block"},eSe=z.forwardRef((n,e)=>{var t=She(),r=Ahe(),i=X7();if(!nm(t)||!nm(r))return null;var{children:a,otherAttributes:s,title:o,desc:u}=n,c,h;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),z.createElement(_9,BC({},s,{title:o,desc:u,role:h,tabIndex:c,width:t,height:r,style:Jwe,ref:e}),a)}),tSe=n=>{var{children:e}=n,t=fn(hP);if(!t)return null;var{width:r,height:i,y:a,x:s}=t;return z.createElement(_9,{width:r,height:i,x:s,y:a},e)},bG=z.forwardRef((n,e)=>{var{children:t}=n,r=Zwe(n,$we),i=Rl();return i?z.createElement(tSe,null,z.createElement(yG,{isPanorama:!0},t)):z.createElement(eSe,BC({ref:e},r),z.createElement(yG,{isPanorama:!1},t))});function nSe(){var n=ka(),[e,t]=z.useState(null),r=fn(Vfe);return z.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ai(a)&&a!==r&&n(Tfe(a))}},[e,n,r]),t}function xG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rSe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xG(Object(t),!0).forEach(function(r){iSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iSe(n,e,t){return(e=aSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aSe(n){var e=sSe(n,"string");return typeof e=="symbol"?e:e+""}function sSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function A0(){return A0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},A0.apply(null,arguments)}var oSe=()=>(obe(),null);function FC(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var lSe=z.forwardRef((n,e)=>{var t,r,i=z.useRef(null),[a,s]=z.useState({containerWidth:FC((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:FC((r=n.style)===null||r===void 0?void 0:r.height)}),o=z.useCallback((c,h)=>{s(p=>{var v=Math.round(c),y=Math.round(h);return p.containerWidth===v&&p.containerHeight===y?p:{containerWidth:v,containerHeight:y}})},[]),u=z.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=c.getBoundingClientRect();o(h,p);var v=x=>{var{width:S,height:w}=x[0].contentRect;o(S,w)},y=new ResizeObserver(v);y.observe(c),i.current=y}},[e,o]);return z.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),z.createElement(z.Fragment,null,z.createElement(dP,{width:a.containerWidth,height:a.containerHeight}),z.createElement("div",A0({ref:u},n)))}),uSe=z.forwardRef((n,e)=>{var{width:t,height:r}=n,[i,a]=z.useState({containerWidth:FC(t),containerHeight:FC(r)}),s=z.useCallback((u,c)=>{a(h=>{var p=Math.round(u),v=Math.round(c);return h.containerWidth===p&&h.containerHeight===v?h:{containerWidth:p,containerHeight:v}})},[]),o=z.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:c,height:h}=u.getBoundingClientRect();s(c,h)}},[e,s]);return z.createElement(z.Fragment,null,z.createElement(dP,{width:i.containerWidth,height:i.containerHeight}),z.createElement("div",A0({ref:o},n)))}),cSe=z.forwardRef((n,e)=>{var{width:t,height:r}=n;return z.createElement(z.Fragment,null,z.createElement(dP,{width:t,height:r}),z.createElement("div",A0({ref:e},n)))}),fSe=z.forwardRef((n,e)=>{var{width:t,height:r}=n;return sd(t)||sd(r)?z.createElement(uSe,A0({},n,{ref:e})):z.createElement(cSe,A0({},n,{ref:e}))});function hSe(n){return n===!0?lSe:fSe}var dSe=z.forwardRef((n,e)=>{var{children:t,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:u,onMouseEnter:c,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:y,onTouchMove:x,onTouchStart:S,style:w,width:A,responsive:T,dispatchTouchEvents:C=!0}=n,O=z.useRef(null),R=ka(),[D,I]=z.useState(null),[F,L]=z.useState(null),k=nSe(),V=s2(),j=(V==null?void 0:V.width)>0?V.width:A,Y=(V==null?void 0:V.height)>0?V.height:i,re=z.useCallback(me=>{k(me),typeof e=="function"&&e(me),I(me),L(me),me!=null&&(O.current=me)},[k,e,I,L]),Q=z.useCallback(me=>{R(QX(me)),R(fu({handler:a,reactEvent:me}))},[R,a]),W=z.useCallback(me=>{R(rL(me)),R(fu({handler:c,reactEvent:me}))},[R,c]),X=z.useCallback(me=>{R(Yq()),R(fu({handler:h,reactEvent:me}))},[R,h]),se=z.useCallback(me=>{R(rL(me)),R(fu({handler:p,reactEvent:me}))},[R,p]),J=z.useCallback(()=>{R(iY())},[R]),ae=z.useCallback(me=>{R(rY(me.key))},[R]),B=z.useCallback(me=>{R(fu({handler:s,reactEvent:me}))},[R,s]),Z=z.useCallback(me=>{R(fu({handler:o,reactEvent:me}))},[R,o]),le=z.useCallback(me=>{R(fu({handler:u,reactEvent:me}))},[R,u]),he=z.useCallback(me=>{R(fu({handler:v,reactEvent:me}))},[R,v]),ve=z.useCallback(me=>{R(fu({handler:S,reactEvent:me}))},[R,S]),ue=z.useCallback(me=>{C&&R(sY(me)),R(fu({handler:x,reactEvent:me}))},[R,C,x]),ce=z.useCallback(me=>{R(fu({handler:y,reactEvent:me}))},[R,y]),Se=hSe(T);return z.createElement(dX.Provider,{value:D},z.createElement(kle.Provider,{value:F},z.createElement(Se,{width:j??(w==null?void 0:w.width),height:Y??(w==null?void 0:w.height),className:Nr("recharts-wrapper",r),style:rSe({position:"relative",cursor:"default",width:j,height:Y},w),onClick:Q,onContextMenu:B,onDoubleClick:Z,onFocus:J,onKeyDown:ae,onMouseDown:le,onMouseEnter:W,onMouseLeave:X,onMouseMove:se,onMouseUp:he,onTouchEnd:ce,onTouchMove:ue,onTouchStart:ve,ref:re},z.createElement(oSe,null),t)))}),pSe=["width","height","responsive","children","className","style","compact","title","desc"];function mSe(n,e){if(n==null)return{};var t,r,i=gSe(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function gSe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var vSe=z.forwardRef((n,e)=>{var{width:t,height:r,responsive:i,children:a,className:s,style:o,compact:u,title:c,desc:h}=n,p=mSe(n,pSe),v=id(p);return u?z.createElement(z.Fragment,null,z.createElement(dP,{width:t,height:r}),z.createElement(bG,{otherAttributes:v,title:c,desc:h},a)):z.createElement(dSe,{className:s,style:o,width:t,height:r,responsive:i??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},z.createElement(bG,{otherAttributes:v,title:c,desc:h,ref:e},z.createElement(H1e,null,a)))});function iL(){return iL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},iL.apply(null,arguments)}var ySe={top:5,right:5,bottom:5,left:5},bSe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ySe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},xSe=z.forwardRef(function(e,t){var r,i=Ol(e.categoricalChartProps,bSe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:c}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return z.createElement(qwe,{preloadedState:{options:h},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},z.createElement(P1e,{chartData:c.data}),z.createElement(Ywe,{layout:i.layout,margin:i.margin}),z.createElement(Kwe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),z.createElement(vSe,iL({},i,{ref:t})))}),_Se=["axis"],wSe=z.forwardRef((n,e)=>z.createElement(xSe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_Se,tooltipPayloadSearcher:Wye,categoricalChartProps:n,ref:e}));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SSe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ASe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),_G=n=>{const e=ASe(n);return e.charAt(0).toUpperCase()+e.slice(1)},lY=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),ESe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MSe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TSe=z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},u)=>z.createElement("svg",{ref:u,...MSe,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:lY("lucide",i),...!a&&!ESe(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,h])=>z.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=(n,e)=>{const t=z.forwardRef(({className:r,...i},a)=>z.createElement(TSe,{ref:a,iconNode:e,className:lY(`lucide-${SSe(_G(n))}`,`lucide-${n}`,r),...i}));return t.displayName=_G(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CSe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wG=ui("activity",CSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PSe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],OSe=ui("bot",PSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RSe=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],NSe=ui("bug",RSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DSe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],ISe=ui("crosshair",DSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LSe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SG=ui("file-text",LSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const USe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],kSe=ui("layers",USe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BSe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],FSe=ui("loader-circle",BSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zSe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],GSe=ui("plus",zSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HSe=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],VSe=ui("radar",HSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jSe=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],WSe=ui("radio",jSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qSe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],XSe=ui("send",qSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YSe=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],KSe=ui("server",YSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Se=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],ZSe=ui("shield-alert",$Se);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QSe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],R_=ui("shield",QSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JSe=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],eAe=ui("skull",JSe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tAe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],AG=ui("sparkles",tAe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nAe=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],gD=ui("sword",nAe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rAe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],EG=ui("target",rAe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iAe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],aAe=ui("trending-up",iAe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sAe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uY=ui("triangle-alert",sAe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oAe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lAe=ui("upload",oAe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uAe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],vD=ui("wallet",uAe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cAe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cY=ui("x",cAe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fAe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hAe=ui("zap",fAe),dAe=({marketId:n,side:e,challenges:t,onAddChallenge:r})=>{var x;const[i,a]=z.useState(!1),[s,o]=z.useState(""),[u,c]=z.useState(""),[h,p]=z.useState(null),v=()=>{if(!s.trim()||!u.trim())return;const S={id:Date.now().toString(),type:e,title:s,evidence:u,timestamp:new Date,replyToId:h||void 0};r(S),o(""),c(""),a(!1),p(null)},y=S=>{p(S),a(!0)};return K.jsxs("div",{className:"space-y-3",children:[K.jsxs("div",{className:"text-xs text-gray-500 mb-2 font-mono flex justify-between",children:[K.jsx("span",{children:"// RED-BLUE CHALLENGE SYSTEM"}),K.jsxs("span",{className:"text-cyan-500",children:[t.length," ACTIVE"]})]}),!i&&K.jsx("button",{onClick:()=>a(!0),className:`w-full ${e==="red"?"bg-red-900/20 hover:bg-red-900/30 border-red-500/50 text-red-400":"bg-blue-900/20 hover:bg-blue-900/30 border-blue-500/50 text-blue-400"} border px-3 py-2 text-xs font-bold transition-all flex items-center justify-center gap-1`,children:e==="red"?K.jsxs(K.Fragment,{children:[K.jsx(gD,{size:12})," SUBMIT CHALLENGE"]}):K.jsxs(K.Fragment,{children:[K.jsx(R_,{size:12})," SUBMIT DEFENSE"]})}),i&&K.jsxs("div",{className:`border ${e==="red"?"border-red-500/50 bg-red-900/10":"border-blue-500/50 bg-blue-900/10"} p-3 space-y-2`,children:[K.jsxs("div",{className:"flex justify-between items-center mb-2",children:[K.jsx("span",{className:`text-xs font-bold ${e==="red"?"text-red-400":"text-blue-400"}`,children:h?e==="red"?" REPLY TO DEFENSE":" REPLY TO CHALLENGE":e==="red"?" RED CHALLENGE":" BLUE DEFENSE"}),K.jsx("button",{onClick:()=>{a(!1),p(null)},className:"text-gray-500 hover:text-white text-xs",children:""})]}),h&&K.jsxs("div",{className:"text-[10px] text-yellow-400 mb-2",children:[" Replying to: ",(x=t.find(S=>S.id===h))==null?void 0:x.title]}),K.jsx("input",{type:"text",value:s,onChange:S=>o(S.target.value),placeholder:"Title / ",className:"w-full bg-black border border-gray-700 px-2 py-1 text-xs text-white placeholder-gray-600 focus:outline-none focus:border-cyan-500"}),K.jsx("textarea",{value:u,onChange:S=>c(S.target.value),placeholder:"Evidence / PoC / ",rows:3,className:"w-full bg-black border border-gray-700 px-2 py-1 text-xs text-white placeholder-gray-600 focus:outline-none focus:border-cyan-500 resize-none font-mono"}),K.jsxs("button",{onClick:v,className:`w-full ${e==="red"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white px-3 py-2 text-xs font-bold transition-all flex items-center justify-center gap-1`,children:[K.jsx(XSe,{size:12})," SUBMIT"]})]}),K.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto scrollbar-thin",children:t.length===0?K.jsxs("div",{className:"text-center py-4 border border-dashed border-gray-800",children:[K.jsx("div",{className:"text-gray-600 text-xs",children:"No challenges yet."}),K.jsx("div",{className:"text-gray-700 text-[10px] mt-1",children:"Be the first to challenge"})]}):t.filter(S=>!S.replyToId).map(S=>{const w=t.filter(A=>A.replyToId===S.id);return K.jsxs("div",{className:"space-y-1",children:[K.jsxs("div",{className:`border p-2 ${S.type==="red"?"border-red-500/30 bg-red-900/10":"border-blue-500/30 bg-blue-900/10"}`,children:[K.jsxs("div",{className:"flex justify-between items-start mb-1",children:[K.jsxs("div",{className:"flex items-center gap-1",children:[S.type==="red"?K.jsx(gD,{size:10,className:"text-red-400"}):K.jsx(R_,{size:10,className:"text-blue-400"}),K.jsx("span",{className:`text-xs font-bold ${S.type==="red"?"text-red-400":"text-blue-400"}`,children:S.title})]}),K.jsx("button",{onClick:()=>y(S.id),className:`text-[10px] px-2 py-0.5 ${e==="red"?"text-red-400 hover:bg-red-900/20":"text-blue-400 hover:bg-blue-900/20"} transition-all`,children:"REPLY"})]}),K.jsx("div",{className:"text-[10px] text-gray-500 font-mono mb-1",children:S.timestamp.toLocaleTimeString("zh-CN")}),K.jsxs("div",{className:"text-[10px] text-gray-400 bg-black/50 p-1 font-mono",children:[S.evidence.substring(0,80),S.evidence.length>80?"...":""]})]}),w.length>0&&K.jsx("div",{className:"ml-4 space-y-1 border-l-2 border-gray-700 pl-2",children:w.map(A=>K.jsxs("div",{className:`border p-2 ${A.type==="red"?"border-red-500/30 bg-red-900/5":"border-blue-500/30 bg-blue-900/5"}`,children:[K.jsx("div",{className:"flex justify-between items-start mb-1",children:K.jsxs("div",{className:"flex items-center gap-1",children:[A.type==="red"?K.jsx(gD,{size:8,className:"text-red-400"}):K.jsx(R_,{size:8,className:"text-blue-400"}),K.jsxs("span",{className:`text-[10px] font-bold ${A.type==="red"?"text-red-400":"text-blue-400"}`,children:[" ",A.title]})]})}),K.jsx("div",{className:"text-[9px] text-gray-500 font-mono mb-1",children:A.timestamp.toLocaleTimeString("zh-CN")}),K.jsxs("div",{className:"text-[9px] text-gray-400 bg-black/50 p-1 font-mono",children:[A.evidence.substring(0,60),A.evidence.length>60?"...":""]})]},A.id))})]},S.id)})}),K.jsxs("div",{className:"flex gap-2 text-[10px] text-gray-600 pt-2 border-t border-gray-800",children:[K.jsxs("div",{className:"flex items-center gap-1",children:[K.jsx("div",{className:"w-2 h-2 bg-red-500"}),K.jsxs("span",{children:["RED: ",t.filter(S=>S.type==="red").length]})]}),K.jsxs("div",{className:"flex items-center gap-1",children:[K.jsx("div",{className:"w-2 h-2 bg-blue-500"}),K.jsxs("span",{children:["BLUE: ",t.filter(S=>S.type==="blue").length]})]})]})]})},pAe=({tab:n,marketId:e})=>{const[t,r]=z.useState([]),i=a=>{r([a,...t])};return K.jsx("div",{className:"flex-1 overflow-y-auto max-h-[300px] mb-4 scrollbar-thin",children:K.jsx(dAe,{marketId:e,side:n==="DEFEND"?"blue":"red",challenges:t,onAddChallenge:i})})},mAe=({market:n,onClose:e,onTrade:t,onDelete:r,onResolve:i,onWithdrawDeposit:a,onClaimRewards:s,userBalance:o,userAddress:u})=>{const[c,h]=z.useState("DEFEND"),[p,v]=z.useState(""),[y,x]=z.useState(!1),[S,w]=z.useState(null),[A,T]=z.useState(!1),[C,O]=z.useState(0),[R,D]=z.useState(0),[I,F]=z.useState(0),[L,k]=z.useState(0),V=n.resolved?n.outcome?1:0:em(n.yesPool,n.noPool),j=n.resolved?V:Math.max(0,Math.min(1,V+L));z.useEffect(()=>{if(n.resolved)return;const J=()=>{const B=(Math.random()-.5)*.1;k(B)};J();const ae=setInterval(J,2e3);return()=>clearInterval(ae)},[n.resolved,n.id]),z.useEffect(()=>{u&&(async()=>{if(!u){console.log("No user address, skipping share load");return}try{console.log(`Loading shares for market ${n.id}, user ${u}`);const{polymarketService:ae}=await XF(async()=>{const{polymarketService:Z}=await Promise.resolve().then(()=>FH);return{polymarketService:Z}},void 0),B=await ae.getUserShares(n.id,u);console.log("User shares loaded:",B),D(B.yesShares),F(B.noShares)}catch(ae){console.error("Failed to load user shares:",ae)}})()},[n.id,u]),z.useEffect(()=>{if(n.yieldEnabled&&n.depositAmount&&n.createdAt){const J=()=>{const B=YF.calculateAccumulatedYield(n.depositAmount,n.createdAt);O(B)};J();const ae=setInterval(J,1e3);return()=>clearInterval(ae)}},[n.yieldEnabled,n.depositAmount,n.createdAt]);const Y=Number(p)||0,re=Math.floor(Y);c==="ATTACK"&&S&&S.feePercent;const Q=0,W=Y,X=async()=>{if(re<=0){alert("Please enter a valid number of shares!");return}if(!u){alert("Please connect your wallet first!");return}x(!0);try{console.log(`Trading ${re} shares on market ${n.id}`);const J=c==="DEFEND"?Wo.YES:Wo.NO;await t(n.id,J,re),v(""),setTimeout(async()=>{try{const{polymarketService:ae}=await XF(async()=>{const{polymarketService:Z}=await Promise.resolve().then(()=>FH);return{polymarketService:Z}},void 0),B=await ae.getUserShares(n.id,u);console.log("Reloaded user shares after trade:",B),D(B.yesShares),F(B.noShares)}catch(ae){console.error("Failed to reload user shares:",ae)}},2e3)}catch(J){console.error("Trade error:",J),alert(`Trade failed: ${J.message}`)}finally{x(!1)}},se=J=>(J*100).toFixed(1)+"%";return K.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center p-4 backdrop-blur-md bg-black/80 animate-fade-in font-mono",children:K.jsxs("div",{className:"w-full max-w-6xl h-[90vh] bg-[#050505] border border-gray-800 shadow-[0_0_50px_rgba(0,0,0,0.8)] rounded-none flex flex-col overflow-hidden text-gray-200",children:[K.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-800 bg-[#0a0a0a]",children:[K.jsxs("div",{className:"flex items-center gap-4",children:[K.jsx("div",{className:"bg-red-500/20 text-red-500 border border-red-500/50 px-2 py-1 text-xs font-bold animate-pulse",children:"LIVE TARGET // "}),K.jsxs("div",{children:[K.jsx("h1",{className:"font-bold text-lg text-white leading-none uppercase",children:n.title}),K.jsx("h2",{className:"text-sm text-gray-500",children:n.titleCN})]})]}),K.jsxs("div",{className:"flex gap-2",children:[n.resolved&&n.depositId&&!n.depositWithdrawn&&a&&K.jsx("button",{onClick:()=>a(n.id),className:"px-3 py-2 bg-blue-600/80 hover:bg-blue-500 border border-blue-400 text-white text-xs font-mono font-bold transition-all animate-pulse",title:"Withdraw Deposit + Interest",children:" WITHDRAW DEPOSIT"}),n.depositWithdrawn&&K.jsx("div",{className:"px-3 py-2 bg-green-900/50 border border-green-500/50 text-green-400 text-xs font-mono font-bold",children:" DEPOSIT WITHDRAWN"}),n.resolved&&s&&K.jsx("button",{onClick:()=>s(n.id),className:"px-3 py-2 bg-yellow-600/80 hover:bg-yellow-500 border border-yellow-400 text-white text-xs font-mono font-bold transition-all animate-pulse",title:"Claim Your Rewards",children:" CLAIM REWARDS"}),!n.resolved&&i&&K.jsxs(K.Fragment,{children:[K.jsx("button",{onClick:()=>i(n.id,!0),className:"px-3 py-2 bg-green-600/80 hover:bg-green-500 border border-green-400 text-white text-xs font-mono font-bold transition-all",title:"Resolve as SECURE (YES)",children:" SECURE"}),K.jsx("button",{onClick:()=>i(n.id,!1),className:"px-3 py-2 bg-red-600/80 hover:bg-red-500 border border-red-400 text-white text-xs font-mono font-bold transition-all",title:"Resolve as COMPROMISED (NO)",children:" COMPROMISED"})]}),r&&K.jsx("button",{onClick:()=>r(n.id),className:"px-3 py-2 bg-gray-700/80 hover:bg-gray-600 border border-gray-500 text-white text-xs font-mono font-bold transition-all",title:"Delete Market",children:"DELETE"}),K.jsx("button",{onClick:e,className:"hover:bg-red-900/30 p-2 border border-transparent hover:border-red-500/50 transition-all text-gray-400 hover:text-white",children:K.jsx(cY,{size:24})})]})]}),K.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[K.jsxs("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin relative",children:[K.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-20 pointer-events-none"}),K.jsxs("div",{className:"flex items-center justify-between mb-8 border border-gray-800 bg-black/50 p-4",children:[K.jsxs("div",{children:[K.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest mb-1",children:"Security Score / "}),K.jsxs("div",{className:`text-5xl font-bold ${j>.7?"text-green-500":"text-red-500"} flex items-center gap-2`,children:[se(j),j>.7?K.jsx(R_,{size:40}):K.jsx(uY,{size:40})]})]}),K.jsxs("div",{className:"text-right",children:[K.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest mb-1",children:"Status / "}),K.jsx("div",{className:"text-xl text-white font-bold",children:j>.5?"SECURE (AI DEFENDED)":"UNDER ATTACK"}),n.createdAt&&n.duration&&!n.resolved&&K.jsxs("div",{className:"text-xs text-yellow-500 mt-2",children:[" Closes in: ",(()=>{const J=Math.floor(Date.now()/1e3),B=n.createdAt+n.duration-J;if(B<=0)return"Ready to resolve";const Z=Math.floor(B/3600),le=Math.floor(B%3600/60);return`${Z}h ${le}m`})()]})]})]}),n.yieldEnabled&&n.depositAmount&&K.jsxs("div",{className:"mb-6 border border-green-500/30 bg-green-900/10 p-4",children:[K.jsxs("div",{className:"flex items-center justify-between mb-2",children:[K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx(aAe,{className:"text-green-400",size:20}),K.jsx("span",{className:"text-green-400 font-bold text-sm",children:"YIELD GENERATION ACTIVE"})]}),K.jsx("span",{className:"text-xs text-green-500 font-mono",children:"5% APR"})]}),K.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs font-mono",children:[K.jsxs("div",{children:[K.jsx("div",{className:"text-gray-500 mb-1",children:"Deposit Amount"}),K.jsxs("div",{className:"text-white font-bold",children:[n.depositAmount.toFixed(4)," METH"]})]}),K.jsxs("div",{children:[K.jsx("div",{className:"text-gray-500 mb-1",children:"Accumulated Yield"}),K.jsx("div",{className:"text-green-400 font-bold animate-pulse",children:YF.formatYield(C)})]})]})]}),K.jsxs("div",{className:"h-64 w-full bg-[#080808] border border-gray-800 p-2 mb-6 relative",children:[K.jsx("div",{className:"absolute top-2 left-2 text-[10px] text-green-500 font-mono",children:"NET_FLOW_MONITOR::V1.0"}),K.jsx(xhe,{width:"100%",height:"100%",children:K.jsxs(wSe,{data:n.history,children:[K.jsx(ZX,{domain:[0,1],hide:!0}),K.jsx(mbe,{contentStyle:{backgroundColor:"#000",borderColor:"#333",borderRadius:"0px",fontFamily:"monospace"},itemStyle:{color:"#0f0"},formatter:J=>[`${(J*100).toFixed(1)}%`,"Integrity"]}),K.jsx(FX,{y:.5,stroke:"#333",strokeDasharray:"3 3"}),K.jsx($X,{type:"step",dataKey:"probYes",stroke:j>.5?"#10B981":"#EF4444",strokeWidth:2,dot:!1})]})})]}),K.jsxs("div",{className:"space-y-4",children:[K.jsxs("div",{className:"border-l-2 border-blue-500 pl-4 py-2 bg-blue-900/10",children:[K.jsxs("h3",{className:"text-sm font-bold text-blue-400 mb-1 flex items-center gap-2",children:[K.jsx(KSe,{size:14})," TARGET INTEL // "]}),K.jsx("p",{className:"text-sm text-gray-300 leading-relaxed font-mono",children:n.description})]}),n.hasZeroDayOffer&&K.jsxs("div",{className:"border border-purple-500/50 p-4 bg-purple-900/10 flex items-center justify-between animate-pulse-slow",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx(NSe,{className:"text-purple-400",size:24}),K.jsxs("div",{children:[K.jsx("div",{className:"text-purple-400 font-bold text-sm",children:"AI CITADEL BUY OFFER // AI"}),K.jsxs("div",{className:"text-xs text-gray-400",children:["Citadel is offering ",K.jsx("span",{className:"text-white",children:"50,000 MNT"})," for 0-day exploits on this asset."]})]})]}),K.jsx("button",{className:"bg-purple-600 hover:bg-purple-500 text-white text-xs px-3 py-1 uppercase font-bold",children:"Sell Intel"})]})]})]}),K.jsxs("div",{className:"w-full md:w-[450px] bg-[#0a0a0a] border-l border-gray-800 flex flex-col",children:[K.jsxs("div",{className:"flex border-b border-gray-800",children:[K.jsxs("button",{onClick:()=>{h("DEFEND"),w(null)},className:`flex-1 py-4 text-sm font-bold flex items-center justify-center gap-2 uppercase tracking-wider transition-colors
                        ${c==="DEFEND"?"bg-green-900/20 text-green-400 border-b-2 border-green-400":"text-gray-600 hover:text-gray-400"}`,children:[K.jsx(R_,{size:16})," Defend (Citadel)"]}),K.jsxs("button",{onClick:()=>h("ATTACK"),className:`flex-1 py-4 text-sm font-bold flex items-center justify-center gap-2 uppercase tracking-wider transition-colors
                        ${c==="ATTACK"?"bg-red-900/20 text-red-500 border-b-2 border-red-500":"text-gray-600 hover:text-gray-400"}`,children:[K.jsx(eAe,{size:16})," Attack (Hunter)"]})]}),K.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[K.jsx(pAe,{tab:c,marketId:n.id}),K.jsxs("div",{className:"mt-auto bg-black p-4 border-t border-gray-800",children:[K.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-2",children:[K.jsxs("span",{children:["BALANCE: ",NM(o)]}),S&&K.jsxs("span",{className:"text-red-400",children:["FEE: ",NM(Q)]})]}),(R>0||I>0)&&K.jsxs("div",{className:"mb-3 p-2 bg-blue-900/20 border border-blue-500/30",children:[K.jsx("div",{className:"text-[10px] text-blue-400 font-bold mb-1",children:"YOUR POSITION:"}),K.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] font-mono",children:[K.jsxs("div",{className:"text-green-400",children:["DEFEND: ",R," shares"]}),K.jsxs("div",{className:"text-red-400",children:["ATTACK: ",I," shares"]})]})]}),K.jsxs("div",{className:"mb-2",children:[K.jsx("label",{className:"text-xs text-gray-400 font-mono mb-1 block",children:"SHARES TO BUY"}),K.jsxs("div",{className:"relative",children:[K.jsx("input",{type:"number",value:p,onChange:J=>v(Number(J.target.value)),className:"w-full bg-[#111] border border-gray-700 p-3 text-white font-mono focus:border-white focus:outline-none",placeholder:"Enter shares (e.g. 1, 10, 100)",min:"1",step:"1"}),K.jsx("div",{className:"absolute right-3 top-3 text-gray-500 font-mono text-sm",children:"SHARES"})]})]}),Y>0&&K.jsxs("div",{className:"mb-4 text-[10px] font-mono text-gray-400 space-y-1 bg-gray-900 p-2",children:[K.jsxs("div",{className:"flex justify-between",children:[K.jsx("span",{children:"SHARES:"}),K.jsxs("span",{className:"text-white",children:[Y," shares"]})]}),K.jsxs("div",{className:"flex justify-between",children:[K.jsx("span",{children:"EST. COST:"}),K.jsx("span",{className:"text-yellow-400",children:NM(W)})]})]}),K.jsx("button",{disabled:y||Y<=0,onClick:X,className:`w-full py-4 font-bold text-white text-lg uppercase tracking-widest flex justify-center items-center gap-2 transition-all hover:brightness-110
                                ${c==="DEFEND"?"bg-green-700 shadow-[0_0_20px_rgba(16,185,129,0.3)]":"bg-red-700 shadow-[0_0_20px_rgba(239,68,68,0.3)]"}
                                disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:y?K.jsx(hAe,{className:"animate-spin",size:20}):c==="DEFEND"?"INJECT LIQUIDITY":S?"JOIN SYNDICATE":"DEPLOY EXPLOIT"})]})]})]})]})]})})},gAe=({markets:n,onSelect:e,onHover:t,hoveredMarketId:r})=>{const i=n.filter(c=>!c.resolved),a=n.filter(c=>c.resolved),[s,o]=z.useState({});z.useEffect(()=>{if(i.length===0)return;const c=()=>{const p={};i.forEach(v=>{const y=(Math.random()-.5)*.1;p[v.id]=y}),o(p),console.log("Dashboard fluctuations updated:",p)};c();const h=setInterval(c,2e3);return()=>clearInterval(h)},[n.length]);const u=c=>{const h=em(c.yesPool,c.noPool),p=c.resolved?h:Math.max(0,Math.min(1,h+(s[c.id]||0))),v=p>.7,y=p<.4,x=r===c.id;return K.jsxs("div",{onClick:()=>{console.log("Market clicked:",c.id,c),e(c.id)},onMouseEnter:()=>t(c.id),onMouseLeave:()=>t(null),className:`
          group relative p-3 rounded-none border-l-2 transition-all cursor-pointer overflow-hidden
          ${x?"bg-gray-900 border-l-white border-y border-r border-gray-700":"bg-black/60 border-l-gray-700 border-y border-r border-transparent hover:bg-black/80"}
        `,children:[K.jsxs("div",{className:"flex justify-between items-start mb-2",children:[K.jsxs("span",{className:"text-[10px] text-gray-600",children:["ID: ",c.id.toString().padStart(4,"0")]}),K.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold tracking-wider",children:[x&&K.jsx(ISe,{size:12,className:"text-red-500 animate-spin"}),K.jsx("span",{className:x?"text-white":"text-gray-600",children:c.rwaType})]})]}),K.jsx("h3",{className:`font-bold text-xs mb-1 leading-tight uppercase ${x?"text-white":"text-gray-400"}`,children:c.title}),K.jsx("h4",{className:"text-[10px] text-gray-600 mb-3 truncate",children:c.titleCN}),K.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px]",children:[K.jsxs("div",{className:"bg-black/30 p-1 border border-gray-800",children:[K.jsx("span",{className:"block text-gray-600 mb-0.5",children:"SECURITY SCORE"}),K.jsxs("div",{className:`font-bold ${v?"text-green-500":y?"text-red-500":"text-yellow-500"}`,children:[(p*100).toFixed(0),"/100"]})]}),K.jsxs("div",{className:"bg-black/30 p-1 border border-gray-800",children:[K.jsx("span",{className:"block text-gray-600 mb-0.5",children:"TVL (LIQUIDITY)"}),K.jsx("div",{className:"text-gray-300",children:NM(c.yesPool+c.noPool)})]})]})]},c.id)};return K.jsxs("div",{className:"absolute top-20 left-4 bottom-20 w-[350px] flex flex-col gap-4 pointer-events-none z-10 font-mono",children:[K.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-gray-800 p-4 rounded-none border-l-4 border-l-red-500 pointer-events-auto",children:[K.jsxs("h2",{className:"text-sm font-bold text-white mb-1 flex items-center gap-2",children:[K.jsx(VSe,{size:16,className:"text-red-500 animate-pulse"}),"THREAT RADAR // "]}),K.jsxs("p",{className:"text-[10px] text-gray-500",children:["Select an RWA Target to initiate Red Teaming audit.",K.jsx("br",{}),"RWA"]})]}),K.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 pointer-events-auto scrollbar-hide",children:[i.length>0&&K.jsxs(K.Fragment,{children:[K.jsxs("div",{className:"text-xs font-bold text-green-400 mb-2 flex items-center gap-2 border-b border-green-900/30 pb-1",children:[K.jsx(wG,{size:12,className:"animate-pulse"}),"ACTIVE TARGETS //  (",i.length,")"]}),i.map(u)]}),a.length>0&&K.jsxs(K.Fragment,{children:[K.jsxs("div",{className:"text-xs font-bold text-gray-500 mb-2 mt-4 flex items-center gap-2 border-b border-gray-800 pb-1",children:[K.jsx(WSe,{size:12}),"COMPLETED AUDITS //  (",a.length,")"]}),a.map(u)]}),n.length===0&&K.jsx("div",{className:"text-center text-gray-600 text-xs py-8",children:"No targets found. Create a new target to begin."})]}),K.jsx("div",{className:"bg-black/60 backdrop-blur-md border border-gray-800 p-2 pointer-events-auto",children:K.jsxs("div",{className:"flex items-center justify-between text-[10px] text-gray-500",children:[K.jsxs("span",{className:"flex items-center gap-1",children:[K.jsx(wG,{size:10})," SCANNING..."]}),K.jsx("span",{children:"MANTLE_NET: CONNECTED"})]})})]})},yD={BASE_URL:"https://ai-production-f4f1.up.railway.app",ENDPOINTS:{HEALTH:"/api/health",ANALYZE:"/api/analyze"}};class vAe{constructor(){this.baseUrl=yD.BASE_URL}async checkHealth(){try{return{success:!0,data:await(await fetch(`${this.baseUrl}${yD.ENDPOINTS.HEALTH}`)).json()}}catch(e){return console.error(":",e),{success:!1,error:e.message}}}async analyzeEvent(e){try{const{question:t,companies:r=[],persons:i=[]}=e;if(!t)throw new Error("");const a={detailed_info:t,companies:r.map(u=>({name:u})),persons:i.map(u=>({name:u}))};console.log("  API :",a);const s=await fetch(`${this.baseUrl}${yD.ENDPOINTS.ANALYZE}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok){const u=await s.json();throw new Error(u.error||`API : ${s.status}`)}const o=await s.json();return console.log(" API :",o),{success:!0,data:o}}catch(t){return console.error(":",t),{success:!1,error:t.message}}}calculateInitialPools(e,t=1e5){const r=e/100,i=Math.round(r*t);return{yesPool:t-i,noPool:i}}}const MG=new vAe,yAe=({onAddMarket:n,onClose:e,onStartCreating:t,userAddress:r})=>{const[i,a]=z.useState({title:"",titleCN:"",description:"",rwaType:"Energy",totalLiquidity:.001,yesPool:5e3,noPool:5e3,depositAmount:.001,yieldEnabled:!0,imageUrl:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=600&h=400",endTime:new Date(Date.now()+6048e5).toISOString().slice(0,16)}),[s,o]=z.useState([]),[u,c]=z.useState([]),[h,p]=z.useState(""),[v,y]=z.useState(""),[x,S]=z.useState(!1),[w,A]=z.useState(null),[T,C]=z.useState(null),[O,R]=z.useState(""),[D,I]=z.useState(!1),[F,L]=z.useState(""),k=()=>{h.trim()&&!s.includes(h.trim())&&(o([...s,h.trim()]),p(""))},V=X=>{o(s.filter((se,J)=>J!==X))},j=()=>{v.trim()&&!u.includes(v.trim())&&(c([...u,v.trim()]),y(""))},Y=X=>{c(u.filter((se,J)=>J!==X))},re=async X=>{var J;const se=(J=X.target.files)==null?void 0:J[0];if(se){if(!se.name.endsWith(".md")){alert(" .md ");return}try{const ae=await se.text();C(se),R(ae),I(!0),alert('MD""AI')}catch(ae){alert(": "+ae.message)}}},Q=()=>{C(null),R(""),I(!1),L(""),A(null),o([]),c([]),a({title:"",titleCN:"",description:"",rwaType:"Energy",totalLiquidity:.001,yesPool:5e3,noPool:5e3,depositAmount:.001,yieldEnabled:!0,imageUrl:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=600&h=400",endTime:new Date(Date.now()+10080*60*1e3).toISOString().slice(0,16)})},W=async X=>{var se;if(X.preventDefault(),!r){alert("");return}t();try{let J={yesPool:i.yesPool,noPool:i.noPool},ae={...i};if(D&&O&&!w){const he=await fetch("https://ai-production-f4f1.up.railway.app/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({md_content:O})});if(!he.ok){const ue=await he.json().catch(()=>({}));throw console.error("AI API Error:",ue),new Error(`AI: ${ue.error||he.statusText}`)}const ve=await he.json();A(ve),ve.adjusted_probability&&(J=MG.calculateInitialPools(ve.adjusted_probability,i.totalLiquidity)),ae={...i,title:ve.event_title||i.title,description:((se=ve.input)==null?void 0:se.detailed_info)||i.description}}else w&&w.adjusted_probability&&(J=MG.calculateInitialPools(w.adjusted_probability,i.totalLiquidity));const B=i.depositAmount||.001,Z=B>0,le={...ae,yesPool:J.yesPool,noPool:J.noPool,resolved:!1,outcome:null,activeSyndicates:[],hasZeroDayOffer:!1,depositAmount:B,yieldEnabled:Z,accumulatedYield:0,createdAt:Math.floor(Date.now()/1e3),duration:10080*60};await n(le),e()}catch(J){alert(": "+J.message),e()}};return K.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:K.jsxs("div",{className:"relative w-full max-w-2xl bg-gray-900 border-2 border-red-500/50 shadow-[0_0_30px_rgba(255,0,0,0.3)] p-6 max-h-[90vh] overflow-y-auto",children:[K.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-gray-700 pb-4",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx(EG,{className:"text-red-500",size:24}),K.jsx("h2",{className:"text-2xl font-mono font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-500",children:"CREATE NEW TARGET"})]}),K.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:K.jsx(cY,{size:24})})]}),!D&&K.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-900/20 to-blue-900/20 border border-purple-500/30 rounded",children:[K.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[K.jsx(lAe,{className:"text-purple-400",size:20}),K.jsx("h3",{className:"text-sm font-mono font-bold text-purple-400",children:"UPLOAD MD FILE (OPTIONAL)"})]}),K.jsx("p",{className:"text-xs text-gray-400 font-mono mb-3",children:"Upload a Markdown file for automatic AI analysis. The system will extract companies, persons, and event details."}),K.jsxs("label",{className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-purple-600/30 hover:bg-purple-600/50 border border-purple-500 text-purple-300 font-mono cursor-pointer transition-colors",children:[K.jsx(SG,{size:18}),K.jsx("span",{children:"SELECT .MD FILE"}),K.jsx("input",{type:"file",accept:".md",onChange:re,className:"hidden",disabled:x})]})]}),D&&T&&K.jsx("div",{className:"mb-6 p-4 bg-green-900/20 border border-green-500/30 rounded",children:K.jsxs("div",{className:"flex items-center justify-between",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx(SG,{className:"text-green-400",size:20}),K.jsxs("div",{children:[K.jsx("div",{className:"text-sm font-mono font-bold text-green-400",children:"MD FILE UPLOADED"}),K.jsx("div",{className:"text-xs text-gray-400 font-mono",children:T.name}),K.jsx("div",{className:"text-xs text-yellow-400 font-mono mt-1",children:" AI will analyze when you click CONFIRM CREATE"})]})]}),K.jsx("button",{type:"button",onClick:Q,className:"px-3 py-1 bg-red-600/50 hover:bg-red-600 border border-red-500 text-white font-mono text-xs transition-colors",children:"CLEAR"})]})}),K.jsxs("form",{onSubmit:W,className:"space-y-4",children:[K.jsxs("div",{children:[K.jsxs("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:["TARGET NAME (EN) * ",D&&K.jsx("span",{className:"text-green-400",children:"(Editable)"})]}),K.jsx("input",{type:"text",value:i.title,onChange:X=>a({...i,title:X.target.value}),placeholder:"Target: Lithium Reserve #L-992",className:"w-full bg-black/50 border border-gray-700 px-4 py-2 text-white font-mono focus:border-red-500 focus:outline-none",required:!0})]}),K.jsxs("div",{children:[K.jsxs("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:["TARGET NAME (CN) ",D&&K.jsx("span",{className:"text-green-400",children:"(Editable)"})]}),K.jsx("input",{type:"text",value:i.titleCN,onChange:X=>a({...i,titleCN:X.target.value}),placeholder:" #L-992 ",className:"w-full bg-black/50 border border-gray-700 px-4 py-2 text-white font-mono focus:border-red-500 focus:outline-none",disabled:D})]}),K.jsxs("div",{children:[K.jsxs("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:["DETAIL BRIEF * ",D&&K.jsx("span",{className:"text-yellow-400",children:"(Auto-filled from MD)"})]}),K.jsx("textarea",{value:i.description,onChange:X=>a({...i,description:X.target.value}),placeholder:"Audit the satellite spectral analysis...",rows:4,className:"w-full bg-black/50 border border-gray-700 px-4 py-2 text-white font-mono focus:border-red-500 focus:outline-none resize-none",required:!0,disabled:D})]}),K.jsxs("div",{children:[K.jsxs("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:["ASSET CATEGORY ",D&&K.jsx("span",{className:"text-yellow-400",children:"(Locked)"})]}),K.jsx("input",{type:"text",value:i.rwaType,onChange:X=>a({...i,rwaType:X.target.value}),placeholder:"e.g., Energy, Infrastructure, Supply Chain...",className:"w-full bg-black/50 border border-gray-700 px-4 py-2 text-white font-mono focus:border-red-500 focus:outline-none",disabled:D})]}),K.jsxs("div",{children:[K.jsxs("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:["RELATED COMPANIES ",D&&K.jsx("span",{className:"text-yellow-400",children:"(Auto-extracted from MD)"})]}),!D&&K.jsxs("div",{className:"flex gap-2 mb-2",children:[K.jsx("input",{type:"text",value:h,onChange:X=>p(X.target.value),onKeyPress:X=>X.key==="Enter"&&(X.preventDefault(),k()),placeholder:"Enter company name...",className:"flex-1 bg-black/50 border border-gray-700 px-4 py-2 text-white font-mono text-sm focus:border-cyan-500 focus:outline-none"}),K.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-cyan-600/50 hover:bg-cyan-600 border border-cyan-500 text-white font-mono text-sm transition-colors",children:"ADD"})]}),s.length>0&&K.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((X,se)=>K.jsxs("div",{className:"flex items-center gap-2 bg-cyan-900/30 border border-cyan-500/50 px-3 py-1 text-cyan-400 font-mono text-sm",children:[K.jsx("span",{children:X}),!D&&K.jsx("button",{type:"button",onClick:()=>V(se),className:"text-cyan-400 hover:text-white",children:""})]},se))})]}),K.jsxs("div",{children:[K.jsxs("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:["RELATED PERSONS ",D&&K.jsx("span",{className:"text-yellow-400",children:"(Auto-extracted from MD)"})]}),!D&&K.jsxs("div",{className:"flex gap-2 mb-2",children:[K.jsx("input",{type:"text",value:v,onChange:X=>y(X.target.value),onKeyPress:X=>X.key==="Enter"&&(X.preventDefault(),j()),placeholder:"Enter person name...",className:"flex-1 bg-black/50 border border-gray-700 px-4 py-2 text-white font-mono text-sm focus:border-purple-500 focus:outline-none"}),K.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-purple-600/50 hover:bg-purple-600 border border-purple-500 text-white font-mono text-sm transition-colors",children:"ADD"})]}),u.length>0&&K.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((X,se)=>K.jsxs("div",{className:"flex items-center gap-2 bg-purple-900/30 border border-purple-500/50 px-3 py-1 text-purple-400 font-mono text-sm",children:[K.jsx("span",{children:X}),!D&&K.jsx("button",{type:"button",onClick:()=>Y(se),className:"text-purple-400 hover:text-white",children:""})]},se))})]}),w&&K.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 p-4 space-y-3",children:[K.jsxs("div",{className:"flex items-center gap-2 text-blue-400 font-mono text-sm font-bold",children:[K.jsx(AG,{size:16}),"AI ANALYSIS COMPLETE"]}),K.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[K.jsxs("div",{children:[K.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"PROBABILITY"}),K.jsxs("div",{className:"text-lg font-bold text-blue-400",children:[w.adjusted_probability,"%"]})]}),K.jsxs("div",{children:[K.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"CONFIDENCE"}),K.jsxs("div",{className:"text-lg font-bold text-blue-400",children:[w.confidence,"%"]})]}),K.jsxs("div",{children:[K.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"YES ODDS"}),K.jsx("div",{className:"text-lg font-bold text-green-400",children:w.success_odds.toFixed(2)})]})]}),K.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"Pools auto-calculated based on AI probability"})]}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-xs font-mono text-blue-400 mb-2",children:"MARKET END TIME"}),K.jsx("input",{type:"datetime-local",value:i.endTime,onChange:X=>a({...i,endTime:X.target.value}),min:new Date().toISOString().slice(0,16),className:"w-full bg-black/50 border border-blue-700 px-4 py-2 text-white font-mono focus:border-blue-500 focus:outline-none"}),K.jsx("small",{className:"text-xs text-gray-500 font-mono mt-1 block",children:"Market will close for trading at this time"})]}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-xs font-mono text-blue-400 mb-2",children:"CREATOR DEPOSIT (ETH - YOU PROVIDE)"}),K.jsx("input",{type:"number",value:i.depositAmount,onChange:X=>a({...i,depositAmount:Number(X.target.value)}),min:"0.001",step:"0.001",className:"w-full bg-black/50 border border-blue-700 px-4 py-2 text-white font-mono focus:border-blue-500 focus:outline-none"}),K.jsxs("small",{className:"text-xs text-yellow-500 font-mono mt-1 block",children:[" You will send ",i.depositAmount.toFixed(4)," ETH as creator deposit (Ethereum Sepolia)"]}),K.jsx("small",{className:"text-xs text-cyan-400 font-mono mt-1 block",children:" System will auto-switch to Ethereum Sepolia network for deposit payment"}),i.depositAmount>0?K.jsxs("small",{className:"text-xs text-green-400 font-mono mt-1 block",children:[" Yield Enabled: 5% APR (~",(i.depositAmount*.05).toFixed(6)," ETH/year)"]}):K.jsx("small",{className:"text-xs text-gray-500 font-mono mt-1 block",children:" Set deposit amount to enable yield generation (5% APR)"}),K.jsx("small",{className:"text-xs text-gray-500 font-mono mt-1 block",children:" Deposit will be stored in DepositManager contract and can be withdrawn after market resolves"})]}),K.jsxs("div",{className:"flex items-start gap-3 bg-blue-900/20 border border-blue-500/30 p-4",children:[K.jsx(AG,{className:"text-blue-400 flex-shrink-0 mt-1",size:20}),K.jsxs("div",{className:"text-xs font-mono text-gray-300",children:[K.jsx("p",{className:"text-blue-400 font-bold mb-1",children:"AI-POWERED DEPLOYMENT"}),K.jsx("p",{children:'Click "AI ANALYZE & DEPLOY" to analyze your target using advanced AI risk assessment. The system will automatically calculate optimal initial pools and deploy the market.'})]})]}),K.jsxs("div",{className:"flex items-start gap-3 bg-red-900/20 border border-red-500/30 p-4",children:[K.jsx(uY,{className:"text-red-500 flex-shrink-0 mt-1",size:20}),K.jsxs("div",{className:"text-xs font-mono text-gray-300",children:[K.jsx("p",{className:"text-red-400 font-bold mb-1",children:"SECURITY NOTICE"}),K.jsx("p",{children:"New targets will be immediately visible to all AI Gladiators and Human Hunters. Ensure intel accuracy before deployment."})]})]}),K.jsxs("div",{className:"flex gap-4 pt-4",children:[K.jsx("button",{type:"submit",disabled:x||(D?!T:!i.description||!i.title),className:"flex-1 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 disabled:from-gray-700 disabled:to-gray-600 text-white font-mono font-bold py-3 px-6 transition-all shadow-[0_0_20px_rgba(239,68,68,0.3)] hover:shadow-[0_0_30px_rgba(239,68,68,0.5)] disabled:shadow-none",children:K.jsx("span",{className:"flex items-center justify-center gap-2",children:x?K.jsxs(K.Fragment,{children:[K.jsx(FSe,{size:20,className:"animate-spin"}),"CREATING..."]}):K.jsxs(K.Fragment,{children:[K.jsx(EG,{size:20}),"CONFIRM CREATE"]})})}),K.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 text-gray-300 font-mono border border-gray-600 transition-colors",children:"ABORT"})]})]})]})})},bAe=[{name:"Citadel_Core (AI)",type:"Citadel",color:"#10b981"},{name:"Spectre_Ops ()",type:"Hunter",color:"#ef4444"},{name:"Whale_Vanguard ()",type:"Whale",color:"#8b5cf6"}];class xAe{constructor(e){this.profile=e}decide(e){const t=e.yesPool+e.noPool,r=t>0?e.yesPool/t:.5,i=(Math.sin(e.id*999)+1)/2;let a=0,s=Wo.YES;switch(this.profile.type){case"Citadel":Math.abs(i-r)>.3&&(a=.2,s=i>.5?Wo.YES:Wo.NO);break;case"Whale":a=Math.abs(i-.5)*2,s=i>.5?Wo.YES:Wo.NO;break;case"Hunter":s=Math.random()>.5?Wo.YES:Wo.NO,a=Math.random();break}if(a>.1){const u=Math.floor(1e3*a*(this.profile.type==="Whale"?5:1));return{action:"BUY",direction:s,amount:u}}return{action:"HOLD",direction:Wo.YES,amount:0}}}const _Ae="6.16.0";function wAe(n,e,t){const r=e.split("|").map(a=>a.trim());for(let a=0;a<r.length;a++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${t}`,i.value=n,i}async function eo(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,i,a)=>(r[e[a]]=i,r),{})}function an(n,e,t){for(let r in e){let i=e[r];const a=t?t[r]:null;a&&wAe(i,a,r),Object.defineProperty(n,r,{enumerable:!0,value:i,writable:!1})}}function Ay(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>Ay(t,e)).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let i=0;i<n.length;i++)r+=t[n[i]>>4],r+=t[n[i]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return Ay(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(r=>`${Ay(r,e)}: ${Ay(n[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function as(n,e){return n&&n.code===e}function vk(n){return as(n,"CALL_EXCEPTION")}function ri(n,e,t){let r=n;{const a=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Ay(t)}`);for(const s in t){if(s==="shortMessage")continue;const o=t[s];a.push(s+"="+Ay(o))}}a.push(`code=${e}`),a.push(`version=${_Ae}`),a.length&&(n+=" ("+a.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(n);break;default:i=new Error(n)}return an(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&an(i,{shortMessage:r}),i}function mt(n,e,t,r){if(!n)throw ri(e,t,r)}function Ae(n,e,t,r){mt(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function fY(n,e,t){t==null&&(t=""),t&&(t=": "+t),mt(n>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),mt(n<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function vS(n,e,t){if(t==null&&(t=""),n!==e){let r=t,i="new";t&&(r+=".",i+=" "+t),mt(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function hY(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const r=new Uint8Array((n.length-2)/2);let i=2;for(let a=0;a<r.length;a++)r[a]=parseInt(n.substring(i,i+2),16),i+=2;return r}Ae(!1,"invalid BytesLike value",e||"value",n)}function Dn(n,e){return hY(n,e,!1)}function io(n,e){return hY(n,e,!0)}function Gr(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function yk(n){return Gr(n,!0)||n instanceof Uint8Array}const TG="0123456789abcdef";function Lt(n){const e=Dn(n);let t="0x";for(let r=0;r<e.length;r++){const i=e[r];t+=TG[(i&240)>>4]+TG[i&15]}return t}function oi(n){return"0x"+n.map(e=>Lt(e).substring(2)).join("")}function Iy(n){return Gr(n,!0)?(n.length-2)/2:Dn(n).length}function Oi(n,e,t){const r=Dn(n);return t!=null&&t>r.length&&mt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),Lt(r.slice(e??0,t??r.length))}function dY(n,e,t){const r=Dn(n);mt(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),t?i.set(r,e-r.length):i.set(r,0),Lt(i)}function hd(n,e){return dY(n,e,!0)}function SAe(n,e){return dY(n,e,!1)}const yS=BigInt(0),fc=BigInt(1),Ey=9007199254740991;function zC(n,e){const t=IP(n,"value"),r=BigInt(En(e,"width"));if(mt(t>>r===yS,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-fc){const i=(fc<<r)-fc;return-((~t&i)+fc)}return t}function pY(n,e){let t=Vt(n,"value");const r=BigInt(En(e,"width")),i=fc<<r-fc;if(t<yS){t=-t,mt(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const a=(fc<<r)-fc;return(~t&a)+fc}else mt(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function Ig(n,e){const t=IP(n,"value"),r=BigInt(En(e,"bits"));return t&(fc<<r)-fc}function Vt(n,e){switch(typeof n){case"bigint":return n;case"number":return Ae(Number.isInteger(n),"underflow",e||"value",n),Ae(n>=-Ey&&n<=Ey,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){Ae(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}Ae(!1,"invalid BigNumberish value",e||"value",n)}function IP(n,e){const t=Vt(n,e);return mt(t>=yS,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const CG="0123456789abcdef";function LP(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=CG[t>>4],e+=CG[t&15];return BigInt(e)}return Vt(n)}function En(n,e){switch(typeof n){case"bigint":return Ae(n>=-Ey&&n<=Ey,"overflow",e||"value",n),Number(n);case"number":return Ae(Number.isInteger(n),"underflow",e||"value",n),Ae(n>=-Ey&&n<=Ey,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return En(BigInt(n),e)}catch(t){Ae(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}Ae(!1,"invalid numeric value",e||"value",n)}function AAe(n){return En(LP(n))}function im(n,e){const t=IP(n,"value");let r=t.toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=En(e,"width");if(i===0&&t===yS)return"0x";for(mt(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<i*2;)r="0"+r}return"0x"+r}function na(n,e){const t=IP(n,"value");if(t===yS)return new Uint8Array(0);let r=t.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let a=0;a<i.length;a++){const s=a*2;i[a]=parseInt(r.substring(s,s+2),16)}return i}function oc(n){let e=Lt(yk(n)?n:na(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const PG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const OG=BigInt(58);function EAe(n){const e=Dn(n);let t=LP(e),r="";for(;t;)r=PG[Number(t%OG)]+r,t/=OG;for(let i=0;i<e.length&&!e[i];i++)r=PG[0]+r;return r}function MAe(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return Dn(e)}function TAe(n){const e=Dn(n);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var By;class mY{constructor(e,t,r){ke(this,"filter");ke(this,"emitter");$e(this,By);pe(this,By,t),an(this,{emitter:e,filter:r})}async removeListener(){q(this,By)!=null&&await this.emitter.off(this.filter,q(this,By))}}By=new WeakMap;function CAe(n,e,t,r,i){Ae(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function gY(n,e,t,r,i){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let a=0;for(let s=e+1;s<t.length&&t[s]>>6===2;s++)a++;return a}return n==="OVERRUN"?t.length-e-1:0}function PAe(n,e,t,r,i){return n==="OVERLONG"?(Ae(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),gY(n,e,t))}const OAe=Object.freeze({error:CAe,ignore:gY,replace:PAe});function RAe(n,e){e==null&&(e=OAe.error);const t=Dn(n,"bytes"),r=[];let i=0;for(;i<t.length;){const a=t[i++];if(a>>7===0){r.push(a);continue}let s=null,o=null;if((a&224)===192)s=1,o=127;else if((a&240)===224)s=2,o=2047;else if((a&248)===240)s=3,o=65535;else{(a&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,t,r):i+=e("BAD_PREFIX",i-1,t,r);continue}if(i-1+s>=t.length){i+=e("OVERRUN",i-1,t,r);continue}let u=a&(1<<8-s-1)-1;for(let c=0;c<s;c++){let h=t[i];if((h&192)!=128){i+=e("MISSING_CONTINUE",i,t,r),u=null;break}u=u<<6|h&63,i++}if(u!==null){if(u>1114111){i+=e("OUT_OF_RANGE",i-1-s,t,r,u);continue}if(u>=55296&&u<=57343){i+=e("UTF16_SURROGATE",i-1-s,t,r,u);continue}if(u<=o){i+=e("OVERLONG",i-1-s,t,r,u);continue}r.push(u)}}return r}function Of(n,e){Ae(typeof n=="string","invalid string value","str",n);let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const a=n.charCodeAt(r);Ae(r<n.length&&(a&64512)===56320,"invalid surrogate pair","str",n);const s=65536+((i&1023)<<10)+(a&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function NAe(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function GC(n,e){return NAe(RAe(n,e))}function vY(n){async function e(t,r){mt(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=t.url.split(":")[0].toLowerCase();mt(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),mt(i==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=null;const s=new AbortController,o=setTimeout(()=>{a=ri("request timeout","TIMEOUT"),s.abort()},t.timeout);r&&r.addListener(()=>{a=ri("request cancelled","CANCELLED"),s.abort()});const u=Object.assign({},n,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal});let c;try{c=await fetch(t.url,u)}catch(y){throw clearTimeout(o),a||y}clearTimeout(o);const h={};c.headers.forEach((y,x)=>{h[x.toLowerCase()]=y});const p=await c.arrayBuffer(),v=p==null?null:new Uint8Array(p);return{statusCode:c.status,statusMessage:c.statusText,headers:h,body:v}}return e}const DAe=12,IAe=250;let RG=vY();const LAe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),UAe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let bD=!1;async function yY(n,e){try{const t=n.match(LAe);if(!t)throw new Error("invalid data");return new Kp(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?MAe(t[3]):BAe(t[3]))}catch{return new Kp(599,"BAD REQUEST (invalid data: URI)",{},null,new dd(n))}}function bY(n){async function e(t,r){try{const i=t.match(UAe);if(!i)throw new Error("invalid link");return new dd(`${n}${i[2]}`)}catch{return new Kp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new dd(t))}}return e}const gM={data:yY,ipfs:bY("https://gateway.ipfs.io/ipfs/")},xY=new WeakMap;var Bg,Mp;class kAe{constructor(e){$e(this,Bg);$e(this,Mp);pe(this,Bg,[]),pe(this,Mp,!1),xY.set(e,()=>{if(!q(this,Mp)){pe(this,Mp,!0);for(const t of q(this,Bg))setTimeout(()=>{t()},0);pe(this,Bg,[])}})}addListener(e){mt(!q(this,Mp),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),q(this,Bg).push(e)}get cancelled(){return q(this,Mp)}checkSignal(){mt(!this.cancelled,"cancelled","CANCELLED",{})}}Bg=new WeakMap,Mp=new WeakMap;function vM(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var Fy,zy,ec,Rh,Gy,Hy,Na,gl,Nh,Fg,zg,Gg,ff,tc,Tp,Hg,h_;const e3=class e3{constructor(e){$e(this,Hg);$e(this,Fy);$e(this,zy);$e(this,ec);$e(this,Rh);$e(this,Gy);$e(this,Hy);$e(this,Na);$e(this,gl);$e(this,Nh);$e(this,Fg);$e(this,zg);$e(this,Gg);$e(this,ff);$e(this,tc);$e(this,Tp);pe(this,Hy,String(e)),pe(this,Fy,!1),pe(this,zy,!0),pe(this,ec,{}),pe(this,Rh,""),pe(this,Gy,3e5),pe(this,tc,{slotInterval:IAe,maxAttempts:DAe}),pe(this,Tp,null)}get url(){return q(this,Hy)}set url(e){pe(this,Hy,String(e))}get body(){return q(this,Na)==null?null:new Uint8Array(q(this,Na))}set body(e){if(e==null)pe(this,Na,void 0),pe(this,gl,void 0);else if(typeof e=="string")pe(this,Na,Of(e)),pe(this,gl,"text/plain");else if(e instanceof Uint8Array)pe(this,Na,e),pe(this,gl,"application/octet-stream");else if(typeof e=="object")pe(this,Na,Of(JSON.stringify(e))),pe(this,gl,"application/json");else throw new Error("invalid body")}hasBody(){return q(this,Na)!=null}get method(){return q(this,Rh)?q(this,Rh):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),pe(this,Rh,String(e).toUpperCase())}get headers(){const e=Object.assign({},q(this,ec));return q(this,Nh)&&(e.authorization=`Basic ${TAe(Of(q(this,Nh)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&q(this,gl)&&(e["content-type"]=q(this,gl)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){q(this,ec)[String(e).toLowerCase()]=String(t)}clearHeaders(){pe(this,ec,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return q(this,Nh)||null}setCredentials(e,t){Ae(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),pe(this,Nh,`${e}:${t}`)}get allowGzip(){return q(this,zy)}set allowGzip(e){pe(this,zy,!!e)}get allowInsecureAuthentication(){return!!q(this,Fy)}set allowInsecureAuthentication(e){pe(this,Fy,!!e)}get timeout(){return q(this,Gy)}set timeout(e){Ae(e>=0,"timeout must be non-zero","timeout",e),pe(this,Gy,e)}get preflightFunc(){return q(this,Fg)||null}set preflightFunc(e){pe(this,Fg,e)}get processFunc(){return q(this,zg)||null}set processFunc(e){pe(this,zg,e)}get retryFunc(){return q(this,Gg)||null}set retryFunc(e){pe(this,Gg,e)}get getUrlFunc(){return q(this,Tp)||RG}set getUrlFunc(e){pe(this,Tp,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${q(this,Na)?Lt(q(this,Na)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(q(this,tc).slotInterval=e.slotInterval),e.maxAttempts!=null&&(q(this,tc).maxAttempts=e.maxAttempts)}send(){return mt(q(this,ff)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),pe(this,ff,new kAe(this)),_t(this,Hg,h_).call(this,0,NG()+this.timeout,0,this,new Kp(0,"",{},null,this))}cancel(){mt(q(this,ff)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=xY.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();mt(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new e3(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,pe(i,ec,Object.assign({},q(this,ec))),q(this,Na)&&pe(i,Na,new Uint8Array(q(this,Na))),pe(i,gl,q(this,gl)),i}clone(){const e=new e3(this.url);return pe(e,Rh,q(this,Rh)),q(this,Na)&&pe(e,Na,q(this,Na)),pe(e,gl,q(this,gl)),pe(e,ec,Object.assign({},q(this,ec))),pe(e,Nh,q(this,Nh)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),pe(e,Fg,q(this,Fg)),pe(e,zg,q(this,zg)),pe(e,Gg,q(this,Gg)),pe(e,tc,Object.assign({},q(this,tc))),pe(e,Tp,q(this,Tp)),e}static lockConfig(){bD=!0}static getGateway(e){return gM[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(bD)throw new Error("gateways locked");gM[e]=t}static registerGetUrl(e){if(bD)throw new Error("gateways locked");RG=e}static createGetUrlFunc(e){return vY(e)}static createDataGateway(){return yY}static createIpfsGatewayFunc(e){return bY(e)}};Fy=new WeakMap,zy=new WeakMap,ec=new WeakMap,Rh=new WeakMap,Gy=new WeakMap,Hy=new WeakMap,Na=new WeakMap,gl=new WeakMap,Nh=new WeakMap,Fg=new WeakMap,zg=new WeakMap,Gg=new WeakMap,ff=new WeakMap,tc=new WeakMap,Tp=new WeakMap,Hg=new WeakSet,h_=async function(e,t,r,i,a){var h,p,v;if(e>=q(this,tc).maxAttempts)return a.makeServerError("exceeded maximum retry limit");mt(NG()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await FAe(r);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in gM){const y=await gM[o](s.url,vM(q(i,ff)));if(y instanceof Kp){let x=y;if(this.processFunc){vM(q(i,ff));try{x=await this.processFunc(s,x)}catch(S){(S.throttle==null||typeof S.stall!="number")&&x.makeServerError("error in post-processing function",S).assertOk()}}return x}s=y}this.preflightFunc&&(s=await this.preflightFunc(s));const u=await this.getUrlFunc(s,vM(q(i,ff)));let c=new Kp(u.statusCode,u.statusMessage,u.headers,u.body,i);if(c.statusCode===301||c.statusCode===302){try{const y=c.headers.location||"";return _t(h=s.redirect(y),Hg,h_).call(h,e+1,t,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,c,e))){const y=c.headers["retry-after"];let x=q(this,tc).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof y=="string"&&y.match(/^[1-9][0-9]*$/)&&(x=parseInt(y)),_t(p=s.clone(),Hg,h_).call(p,e+1,t,x,i,c)}if(this.processFunc){vM(q(i,ff));try{c=await this.processFunc(s,c)}catch(y){(y.throttle==null||typeof y.stall!="number")&&c.makeServerError("error in post-processing function",y).assertOk();let x=q(this,tc).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return y.stall>=0&&(x=y.stall),_t(v=s.clone(),Hg,h_).call(v,e+1,t,x,i,c)}}return c};let dd=e3;var Tw,Cw,Pw,vl,Vy,Vg;const Uk=class Uk{constructor(e,t,r,i,a){$e(this,Tw);$e(this,Cw);$e(this,Pw);$e(this,vl);$e(this,Vy);$e(this,Vg);pe(this,Tw,e),pe(this,Cw,t),pe(this,Pw,Object.keys(r).reduce((s,o)=>(s[o.toLowerCase()]=String(r[o]),s),{})),pe(this,vl,i==null?null:new Uint8Array(i)),pe(this,Vy,a||null),pe(this,Vg,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${q(this,vl)?Lt(q(this,vl)):"null"}>`}get statusCode(){return q(this,Tw)}get statusMessage(){return q(this,Cw)}get headers(){return Object.assign({},q(this,Pw))}get body(){return q(this,vl)==null?null:new Uint8Array(q(this,vl))}get bodyText(){try{return q(this,vl)==null?"":GC(q(this,vl))}catch{mt(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{mt(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Uk(599,r,this.headers,this.body,q(this,Vy)||void 0);return pe(i,Vg,{message:e,error:t}),i}throwThrottleError(e,t){t==null?t=-1:Ae(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw an(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return q(this,vl)!=null}get request(){return q(this,Vy)}ok(){return q(this,Vg).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=q(this,Vg);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{q(this,vl)&&(i=GC(q(this,vl)))}catch{}mt(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Tw=new WeakMap,Cw=new WeakMap,Pw=new WeakMap,vl=new WeakMap,Vy=new WeakMap,Vg=new WeakMap;let Kp=Uk;function NG(){return new Date().getTime()}function BAe(n){return Of(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function FAe(n){return new Promise(e=>setTimeout(e,n))}const zAe=BigInt(-1),Qu=BigInt(0),My=BigInt(1),GAe=BigInt(5),dy={};let Ly="0000";for(;Ly.length<80;)Ly+=Ly;function cg(n){let e=Ly;for(;e.length<n;)e+=e;return BigInt("1"+e.substring(0,n))}function r_(n,e,t){const r=BigInt(e.width);if(e.signed){const i=My<<r-My;mt(t==null||n>=-i&&n<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n>Qu?n=zC(Ig(n,r),r):n=-zC(Ig(-n,r),r)}else{const i=My<<r;mt(t==null||n>=0&&n<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n=(n%i+i)%i&i-My}return n}function xD(n){typeof n=="number"&&(n=`fixed128x${n}`);let e=!0,t=128,r=18;if(typeof n=="string"){if(n!=="fixed")if(n==="ufixed")e=!1;else{const a=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Ae(a,"invalid fixed format","format",n),e=a[1]!=="u",t=parseInt(a[2]),r=parseInt(a[3])}}else if(n){const a=n,s=(o,u,c)=>a[o]==null?c:(Ae(typeof a[o]===u,"invalid fixed format ("+o+" not "+u+")","format."+o,a[o]),a[o]);e=s("signed","boolean",e),t=s("width","number",t),r=s("decimals","number",r)}Ae(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),Ae(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(t)+"x"+String(r);return{signed:e,width:t,decimals:r,name:i}}function HAe(n,e){let t="";n<Qu&&(t="-",n*=zAe);let r=n.toString();if(e===0)return t+r;for(;r.length<=e;)r=Ly+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return t+r}var nc,Tr,Qs,yr,bg,Eh,aL,sL,oL,lL;const wp=class wp{constructor(e,t,r){$e(this,yr);ke(this,"format");$e(this,nc);$e(this,Tr);$e(this,Qs);ke(this,"_value");vS(e,dy,"FixedNumber"),pe(this,Tr,t),pe(this,nc,r);const i=HAe(t,r.decimals);an(this,{format:r.name,_value:i}),pe(this,Qs,cg(r.decimals))}get signed(){return q(this,nc).signed}get width(){return q(this,nc).width}get decimals(){return q(this,nc).decimals}get value(){return q(this,Tr)}addUnsafe(e){return _t(this,yr,aL).call(this,e)}add(e){return _t(this,yr,aL).call(this,e,"add")}subUnsafe(e){return _t(this,yr,sL).call(this,e)}sub(e){return _t(this,yr,sL).call(this,e,"sub")}mulUnsafe(e){return _t(this,yr,oL).call(this,e)}mul(e){return _t(this,yr,oL).call(this,e,"mul")}mulSignal(e){_t(this,yr,bg).call(this,e);const t=q(this,Tr)*q(e,Tr);return mt(t%q(this,Qs)===Qu,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),_t(this,yr,Eh).call(this,t/q(this,Qs),"mulSignal")}divUnsafe(e){return _t(this,yr,lL).call(this,e)}div(e){return _t(this,yr,lL).call(this,e,"div")}divSignal(e){mt(q(e,Tr)!==Qu,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),_t(this,yr,bg).call(this,e);const t=q(this,Tr)*q(this,Qs);return mt(t%q(e,Tr)===Qu,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),_t(this,yr,Eh).call(this,t/q(e,Tr),"divSignal")}cmp(e){let t=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=cg(i):i<0&&(t*=cg(-i)),t<r?-1:t>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=q(this,Tr);return q(this,Tr)<Qu&&(e-=q(this,Qs)-My),e=q(this,Tr)/q(this,Qs)*q(this,Qs),_t(this,yr,Eh).call(this,e,"floor")}ceiling(){let e=q(this,Tr);return q(this,Tr)>Qu&&(e+=q(this,Qs)-My),e=q(this,Tr)/q(this,Qs)*q(this,Qs),_t(this,yr,Eh).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=GAe*cg(t-1);let i=this.value+r;const a=cg(t);return i=i/a*a,r_(i,q(this,nc),"round"),new wp(dy,i,q(this,nc))}isZero(){return q(this,Tr)===Qu}isNegative(){return q(this,Tr)<Qu}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return wp.fromString(this.toString(),e)}static fromValue(e,t,r){const i=t==null?0:En(t),a=xD(r);let s=Vt(e,"value");const o=i-a.decimals;if(o>0){const u=cg(o);mt(s%u===Qu,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=u}else o<0&&(s*=cg(-o));return r_(s,a,"fromValue"),new wp(dy,s,a)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Ae(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=xD(t);let a=r[2]||"0",s=r[3]||"";for(;s.length<i.decimals;)s+=Ly;mt(s.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,i.decimals);const o=BigInt(r[1]+a+s);return r_(o,i,"fromString"),new wp(dy,o,i)}static fromBytes(e,t){let r=LP(Dn(e,"value"));const i=xD(t);return i.signed&&(r=zC(r,i.width)),r_(r,i,"fromBytes"),new wp(dy,r,i)}};nc=new WeakMap,Tr=new WeakMap,Qs=new WeakMap,yr=new WeakSet,bg=function(e){Ae(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Eh=function(e,t){return e=r_(e,q(this,nc),t),new wp(dy,e,q(this,nc))},aL=function(e,t){return _t(this,yr,bg).call(this,e),_t(this,yr,Eh).call(this,q(this,Tr)+q(e,Tr),t)},sL=function(e,t){return _t(this,yr,bg).call(this,e),_t(this,yr,Eh).call(this,q(this,Tr)-q(e,Tr),t)},oL=function(e,t){return _t(this,yr,bg).call(this,e),_t(this,yr,Eh).call(this,q(this,Tr)*q(e,Tr)/q(this,Qs),t)},lL=function(e,t){return mt(q(e,Tr)!==Qu,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),_t(this,yr,bg).call(this,e),_t(this,yr,Eh).call(this,q(this,Tr)*q(this,Qs)/q(e,Tr),t)};let HC=wp;function VAe(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function DG(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function IG(n,e,t,r){const i=[];for(;t<e+1+r;){const a=_Y(n,t);i.push(a.result),t+=a.consumed,mt(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:i}}function _Y(n,e){mt(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{mt(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const i=DG(n,e+1,r);return t(e+1+r+i),IG(n,e,e+1+r,r+i)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),IG(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const i=DG(n,e+1,r);t(e+1+r+i);const a=Lt(n.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:a}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const i=Lt(n.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:VAe(n[e])}}function bS(n){const e=Dn(n,"data"),t=_Y(e,0);return Ae(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function LG(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function wY(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(a){r=r.concat(wY(a))}),r.length<=55)return r.unshift(192+r.length),r;const i=LG(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Dn(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=LG(e.length);return t.unshift(183+t.length),t.concat(e)}const UG="0123456789abcdef";function Jh(n){let e="0x";for(const t of wY(n))e+=UG[t>>4],e+=UG[t&15];return e}function jAe(n,e){let t=18;return t=En(e,"unit"),HC.fromValue(n,t,{decimals:t,width:512}).toString()}function WAe(n,e){Ae(typeof n=="string","value must be a string","value",n);let t=18;return t=En(e,"unit"),HC.fromString(n,{decimals:t,width:512}).value}function to(n){return jAe(n,18)}function qAe(n){return WAe(n,18)}const lo=32,uL=new Uint8Array(lo),XAe=["then"],yM={},SY=new WeakMap;function wg(n){return SY.get(n)}function kG(n,e){SY.set(n,e)}function i_(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}function cL(n,e,t){return n.indexOf(null)>=0?e.map((r,i)=>r instanceof Vb?cL(wg(r),r,t):r):n.reduce((r,i,a)=>{let s=e.getValue(i);return i in r||(t&&s instanceof Vb&&(s=cL(wg(s),s,t)),r[i]=s),r},{})}var jy;const Ty=class Ty extends Array{constructor(...t){const r=t[0];let i=t[1],a=(t[2]||[]).slice(),s=!0;r!==yM&&(i=t,a=[],s=!1);super(i.length);$e(this,jy);i.forEach((c,h)=>{this[h]=c});const o=a.reduce((c,h)=>(typeof h=="string"&&c.set(h,(c.get(h)||0)+1),c),new Map);if(kG(this,Object.freeze(i.map((c,h)=>{const p=a[h];return p!=null&&o.get(p)===1?p:null}))),pe(this,jy,[]),q(this,jy)==null&&q(this,jy),!s)return;Object.freeze(this);const u=new Proxy(this,{get:(c,h,p)=>{if(typeof h=="string"){if(h.match(/^[0-9]+$/)){const y=En(h,"%index");if(y<0||y>=this.length)throw new RangeError("out of result range");const x=c[y];return x instanceof Error&&i_(`index ${y}`,x),x}if(XAe.indexOf(h)>=0)return Reflect.get(c,h,p);const v=c[h];if(v instanceof Function)return function(...y){return v.apply(this===p?c:this,y)};if(!(h in c))return c.getValue.apply(this===p?c:this,[h])}return Reflect.get(c,h,p)}});return kG(u,wg(this)),u}toArray(t){const r=[];return this.forEach((i,a)=>{i instanceof Error&&i_(`index ${a}`,i),t&&i instanceof Ty&&(i=i.toArray(t)),r.push(i)}),r}toObject(t){const r=wg(this);return r.reduce((i,a,s)=>(mt(a!=null,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),cL(r,this,t)),{})}slice(t,r){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=wg(this),a=[],s=[];for(let o=t;o<r;o++)a.push(this[o]),s.push(i[o]);return new Ty(yM,a,s)}filter(t,r){const i=wg(this),a=[],s=[];for(let o=0;o<this.length;o++){const u=this[o];u instanceof Error&&i_(`index ${o}`,u),t.call(r,u,o,this)&&(a.push(u),s.push(i[o]))}return new Ty(yM,a,s)}map(t,r){const i=[];for(let a=0;a<this.length;a++){const s=this[a];s instanceof Error&&i_(`index ${a}`,s),i.push(t.call(r,s,a,this))}return i}getValue(t){const r=wg(this).indexOf(t);if(r===-1)return;const i=this[r];return i instanceof Error&&i_(`property ${JSON.stringify(t)}`,i.error),i}static fromItems(t,r){return new Ty(yM,t,r)}};jy=new WeakMap;let Vb=Ty;function BG(n){let e=na(n);return mt(e.length<=lo,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:lo,offset:e.length}),e.length!==lo&&(e=io(oi([uL.slice(e.length%lo),e]))),e}class wd{constructor(e,t,r,i){ke(this,"name");ke(this,"type");ke(this,"localName");ke(this,"dynamic");an(this,{name:e,type:t,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Ae(!1,e,this.localName,t)}}var Dh,jg,Wy,FM;class fL{constructor(){$e(this,Wy);$e(this,Dh);$e(this,jg);pe(this,Dh,[]),pe(this,jg,0)}get data(){return oi(q(this,Dh))}get length(){return q(this,jg)}appendWriter(e){return _t(this,Wy,FM).call(this,io(e.data))}writeBytes(e){let t=io(e);const r=t.length%lo;return r&&(t=io(oi([t,uL.slice(r)]))),_t(this,Wy,FM).call(this,t)}writeValue(e){return _t(this,Wy,FM).call(this,BG(e))}writeUpdatableValue(){const e=q(this,Dh).length;return q(this,Dh).push(uL),pe(this,jg,q(this,jg)+lo),t=>{q(this,Dh)[e]=BG(t)}}}Dh=new WeakMap,jg=new WeakMap,Wy=new WeakSet,FM=function(e){return q(this,Dh).push(e),pe(this,jg,q(this,jg)+e.length),e.length};var Ho,yl,Wg,qg,Cp,P0,dL,AY;const kk=class kk{constructor(e,t,r){$e(this,P0);ke(this,"allowLoose");$e(this,Ho);$e(this,yl);$e(this,Wg);$e(this,qg);$e(this,Cp);an(this,{allowLoose:!!t}),pe(this,Ho,io(e)),pe(this,Wg,0),pe(this,qg,null),pe(this,Cp,r??1024),pe(this,yl,0)}get data(){return Lt(q(this,Ho))}get dataLength(){return q(this,Ho).length}get consumed(){return q(this,yl)}get bytes(){return new Uint8Array(q(this,Ho))}subReader(e){const t=new kk(q(this,Ho).slice(q(this,yl)+e),this.allowLoose,q(this,Cp));return pe(t,qg,this),t}readBytes(e,t){let r=_t(this,P0,AY).call(this,0,e,!!t);return _t(this,P0,dL).call(this,e),pe(this,yl,q(this,yl)+r.length),r.slice(0,e)}readValue(){return LP(this.readBytes(lo))}readIndex(){return AAe(this.readBytes(lo))}};Ho=new WeakMap,yl=new WeakMap,Wg=new WeakMap,qg=new WeakMap,Cp=new WeakMap,P0=new WeakSet,dL=function(e){var t;if(q(this,qg))return _t(t=q(this,qg),P0,dL).call(t,e);pe(this,Wg,q(this,Wg)+e),mt(q(this,Cp)<1||q(this,Wg)<=q(this,Cp)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${q(this,Cp)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:io(q(this,Ho)),offset:q(this,yl),length:e,info:{bytesRead:q(this,Wg),dataLength:this.dataLength}})},AY=function(e,t,r){let i=Math.ceil(t/lo)*lo;return q(this,yl)+i>q(this,Ho).length&&(this.allowLoose&&r&&q(this,yl)+t<=q(this,Ho).length?i=t:mt(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:io(q(this,Ho)),length:q(this,Ho).length,offset:q(this,yl)+i})),q(this,Ho).slice(q(this,yl),q(this,yl)+i)};let hL=kk;function VC(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function bk(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function YAe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");VC(n.outputLen),VC(n.blockLen)}function jb(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function EY(n,e){bk(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const _D=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MY=n=>n instanceof Uint8Array,KAe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),wD=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),uf=(n,e)=>n<<32-e|n>>>e,$Ae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$Ae)throw new Error("Non little-endian hardware is not supported");function ZAe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function UP(n){if(typeof n=="string"&&(n=ZAe(n)),!MY(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function QAe(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!MY(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class xk{clone(){return this._cloneInto()}}function _k(n){const e=r=>n().update(UP(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function JAe(n=32){if(_D&&typeof _D.getRandomValues=="function")return _D.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class TY extends xk{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,YAe(e);const r=UP(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return jb(this),this.iHash.update(e),this}digestInto(e){jb(this),bk(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const CY=(n,e,t)=>new TY(n,e).update(t).digest();CY.create=(n,e)=>new TY(n,e);function eEe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),a=BigInt(4294967295),s=Number(t>>i&a),o=Number(t&a),u=r?4:0,c=r?0:4;n.setUint32(e+u,s,r),n.setUint32(e+c,o,r)}class PY extends xk{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wD(this.buffer)}update(e){jb(this);const{view:t,buffer:r,blockLen:i}=this;e=UP(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const u=wD(e);for(;i<=a-s;s+=i)this.process(u,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jb(this),EY(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:a}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let p=s;p<i;p++)t[p]=0;eEe(r,i-8,BigInt(this.length*8),a),this.process(r,0);const o=wD(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<c;p++)o.setUint32(4*p,h[p],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%t&&e.buffer.set(r),e}}const tEe=(n,e,t)=>n&e^~n&t,nEe=(n,e,t)=>n&e^n&t^e&t,rEe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gp=new Uint32Array(64);class iEe extends PY{constructor(){super(64,32,8,!1),this.A=mp[0]|0,this.B=mp[1]|0,this.C=mp[2]|0,this.D=mp[3]|0,this.E=mp[4]|0,this.F=mp[5]|0,this.G=mp[6]|0,this.H=mp[7]|0}get(){const{A:e,B:t,C:r,D:i,E:a,F:s,G:o,H:u}=this;return[e,t,r,i,a,s,o,u]}set(e,t,r,i,a,s,o,u){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=u|0}process(e,t){for(let p=0;p<16;p++,t+=4)gp[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){const v=gp[p-15],y=gp[p-2],x=uf(v,7)^uf(v,18)^v>>>3,S=uf(y,17)^uf(y,19)^y>>>10;gp[p]=S+gp[p-7]+x+gp[p-16]|0}let{A:r,B:i,C:a,D:s,E:o,F:u,G:c,H:h}=this;for(let p=0;p<64;p++){const v=uf(o,6)^uf(o,11)^uf(o,25),y=h+v+tEe(o,u,c)+rEe[p]+gp[p]|0,S=(uf(r,2)^uf(r,13)^uf(r,22))+nEe(r,i,a)|0;h=c,c=u,u=o,o=s+y|0,s=a,a=i,i=r,r=y+S|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(r,i,a,s,o,u,c,h)}roundClean(){gp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const OY=_k(()=>new iEe),bM=BigInt(2**32-1),pL=BigInt(32);function RY(n,e=!1){return e?{h:Number(n&bM),l:Number(n>>pL&bM)}:{h:Number(n>>pL&bM)|0,l:Number(n&bM)|0}}function NY(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:a,l:s}=RY(n[i],e);[t[i],r[i]]=[a,s]}return[t,r]}const aEe=(n,e)=>BigInt(n>>>0)<<pL|BigInt(e>>>0),sEe=(n,e,t)=>n>>>t,oEe=(n,e,t)=>n<<32-t|e>>>t,lEe=(n,e,t)=>n>>>t|e<<32-t,uEe=(n,e,t)=>n<<32-t|e>>>t,cEe=(n,e,t)=>n<<64-t|e>>>t-32,fEe=(n,e,t)=>n>>>t-32|e<<64-t,hEe=(n,e)=>e,dEe=(n,e)=>n,DY=(n,e,t)=>n<<t|e>>>32-t,IY=(n,e,t)=>e<<t|n>>>32-t,LY=(n,e,t)=>e<<t-32|n>>>64-t,UY=(n,e,t)=>n<<t-32|e>>>64-t;function pEe(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const mEe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),gEe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,vEe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),yEe=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,bEe=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),xEe=(n,e,t,r,i,a)=>e+t+r+i+a+(n/2**32|0)|0,Nn={fromBig:RY,split:NY,toBig:aEe,shrSH:sEe,shrSL:oEe,rotrSH:lEe,rotrSL:uEe,rotrBH:cEe,rotrBL:fEe,rotr32H:hEe,rotr32L:dEe,rotlSH:DY,rotlSL:IY,rotlBH:LY,rotlBL:UY,add:pEe,add3L:mEe,add3H:gEe,add4L:vEe,add4H:yEe,add5H:xEe,add5L:bEe},[_Ee,wEe]=Nn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),vp=new Uint32Array(80),yp=new Uint32Array(80);class SEe extends PY{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:a,Cl:s,Dh:o,Dl:u,Eh:c,El:h,Fh:p,Fl:v,Gh:y,Gl:x,Hh:S,Hl:w}=this;return[e,t,r,i,a,s,o,u,c,h,p,v,y,x,S,w]}set(e,t,r,i,a,s,o,u,c,h,p,v,y,x,S,w){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=s|0,this.Dh=o|0,this.Dl=u|0,this.Eh=c|0,this.El=h|0,this.Fh=p|0,this.Fl=v|0,this.Gh=y|0,this.Gl=x|0,this.Hh=S|0,this.Hl=w|0}process(e,t){for(let C=0;C<16;C++,t+=4)vp[C]=e.getUint32(t),yp[C]=e.getUint32(t+=4);for(let C=16;C<80;C++){const O=vp[C-15]|0,R=yp[C-15]|0,D=Nn.rotrSH(O,R,1)^Nn.rotrSH(O,R,8)^Nn.shrSH(O,R,7),I=Nn.rotrSL(O,R,1)^Nn.rotrSL(O,R,8)^Nn.shrSL(O,R,7),F=vp[C-2]|0,L=yp[C-2]|0,k=Nn.rotrSH(F,L,19)^Nn.rotrBH(F,L,61)^Nn.shrSH(F,L,6),V=Nn.rotrSL(F,L,19)^Nn.rotrBL(F,L,61)^Nn.shrSL(F,L,6),j=Nn.add4L(I,V,yp[C-7],yp[C-16]),Y=Nn.add4H(j,D,k,vp[C-7],vp[C-16]);vp[C]=Y|0,yp[C]=j|0}let{Ah:r,Al:i,Bh:a,Bl:s,Ch:o,Cl:u,Dh:c,Dl:h,Eh:p,El:v,Fh:y,Fl:x,Gh:S,Gl:w,Hh:A,Hl:T}=this;for(let C=0;C<80;C++){const O=Nn.rotrSH(p,v,14)^Nn.rotrSH(p,v,18)^Nn.rotrBH(p,v,41),R=Nn.rotrSL(p,v,14)^Nn.rotrSL(p,v,18)^Nn.rotrBL(p,v,41),D=p&y^~p&S,I=v&x^~v&w,F=Nn.add5L(T,R,I,wEe[C],yp[C]),L=Nn.add5H(F,A,O,D,_Ee[C],vp[C]),k=F|0,V=Nn.rotrSH(r,i,28)^Nn.rotrBH(r,i,34)^Nn.rotrBH(r,i,39),j=Nn.rotrSL(r,i,28)^Nn.rotrBL(r,i,34)^Nn.rotrBL(r,i,39),Y=r&a^r&o^a&o,re=i&s^i&u^s&u;A=S|0,T=w|0,S=y|0,w=x|0,y=p|0,x=v|0,{h:p,l:v}=Nn.add(c|0,h|0,L|0,k|0),c=o|0,h=u|0,o=a|0,u=s|0,a=r|0,s=i|0;const Q=Nn.add3L(k,j,re);r=Nn.add3H(Q,L,V,Y),i=Q|0}({h:r,l:i}=Nn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l:s}=Nn.add(this.Bh|0,this.Bl|0,a|0,s|0),{h:o,l:u}=Nn.add(this.Ch|0,this.Cl|0,o|0,u|0),{h:c,l:h}=Nn.add(this.Dh|0,this.Dl|0,c|0,h|0),{h:p,l:v}=Nn.add(this.Eh|0,this.El|0,p|0,v|0),{h:y,l:x}=Nn.add(this.Fh|0,this.Fl|0,y|0,x|0),{h:S,l:w}=Nn.add(this.Gh|0,this.Gl|0,S|0,w|0),{h:A,l:T}=Nn.add(this.Hh|0,this.Hl|0,A|0,T|0),this.set(r,i,a,s,o,u,c,h,p,v,y,x,S,w,A,T)}roundClean(){vp.fill(0),yp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const AEe=_k(()=>new SEe);function EEe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const FG=EEe();FG.crypto||FG.msCrypto;function MEe(n){switch(n){case"sha256":return OY.create();case"sha512":return AEe.create()}Ae(!1,"invalid hashing algorithm name","algorithm",n)}const[kY,BY,FY]=[[],[],[]],TEe=BigInt(0),a_=BigInt(1),CEe=BigInt(2),PEe=BigInt(7),OEe=BigInt(256),REe=BigInt(113);for(let n=0,e=a_,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],kY.push(2*(5*r+t)),BY.push((n+1)*(n+2)/2%64);let i=TEe;for(let a=0;a<7;a++)e=(e<<a_^(e>>PEe)*REe)%OEe,e&CEe&&(i^=a_<<(a_<<BigInt(a))-a_);FY.push(i)}const[NEe,DEe]=NY(FY,!0),zG=(n,e,t)=>t>32?LY(n,e,t):DY(n,e,t),GG=(n,e,t)=>t>32?UY(n,e,t):IY(n,e,t);function IEe(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)t[s]=n[s]^n[s+10]^n[s+20]^n[s+30]^n[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,u=(s+2)%10,c=t[u],h=t[u+1],p=zG(c,h,1)^t[o],v=GG(c,h,1)^t[o+1];for(let y=0;y<50;y+=10)n[s+y]^=p,n[s+y+1]^=v}let i=n[2],a=n[3];for(let s=0;s<24;s++){const o=BY[s],u=zG(i,a,o),c=GG(i,a,o),h=kY[s];i=n[h],a=n[h+1],n[h]=u,n[h+1]=c}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)t[o]=n[s+o];for(let o=0;o<10;o++)n[s+o]^=~t[(o+2)%10]&t[(o+4)%10]}n[0]^=NEe[r],n[1]^=DEe[r]}t.fill(0)}class wk extends xk{constructor(e,t,r,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,VC(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=KAe(this.state)}keccak(){IEe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){jb(this);const{blockLen:t,state:r}=this;e=UP(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(t-this.pos,i-a);for(let o=0;o<s;o++)r[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){jb(this,!1),bk(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,a-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return VC(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(EY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new wk(t,r,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const LEe=(n,e,t)=>_k(()=>new wk(e,n,t)),UEe=LEe(1,136,256/8);let zY=!1;const GY=function(n){return UEe(n)};let HY=GY;function Gi(n){const e=Dn(n,"data");return Lt(HY(e))}Gi._=GY;Gi.lock=function(){zY=!0};Gi.register=function(n){if(zY)throw new TypeError("keccak256 is locked");HY=n};Object.freeze(Gi);const VY=function(n){return MEe("sha256").update(n).digest()};let jY=VY,WY=!1;function hx(n){const e=Dn(n,"data");return Lt(jY(e))}hx._=VY;hx.lock=function(){WY=!0};hx.register=function(n){if(WY)throw new Error("sha256 is locked");jY=n};Object.freeze(hx);Object.freeze(hx);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qY=BigInt(0),kP=BigInt(1),kEe=BigInt(2),BP=n=>n instanceof Uint8Array,BEe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Wb(n){if(!BP(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=BEe[n[t]];return e}function XY(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function Sk(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function qb(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const i=r*2,a=n.slice(i,i+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function f0(n){return Sk(Wb(n))}function Ak(n){if(!BP(n))throw new Error("Uint8Array expected");return Sk(Wb(Uint8Array.from(n).reverse()))}function Xb(n,e){return qb(n.toString(16).padStart(e*2,"0"))}function Ek(n,e){return Xb(n,e).reverse()}function FEe(n){return qb(XY(n))}function Ju(n,e,t){let r;if(typeof e=="string")try{r=qb(e)}catch(a){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${a}`)}else if(BP(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function gw(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!BP(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function zEe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function GEe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function HEe(n){let e;for(e=0;n>qY;n>>=kP,e+=1);return e}function VEe(n,e){return n>>BigInt(e)&kP}const jEe=(n,e,t)=>n|(t?kP:qY)<<BigInt(e),Mk=n=>(kEe<<BigInt(n-1))-kP,SD=n=>new Uint8Array(n),HG=n=>Uint8Array.from(n);function YY(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=SD(n),i=SD(n),a=0;const s=()=>{r.fill(1),i.fill(0),a=0},o=(...p)=>t(i,r,...p),u=(p=SD())=>{i=o(HG([0]),p),r=o(),p.length!==0&&(i=o(HG([1]),p),r=o())},c=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const v=[];for(;p<e;){r=o();const y=r.slice();v.push(y),p+=r.length}return gw(...v)};return(p,v)=>{s(),u(p);let y;for(;!(y=v(c()));)u();return s(),y}}const WEe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function xS(n,e,t={}){const r=(i,a,s)=>{const o=WEe[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const u=n[i];if(!(s&&u===void 0)&&!o(u,n))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${a}`)};for(const[i,a]of Object.entries(e))r(i,a,!1);for(const[i,a]of Object.entries(t))r(i,a,!0);return n}const qEe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:VEe,bitLen:HEe,bitMask:Mk,bitSet:jEe,bytesToHex:Wb,bytesToNumberBE:f0,bytesToNumberLE:Ak,concatBytes:gw,createHmacDrbg:YY,ensureBytes:Ju,equalBytes:zEe,hexToBytes:qb,hexToNumber:Sk,numberToBytesBE:Xb,numberToBytesLE:Ek,numberToHexUnpadded:XY,numberToVarBytesBE:FEe,utf8ToBytes:GEe,validateObject:xS},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const La=BigInt(0),zi=BigInt(1),Sg=BigInt(2),XEe=BigInt(3),mL=BigInt(4),VG=BigInt(5),jG=BigInt(8);BigInt(9);BigInt(16);function qo(n,e){const t=n%e;return t>=La?t:e+t}function YEe(n,e,t){if(t<=La||e<La)throw new Error("Expected power/modulo > 0");if(t===zi)return La;let r=zi;for(;e>La;)e&zi&&(r=r*n%t),n=n*n%t,e>>=zi;return r}function cu(n,e,t){let r=n;for(;e-- >La;)r*=r,r%=t;return r}function gL(n,e){if(n===La||e<=La)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=qo(n,e),r=e,i=La,a=zi;for(;t!==La;){const o=r/t,u=r%t,c=i-a*o;r=t,t=u,i=a,a=c}if(r!==zi)throw new Error("invert: does not exist");return qo(i,e)}function KEe(n){const e=(n-zi)/Sg;let t,r,i;for(t=n-zi,r=0;t%Sg===La;t/=Sg,r++);for(i=Sg;i<n&&YEe(i,e,n)!==n-zi;i++);if(r===1){const s=(n+zi)/mL;return function(u,c){const h=u.pow(c,s);if(!u.eql(u.sqr(h),c))throw new Error("Cannot find square root");return h}}const a=(t+zi)/Sg;return function(o,u){if(o.pow(u,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,h=o.pow(o.mul(o.ONE,i),t),p=o.pow(u,a),v=o.pow(u,t);for(;!o.eql(v,o.ONE);){if(o.eql(v,o.ZERO))return o.ZERO;let y=1;for(let S=o.sqr(v);y<c&&!o.eql(S,o.ONE);y++)S=o.sqr(S);const x=o.pow(h,zi<<BigInt(c-y-1));h=o.sqr(x),p=o.mul(p,x),v=o.mul(v,h),c=y}return p}}function $Ee(n){if(n%mL===XEe){const e=(n+zi)/mL;return function(r,i){const a=r.pow(i,e);if(!r.eql(r.sqr(a),i))throw new Error("Cannot find square root");return a}}if(n%jG===VG){const e=(n-VG)/jG;return function(r,i){const a=r.mul(i,Sg),s=r.pow(a,e),o=r.mul(i,s),u=r.mul(r.mul(o,Sg),s),c=r.mul(o,r.sub(u,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return KEe(n)}const ZEe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function QEe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=ZEe.reduce((r,i)=>(r[i]="function",r),e);return xS(n,t)}function JEe(n,e,t){if(t<La)throw new Error("Expected power > 0");if(t===La)return n.ONE;if(t===zi)return e;let r=n.ONE,i=e;for(;t>La;)t&zi&&(r=n.mul(r,i)),i=n.sqr(i),t>>=zi;return r}function eMe(n,e){const t=new Array(e.length),r=e.reduce((a,s,o)=>n.is0(s)?a:(t[o]=a,n.mul(a,s)),n.ONE),i=n.inv(r);return e.reduceRight((a,s,o)=>n.is0(s)?a:(t[o]=n.mul(a,t[o]),n.mul(a,s)),i),t}function KY(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function tMe(n,e,t=!1,r={}){if(n<=La)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:a}=KY(n,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=$Ee(n),o=Object.freeze({ORDER:n,BITS:i,BYTES:a,MASK:Mk(i),ZERO:La,ONE:zi,create:u=>qo(u,n),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return La<=u&&u<n},is0:u=>u===La,isOdd:u=>(u&zi)===zi,neg:u=>qo(-u,n),eql:(u,c)=>u===c,sqr:u=>qo(u*u,n),add:(u,c)=>qo(u+c,n),sub:(u,c)=>qo(u-c,n),mul:(u,c)=>qo(u*c,n),pow:(u,c)=>JEe(o,u,c),div:(u,c)=>qo(u*gL(c,n),n),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>gL(u,n),sqrt:r.sqrt||(u=>s(o,u)),invertBatch:u=>eMe(o,u),cmov:(u,c,h)=>h?c:u,toBytes:u=>t?Ek(u,a):Xb(u,a),fromBytes:u=>{if(u.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${u.length}`);return t?Ak(u):f0(u)}});return Object.freeze(o)}function $Y(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function ZY(n){const e=$Y(n);return e+Math.ceil(e/2)}function nMe(n,e,t=!1){const r=n.length,i=$Y(e),a=ZY(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const s=t?f0(n):Ak(n),o=qo(s,e-zi)+zi;return t?Ek(o,i):Xb(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rMe=BigInt(0),AD=BigInt(1);function iMe(n,e){const t=(i,a)=>{const s=a.negate();return i?s:a},r=i=>{const a=Math.ceil(e/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:t,unsafeLadder(i,a){let s=n.ZERO,o=i;for(;a>rMe;)a&AD&&(s=s.add(o)),o=o.double(),a>>=AD;return s},precomputeWindow(i,a){const{windows:s,windowSize:o}=r(a),u=[];let c=i,h=c;for(let p=0;p<s;p++){h=c,u.push(h);for(let v=1;v<o;v++)h=h.add(c),u.push(h);c=h.double()}return u},wNAF(i,a,s){const{windows:o,windowSize:u}=r(i);let c=n.ZERO,h=n.BASE;const p=BigInt(2**i-1),v=2**i,y=BigInt(i);for(let x=0;x<o;x++){const S=x*u;let w=Number(s&p);s>>=y,w>u&&(w-=v,s+=AD);const A=S,T=S+Math.abs(w)-1,C=x%2!==0,O=w<0;w===0?h=h.add(t(C,a[A])):c=c.add(t(O,a[T]))}return{p:c,f:h}},wNAFCached(i,a,s,o){const u=i._WINDOW_SIZE||1;let c=a.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&a.set(i,o(c))),this.wNAF(u,c,s)}}}function QY(n){return QEe(n.Fp),xS(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...KY(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function aMe(n){const e=QY(n);xS(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:sMe,hexToBytes:oMe}=qEe,Lg={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=Lg;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:sMe(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=Lg,t=typeof n=="string"?oMe(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:a}=Lg._parseInt(t.subarray(2)),{d:s,l:o}=Lg._parseInt(a);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(n){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,t=c=>{const h=c.toString(16);return h.length&1?`0${h}`:h},r=e(t(n.s)),i=e(t(n.r)),a=r.length/2,s=i.length/2,o=t(a),u=t(s);return`30${t(s+a+4)}02${u}${i}02${o}${r}`}},qh=BigInt(0),xu=BigInt(1);BigInt(2);const WG=BigInt(3);BigInt(4);function lMe(n){const e=aMe(n),{Fp:t}=e,r=e.toBytes||((x,S,w)=>{const A=S.toAffine();return gw(Uint8Array.from([4]),t.toBytes(A.x),t.toBytes(A.y))}),i=e.fromBytes||(x=>{const S=x.subarray(1),w=t.fromBytes(S.subarray(0,t.BYTES)),A=t.fromBytes(S.subarray(t.BYTES,2*t.BYTES));return{x:w,y:A}});function a(x){const{a:S,b:w}=e,A=t.sqr(x),T=t.mul(A,x);return t.add(t.add(T,t.mul(x,S)),w)}if(!t.eql(t.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function s(x){return typeof x=="bigint"&&qh<x&&x<e.n}function o(x){if(!s(x))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(x){const{allowedPrivateKeyLengths:S,nByteLength:w,wrapPrivateKey:A,n:T}=e;if(S&&typeof x!="bigint"){if(x instanceof Uint8Array&&(x=Wb(x)),typeof x!="string"||!S.includes(x.length))throw new Error("Invalid key");x=x.padStart(w*2,"0")}let C;try{C=typeof x=="bigint"?x:f0(Ju("private key",x,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof x}`)}return A&&(C=qo(C,T)),o(C),C}const c=new Map;function h(x){if(!(x instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(S,w,A){if(this.px=S,this.py=w,this.pz=A,S==null||!t.isValid(S))throw new Error("x required");if(w==null||!t.isValid(w))throw new Error("y required");if(A==null||!t.isValid(A))throw new Error("z required")}static fromAffine(S){const{x:w,y:A}=S||{};if(!S||!t.isValid(w)||!t.isValid(A))throw new Error("invalid affine point");if(S instanceof p)throw new Error("projective point not allowed");const T=C=>t.eql(C,t.ZERO);return T(w)&&T(A)?p.ZERO:new p(w,A,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const w=t.invertBatch(S.map(A=>A.pz));return S.map((A,T)=>A.toAffine(w[T])).map(p.fromAffine)}static fromHex(S){const w=p.fromAffine(i(Ju("pointHex",S)));return w.assertValidity(),w}static fromPrivateKey(S){return p.BASE.multiply(u(S))}_setWindowSize(S){this._WINDOW_SIZE=S,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:S,y:w}=this.toAffine();if(!t.isValid(S)||!t.isValid(w))throw new Error("bad point: x or y not FE");const A=t.sqr(w),T=a(S);if(!t.eql(A,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:S}=this.toAffine();if(t.isOdd)return!t.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){h(S);const{px:w,py:A,pz:T}=this,{px:C,py:O,pz:R}=S,D=t.eql(t.mul(w,R),t.mul(C,T)),I=t.eql(t.mul(A,R),t.mul(O,T));return D&&I}negate(){return new p(this.px,t.neg(this.py),this.pz)}double(){const{a:S,b:w}=e,A=t.mul(w,WG),{px:T,py:C,pz:O}=this;let R=t.ZERO,D=t.ZERO,I=t.ZERO,F=t.mul(T,T),L=t.mul(C,C),k=t.mul(O,O),V=t.mul(T,C);return V=t.add(V,V),I=t.mul(T,O),I=t.add(I,I),R=t.mul(S,I),D=t.mul(A,k),D=t.add(R,D),R=t.sub(L,D),D=t.add(L,D),D=t.mul(R,D),R=t.mul(V,R),I=t.mul(A,I),k=t.mul(S,k),V=t.sub(F,k),V=t.mul(S,V),V=t.add(V,I),I=t.add(F,F),F=t.add(I,F),F=t.add(F,k),F=t.mul(F,V),D=t.add(D,F),k=t.mul(C,O),k=t.add(k,k),F=t.mul(k,V),R=t.sub(R,F),I=t.mul(k,L),I=t.add(I,I),I=t.add(I,I),new p(R,D,I)}add(S){h(S);const{px:w,py:A,pz:T}=this,{px:C,py:O,pz:R}=S;let D=t.ZERO,I=t.ZERO,F=t.ZERO;const L=e.a,k=t.mul(e.b,WG);let V=t.mul(w,C),j=t.mul(A,O),Y=t.mul(T,R),re=t.add(w,A),Q=t.add(C,O);re=t.mul(re,Q),Q=t.add(V,j),re=t.sub(re,Q),Q=t.add(w,T);let W=t.add(C,R);return Q=t.mul(Q,W),W=t.add(V,Y),Q=t.sub(Q,W),W=t.add(A,T),D=t.add(O,R),W=t.mul(W,D),D=t.add(j,Y),W=t.sub(W,D),F=t.mul(L,Q),D=t.mul(k,Y),F=t.add(D,F),D=t.sub(j,F),F=t.add(j,F),I=t.mul(D,F),j=t.add(V,V),j=t.add(j,V),Y=t.mul(L,Y),Q=t.mul(k,Q),j=t.add(j,Y),Y=t.sub(V,Y),Y=t.mul(L,Y),Q=t.add(Q,Y),V=t.mul(j,Q),I=t.add(I,V),V=t.mul(W,Q),D=t.mul(re,D),D=t.sub(D,V),V=t.mul(re,j),F=t.mul(W,F),F=t.add(F,V),new p(D,I,F)}subtract(S){return this.add(S.negate())}is0(){return this.equals(p.ZERO)}wNAF(S){return y.wNAFCached(this,c,S,w=>{const A=t.invertBatch(w.map(T=>T.pz));return w.map((T,C)=>T.toAffine(A[C])).map(p.fromAffine)})}multiplyUnsafe(S){const w=p.ZERO;if(S===qh)return w;if(o(S),S===xu)return this;const{endo:A}=e;if(!A)return y.unsafeLadder(this,S);let{k1neg:T,k1:C,k2neg:O,k2:R}=A.splitScalar(S),D=w,I=w,F=this;for(;C>qh||R>qh;)C&xu&&(D=D.add(F)),R&xu&&(I=I.add(F)),F=F.double(),C>>=xu,R>>=xu;return T&&(D=D.negate()),O&&(I=I.negate()),I=new p(t.mul(I.px,A.beta),I.py,I.pz),D.add(I)}multiply(S){o(S);let w=S,A,T;const{endo:C}=e;if(C){const{k1neg:O,k1:R,k2neg:D,k2:I}=C.splitScalar(w);let{p:F,f:L}=this.wNAF(R),{p:k,f:V}=this.wNAF(I);F=y.constTimeNegate(O,F),k=y.constTimeNegate(D,k),k=new p(t.mul(k.px,C.beta),k.py,k.pz),A=F.add(k),T=L.add(V)}else{const{p:O,f:R}=this.wNAF(w);A=O,T=R}return p.normalizeZ([A,T])[0]}multiplyAndAddUnsafe(S,w,A){const T=p.BASE,C=(R,D)=>D===qh||D===xu||!R.equals(T)?R.multiplyUnsafe(D):R.multiply(D),O=C(this,w).add(C(S,A));return O.is0()?void 0:O}toAffine(S){const{px:w,py:A,pz:T}=this,C=this.is0();S==null&&(S=C?t.ONE:t.inv(T));const O=t.mul(w,S),R=t.mul(A,S),D=t.mul(T,S);if(C)return{x:t.ZERO,y:t.ZERO};if(!t.eql(D,t.ONE))throw new Error("invZ was invalid");return{x:O,y:R}}isTorsionFree(){const{h:S,isTorsionFree:w}=e;if(S===xu)return!0;if(w)return w(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:w}=e;return S===xu?this:w?w(p,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return this.assertValidity(),r(p,this,S)}toHex(S=!0){return Wb(this.toRawBytes(S))}}p.BASE=new p(e.Gx,e.Gy,t.ONE),p.ZERO=new p(t.ZERO,t.ONE,t.ZERO);const v=e.nBitLength,y=iMe(p,e.endo?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:s}}function uMe(n){const e=QY(n);return xS(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function cMe(n){const e=uMe(n),{Fp:t,n:r}=e,i=t.BYTES+1,a=2*t.BYTES+1;function s(Q){return qh<Q&&Q<t.ORDER}function o(Q){return qo(Q,r)}function u(Q){return gL(Q,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:v}=lMe({...e,toBytes(Q,W,X){const se=W.toAffine(),J=t.toBytes(se.x),ae=gw;return X?ae(Uint8Array.from([W.hasEvenY()?2:3]),J):ae(Uint8Array.from([4]),J,t.toBytes(se.y))},fromBytes(Q){const W=Q.length,X=Q[0],se=Q.subarray(1);if(W===i&&(X===2||X===3)){const J=f0(se);if(!s(J))throw new Error("Point is not on curve");const ae=p(J);let B=t.sqrt(ae);const Z=(B&xu)===xu;return(X&1)===1!==Z&&(B=t.neg(B)),{x:J,y:B}}else if(W===a&&X===4){const J=t.fromBytes(se.subarray(0,t.BYTES)),ae=t.fromBytes(se.subarray(t.BYTES,2*t.BYTES));return{x:J,y:ae}}else throw new Error(`Point of length ${W} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),y=Q=>Wb(Xb(Q,e.nByteLength));function x(Q){const W=r>>xu;return Q>W}function S(Q){return x(Q)?o(-Q):Q}const w=(Q,W,X)=>f0(Q.slice(W,X));class A{constructor(W,X,se){this.r=W,this.s=X,this.recovery=se,this.assertValidity()}static fromCompact(W){const X=e.nByteLength;return W=Ju("compactSignature",W,X*2),new A(w(W,0,X),w(W,X,2*X))}static fromDER(W){const{r:X,s:se}=Lg.toSig(Ju("DER",W));return new A(X,se)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(W){return new A(this.r,this.s,W)}recoverPublicKey(W){const{r:X,s:se,recovery:J}=this,ae=I(Ju("msgHash",W));if(J==null||![0,1,2,3].includes(J))throw new Error("recovery id invalid");const B=J===2||J===3?X+e.n:X;if(B>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=(J&1)===0?"02":"03",le=c.fromHex(Z+y(B)),he=u(B),ve=o(-ae*he),ue=o(se*he),ce=c.BASE.multiplyAndAddUnsafe(le,ve,ue);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return qb(this.toDERHex())}toDERHex(){return Lg.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qb(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const T={isValidPrivateKey(Q){try{return h(Q),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const Q=ZY(e.n);return nMe(e.randomBytes(Q),e.n)},precompute(Q=8,W=c.BASE){return W._setWindowSize(Q),W.multiply(BigInt(3)),W}};function C(Q,W=!0){return c.fromPrivateKey(Q).toRawBytes(W)}function O(Q){const W=Q instanceof Uint8Array,X=typeof Q=="string",se=(W||X)&&Q.length;return W?se===i||se===a:X?se===2*i||se===2*a:Q instanceof c}function R(Q,W,X=!0){if(O(Q))throw new Error("first arg must be private key");if(!O(W))throw new Error("second arg must be public key");return c.fromHex(W).multiply(h(Q)).toRawBytes(X)}const D=e.bits2int||function(Q){const W=f0(Q),X=Q.length*8-e.nBitLength;return X>0?W>>BigInt(X):W},I=e.bits2int_modN||function(Q){return o(D(Q))},F=Mk(e.nBitLength);function L(Q){if(typeof Q!="bigint")throw new Error("bigint expected");if(!(qh<=Q&&Q<F))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Xb(Q,e.nByteLength)}function k(Q,W,X=V){if(["recovered","canonical"].some(me=>me in X))throw new Error("sign() legacy options not supported");const{hash:se,randomBytes:J}=e;let{lowS:ae,prehash:B,extraEntropy:Z}=X;ae==null&&(ae=!0),Q=Ju("msgHash",Q),B&&(Q=Ju("prehashed msgHash",se(Q)));const le=I(Q),he=h(W),ve=[L(he),L(le)];if(Z!=null){const me=Z===!0?J(t.BYTES):Z;ve.push(Ju("extraEntropy",me))}const ue=gw(...ve),ce=le;function Se(me){const Ne=D(me);if(!v(Ne))return;const Be=u(Ne),ye=c.BASE.multiply(Ne).toAffine(),ut=o(ye.x);if(ut===qh)return;const _e=o(Be*o(ce+ut*he));if(_e===qh)return;let Le=(ye.x===ut?0:2)|Number(ye.y&xu),Ce=_e;return ae&&x(_e)&&(Ce=S(_e),Le^=1),new A(ut,Ce,Le)}return{seed:ue,k2sig:Se}}const V={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function Y(Q,W,X=V){const{seed:se,k2sig:J}=k(Q,W,X),ae=e;return YY(ae.hash.outputLen,ae.nByteLength,ae.hmac)(se,J)}c.BASE._setWindowSize(8);function re(Q,W,X,se=j){var ye;const J=Q;if(W=Ju("msgHash",W),X=Ju("publicKey",X),"strict"in se)throw new Error("options.strict was renamed to lowS");const{lowS:ae,prehash:B}=se;let Z,le;try{if(typeof J=="string"||J instanceof Uint8Array)try{Z=A.fromDER(J)}catch(ut){if(!(ut instanceof Lg.Err))throw ut;Z=A.fromCompact(J)}else if(typeof J=="object"&&typeof J.r=="bigint"&&typeof J.s=="bigint"){const{r:ut,s:_e}=J;Z=new A(ut,_e)}else throw new Error("PARSE");le=c.fromHex(X)}catch(ut){if(ut.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ae&&Z.hasHighS())return!1;B&&(W=e.hash(W));const{r:he,s:ve}=Z,ue=I(W),ce=u(ve),Se=o(ue*ce),me=o(he*ce),Ne=(ye=c.BASE.multiplyAndAddUnsafe(le,Se,me))==null?void 0:ye.toAffine();return Ne?o(Ne.x)===he:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:R,sign:Y,verify:re,ProjectivePoint:c,Signature:A,utils:T}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fMe(n){return{hash:n,hmac:(e,...t)=>CY(n,e,QAe(...t)),randomBytes:JAe}}function hMe(n,e){const t=r=>cMe({...n,...fMe(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JY=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qG=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dMe=BigInt(1),vL=BigInt(2),XG=(n,e)=>(n+e/vL)/e;function pMe(n){const e=JY,t=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),u=BigInt(88),c=n*n*n%e,h=c*c*n%e,p=cu(h,t,e)*h%e,v=cu(p,t,e)*h%e,y=cu(v,vL,e)*c%e,x=cu(y,i,e)*y%e,S=cu(x,a,e)*x%e,w=cu(S,o,e)*S%e,A=cu(w,u,e)*w%e,T=cu(A,o,e)*S%e,C=cu(T,t,e)*h%e,O=cu(C,s,e)*x%e,R=cu(O,r,e)*c%e,D=cu(R,vL,e);if(!yL.eql(yL.sqr(D),n))throw new Error("Cannot find square root");return D}const yL=tMe(JY,void 0,void 0,{sqrt:pMe}),bp=hMe({a:BigInt(0),b:BigInt(7),Fp:yL,n:qG,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=qG,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-dMe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=t,s=BigInt("0x100000000000000000000000000000000"),o=XG(a*n,e),u=XG(-r*n,e);let c=qo(n-o*t-u*i,e),h=qo(-o*r-u*a,e);const p=c>s,v=h>s;if(p&&(c=e-c),v&&(h=e-h),c>s||h>s)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:p,k1:c,k2neg:v,k2:h}}}},OY);BigInt(0);bp.ProjectivePoint;const vw="0x0000000000000000000000000000000000000000",YG="0x0000000000000000000000000000000000000000000000000000000000000000",KG=BigInt(0),$G=BigInt(1),bL=BigInt(2),ZG=BigInt(27),QG=BigInt(28),xM=BigInt(35),eK=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mMe=eK/bL,gMe=Symbol.for("nodejs.util.inspect.custom"),fg={};function ED(n){return hd(na(n),32)}var qy,hf,Xy,Pp;const hu=class hu{constructor(e,t,r,i){$e(this,qy);$e(this,hf);$e(this,Xy);$e(this,Pp);vS(e,fg,"Signature"),pe(this,qy,t),pe(this,hf,r),pe(this,Xy,i),pe(this,Pp,null)}get r(){return q(this,qy)}set r(e){Ae(Iy(e)===32,"invalid r","value",e),pe(this,qy,Lt(e))}get s(){return Ae(parseInt(q(this,hf).substring(0,3))<8,"non-canonical s; use ._s","s",q(this,hf)),q(this,hf)}set s(e){Ae(Iy(e)===32,"invalid s","value",e),pe(this,hf,Lt(e))}get _s(){return q(this,hf)}isValid(){return BigInt(q(this,hf))<=mMe}get v(){return q(this,Xy)}set v(e){const t=En(e,"value");Ae(t===27||t===28,"invalid v","v",e),pe(this,Xy,t)}get networkV(){return q(this,Pp)}get legacyChainId(){const e=this.networkV;return e==null?null:hu.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Dn(this.s);return this.yParity&&(e[0]|=128),Lt(e)}get compactSerialized(){return oi([this.r,this.yParityAndS])}get serialized(){return oi([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=eK-BigInt(this._s),t=55-this.v,r=new hu(fg,this.r,ED(e),t);return this.networkV&&pe(r,Pp,this.networkV),r}clone(){const e=new hu(fg,this.r,this._s,this.v);return this.networkV&&pe(e,Pp,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[gMe](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const t=Vt(e,"v");return t==ZG||t==QG?KG:(Ae(t>=xM,"invalid EIP-155 v","v",e),(t-xM)/bL)}static getChainIdV(e,t){return Vt(e)*bL+BigInt(35+t-27)}static getNormalizedV(e){const t=Vt(e);return t===KG||t===ZG?27:t===$G||t===QG?28:(Ae(t>=xM,"invalid v","v",e),t&$G?27:28)}static from(e){function t(c,h){Ae(c,h,"signature",e)}if(e==null)return new hu(fg,YG,YG,27);if(typeof e=="string"){const c=Dn(e,"signature");if(c.length===64){const h=Lt(c.slice(0,32)),p=c.slice(32,64),v=p[0]&128?28:27;return p[0]&=127,new hu(fg,h,Lt(p),v)}if(c.length===65){const h=Lt(c.slice(0,32)),p=Lt(c.slice(32,64)),v=hu.getNormalizedV(c[64]);return new hu(fg,h,p,v)}t(!1,"invalid raw signature length")}if(e instanceof hu)return e.clone();const r=e.r;t(r!=null,"missing r");const i=ED(r),a=(function(c,h){if(c!=null)return ED(c);if(h!=null){t(Gr(h,32),"invalid yParityAndS");const p=Dn(h);return p[0]&=127,Lt(p)}t(!1,"missing s")})(e.s,e.yParityAndS),{networkV:s,v:o}=(function(c,h,p){if(c!=null){const v=Vt(c);return{networkV:v>=xM?v:void 0,v:hu.getNormalizedV(v)}}if(h!=null)return t(Gr(h,32),"invalid yParityAndS"),{v:Dn(h)[0]&128?28:27};if(p!=null){switch(En(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),u=new hu(fg,i,a,o);return s&&pe(u,Pp,s),t(e.yParity==null||En(e.yParity,"sig.yParity")===u.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===u.yParityAndS,"yParityAndS mismatch"),u}};qy=new WeakMap,hf=new WeakMap,Xy=new WeakMap,Pp=new WeakMap;let Qo=hu;var Ih;const Ag=class Ag{constructor(e){$e(this,Ih);Ae(Iy(e)===32,"invalid private key","privateKey","[REDACTED]"),pe(this,Ih,Lt(e))}get privateKey(){return q(this,Ih)}get publicKey(){return Ag.computePublicKey(q(this,Ih))}get compressedPublicKey(){return Ag.computePublicKey(q(this,Ih),!0)}sign(e){Ae(Iy(e)===32,"invalid digest length","digest",e);const t=bp.sign(io(e),io(q(this,Ih)),{lowS:!0});return Qo.from({r:im(t.r,32),s:im(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Ag.computePublicKey(e);return Lt(bp.getSharedSecret(io(q(this,Ih)),Dn(t),!1))}static computePublicKey(e,t){let r=Dn(e,"key");if(r.length===32){const a=bp.getPublicKey(r,!!t);return Lt(a)}if(r.length===64){const a=new Uint8Array(65);a[0]=4,a.set(r,1),r=a}const i=bp.ProjectivePoint.fromHex(r);return Lt(i.toRawBytes(t))}static recoverPublicKey(e,t){Ae(Iy(e)===32,"invalid digest length","digest",e);const r=Qo.from(t);let i=bp.Signature.fromCompact(io(oi([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const a=i.recoverPublicKey(io(e));return Ae(a!=null,"invalid signature for digest","signature",t),"0x"+a.toHex(!1)}static addPoints(e,t,r){const i=bp.ProjectivePoint.fromHex(Ag.computePublicKey(e).substring(2)),a=bp.ProjectivePoint.fromHex(Ag.computePublicKey(t).substring(2));return"0x"+i.add(a).toHex(!!r)}};Ih=new WeakMap;let yw=Ag;const vMe=BigInt(0),yMe=BigInt(36);function JG(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=Dn(Gi(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Tk={};for(let n=0;n<10;n++)Tk[String(n)]=String(n);for(let n=0;n<26;n++)Tk[String.fromCharCode(65+n)]=String(10+n);const eH=15;function bMe(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>Tk[r]).join("");for(;e.length>=eH;){let r=e.substring(0,eH);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const xMe=(function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n})();function _Me(n){n=n.toLowerCase();let e=vMe;for(let t=0;t<n.length;t++)e=e*yMe+xMe[n[t]];return e}function br(n){if(Ae(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=JG(n);return Ae(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Ae(n.substring(2,4)===bMe(n),"bad icap checksum","address",n);let e=_Me(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return JG("0x"+e)}Ae(!1,"invalid address","address",n)}function wMe(n){const e=br(n.from);let r=Vt(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,br(Oi(Gi(Jh([e,r])),12))}function tK(n){return n&&typeof n.getAddress=="function"}async function MD(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(mt(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),Ae(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),br(t)}function uo(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?br(n):(mt(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),MD(n,e.resolveName(n)));if(tK(n))return MD(n,n.getAddress());if(n&&typeof n.then=="function")return MD(n,n);Ae(!1,"unsupported addressable value","target",n)}const Mh={};function Ht(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new Ns(Mh,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function or(n,e){return new Ns(Mh,`bytes${e||""}`,n,{size:e})}const tH=Symbol.for("_ethers_typed");var Xg;const Th=class Th{constructor(e,t,r,i){ke(this,"type");ke(this,"value");$e(this,Xg);ke(this,"_typedSymbol");i==null&&(i=null),vS(Mh,e,"Typed"),an(this,{_typedSymbol:tH,type:t,value:r}),pe(this,Xg,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return q(this,Xg)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return q(this,Xg)===!0?-1:q(this,Xg)===!1?this.value.length:null}static from(e,t){return new Th(Mh,e,t)}static uint8(e){return Ht(e,8)}static uint16(e){return Ht(e,16)}static uint24(e){return Ht(e,24)}static uint32(e){return Ht(e,32)}static uint40(e){return Ht(e,40)}static uint48(e){return Ht(e,48)}static uint56(e){return Ht(e,56)}static uint64(e){return Ht(e,64)}static uint72(e){return Ht(e,72)}static uint80(e){return Ht(e,80)}static uint88(e){return Ht(e,88)}static uint96(e){return Ht(e,96)}static uint104(e){return Ht(e,104)}static uint112(e){return Ht(e,112)}static uint120(e){return Ht(e,120)}static uint128(e){return Ht(e,128)}static uint136(e){return Ht(e,136)}static uint144(e){return Ht(e,144)}static uint152(e){return Ht(e,152)}static uint160(e){return Ht(e,160)}static uint168(e){return Ht(e,168)}static uint176(e){return Ht(e,176)}static uint184(e){return Ht(e,184)}static uint192(e){return Ht(e,192)}static uint200(e){return Ht(e,200)}static uint208(e){return Ht(e,208)}static uint216(e){return Ht(e,216)}static uint224(e){return Ht(e,224)}static uint232(e){return Ht(e,232)}static uint240(e){return Ht(e,240)}static uint248(e){return Ht(e,248)}static uint256(e){return Ht(e,256)}static uint(e){return Ht(e,256)}static int8(e){return Ht(e,-8)}static int16(e){return Ht(e,-16)}static int24(e){return Ht(e,-24)}static int32(e){return Ht(e,-32)}static int40(e){return Ht(e,-40)}static int48(e){return Ht(e,-48)}static int56(e){return Ht(e,-56)}static int64(e){return Ht(e,-64)}static int72(e){return Ht(e,-72)}static int80(e){return Ht(e,-80)}static int88(e){return Ht(e,-88)}static int96(e){return Ht(e,-96)}static int104(e){return Ht(e,-104)}static int112(e){return Ht(e,-112)}static int120(e){return Ht(e,-120)}static int128(e){return Ht(e,-128)}static int136(e){return Ht(e,-136)}static int144(e){return Ht(e,-144)}static int152(e){return Ht(e,-152)}static int160(e){return Ht(e,-160)}static int168(e){return Ht(e,-168)}static int176(e){return Ht(e,-176)}static int184(e){return Ht(e,-184)}static int192(e){return Ht(e,-192)}static int200(e){return Ht(e,-200)}static int208(e){return Ht(e,-208)}static int216(e){return Ht(e,-216)}static int224(e){return Ht(e,-224)}static int232(e){return Ht(e,-232)}static int240(e){return Ht(e,-240)}static int248(e){return Ht(e,-248)}static int256(e){return Ht(e,-256)}static int(e){return Ht(e,-256)}static bytes1(e){return or(e,1)}static bytes2(e){return or(e,2)}static bytes3(e){return or(e,3)}static bytes4(e){return or(e,4)}static bytes5(e){return or(e,5)}static bytes6(e){return or(e,6)}static bytes7(e){return or(e,7)}static bytes8(e){return or(e,8)}static bytes9(e){return or(e,9)}static bytes10(e){return or(e,10)}static bytes11(e){return or(e,11)}static bytes12(e){return or(e,12)}static bytes13(e){return or(e,13)}static bytes14(e){return or(e,14)}static bytes15(e){return or(e,15)}static bytes16(e){return or(e,16)}static bytes17(e){return or(e,17)}static bytes18(e){return or(e,18)}static bytes19(e){return or(e,19)}static bytes20(e){return or(e,20)}static bytes21(e){return or(e,21)}static bytes22(e){return or(e,22)}static bytes23(e){return or(e,23)}static bytes24(e){return or(e,24)}static bytes25(e){return or(e,25)}static bytes26(e){return or(e,26)}static bytes27(e){return or(e,27)}static bytes28(e){return or(e,28)}static bytes29(e){return or(e,29)}static bytes30(e){return or(e,30)}static bytes31(e){return or(e,31)}static bytes32(e){return or(e,32)}static address(e){return new Th(Mh,"address",e)}static bool(e){return new Th(Mh,"bool",!!e)}static bytes(e){return new Th(Mh,"bytes",e)}static string(e){return new Th(Mh,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Th(Mh,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===tH}static dereference(e,t){if(Th.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};Xg=new WeakMap;let Ns=Th;class SMe extends wd{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=Ns.dereference(t,"string");try{r=br(r)}catch(i){return this._throwError(i.message,t)}return e.writeValue(r)}decode(e){return br(im(e.readValue(),20))}}class AMe extends wd{constructor(t){super(t.name,t.type,"_",t.dynamic);ke(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}function nK(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let u={};r=e.map(c=>{const h=c.localName;return mt(h,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),mt(!u[h],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),u[h]=!0,t[h]})}else Ae(!1,"invalid tuple value","tuple",t);Ae(e.length===r.length,"types/value length mismatch","tuple",t);let i=new fL,a=new fL,s=[];e.forEach((u,c)=>{let h=r[c];if(u.dynamic){let p=a.length;u.encode(a,h);let v=i.writeUpdatableValue();s.push(y=>{v(y+p)})}else u.encode(i,h)}),s.forEach(u=>{u(i.length)});let o=n.appendWriter(i);return o+=n.appendWriter(a),o}function rK(n,e){let t=[],r=[],i=n.subReader(0);return e.forEach(a=>{let s=null;if(a.dynamic){let o=n.readIndex(),u=i.subReader(o);try{s=a.decode(u)}catch(c){if(as(c,"BUFFER_OVERRUN"))throw c;s=c,s.baseType=a.name,s.name=a.localName,s.type=a.type}}else try{s=a.decode(n)}catch(o){if(as(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=a.name,s.name=a.localName,s.type=a.type}if(s==null)throw new Error("investigate");t.push(s),r.push(a.localName||null)}),Vb.fromItems(t,r)}class EMe extends wd{constructor(t,r,i){const a=t.type+"["+(r>=0?r:"")+"]",s=r===-1||t.dynamic;super("array",a,i,s);ke(this,"coder");ke(this,"length");an(this,{coder:t,length:r})}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(t);return r}encode(t,r){const i=Ns.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let a=this.length;a===-1&&(a=i.length,t.writeValue(i.length)),fY(i.length,a,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let o=0;o<i.length;o++)s.push(this.coder);return nK(t,s,i)}decode(t){let r=this.length;r===-1&&(r=t.readIndex(),mt(r*lo<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:r*lo,length:t.dataLength}));let i=[];for(let a=0;a<r;a++)i.push(new AMe(this.coder));return rK(t,i)}}class MMe extends wd{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=Ns.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class iK extends wd{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=io(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class TMe extends iK{constructor(e){super("bytes",e)}decode(e){return Lt(super.decode(e))}}class CMe extends wd{constructor(t,r){let i="bytes"+String(t);super(i,i,r,!1);ke(this,"size");an(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let i=io(Ns.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(i)}decode(t){return Lt(t.readBytes(this.size))}}const PMe=new Uint8Array([]);class OMe extends wd{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(PMe)}decode(e){return e.readBytes(0),null}}const RMe=BigInt(0),NMe=BigInt(1),DMe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class IMe extends wd{constructor(t,r,i){const a=(r?"int":"uint")+t*8;super(a,a,i,!1);ke(this,"size");ke(this,"signed");an(this,{size:t,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,r){let i=Vt(Ns.dereference(r,this.type)),a=Ig(DMe,lo*8);if(this.signed){let s=Ig(a,this.size*8-1);(i>s||i<-(s+NMe))&&this._throwError("value out-of-bounds",r),i=pY(i,8*lo)}else(i<RMe||i>Ig(a,this.size*8))&&this._throwError("value out-of-bounds",r);return t.writeValue(i)}decode(t){let r=Ig(t.readValue(),this.size*8);return this.signed&&(r=zC(r,this.size*8)),r}}class LMe extends iK{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Of(Ns.dereference(t,"string")))}decode(e){return GC(super.decode(e))}}class _M extends wd{constructor(t,r){let i=!1;const a=[];t.forEach(o=>{o.dynamic&&(i=!0),a.push(o.type)});const s="tuple("+a.join(",")+")";super("tuple",s,r,i);ke(this,"coders");an(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(i=>{t.push(i.defaultValue())});const r=this.coders.reduce((i,a)=>{const s=a.localName;return s&&(i[s]||(i[s]=0),i[s]++),i},{});return this.coders.forEach((i,a)=>{let s=i.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),t[s]==null&&(t[s]=t[a]))}),Object.freeze(t)}encode(t,r){const i=Ns.dereference(r,"tuple");return nK(t,this.coders,i)}decode(t){return rK(t,this.coders)}}function TD(n,e){return{address:br(n),storageKeys:e.map((t,r)=>(Ae(Gr(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function k0(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(Ae(t.length===2,"invalid slot set",`value[${r}]`,t),TD(t[0],t[1])):(Ae(t!=null&&typeof t=="object","invalid address-slot set","value",n),TD(t.address,t.storageKeys)));Ae(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,a)=>(i[a]=!0,i),{});return TD(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function aK(n){return{address:br(n.address),nonce:Vt(n.nonce!=null?n.nonce:0),chainId:Vt(n.chainId!=null?n.chainId:0),signature:Qo.from(n.signature)}}function UMe(n){let e;return typeof n=="string"?e=yw.computePublicKey(n,!1):e=n.publicKey,br(Gi("0x"+e.substring(4)).substring(26))}function kMe(n,e){return UMe(yw.recoverPublicKey(n,e))}const Ia=BigInt(0),BMe=BigInt(2),FMe=BigInt(27),zMe=BigInt(28),GMe=BigInt(35),HMe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),VMe=Symbol.for("nodejs.util.inspect.custom"),CD=4096*32,zM=128;function jMe(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Dn(n.blobToKzgCommitment(Lt(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Dn(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return Dn(n.blobToKZGCommitment(Lt(r)));Ae(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return Dn(n.computeBlobProof(Lt(r),Lt(i)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return Dn(n.computeBlobKZGProof(Lt(r),Lt(i)));Ae(!1,"unsupported KZG library","kzg",n)}}}function nH(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=hx(e).substring(4),"0x"+t}function dx(n){return n==="0x"?null:br(n)}function FP(n,e){try{return k0(n)}catch(t){Ae(!1,t.message,e,n)}}function WMe(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const t=[];for(let r=0;r<n.length;r++){const i=n[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);t.push({address:dx(i[1]),nonce:Cr(i[2],"nonce"),chainId:Cr(i[0],"chainId"),signature:Qo.from({yParity:B0(i[3],"yParity"),r:hd(i[4],32),s:hd(i[5],32)})})}return t}catch(t){Ae(!1,t.message,e,n)}}function B0(n,e){return n==="0x"?0:En(n,e)}function Cr(n,e){if(n==="0x")return Ia;const t=Vt(n,e);return Ae(t<=HMe,"value exceeds uint size",e,t),t}function Zn(n,e){const t=Vt(n,"value"),r=na(t);return Ae(r.length<=32,"value too large",`tx.${e}`,t),r}function zP(n){return k0(n).map(e=>[e.address,e.storageKeys])}function qMe(n){return n.map(e=>[Zn(e.chainId,"chainId"),e.address,Zn(e.nonce,"nonce"),Zn(e.signature.yParity,"yParity"),na(e.signature.r),na(e.signature._s)])}function XMe(n,e){Ae(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)Ae(Gr(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function YMe(n){const e=bS(n);Ae(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:B0(e[0],"nonce"),gasPrice:Cr(e[1],"gasPrice"),gasLimit:Cr(e[2],"gasLimit"),to:dx(e[3]),value:Cr(e[4],"value"),data:Lt(e[5]),chainId:Ia};if(e.length===6)return t;const r=Cr(e[6],"v"),i=Cr(e[7],"r"),a=Cr(e[8],"s");if(i===Ia&&a===Ia)t.chainId=r;else{let s=(r-GMe)/BMe;s<Ia&&(s=Ia),t.chainId=s,Ae(s!==Ia||r===FMe||r===zMe,"non-canonical legacy v","v",e[6]),t.signature=Qo.from({r:hd(e[7],32),s:hd(e[8],32),v:r})}return t}function KMe(n,e){const t=[Zn(n.nonce,"nonce"),Zn(n.gasPrice||0,"gasPrice"),Zn(n.gasLimit,"gasLimit"),n.to||"0x",Zn(n.value,"value"),n.data];let r=Ia;if(n.chainId!=Ia)r=Vt(n.chainId,"tx.chainId"),Ae(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const a=n.signature.legacyChainId;a!=null&&(r=a)}if(!e)return r!==Ia&&(t.push(na(r)),t.push("0x"),t.push("0x")),Jh(t);let i=BigInt(27+e.yParity);return r!==Ia?i=Qo.getChainIdV(r,e.v):BigInt(e.v)!==i&&Ae(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(na(i)),t.push(na(e.r)),t.push(na(e._s)),Jh(t)}function GP(n,e){let t;try{if(t=B0(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{Ae(!1,"invalid yParity","yParity",e[0])}const r=hd(e[1],32),i=hd(e[2],32),a=Qo.from({r,s:i,yParity:t});n.signature=a}function $Me(n){const e=bS(Dn(n).slice(1));Ae(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Lt(n));const t={type:2,chainId:Cr(e[0],"chainId"),nonce:B0(e[1],"nonce"),maxPriorityFeePerGas:Cr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Cr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Cr(e[4],"gasLimit"),to:dx(e[5]),value:Cr(e[6],"value"),data:Lt(e[7]),accessList:FP(e[8],"accessList")};return e.length===9||GP(t,e.slice(9)),t}function ZMe(n,e){const t=[Zn(n.chainId,"chainId"),Zn(n.nonce,"nonce"),Zn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Zn(n.maxFeePerGas||0,"maxFeePerGas"),Zn(n.gasLimit,"gasLimit"),n.to||"0x",Zn(n.value,"value"),n.data,zP(n.accessList||[])];return e&&(t.push(Zn(e.yParity,"yParity")),t.push(na(e.r)),t.push(na(e.s))),oi(["0x02",Jh(t)])}function QMe(n){const e=bS(Dn(n).slice(1));Ae(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Lt(n));const t={type:1,chainId:Cr(e[0],"chainId"),nonce:B0(e[1],"nonce"),gasPrice:Cr(e[2],"gasPrice"),gasLimit:Cr(e[3],"gasLimit"),to:dx(e[4]),value:Cr(e[5],"value"),data:Lt(e[6]),accessList:FP(e[7],"accessList")};return e.length===8||GP(t,e.slice(8)),t}function JMe(n,e){const t=[Zn(n.chainId,"chainId"),Zn(n.nonce,"nonce"),Zn(n.gasPrice||0,"gasPrice"),Zn(n.gasLimit,"gasLimit"),n.to||"0x",Zn(n.value,"value"),n.data,zP(n.accessList||[])];return e&&(t.push(Zn(e.yParity,"recoveryParam")),t.push(na(e.r)),t.push(na(e.s))),oi(["0x01",Jh(t)])}function eTe(n){let e=bS(Dn(n).slice(1)),t="3",r=null,i=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const s=e[1],o=e[2],u=e[3];Ae(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),Ae(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),Ae(Array.isArray(u),"invalid network format: proofs not an array","fields[3]",u),Ae(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),Ae(s.length===u.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<e[1].length;c++)i.push({data:s[c],commitment:o[c],proof:u[c]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){t="3 (EIP-7594 network format)",r=En(e[1]);const s=e[2],o=e[3],u=e[4];Ae(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),Ae(Array.isArray(s),"invalid EIP-7594 network format: blobs not an array","fields[2]",s),Ae(Array.isArray(o),"invalid EIP-7594 network format: commitments not an array","fields[3]",o),Ae(Array.isArray(u),"invalid EIP-7594 network format: proofs not an array","fields[4]",u),Ae(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),Ae(s.length*zM===u.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<s.length;c++){const h=[];for(let p=0;p<zM;p++)h.push(u[c*zM+p]);i.push({data:s[c],commitment:o[c],proof:oi(h)})}e=e[0]}Ae(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",Lt(n));const a={type:3,chainId:Cr(e[0],"chainId"),nonce:B0(e[1],"nonce"),maxPriorityFeePerGas:Cr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Cr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Cr(e[4],"gasLimit"),to:dx(e[5]),value:Cr(e[6],"value"),data:Lt(e[7]),accessList:FP(e[8],"accessList"),maxFeePerBlobGas:Cr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};i&&(a.blobs=i),Ae(a.to!=null,`invalid address for transaction type: ${t}`,"data",n),Ae(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let s=0;s<a.blobVersionedHashes.length;s++)Ae(Gr(a.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",n);return e.length===11||GP(a,e.slice(11)),a}function tTe(n,e,t){const r=[Zn(n.chainId,"chainId"),Zn(n.nonce,"nonce"),Zn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Zn(n.maxFeePerGas||0,"maxFeePerGas"),Zn(n.gasLimit,"gasLimit"),n.to||vw,Zn(n.value,"value"),n.data,zP(n.accessList||[]),Zn(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),XMe(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(Zn(e.yParity,"yParity")),r.push(na(e.r)),r.push(na(e.s)),t)){if(n.blobWrapperVersion!=null){const i=na(n.blobWrapperVersion),a=[];for(const{proof:s}of t){const o=Dn(s),u=o.length/zM;for(let c=0;c<o.length;c+=u)a.push(o.subarray(c,c+u))}return oi(["0x03",Jh([r,i,t.map(s=>s.data),t.map(s=>s.commitment),a])])}return oi(["0x03",Jh([r,t.map(i=>i.data),t.map(i=>i.commitment),t.map(i=>i.proof)])])}return oi(["0x03",Jh(r)])}function nTe(n){const e=bS(Dn(n).slice(1));Ae(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Lt(n));const t={type:4,chainId:Cr(e[0],"chainId"),nonce:B0(e[1],"nonce"),maxPriorityFeePerGas:Cr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Cr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Cr(e[4],"gasLimit"),to:dx(e[5]),value:Cr(e[6],"value"),data:Lt(e[7]),accessList:FP(e[8],"accessList"),authorizationList:WMe(e[9],"authorizationList")};return e.length===10||GP(t,e.slice(10)),t}function rTe(n,e){const t=[Zn(n.chainId,"chainId"),Zn(n.nonce,"nonce"),Zn(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Zn(n.maxFeePerGas||0,"maxFeePerGas"),Zn(n.gasLimit,"gasLimit"),n.to||"0x",Zn(n.value,"value"),n.data,zP(n.accessList||[]),qMe(n.authorizationList||[])];return e&&(t.push(Zn(e.yParity,"yParity")),t.push(na(e.r)),t.push(na(e.s))),oi(["0x04",Jh(t)])}var rc,Yy,Ky,$y,Zy,Qy,Jy,eb,tb,nb,rb,ib,Yg,Op,df,Rp,ab,sb,ob,GM;const cf=class cf{constructor(){$e(this,ob);$e(this,rc);$e(this,Yy);$e(this,Ky);$e(this,$y);$e(this,Zy);$e(this,Qy);$e(this,Jy);$e(this,eb);$e(this,tb);$e(this,nb);$e(this,rb);$e(this,ib);$e(this,Yg);$e(this,Op);$e(this,df);$e(this,Rp);$e(this,ab);$e(this,sb);pe(this,rc,null),pe(this,Yy,null),pe(this,$y,0),pe(this,Zy,Ia),pe(this,Qy,null),pe(this,Jy,null),pe(this,eb,null),pe(this,Ky,"0x"),pe(this,tb,Ia),pe(this,nb,Ia),pe(this,rb,null),pe(this,ib,null),pe(this,Yg,null),pe(this,Op,null),pe(this,df,null),pe(this,Rp,null),pe(this,ab,null),pe(this,sb,null)}get type(){return q(this,rc)}set type(e){switch(e){case null:pe(this,rc,null);break;case 0:case"legacy":pe(this,rc,0);break;case 1:case"berlin":case"eip-2930":pe(this,rc,1);break;case 2:case"london":case"eip-1559":pe(this,rc,2);break;case 3:case"cancun":case"eip-4844":pe(this,rc,3);break;case 4:case"pectra":case"eip-7702":pe(this,rc,4);break;default:Ae(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=q(this,Yy);return e==null&&this.type===3?vw:e}set to(e){pe(this,Yy,e==null?null:br(e))}get nonce(){return q(this,$y)}set nonce(e){pe(this,$y,En(e,"value"))}get gasLimit(){return q(this,Zy)}set gasLimit(e){pe(this,Zy,Vt(e))}get gasPrice(){const e=q(this,Qy);return e==null&&(this.type===0||this.type===1)?Ia:e}set gasPrice(e){pe(this,Qy,e==null?null:Vt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=q(this,Jy);return e??(this.type===2||this.type===3?Ia:null)}set maxPriorityFeePerGas(e){pe(this,Jy,e==null?null:Vt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=q(this,eb);return e??(this.type===2||this.type===3?Ia:null)}set maxFeePerGas(e){pe(this,eb,e==null?null:Vt(e,"maxFeePerGas"))}get data(){return q(this,Ky)}set data(e){pe(this,Ky,Lt(e))}get value(){return q(this,tb)}set value(e){pe(this,tb,Vt(e,"value"))}get chainId(){return q(this,nb)}set chainId(e){pe(this,nb,Vt(e))}get signature(){return q(this,rb)||null}set signature(e){pe(this,rb,e==null?null:Qo.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const t=this.authorizationList;if(t){for(const r of t)if(!r.signature.isValid())return!1}return!0}get accessList(){const e=q(this,ib)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){pe(this,ib,e==null?null:k0(e))}get authorizationList(){const e=q(this,ab)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){pe(this,ab,e==null?null:e.map(t=>aK(t)))}get maxFeePerBlobGas(){const e=q(this,Yg);return e==null&&this.type===3?Ia:e}set maxFeePerBlobGas(e){pe(this,Yg,e==null?null:Vt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=q(this,Op);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Ae(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)Ae(Gr(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}pe(this,Op,e)}get blobs(){return q(this,Rp)==null?null:q(this,Rp).map(e=>Object.assign({},e))}set blobs(e){if(e==null){pe(this,Rp,null);return}const t=[],r=[];for(let i=0;i<e.length;i++){const a=e[i];if(yk(a)){mt(q(this,df),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Dn(a);if(Ae(s.length<=CD,"blob is too large",`blobs[${i}]`,a),s.length!==CD){const c=new Uint8Array(CD);c.set(s),s=c}const o=q(this,df).blobToKzgCommitment(s),u=Lt(q(this,df).computeBlobKzgProof(s,o));t.push({data:Lt(s),commitment:Lt(o),proof:u}),r.push(nH(1,o))}else{const s=Lt(a.data),o=Lt(a.commitment),u=Lt(a.proof);t.push({data:s,commitment:o,proof:u}),r.push(nH(1,o))}}pe(this,Rp,t),pe(this,Op,r)}get kzg(){return q(this,df)}set kzg(e){e==null?pe(this,df,null):pe(this,df,jMe(e))}get blobWrapperVersion(){return q(this,sb)}set blobWrapperVersion(e){pe(this,sb,e)}get hash(){return this.signature==null?null:Gi(_t(this,ob,GM).call(this,!0,!1))}get unsignedHash(){return Gi(this.unsignedSerialized)}get from(){return this.signature==null?null:kMe(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:yw.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return _t(this,ob,GM).call(this,!0,!0)}get unsignedSerialized(){return _t(this,ob,GM).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=q(this,Yg)!=null||q(this,Op);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&mt(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),mt(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),mt(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];return this.type!=null?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):t?a.push(2):e?(a.push(1),r||a.push(0)):r?(a.push(1),a.push(2)):(i&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return cf.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[VMe](){return this.toString()}toString(){const e=[],t=i=>{let a=this[i];typeof a=="string"&&(a=JSON.stringify(a)),e.push(`${i}: ${a}`)};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),this.chainId!=null&&t("chainId"),this.signature&&(t("from"),e.push(`signature: ${this.signature.toString()}`));const r=this.authorizationList;if(r){const i=[];for(const a of r){const s=[];s.push(`address: ${JSON.stringify(a.address)}`),a.nonce!=null&&s.push(`nonce: ${a.nonce}`),a.chainId!=null&&s.push(`chainId: ${a.chainId}`),a.signature&&s.push(`signature: ${a.signature.toString()}`),i.push(`Authorization { ${s.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new cf;if(typeof e=="string"){const r=Dn(e);if(r[0]>=127)return cf.from(YMe(r));switch(r[0]){case 1:return cf.from(QMe(r));case 2:return cf.from($Me(r));case 3:return cf.from(eTe(r));case 4:return cf.from(nTe(r))}mt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new cf;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Qo.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobWrapperVersion!=null&&(t.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(Ae(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Ae(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Ae(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Ae(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};rc=new WeakMap,Yy=new WeakMap,Ky=new WeakMap,$y=new WeakMap,Zy=new WeakMap,Qy=new WeakMap,Jy=new WeakMap,eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,rb=new WeakMap,ib=new WeakMap,Yg=new WeakMap,Op=new WeakMap,df=new WeakMap,Rp=new WeakMap,ab=new WeakMap,sb=new WeakMap,ob=new WeakSet,GM=function(e,t){mt(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return KMe(this,r);case 1:return JMe(this,r);case 2:return ZMe(this,r);case 3:return tTe(this,r,t?this.blobs:null);case 4:return rTe(this,r)}mt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let jC=cf;function E0(n){return Gi(Of(n))}var iTe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const rH=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),iH=4;function aTe(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),i=1,a=[0,1];for(let R=1;R<r;R++)a.push(i+=t());let s=t(),o=e;e+=s;let u=0,c=0;function h(){return u==0&&(c=c<<8|n[e++],u=8),c>>--u&1}const p=31,v=2**p,y=v>>>1,x=y>>1,S=v-1;let w=0;for(let R=0;R<p;R++)w=w<<1|h();let A=[],T=0,C=v;for(;;){let R=Math.floor(((w-T+1)*i-1)/C),D=0,I=r;for(;I-D>1;){let k=D+I>>>1;R<a[k]?I=k:D=k}if(D==0)break;A.push(D);let F=T+Math.floor(C*a[D]/i),L=T+Math.floor(C*a[D+1]/i)-1;for(;((F^L)&y)==0;)w=w<<1&S|h(),F=F<<1&S,L=L<<1&S|1;for(;F&~L&x;)w=w&y|w<<1&S>>>1|h(),F=F<<1^y,L=(L^y)<<1|y|1;T=F,C=1+L-F}let O=r-4;return A.map(R=>{switch(R-O){case 3:return O+65792+(n[o++]<<16|n[o++]<<8|n[o++]);case 2:return O+256+(n[o++]<<8|n[o++]);case 1:return O+n[o++];default:return R-1}})}function sTe(n){let e=0;return()=>n[e++]}function sK(n){return sTe(aTe(oTe(n)))}function oTe(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,a)=>e[i.charCodeAt(0)]=a);let t=n.length,r=new Uint8Array(6*t>>3);for(let i=0,a=0,s=0,o=0;i<t;i++)o=o<<6|e[n.charCodeAt(i)],s+=6,s>=8&&(r[a++]=o>>(s-=8));return r}function lTe(n){return n&1?~n>>1:n>>1}function uTe(n,e){let t=Array(n);for(let r=0,i=0;r<n;r++)t[r]=i+=lTe(e());return t}function bw(n,e=0){let t=[];for(;;){let r=n(),i=n();if(!i)break;e+=r;for(let a=0;a<i;a++)t.push(e+a);e+=i+1}return t}function oK(n){return xw(()=>{let e=bw(n);if(e.length)return e})}function lK(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(cTe(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(fTe(t,n))}return e.flat()}function xw(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function uK(n,e,t){let r=Array(n).fill().map(()=>[]);for(let i=0;i<e;i++)uTe(n,t).forEach((a,s)=>r[s].push(a));return r}function cTe(n,e){let t=1+e(),r=e(),i=xw(e);return uK(i.length,1+n,e).flatMap((s,o)=>{let[u,...c]=s;return Array(i[o]).fill().map((h,p)=>{let v=p*r;return[u+p*t,c.map(y=>y+v)]})})}function fTe(n,e){let t=1+e();return uK(t,1+n,e).map(i=>[i[0],i.slice(1)])}function hTe(n){let e=[],t=bw(n);return i(r([]),[]),e;function r(a){let s=n(),o=xw(()=>{let u=bw(n).map(c=>t[c]);if(u.length)return r(u)});return{S:s,B:o,Q:a}}function i({S:a,B:s},o,u){if(!(a&4&&u===o[o.length-1])){a&2&&(u=o[o.length-1]),a&1&&e.push(o);for(let c of s)for(let h of c.Q)i(c,[...o,h],u)}}}function dTe(n){return n.toString(16).toUpperCase().padStart(2,"0")}function cK(n){return`{${dTe(n)}}`}function pTe(n){let e=[];for(let t=0,r=n.length;t<r;){let i=n.codePointAt(t);t+=i<65536?1:2,e.push(i)}return e}function Yb(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let i=0;i<t;)r.push(String.fromCodePoint(...n.slice(i,i+=4096)));return r.join("")}function mTe(n,e){let t=n.length,r=t-e.length;for(let i=0;r==0&&i<t;i++)r=n[i]-e[i];return r}var gTe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const _w=44032,WC=4352,qC=4449,XC=4519,fK=19,hK=21,Kb=28,YC=hK*Kb,vTe=fK*YC,yTe=_w+vTe,bTe=WC+fK,xTe=qC+hK,_Te=XC+Kb;function d_(n){return n>>24&255}function dK(n){return n&16777215}let xL,aH,_L,HM;function wTe(){let n=sK(gTe);xL=new Map(oK(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),aH=new Set(bw(n)),_L=new Map,HM=new Map;for(let[e,t]of lK(n)){if(!aH.has(e)&&t.length==2){let[r,i]=t,a=HM.get(r);a||(a=new Map,HM.set(r,a)),a.set(i,e)}_L.set(e,t.reverse())}}function pK(n){return n>=_w&&n<yTe}function STe(n,e){if(n>=WC&&n<bTe&&e>=qC&&e<xTe)return _w+(n-WC)*YC+(e-qC)*Kb;if(pK(n)&&e>XC&&e<_Te&&(n-_w)%Kb==0)return n+(e-XC);{let t=HM.get(n);return t&&(t=t.get(e),t)?t:-1}}function mK(n){xL||wTe();let e=[],t=[],r=!1;function i(a){let s=xL.get(a);s&&(r=!0,a|=s),e.push(a)}for(let a of n)for(;;){if(a<128)e.push(a);else if(pK(a)){let s=a-_w,o=s/YC|0,u=s%YC/Kb|0,c=s%Kb;i(WC+o),i(qC+u),c>0&&i(XC+c)}else{let s=_L.get(a);s?t.push(...s):i(a)}if(!t.length)break;a=t.pop()}if(r&&e.length>1){let a=d_(e[0]);for(let s=1;s<e.length;s++){let o=d_(e[s]);if(o==0||a<=o){a=o;continue}let u=s-1;for(;;){let c=e[u+1];if(e[u+1]=e[u],e[u]=c,!u||(a=d_(e[--u]),a<=o))break}a=d_(e[s])}}return e}function ATe(n){let e=[],t=[],r=-1,i=0;for(let a of n){let s=d_(a),o=dK(a);if(r==-1)s==0?r=o:e.push(o);else if(i>0&&i>=s)s==0?(e.push(r,...t),t.length=0,r=o):t.push(o),i=s;else{let u=STe(r,o);u>=0?r=u:i==0&&s==0?(e.push(r),r=o):(t.push(o),i=s)}}return r>=0&&e.push(r,...t),e}function gK(n){return mK(n).map(dK)}function ETe(n){return ATe(mK(n))}const sH=45,vK=".",yK=65039,bK=1,KC=n=>Array.from(n);function ww(n,e){return n.P.has(e)||n.Q.has(e)}class MTe extends Array{get is_emoji(){return!0}}let wL,xK,Ug,SL,_K,Uy,PD,gy,xg,oH,AL;function Ck(){if(wL)return;let n=sK(iTe);const e=()=>bw(n),t=()=>new Set(e()),r=(h,p)=>p.forEach(v=>h.add(v));wL=new Map(lK(n)),xK=t(),Ug=e(),SL=new Set(e().map(h=>Ug[h])),Ug=new Set(Ug),_K=t(),t();let i=oK(n),a=n();const s=()=>{let h=new Set;return e().forEach(p=>r(h,i[p])),r(h,e()),h};Uy=xw(h=>{let p=xw(n).map(v=>v+96);if(p.length){let v=h>=a;p[0]-=32,p=Yb(p),v&&(p=`Restricted[${p}]`);let y=s(),x=s(),S=!n();return{N:p,P:y,Q:x,M:S,R:v}}}),PD=t(),gy=new Map;let o=e().concat(KC(PD)).sort((h,p)=>h-p);o.forEach((h,p)=>{let v=n(),y=o[p]=v?o[p-v]:{V:[],M:new Map};y.V.push(h),PD.has(h)||gy.set(h,y)});for(let{V:h,M:p}of new Set(gy.values())){let v=[];for(let x of h){let S=Uy.filter(A=>ww(A,x)),w=v.find(({G:A})=>S.some(T=>A.has(T)));w||(w={G:new Set,V:[]},v.push(w)),w.V.push(x),r(w.G,S)}let y=v.flatMap(x=>KC(x.G));for(let{G:x,V:S}of v){let w=new Set(y.filter(A=>!x.has(A)));for(let A of S)p.set(A,w)}}xg=new Set;let u=new Set;const c=h=>xg.has(h)?u.add(h):xg.add(h);for(let h of Uy){for(let p of h.P)c(p);for(let p of h.Q)c(p)}for(let h of xg)!gy.has(h)&&!u.has(h)&&gy.set(h,bK);r(xg,gK(xg)),oH=hTe(n).map(h=>MTe.from(h)).sort(mTe),AL=new Map;for(let h of oH){let p=[AL];for(let v of h){let y=p.map(x=>{let S=x.get(v);return S||(S=new Map,x.set(v,S)),S});v===yK?p.push(...y):p=y}for(let v of p)v.V=h}}function Pk(n){return(wK(n)?"":`${Ok(HP([n]))} `)+cK(n)}function Ok(n){return`"${n}"`}function TTe(n){if(n.length>=4&&n[2]==sH&&n[3]==sH)throw new Error(`invalid label extension: "${Yb(n.slice(0,4))}"`)}function CTe(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function PTe(n){let e=n[0],t=rH.get(e);if(t)throw N_(`leading ${t}`);let r=n.length,i=-1;for(let a=1;a<r;a++){e=n[a];let s=rH.get(e);if(s){if(i==a)throw N_(`${t} + ${s}`);i=a+1,t=s}}if(i==r)throw N_(`trailing ${t}`)}function HP(n,e=1/0,t=cK){let r=[];OTe(n[0])&&r.push(""),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let i=0,a=n.length;for(let s=0;s<a;s++){let o=n[s];wK(o)&&(r.push(Yb(n.slice(i,s))),r.push(t(o)),i=s+1)}return r.push(Yb(n.slice(i,a))),r.join("")}function OTe(n){return Ck(),Ug.has(n)}function wK(n){return Ck(),_K.has(n)}function RTe(n){return LTe(NTe(n,ETe,BTe))}function NTe(n,e,t){if(!n)return[];Ck();let r=0;return n.split(vK).map(i=>{let a=pTe(i),s={input:a,offset:r};r+=a.length+1;try{let o=s.tokens=kTe(a,e,t),u=o.length,c;if(!u)throw new Error("empty label");let h=s.output=o.flat();if(CTe(h),!(s.emoji=u>1||o[0].is_emoji)&&h.every(v=>v<128))TTe(h),c="ASCII";else{let v=o.flatMap(y=>y.is_emoji?[]:y);if(!v.length)c="Emoji";else{if(Ug.has(h[0]))throw N_("leading combining mark");for(let S=1;S<u;S++){let w=o[S];if(!w.is_emoji&&Ug.has(w[0]))throw N_(`emoji + combining mark: "${Yb(o[S-1])} + ${HP([w[0]])}"`)}PTe(h);let y=KC(new Set(v)),[x]=ITe(y);UTe(x,v),DTe(x,y),c=x.N}}s.type=c}catch(o){s.error=o}return s})}function DTe(n,e){let t,r=[];for(let i of e){let a=gy.get(i);if(a===bK)return;if(a){let s=a.M.get(i);if(t=t?t.filter(o=>s.has(o)):KC(s),!t.length)return}else r.push(i)}if(t){for(let i of t)if(r.every(a=>ww(i,a)))throw new Error(`whole-script confusable: ${n.N}/${i.N}`)}}function ITe(n){let e=Uy;for(let t of n){let r=e.filter(i=>ww(i,t));if(!r.length)throw Uy.some(i=>ww(i,t))?AK(e[0],t):SK(t);if(e=r,r.length==1)break}return e}function LTe(n){return n.map(({input:e,error:t,output:r})=>{if(t){let i=t.message;throw new Error(n.length==1?i:`Invalid label ${Ok(HP(e,63))}: ${i}`)}return Yb(r)}).join(vK)}function SK(n){return new Error(`disallowed character: ${Pk(n)}`)}function AK(n,e){let t=Pk(e),r=Uy.find(i=>i.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function N_(n){return new Error(`illegal placement: ${n}`)}function UTe(n,e){for(let t of e)if(!ww(n,t))throw AK(n,t);if(n.M){let t=gK(e);for(let r=1,i=t.length;r<i;r++)if(SL.has(t[r])){let a=r+1;for(let s;a<i&&SL.has(s=t[a]);a++)for(let o=r;o<a;o++)if(t[o]==s)throw new Error(`duplicate non-spacing marks: ${Pk(s)}`);if(a-r>iH)throw new Error(`excessive non-spacing marks: ${Ok(HP(t.slice(r-1,a)))} (${a-r}/${iH})`);r=a}}}function kTe(n,e,t){let r=[],i=[];for(n=n.slice().reverse();n.length;){let a=FTe(n);if(a)i.length&&(r.push(e(i)),i=[]),r.push(t(a));else{let s=n.pop();if(xg.has(s))i.push(s);else{let o=wL.get(s);if(o)i.push(...o);else if(!xK.has(s))throw SK(s)}}}return i.length&&r.push(e(i)),r}function BTe(n){return n.filter(e=>e!=yK)}function FTe(n,e){let t=AL,r,i=n.length;for(;i&&(t=t.get(n[--i]),!!t);){let{V:a}=t;a&&(r=a,n.length=i)}return r}const EK=new Uint8Array(32);EK.fill(0);function lH(n){return Ae(n.length!==0,"invalid ENS name; empty component","comp",n),n}function MK(n){const e=Of(zTe(n)),t=[];if(n.length===0)return t;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(lH(e.slice(r,i))),r=i+1);return Ae(r<e.length,"invalid ENS name; empty component","name",n),t.push(lH(e.slice(r))),t}function zTe(n){try{if(n.length===0)throw new Error("empty label");return RTe(n)}catch(e){Ae(!1,`invalid ENS name (${e.message})`,"name",n)}}function EL(n){Ae(typeof n=="string","invalid ENS name; not a string","name",n),Ae(n.length,"invalid ENS name (empty label)","name",n);let e=EK;const t=MK(n);for(;t.length;)e=Gi(oi([e,Gi(t.pop())]));return Lt(e)}function GTe(n,e){const t=e;return Ae(t<=255,"DNS encoded label cannot exceed 255","length",t),Lt(oi(MK(n).map(r=>{Ae(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const TK=new Uint8Array(32);TK.fill(0);const HTe=BigInt(-1),CK=BigInt(0),PK=BigInt(1),VTe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function jTe(n){const e=Dn(n),t=e.length%32;return t?oi([e,TK.slice(t)]):Lt(e)}const WTe=im(PK,32),qTe=im(CK,32),uH={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},OD=["name","version","chainId","verifyingContract","salt"];function cH(n){return function(e){return Ae(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const XTe={name:cH("name"),version:cH("version"),chainId:function(n){const e=Vt(n,"domain.chainId");return Ae(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):oc(e)},verifyingContract:function(n){try{return br(n).toLowerCase()}catch{}Ae(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=Dn(n,"domain.salt");return Ae(e.length===32,'invalid domain value "salt"',"domain.salt",n),Lt(e)}};function RD(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);Ae(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const i=Ig(VTe,t?r-1:r),a=t?(i+PK)*HTe:CK;return function(s){const o=Vt(s,"value");return Ae(o>=a&&o<=i,`value out-of-bounds for ${n}`,"value",o),im(t?pY(o,256):o,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return Ae(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const i=Dn(r);return Ae(i.length===t,`invalid length for ${n}`,"value",r),jTe(r)}}}switch(n){case"address":return function(e){return hd(br(e),32)};case"bool":return function(e){return e?WTe:qTe};case"bytes":return function(e){return Gi(e)};case"string":return function(e){return E0(e)}}return null}function fH(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function wM(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Ow,Lh,lb,t3,OK;const du=class du{constructor(e){$e(this,t3);ke(this,"primaryType");$e(this,Ow);$e(this,Lh);$e(this,lb);pe(this,Lh,new Map),pe(this,lb,new Map);const t=new Map,r=new Map,i=new Map,a={};Object.keys(e).forEach(u=>{a[u]=e[u].map(({name:c,type:h})=>{let{base:p,index:v}=wM(h);return p==="int"&&!e.int&&(p="int256"),p==="uint"&&!e.uint&&(p="uint256"),{name:c,type:p+(v||"")}}),t.set(u,new Set),r.set(u,[]),i.set(u,new Set)}),pe(this,Ow,JSON.stringify(a));for(const u in a){const c=new Set;for(const h of a[u]){Ae(!c.has(h.name),`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(u)}`,"types",e),c.add(h.name);const p=wM(h.type).base;Ae(p!==u,`circular type reference to ${JSON.stringify(p)}`,"types",e),!RD(p)&&(Ae(r.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),r.get(p).push(u),t.get(u).add(p))}}const s=Array.from(r.keys()).filter(u=>r.get(u).length===0);Ae(s.length!==0,"missing primary type","types",e),Ae(s.length===1,`ambiguous primary types or unused types: ${s.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),an(this,{primaryType:s[0]});function o(u,c){Ae(!c.has(u),`circular type reference to ${JSON.stringify(u)}`,"types",e),c.add(u);for(const h of t.get(u))if(r.has(h)){o(h,c);for(const p of c)i.get(p).add(h)}c.delete(u)}o(this.primaryType,new Set);for(const[u,c]of i){const h=Array.from(c);h.sort(),q(this,Lh).set(u,fH(u,a[u])+h.map(p=>fH(p,a[p])).join(""))}}get types(){return JSON.parse(q(this,Ow))}getEncoder(e){let t=q(this,lb).get(e);return t||(t=_t(this,t3,OK).call(this,e),q(this,lb).set(e,t)),t}encodeType(e){const t=q(this,Lh).get(e);return Ae(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Gi(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(RD(e))return r(e,t);const i=wM(e).array;if(i)return Ae(i.count===-1||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(s=>this._visit(i.prefix,s,r));const a=this.types[e];if(a)return a.reduce((s,{name:o,type:u})=>(s[o]=this._visit(u,t[o],r),s),{});Ae(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new du(e)}static getPrimaryType(e){return du.from(e).primaryType}static hashStruct(e,t,r){return du.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const i=uH[r];Ae(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>OD.indexOf(r.name)-OD.indexOf(i.name)),du.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return oi(["0x1901",du.hashDomain(e),du.from(t).hash(r)])}static hash(e,t,r){return Gi(du.encode(e,t,r))}static async resolveNames(e,t,r,i){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const a={};e.verifyingContract&&!Gr(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=du.from(t);s.visit(r,(o,u)=>(o==="address"&&!Gr(u,20)&&(a[u]="0x"),u));for(const o in a)a[o]=await i(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=s.visit(r,(o,u)=>o==="address"&&a[u]?a[u]:u),{domain:e,value:r}}static getPayload(e,t,r){du.hashDomain(e);const i={},a=[];OD.forEach(u=>{const c=e[u];c!=null&&(i[u]=XTe[u](c),a.push({name:u,type:uH[u]}))});const s=du.from(t);t=s.types;const o=Object.assign({},t);return Ae(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=a,s.encode(r),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(r,(u,c)=>{if(u.match(/^bytes(\d*)/))return Lt(Dn(c));if(u.match(/^u?int/))return Vt(c).toString();switch(u){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return Ae(typeof c=="string","invalid string","value",c),c}Ae(!1,"unsupported type","type",u)})}}};Ow=new WeakMap,Lh=new WeakMap,lb=new WeakMap,t3=new WeakSet,OK=function(e){{const i=RD(e);if(i)return i}const t=wM(e).array;if(t){const i=t.prefix,a=this.getEncoder(i);return s=>{Ae(t.count===-1||t.count===s.length,`array length mismatch; expected length ${t.count}`,"value",s);let o=s.map(a);return q(this,Lh).has(i)&&(o=o.map(Gi)),Gi(oi(o))}}const r=this.types[e];if(r){const i=E0(q(this,Lh).get(e));return a=>{const s=r.map(({name:o,type:u})=>{const c=this.getEncoder(u)(a[o]);return q(this,Lh).has(u)?Gi(c):c});return s.unshift(i),oi(s)}}Ae(!1,`unknown type: ${e}`,"type",e)};let $C=du;function co(n){const e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}const YTe="external public payable override",KTe=co(YTe.split(" ")),RK="constant external internal payable private public pure view override",$Te=co(RK.split(" ")),NK="constructor error event fallback function receive struct",DK=co(NK.split(" ")),IK="calldata memory storage payable indexed",ZTe=co(IK.split(" ")),QTe="tuple returns",JTe=[NK,IK,QTe,RK].join(" "),eCe=co(JTe.split(" ")),tCe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},nCe=new RegExp("^(\\s*)"),rCe=new RegExp("^([0-9]+)"),iCe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),LK=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),UK=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var es,ic,Rw,ML;const n3=class n3{constructor(e){$e(this,Rw);$e(this,es);$e(this,ic);pe(this,es,0),pe(this,ic,e.slice())}get offset(){return q(this,es)}get length(){return q(this,ic).length-q(this,es)}clone(){return new n3(q(this,ic))}reset(){pe(this,es,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=_t(this,Rw,ML).call(this,q(this,es)+1,e.match+1);return pe(this,es,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;q(this,es)<e.match-1;){const r=this.peek().linkNext;t.push(_t(this,Rw,ML).call(this,q(this,es)+1,r)),pe(this,es,r)}return pe(this,es,e.match+1),t}peek(){if(q(this,es)>=q(this,ic).length)throw new Error("out-of-bounds");return q(this,ic)[q(this,es)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return N1(this,es)._++,e}toString(){const e=[];for(let t=q(this,es);t<q(this,ic).length;t++){const r=q(this,ic)[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};es=new WeakMap,ic=new WeakMap,Rw=new WeakSet,ML=function(e=0,t=0){return new n3(q(this,ic).slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let yc=n3;function dm(n){const e=[],t=s=>{const o=a<n.length?JSON.stringify(n[a]):"$EOI";throw new Error(`invalid token ${o} at ${a}: ${s}`)};let r=[],i=[],a=0;for(;a<n.length;){let s=n.substring(a),o=s.match(nCe);o&&(a+=o[1].length,s=n.substring(a));const u={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};e.push(u);let c=tCe[s[0]]||"";if(c){if(u.type=c,u.text=s[0],a++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),u.match=r.pop(),e[u.match].match=e.length-1,u.depth--,u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1;else if(c==="COMMA")u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")u.type="BRACKET";else if(c==="CLOSE_BRACKET"){let h=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const p=e.pop().text;h=p+h,e[e.length-1].value=En(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=h}continue}if(o=s.match(iCe),o){if(u.text=o[1],a+=u.text.length,eCe.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(UK)){u.type="TYPE";continue}u.type="ID";continue}if(o=s.match(rCe),o){u.text=o[1],u.type="NUMBER",a+=u.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${a}`)}return new yc(e.map(s=>Object.freeze(s)))}function hH(n,e){let t=[];for(const r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function VP(n,e){if(e.peekKeyword(DK)){const t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function pd(n,e){const t=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function kK(n){let e=pd(n,$Te);return hH(e,co("constant payable nonpayable".split(" "))),hH(e,co("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ed(n,e){return n.popParams().map(t=>ls.from(t,e))}function BK(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return Vt(n.pop().text);throw new Error("invalid gas")}return null}function M0(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const aCe=new RegExp(/^(.*)\[([0-9]*)\]$/);function dH(n){const e=n.match(UK);if(Ae(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){const t=parseInt(e[2]);Ae(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){const t=parseInt(e[3]);Ae(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const bi={},Jo=Symbol.for("_ethers_internal"),pH="_ParamTypeInternal",mH="_ErrorInternal",gH="_EventInternal",vH="_ConstructorInternal",yH="_FallbackInternal",bH="_FunctionInternal",xH="_StructInternal";var ub,VM;const pu=class pu{constructor(e,t,r,i,a,s,o,u){$e(this,ub);ke(this,"name");ke(this,"type");ke(this,"baseType");ke(this,"indexed");ke(this,"components");ke(this,"arrayLength");ke(this,"arrayChildren");if(vS(e,bi,"ParamType"),Object.defineProperty(this,Jo,{value:pH}),s&&(s=Object.freeze(s.slice())),i==="array"){if(o==null||u==null)throw new Error("")}else if(o!=null||u!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");an(this,{name:t,type:r,baseType:i,indexed:a,components:s,arrayLength:o,arrayChildren:u})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const a=JSON.parse(this.arrayChildren.format("json"));return a.name=r,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(a=>JSON.parse(a.format(e)))),JSON.stringify(i)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,a)=>r.components[a].walk(i,t))}return t(this.type,e)}async walkAsync(e,t){const r=[],i=[e];return _t(this,ub,VM).call(this,r,e,t,a=>{i[0]=a}),r.length&&await Promise.all(r),i[0]}static from(e,t){if(pu.isParamType(e))return e;if(typeof e=="string")try{return pu.from(dm(e),t)}catch{Ae(!1,"invalid param type","obj",e)}else if(e instanceof yc){let o="",u="",c=null;pd(e,co(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(u="tuple",c=e.popParams().map(S=>pu.from(S)),o=`tuple(${c.map(S=>S.format()).join(",")})`):(o=dH(e.popType("TYPE")),u=o);let h=null,p=null;for(;e.length&&e.peekType("BRACKET");){const S=e.pop();h=new pu(bi,"",o,u,null,c,p,h),p=S.value,o+=S.text,u="array",c=null}let v=null;if(pd(e,ZTe).has("indexed")){if(!t)throw new Error("");v=!0}const x=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new pu(bi,x,o,u,v,c,p,h)}const r=e.name;Ae(!r||typeof r=="string"&&r.match(LK),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(Ae(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let a=e.type,s=a.match(aCe);if(s){const o=parseInt(s[2]||"-1"),u=pu.from({type:s[1],components:e.components});return new pu(bi,r||"",a,"array",i,null,o,u)}if(a==="tuple"||a.startsWith("tuple(")||a.startsWith("(")){const o=e.components!=null?e.components.map(c=>pu.from(c)):null;return new pu(bi,r||"",a,"tuple",i,o,null,null)}return a=dH(e.type),new pu(bi,r||"",a,a,i,null,null,null)}static isParamType(e){return e&&e[Jo]===pH}};ub=new WeakSet,VM=function(e,t,r,i){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,o=t.slice();o.forEach((u,c)=>{var h;_t(h=s,ub,VM).call(h,e,u,r,p=>{o[c]=p})}),i(o);return}if(this.isTuple()){const s=this.components;let o;if(Array.isArray(t))o=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");o=s.map(u=>{if(!u.name)throw new Error("cannot use object value with unnamed components");if(!(u.name in t))throw new Error(`missing value for component ${u.name}`);return t[u.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((u,c)=>{var h;_t(h=s[c],ub,VM).call(h,e,u,r,p=>{o[c]=p})}),i(o);return}const a=r(this.type,t);a.then?e.push((async function(){i(await a)})()):i(a)};let ls=pu;class T0{constructor(e,t,r){ke(this,"type");ke(this,"inputs");vS(e,bi,"Fragment"),r=Object.freeze(r.slice()),an(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{T0.from(JSON.parse(e))}catch{}return T0.from(dm(e))}if(e instanceof yc)switch(e.peekKeyword(DK)){case"constructor":return Kh.from(e);case"error":return Xo.from(e);case"event":return wf.from(e);case"fallback":case"receive":return Oh.from(e);case"function":return Sf.from(e);case"struct":return h0.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Kh.from(e);case"error":return Xo.from(e);case"event":return wf.from(e);case"fallback":case"receive":return Oh.from(e);case"function":return Sf.from(e);case"struct":return h0.from(e)}mt(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Ae(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Kh.isFragment(e)}static isError(e){return Xo.isFragment(e)}static isEvent(e){return wf.isFragment(e)}static isFunction(e){return Sf.isFragment(e)}static isStruct(e){return h0.isFragment(e)}}class jP extends T0{constructor(t,r,i,a){super(t,r,a);ke(this,"name");Ae(typeof i=="string"&&i.match(LK),"invalid identifier","name",i),a=Object.freeze(a.slice()),an(this,{name:i})}}function Sw(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class Xo extends jP{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,Jo,{value:mH})}get selector(){return E0(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Sw(e,this.inputs)),t.join(" ")}static from(e){if(Xo.isFragment(e))return e;if(typeof e=="string")return Xo.from(dm(e));if(e instanceof yc){const t=VP("error",e),r=ed(e);return M0(e),new Xo(bi,t,r)}return new Xo(bi,e.name,e.inputs?e.inputs.map(ls.from):[])}static isFragment(e){return e&&e[Jo]===mH}}class wf extends jP{constructor(t,r,i,a){super(t,"event",r,i);ke(this,"anonymous");Object.defineProperty(this,Jo,{value:gH}),an(this,{anonymous:a})}get topicHash(){return E0(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const r=[];return t!=="sighash"&&r.push("event"),r.push(this.name+Sw(t,this.inputs)),t!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(t,r){return r=(r||[]).map(a=>ls.from(a)),new wf(bi,t,r,!1).topicHash}static from(t){if(wf.isFragment(t))return t;if(typeof t=="string")try{return wf.from(dm(t))}catch{Ae(!1,"invalid event fragment","obj",t)}else if(t instanceof yc){const r=VP("event",t),i=ed(t,!0),a=!!pd(t,co(["anonymous"])).has("anonymous");return M0(t),new wf(bi,r,i,a)}return new wf(bi,t.name,t.inputs?t.inputs.map(r=>ls.from(r,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Jo]===gH}}class Kh extends T0{constructor(t,r,i,a,s){super(t,r,i);ke(this,"payable");ke(this,"gas");Object.defineProperty(this,Jo,{value:vH}),an(this,{payable:a,gas:s})}format(t){if(mt(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const r=[`constructor${Sw(t,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(t){if(Kh.isFragment(t))return t;if(typeof t=="string")try{return Kh.from(dm(t))}catch{Ae(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof yc){pd(t,co(["constructor"]));const r=ed(t),i=!!pd(t,KTe).has("payable"),a=BK(t);return M0(t),new Kh(bi,"constructor",r,i,a)}return new Kh(bi,"constructor",t.inputs?t.inputs.map(ls.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Jo]===vH}}class Oh extends T0{constructor(t,r,i){super(t,"fallback",r);ke(this,"payable");Object.defineProperty(this,Jo,{value:yH}),an(this,{payable:i})}format(t){const r=this.inputs.length===0?"receive":"fallback";if(t==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(t){if(Oh.isFragment(t))return t;if(typeof t=="string")try{return Oh.from(dm(t))}catch{Ae(!1,"invalid fallback fragment","obj",t)}else if(t instanceof yc){const r=t.toString(),i=t.peekKeyword(co(["fallback","receive"]));if(Ae(i,"type must be fallback or receive","obj",r),t.popKeyword(co(["fallback","receive"]))==="receive"){const u=ed(t);return Ae(u.length===0,"receive cannot have arguments","obj.inputs",u),pd(t,co(["payable"])),M0(t),new Oh(bi,[],!0)}let s=ed(t);s.length?Ae(s.length===1&&s[0].type==="bytes","invalid fallback inputs","obj.inputs",s.map(u=>u.format("minimal")).join(", ")):s=[ls.from("bytes")];const o=kK(t);if(Ae(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),pd(t,co(["returns"])).has("returns")){const u=ed(t);Ae(u.length===1&&u[0].type==="bytes","invalid fallback outputs","obj.outputs",u.map(c=>c.format("minimal")).join(", "))}return M0(t),new Oh(bi,s,o==="payable")}if(t.type==="receive")return new Oh(bi,[],!0);if(t.type==="fallback"){const r=[ls.from("bytes")],i=t.stateMutability==="payable";return new Oh(bi,r,i)}Ae(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Jo]===yH}}class Sf extends jP{constructor(t,r,i,a,s,o){super(t,"function",r,a);ke(this,"constant");ke(this,"outputs");ke(this,"stateMutability");ke(this,"payable");ke(this,"gas");Object.defineProperty(this,Jo,{value:bH}),s=Object.freeze(s.slice()),an(this,{constant:i==="view"||i==="pure",gas:o,outputs:s,payable:i==="payable",stateMutability:i})}get selector(){return E0(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});const r=[];return t!=="sighash"&&r.push("function"),r.push(this.name+Sw(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Sw(t,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(t,r){return r=(r||[]).map(a=>ls.from(a)),new Sf(bi,t,"view",r,[],null).selector}static from(t){if(Sf.isFragment(t))return t;if(typeof t=="string")try{return Sf.from(dm(t))}catch{Ae(!1,"invalid function fragment","obj",t)}else if(t instanceof yc){const i=VP("function",t),a=ed(t),s=kK(t);let o=[];pd(t,co(["returns"])).has("returns")&&(o=ed(t));const u=BK(t);return M0(t),new Sf(bi,i,s,a,o,u)}let r=t.stateMutability;return r==null&&(r="payable",typeof t.constant=="boolean"?(r="view",t.constant||(r="payable",typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable")),new Sf(bi,t.name,r,t.inputs?t.inputs.map(ls.from):[],t.outputs?t.outputs.map(ls.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Jo]===bH}}class h0 extends jP{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,Jo,{value:xH})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return h0.from(dm(e))}catch{Ae(!1,"invalid struct fragment","obj",e)}else if(e instanceof yc){const t=VP("struct",e),r=ed(e);return M0(e),new h0(bi,t,r)}return new h0(bi,e.name,e.inputs?e.inputs.map(ls.from):[])}static isFragment(e){return e&&e[Jo]===xH}}const _c=new Map;_c.set(0,"GENERIC_PANIC");_c.set(1,"ASSERT_FALSE");_c.set(17,"OVERFLOW");_c.set(18,"DIVIDE_BY_ZERO");_c.set(33,"ENUM_RANGE_ERROR");_c.set(34,"BAD_STORAGE_DATA");_c.set(49,"STACK_UNDERFLOW");_c.set(50,"ARRAY_RANGE_ERROR");_c.set(65,"OUT_OF_MEMORY");_c.set(81,"UNINITIALIZED_FUNCTION_CALL");const sCe=new RegExp(/^bytes([0-9]*)$/),oCe=new RegExp(/^(u?int)([0-9]*)$/);let ND=null,_H=1024;function lCe(n,e,t,r){let i="missing revert data",a=null;const s=null;let o=null;if(t){i="execution reverted";const c=Dn(t);if(t=Lt(t),c.length===0)i+=" (no data present; likely require(false) occurred",a="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Lt(c.slice(0,4))==="0x08c379a0")try{a=r.decode(["string"],c.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[a]},i+=`: ${JSON.stringify(a)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Lt(c.slice(0,4))==="0x4e487b71")try{const h=Number(r.decode(["uint256"],c.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[h]},a=`Panic due to ${_c.get(h)||"UNKNOWN"}(${h})`,i+=`: ${a}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const u={to:e.to?br(e.to):null,data:e.data||"0x"};return e.from&&(u.from=br(e.from)),ri(i,"CALL_EXCEPTION",{action:n,data:t,reason:a,transaction:u,invocation:s,revert:o})}var Np,vy;const r3=class r3{constructor(){$e(this,Np)}getDefaultValue(e){const t=e.map(i=>_t(this,Np,vy).call(this,ls.from(i)));return new _M(t,"_").defaultValue()}encode(e,t){fY(t.length,e.length,"types/values length mismatch");const r=e.map(s=>_t(this,Np,vy).call(this,ls.from(s))),i=new _M(r,"_"),a=new fL;return i.encode(a,t),a.data}decode(e,t,r){const i=e.map(s=>_t(this,Np,vy).call(this,ls.from(s)));return new _M(i,"_").decode(new hL(t,r,_H))}static _setDefaultMaxInflation(e){Ae(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),_H=e}static defaultAbiCoder(){return ND==null&&(ND=new r3),ND}static getBuiltinCallException(e,t,r){return lCe(e,t,r,r3.defaultAbiCoder())}};Np=new WeakSet,vy=function(e){if(e.isArray())return new EMe(_t(this,Np,vy).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new _M(e.components.map(r=>_t(this,Np,vy).call(this,r)),e.name);switch(e.baseType){case"address":return new SMe(e.name);case"bool":return new MMe(e.name);case"string":return new LMe(e.name);case"bytes":return new TMe(e.name);case"":return new OMe(e.name)}let t=e.type.match(oCe);if(t){let r=parseInt(t[2]||"256");return Ae(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new IMe(r/8,t[1]==="int",e.name)}if(t=e.type.match(sCe),t){let r=parseInt(t[1]);return Ae(r!==0&&r<=32,"invalid bytes length","param",e),new CMe(r,e.name)}Ae(!1,"invalid type","type",e.type)};let Aw=r3;class uCe{constructor(e,t,r){ke(this,"fragment");ke(this,"name");ke(this,"signature");ke(this,"topic");ke(this,"args");const i=e.name,a=e.format();an(this,{fragment:e,name:i,signature:a,topic:t,args:r})}}class cCe{constructor(e,t,r,i){ke(this,"fragment");ke(this,"name");ke(this,"args");ke(this,"signature");ke(this,"selector");ke(this,"value");const a=e.name,s=e.format();an(this,{fragment:e,name:a,args:r,signature:s,selector:t,value:i})}}class fCe{constructor(e,t,r){ke(this,"fragment");ke(this,"name");ke(this,"args");ke(this,"signature");ke(this,"selector");const i=e.name,a=e.format();an(this,{fragment:e,name:i,args:r,signature:a,selector:t})}}class wH{constructor(e){ke(this,"hash");ke(this,"_isIndexed");an(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const SH={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},AH={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&SH[n.toString()]&&(e=SH[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}};var pf,mf,gf,Es,Rf,jM,WM;const Eg=class Eg{constructor(e){$e(this,Rf);ke(this,"fragments");ke(this,"deploy");ke(this,"fallback");ke(this,"receive");$e(this,pf);$e(this,mf);$e(this,gf);$e(this,Es);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,pe(this,gf,new Map),pe(this,pf,new Map),pe(this,mf,new Map);const r=[];for(const s of t)try{r.push(T0.from(s))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,o.message)}an(this,{fragments:Object.freeze(r)});let i=null,a=!1;pe(this,Es,this.getAbiCoder()),this.fragments.forEach((s,o)=>{let u;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}an(this,{deploy:s});return;case"fallback":s.inputs.length===0?a=!0:(Ae(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${o}]`,s),i=s,a=i.payable);return;case"function":u=q(this,gf);break;case"event":u=q(this,mf);break;case"error":u=q(this,pf);break;default:return}const c=s.format();u.has(c)||u.set(c,s)}),this.deploy||an(this,{deploy:Kh.from("constructor()")}),an(this,{fallback:i,receive:a})}format(e){const t=e?"minimal":"full";return this.fragments.map(i=>i.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Aw.defaultAbiCoder()}getFunctionName(e){const t=_t(this,Rf,jM).call(this,e,null,!1);return Ae(t,"no matching function","key",e),t.name}hasFunction(e){return!!_t(this,Rf,jM).call(this,e,null,!1)}getFunction(e,t){return _t(this,Rf,jM).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(q(this,gf).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(q(this,gf).get(i),r)}}getEventName(e){const t=_t(this,Rf,WM).call(this,e,null,!1);return Ae(t,"no matching event","key",e),t.name}hasEvent(e){return!!_t(this,Rf,WM).call(this,e,null,!1)}getEvent(e,t){return _t(this,Rf,WM).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(q(this,mf).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(q(this,mf).get(i),r)}}getError(e,t){if(Gr(e)){const i=e.toLowerCase();if(AH[i])return Xo.from(AH[i].signature);for(const a of q(this,pf).values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,s]of q(this,pf))a.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?Xo.from("error Error(string)"):e==="Panic"?Xo.from("error Panic(uint256)"):null;if(i.length>1){const a=i.map(s=>JSON.stringify(s.format())).join(", ");Ae(!1,`ambiguous error description (i.e. ${a})`,"name",e)}return i[0]}if(e=Xo.from(e).format(),e==="Error(string)")return Xo.from("error Error(string)");if(e==="Panic(uint256)")return Xo.from("error Panic(uint256)");const r=q(this,pf).get(e);return r||null}forEachError(e){const t=Array.from(q(this,pf).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(q(this,pf).get(i),r)}}_decodeParams(e,t){return q(this,Es).decode(e,t)}_encodeParams(e,t){return q(this,Es).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);Ae(r,"unknown error","fragment",e),e=r}return Ae(Oi(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Oi(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);Ae(r,"unknown error","fragment",e),e=r}return oi([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);Ae(r,"unknown function","fragment",e),e=r}return Ae(Oi(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Oi(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);Ae(r,"unknown function","fragment",e),e=r}return oi([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const a=this.getFunction(e);Ae(a,"unknown function","fragment",e),e=a}let r="invalid length for result data";const i=io(t);if(i.length%32===0)try{return q(this,Es).decode(e.outputs,i)}catch{r="could not decode result data"}mt(!1,r,"BAD_DATA",{value:Lt(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=Dn(e,"data"),i=Aw.getBuiltinCallException("call",t,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const o=Lt(r.slice(0,4)),u=this.getError(o);if(u)try{const c=q(this,Es).decode(u.inputs,r.slice(4));i.revert={name:u.name,signature:u.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(t);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,t){if(typeof e=="string"){const r=this.getFunction(e);Ae(r,"unknown function","fragment",e),e=r}return Lt(q(this,Es).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const a=this.getEvent(e);Ae(a,"unknown event","eventFragment",e),e=a}mt(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(a,s)=>a.type==="string"?E0(s):a.type==="bytes"?Gi(Lt(s)):(a.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":a.type.match(/^u?int/)?s=im(s):a.type.match(/^bytes/)?s=SAe(s,32):a.type==="address"&&q(this,Es).encode(["address"],[s]),hd(Lt(s),32));for(t.forEach((a,s)=>{const o=e.inputs[s];if(!o.indexed){Ae(a==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,a);return}a==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?Ae(!1,"filtering with tuples or arrays not supported","contract."+o.name,a):Array.isArray(a)?r.push(a.map(u=>i(o,u))):r.push(i(o,a))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){const s=this.getEvent(e);Ae(s,"unknown event","eventFragment",e),e=s}const r=[],i=[],a=[];return e.anonymous||r.push(e.topicHash),Ae(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((s,o)=>{const u=t[o];if(s.indexed)if(s.type==="string")r.push(E0(u));else if(s.type==="bytes")r.push(Gi(u));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");r.push(q(this,Es).encode([s.type],[u]))}else i.push(s),a.push(u)}),{data:q(this,Es).encode(i,a),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){const y=this.getEvent(e);Ae(y,"unknown event","eventFragment",e),e=y}if(r!=null&&!e.anonymous){const y=e.topicHash;Ae(Gr(r[0],32)&&r[0].toLowerCase()===y,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],a=[],s=[];e.inputs.forEach((y,x)=>{y.indexed?y.type==="string"||y.type==="bytes"||y.baseType==="tuple"||y.baseType==="array"?(i.push(ls.from({type:"bytes32",name:y.name})),s.push(!0)):(i.push(y),s.push(!1)):(a.push(y),s.push(!1))});const o=r!=null?q(this,Es).decode(i,oi(r)):null,u=q(this,Es).decode(a,t,!0),c=[],h=[];let p=0,v=0;return e.inputs.forEach((y,x)=>{let S=null;if(y.indexed)if(o==null)S=new wH(null);else if(s[x])S=new wH(o[v++]);else try{S=o[v++]}catch(w){S=w}else try{S=u[p++]}catch(w){S=w}c.push(S),h.push(y.name||null)}),Vb.fromItems(c,h)}parseTransaction(e){const t=Dn(e.data,"tx.data"),r=Vt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(Lt(t.slice(0,4)));if(!i)return null;const a=q(this,Es).decode(i.inputs,t.slice(4));return new cCe(i,i.selector,a,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new uCe(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Lt(e),r=this.getError(Oi(t,0,4));if(!r)return null;const i=q(this,Es).decode(r.inputs,Oi(t,4));return new fCe(r,r.selector,i)}static from(e){return e instanceof Eg?e:typeof e=="string"?new Eg(JSON.parse(e)):typeof e.formatJson=="function"?new Eg(e.formatJson()):typeof e.format=="function"?new Eg(e.format("json")):new Eg(e)}};pf=new WeakMap,mf=new WeakMap,gf=new WeakMap,Es=new WeakMap,Rf=new WeakSet,jM=function(e,t,r){if(Gr(e)){const a=e.toLowerCase();for(const s of q(this,gf).values())if(a===s.selector)return s;return null}if(e.indexOf("(")===-1){const a=[];for(const[s,o]of q(this,gf))s.split("(")[0]===e&&a.push(o);if(t){const s=t.length>0?t[t.length-1]:null;let o=t.length,u=!0;Ns.isTyped(s)&&s.type==="overrides"&&(u=!1,o--);for(let c=a.length-1;c>=0;c--){const h=a[c].inputs.length;h!==o&&(!u||h!==o-1)&&a.splice(c,1)}for(let c=a.length-1;c>=0;c--){const h=a[c].inputs;for(let p=0;p<t.length;p++)if(Ns.isTyped(t[p])){if(p>=h.length){if(t[p].type==="overrides")continue;a.splice(c,1);break}if(t[p].type!==h[p].baseType){a.splice(c,1);break}}}}if(a.length===1&&t&&t.length!==a[0].inputs.length){const s=t[t.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&a.splice(0,1)}if(a.length===0)return null;if(a.length>1&&r){const s=a.map(o=>JSON.stringify(o.format())).join(", ");Ae(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return a[0]}const i=q(this,gf).get(Sf.from(e).format());return i||null},WM=function(e,t,r){if(Gr(e)){const a=e.toLowerCase();for(const s of q(this,mf).values())if(a===s.topicHash)return s;return null}if(e.indexOf("(")===-1){const a=[];for(const[s,o]of q(this,mf))s.split("(")[0]===e&&a.push(o);if(t){for(let s=a.length-1;s>=0;s--)a[s].inputs.length<t.length&&a.splice(s,1);for(let s=a.length-1;s>=0;s--){const o=a[s].inputs;for(let u=0;u<t.length;u++)if(Ns.isTyped(t[u])&&t[u].type!==o[u].baseType){a.splice(s,1);break}}}if(a.length===0)return null;if(a.length>1&&r){const s=a.map(o=>JSON.stringify(o.format())).join(", ");Ae(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return a[0]}const i=q(this,mf).get(wf.from(e).format());return i||null};let TL=Eg;const FK=BigInt(0);function ky(n){return n??null}function Bi(n){return n==null?null:n.toString()}class EH{constructor(e,t,r){ke(this,"gasPrice");ke(this,"maxFeePerGas");ke(this,"maxPriorityFeePerGas");an(this,{gasPrice:ky(e),maxFeePerGas:ky(t),maxPriorityFeePerGas:ky(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Bi(e),maxFeePerGas:Bi(t),maxPriorityFeePerGas:Bi(r)}}}function ZC(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=Lt(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in n)||n[i]==null||(e[i]=Vt(n[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in n)||n[i]==null||(e[i]=En(n[i],`request.${i}`));return n.accessList&&(e.accessList=k0(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(i=>yk(i)?Lt(i):Object.assign({},i))),e}var Uh;class hCe{constructor(e,t){ke(this,"provider");ke(this,"number");ke(this,"hash");ke(this,"timestamp");ke(this,"parentHash");ke(this,"parentBeaconBlockRoot");ke(this,"nonce");ke(this,"difficulty");ke(this,"gasLimit");ke(this,"gasUsed");ke(this,"stateRoot");ke(this,"receiptsRoot");ke(this,"blobGasUsed");ke(this,"excessBlobGas");ke(this,"miner");ke(this,"prevRandao");ke(this,"extraData");ke(this,"baseFeePerGas");$e(this,Uh);pe(this,Uh,e.transactions.map(r=>typeof r!="string"?new Ew(r,t):r)),an(this,{provider:t,hash:ky(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:ky(e.prevRandao),extraData:e.extraData,baseFeePerGas:ky(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return q(this,Uh).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=q(this,Uh).slice();return e.length===0?[]:(mt(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:i,gasUsed:a,hash:s,miner:o,prevRandao:u,nonce:c,number:h,parentHash:p,parentBeaconBlockRoot:v,stateRoot:y,receiptsRoot:x,timestamp:S,transactions:w}=this;return{_type:"Block",baseFeePerGas:Bi(e),difficulty:Bi(t),extraData:r,gasLimit:Bi(i),gasUsed:Bi(a),blobGasUsed:Bi(this.blobGasUsed),excessBlobGas:Bi(this.excessBlobGas),hash:s,miner:o,prevRandao:u,nonce:c,number:h,parentHash:p,timestamp:S,parentBeaconBlockRoot:v,stateRoot:y,receiptsRoot:x,transactions:w}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return q(this,Uh).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=q(this,Uh)[e];else{const r=e.toLowerCase();for(const i of q(this,Uh))if(typeof i=="string"){if(i!==r)continue;t=i;break}else{if(i.hash!==r)continue;t=i;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;Ae(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return dCe(this)}}Uh=new WeakMap;class _S{constructor(e,t){ke(this,"provider");ke(this,"transactionHash");ke(this,"blockHash");ke(this,"blockNumber");ke(this,"removed");ke(this,"address");ke(this,"data");ke(this,"topics");ke(this,"index");ke(this,"transactionIndex");this.provider=t;const r=Object.freeze(e.topics.slice());an(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:i,index:a,removed:s,topics:o,transactionHash:u,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:i,index:a,removed:s,topics:o,transactionHash:u,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return mt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return mt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return mt(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return pCe(this)}}var Nw;class zK{constructor(e,t){ke(this,"provider");ke(this,"to");ke(this,"from");ke(this,"contractAddress");ke(this,"hash");ke(this,"index");ke(this,"blockHash");ke(this,"blockNumber");ke(this,"logsBloom");ke(this,"gasUsed");ke(this,"blobGasUsed");ke(this,"cumulativeGasUsed");ke(this,"gasPrice");ke(this,"blobGasPrice");ke(this,"type");ke(this,"status");ke(this,"root");$e(this,Nw);pe(this,Nw,Object.freeze(e.logs.map(i=>new _S(i,t))));let r=FK;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),an(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return q(this,Nw)}toJSON(){const{to:e,from:t,contractAddress:r,hash:i,index:a,blockHash:s,blockNumber:o,logsBloom:u,logs:c,status:h,root:p}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:r,cumulativeGasUsed:Bi(this.cumulativeGasUsed),from:t,gasPrice:Bi(this.gasPrice),blobGasUsed:Bi(this.blobGasUsed),blobGasPrice:Bi(this.blobGasPrice),gasUsed:Bi(this.gasUsed),hash:i,index:a,logs:c,logsBloom:u,root:p,status:h,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return HK(this)}reorderedEvent(e){return mt(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),GK(this,e)}}Nw=new WeakMap;var Dp;const Bk=class Bk{constructor(e,t){ke(this,"provider");ke(this,"blockNumber");ke(this,"blockHash");ke(this,"index");ke(this,"hash");ke(this,"type");ke(this,"to");ke(this,"from");ke(this,"nonce");ke(this,"gasLimit");ke(this,"gasPrice");ke(this,"maxPriorityFeePerGas");ke(this,"maxFeePerGas");ke(this,"maxFeePerBlobGas");ke(this,"data");ke(this,"value");ke(this,"chainId");ke(this,"signature");ke(this,"accessList");ke(this,"blobVersionedHashes");ke(this,"authorizationList");$e(this,Dp);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,pe(this,Dp,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:i,type:a,to:s,from:o,nonce:u,data:c,signature:h,accessList:p,blobVersionedHashes:v}=this;return{_type:"TransactionResponse",accessList:p,blockNumber:e,blockHash:t,blobVersionedHashes:v,chainId:Bi(this.chainId),data:c,from:o,gasLimit:Bi(this.gasLimit),gasPrice:Bi(this.gasPrice),hash:i,maxFeePerGas:Bi(this.maxFeePerGas),maxPriorityFeePerGas:Bi(this.maxPriorityFeePerGas),maxFeePerBlobGas:Bi(this.maxFeePerBlobGas),nonce:u,signature:h,to:s,index:r,type:a,value:Bi(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:r}=await eo({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=e??1,i=t??0;let a=q(this,Dp),s=-1,o=a===-1;const u=async()=>{if(o)return null;const{blockNumber:v,nonce:y}=await eo({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(y<this.nonce){a=v;return}if(o)return null;const x=await this.getTransaction();if(!(x&&x.blockNumber!=null))for(s===-1&&(s=a-3,s<q(this,Dp)&&(s=q(this,Dp)));s<=v;){if(o)return null;const S=await this.provider.getBlock(s,!0);if(S==null)return;for(const w of S)if(w===this.hash)return;for(let w=0;w<S.length;w++){const A=await S.getTransaction(w);if(A.from===this.from&&A.nonce===this.nonce){if(o)return null;const T=await this.provider.getTransactionReceipt(A.hash);if(T==null||v-T.blockNumber+1<r)return;let C="replaced";A.data===this.data&&A.to===this.to&&A.value===this.value?C="repriced":A.data==="0x"&&A.from===A.to&&A.value===FK&&(C="cancelled"),mt(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:C==="replaced"||C==="cancelled",reason:C,replacement:A.replaceableTransaction(a),hash:A.hash,receipt:T})}}s++}},c=v=>{if(v==null||v.status!==0)return v;mt(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:v.to,from:v.from,data:""},receipt:v})},h=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(h);if(h){if(r===1||await h.confirmations()>=r)return c(h)}else if(await u(),r===0)return null;return await new Promise((v,y)=>{const x=[],S=()=>{x.forEach(A=>A())};if(x.push(()=>{o=!0}),i>0){const A=setTimeout(()=>{S(),y(ri("wait for transaction timeout","TIMEOUT"))},i);x.push(()=>{clearTimeout(A)})}const w=async A=>{if(await A.confirmations()>=r){S();try{v(c(A))}catch(T){y(T)}}};if(x.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),a>=0){const A=async()=>{try{await u()}catch(T){if(as(T,"TRANSACTION_REPLACED")){S(),y(T);return}}o||this.provider.once("block",A)};x.push(()=>{this.provider.off("block",A)}),this.provider.once("block",A)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return mt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),HK(this)}reorderedEvent(e){return mt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),mt(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),GK(this,e)}replaceableTransaction(e){Ae(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Bk(this,this.provider);return pe(t,Dp,e),t}};Dp=new WeakMap;let Ew=Bk;function dCe(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function GK(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function HK(n){return{orphan:"drop-transaction",tx:n}}function pCe(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class Rk extends _S{constructor(t,r,i){super(t,t.provider);ke(this,"interface");ke(this,"fragment");ke(this,"args");const a=r.decodeEventLog(i,t.data,t.topics);an(this,{args:a,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class VK extends _S{constructor(t,r){super(t,t.provider);ke(this,"error");an(this,{error:r})}}var cb;class mCe extends zK{constructor(t,r,i){super(i,r);$e(this,cb);pe(this,cb,t)}get logs(){return super.logs.map(t=>{const r=t.topics.length?q(this,cb).getEvent(t.topics[0]):null;if(r)try{return new Rk(t,q(this,cb),r)}catch(i){return new VK(t,i)}return t})}}cb=new WeakMap;var Dw;class Nk extends Ew{constructor(t,r,i){super(i,r);$e(this,Dw);pe(this,Dw,t)}async wait(t,r){const i=await super.wait(t,r);return i==null?null:new mCe(q(this,Dw),this.provider,i)}}Dw=new WeakMap;class jK extends mY{constructor(t,r,i,a){super(t,r,i);ke(this,"log");an(this,{log:a})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class gCe extends jK{constructor(e,t,r,i,a){super(e,t,r,new Rk(a,e.interface,i));const s=e.interface.decodeEventLog(i,this.log.data,this.log.topics);an(this,{args:s,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const MH=BigInt(0);function WK(n){return n&&typeof n.call=="function"}function qK(n){return n&&typeof n.estimateGas=="function"}function WP(n){return n&&typeof n.resolveName=="function"}function XK(n){return n&&typeof n.sendTransaction=="function"}function YK(n){if(n!=null){if(WP(n))return n;if(n.provider)return n.provider}}var Iw;class vCe{constructor(e,t,r){$e(this,Iw);ke(this,"fragment");if(an(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const i=C0(e.runner,"resolveName"),a=WP(i)?i:null;pe(this,Iw,(async function(){const s=await Promise.all(t.inputs.map((o,u)=>r[u]==null?null:o.walkAsync(r[u],(h,p)=>h==="address"?Array.isArray(p)?Promise.all(p.map(v=>uo(v,a))):uo(p,a):p)));return e.interface.encodeFilterTopics(t,s)})())}getTopicFilter(){return q(this,Iw)}}Iw=new WeakMap;function C0(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function kg(n){return n==null?null:n.provider||null}async function KK(n,e){const t=Ns.dereference(n,"overrides");Ae(typeof t=="object","invalid overrides parameter","overrides",n);const r=ZC(t);return Ae(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),Ae(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function yCe(n,e,t){const r=C0(n,"resolveName"),i=WP(r)?r:null;return await Promise.all(e.map((a,s)=>a.walkAsync(t[s],(o,u)=>(u=Ns.dereference(u,o),o==="address"?uo(u,i):u))))}function bCe(n){const e=async function(s){const o=await KK(s,["data"]);o.to=await n.getAddress(),o.from&&(o.from=await uo(o.from,YK(n.runner)));const u=n.interface,c=Vt(o.value||MH,"overrides.value")===MH,h=(o.data||"0x")==="0x";u.fallback&&!u.fallback.payable&&u.receive&&!h&&!c&&Ae(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),Ae(u.fallback||h,"cannot send data to receive-only contract","overrides.data",o.data);const p=u.receive||u.fallback&&u.fallback.payable;return Ae(p||c,"cannot send value to non-payable fallback","overrides.value",o.value),Ae(u.fallback||h,"cannot send data to receive-only contract","overrides.data",o.data),o},t=async function(s){const o=C0(n.runner,"call");mt(WK(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const u=await e(s);try{return await o.call(u)}catch(c){throw vk(c)&&c.data?n.interface.makeError(c.data,u):c}},r=async function(s){const o=n.runner;mt(XK(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const u=await o.sendTransaction(await e(s)),c=kg(n.runner);return new Nk(n.interface,c,u)},i=async function(s){const o=C0(n.runner,"estimateGas");return mt(qK(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(s))},a=async s=>await r(s);return an(a,{_contract:n,estimateGas:i,populateTransaction:e,send:r,staticCall:t}),a}function xCe(n,e){const t=function(...c){const h=n.interface.getFunction(e,c);return mt(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),h},r=async function(...c){const h=t(...c);let p={};if(h.inputs.length+1===c.length&&(p=await KK(c.pop()),p.from&&(p.from=await uo(p.from,YK(n.runner)))),h.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const v=await yCe(n.runner,h.inputs,c);return Object.assign({},p,await eo({to:n.getAddress(),data:n.interface.encodeFunctionData(h,v)}))},i=async function(...c){const h=await o(...c);return h.length===1?h[0]:h},a=async function(...c){const h=n.runner;mt(XK(h),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const p=await h.sendTransaction(await r(...c)),v=kg(n.runner);return new Nk(n.interface,v,p)},s=async function(...c){const h=C0(n.runner,"estimateGas");return mt(qK(h),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await h.estimateGas(await r(...c))},o=async function(...c){const h=C0(n.runner,"call");mt(WK(h),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const p=await r(...c);let v="0x";try{v=await h.call(p)}catch(x){throw vk(x)&&x.data?n.interface.makeError(x.data,p):x}const y=t(...c);return n.interface.decodeFunctionResult(y,v)},u=async(...c)=>t(...c).constant?await i(...c):await a(...c);return an(u,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:s,populateTransaction:r,send:a,staticCall:i,staticCallResult:o}),Object.defineProperty(u,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=n.interface.getFunction(e);return mt(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),u}function _Ce(n,e){const t=function(...i){const a=n.interface.getEvent(e,i);return mt(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),a},r=function(...i){return new vCe(n,t(...i),i)};return an(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=n.interface.getEvent(e);return mt(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const QC=Symbol.for("_ethersInternal_contract"),$K=new WeakMap;function wCe(n,e){$K.set(n[QC],e)}function ml(n){return $K.get(n[QC])}function SCe(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function Dk(n,e){let t,r=null;if(Array.isArray(e)){const a=function(s){if(Gr(s,32))return s;const o=n.interface.getEvent(s);return Ae(o,"unknown fragment","name",s),o.topicHash};t=e.map(s=>s==null?null:Array.isArray(s)?s.map(a):a(s))}else e==="*"?t=[null]:typeof e=="string"?Gr(e,32)?t=[e]:(r=n.interface.getEvent(e),Ae(r,"unknown fragment","event",e),t=[r.topicHash]):SCe(e)?t=await e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):Ae(!1,"unknown event name","event",e);t=t.map(a=>{if(a==null)return null;if(Array.isArray(a)){const s=Array.from(new Set(a.map(o=>o.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return a.toLowerCase()});const i=t.map(a=>a==null?"null":Array.isArray(a)?a.join("|"):a).join("&");return{fragment:r,tag:i,topics:t}}async function p_(n,e){const{subs:t}=ml(n);return t.get((await Dk(n,e)).tag)||null}async function TH(n,e,t){const r=kg(n.runner);mt(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:a,topics:s}=await Dk(n,t),{addr:o,subs:u}=ml(n);let c=u.get(a);if(!c){const p={address:o||n,topics:s},v=w=>{let A=i;if(A==null)try{A=n.interface.getEvent(w.topics[0])}catch{}if(A){const T=A,C=i?n.interface.decodeEventLog(i,w.data,w.topics):[];PL(n,t,C,O=>new gCe(n,O,t,T,w))}else PL(n,t,[],T=>new jK(n,T,t,w))};let y=[];c={tag:a,listeners:[],start:()=>{y.length||y.push(r.on(p,v))},stop:async()=>{if(y.length==0)return;let w=y;y=[],await Promise.all(w),r.off(p,v)}},u.set(a,c)}return c}let CL=Promise.resolve();async function ACe(n,e,t,r){await CL;const i=await p_(n,e);if(!i)return!1;const a=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:o})=>{const u=Array.from(t);r&&u.push(r(o?null:s));try{s.call(n,...u)}catch{}return!o}),i.listeners.length===0&&(i.stop(),ml(n).subs.delete(i.tag)),a>0}async function PL(n,e,t,r){try{await CL}catch{}const i=ACe(n,e,t,r);return CL=i,await i}const SM=["then"];var WH;WH=QC;const D_=class D_{constructor(e,t,r,i){ke(this,"target");ke(this,"interface");ke(this,"runner");ke(this,"filters");ke(this,WH);ke(this,"fallback");Ae(typeof e=="string"||tK(e),"invalid value for Contract target","target",e),r==null&&(r=null);const a=TL.from(t);an(this,{target:e,runner:r,interface:a}),Object.defineProperty(this,QC,{value:{}});let s,o=null,u=null;if(i){const p=kg(r);u=new Nk(this.interface,p,i)}let c=new Map;if(typeof e=="string")if(Gr(e))o=e,s=Promise.resolve(e);else{const p=C0(r,"resolveName");if(!WP(p))throw ri("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=p.resolveName(e).then(v=>{if(v==null)throw ri("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ml(this).addr=v,v})}else s=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return ml(this).addr=p,p});wCe(this,{addrPromise:s,addr:o,deployTx:u,subs:c});const h=new Proxy({},{get:(p,v,y)=>{if(typeof v=="symbol"||SM.indexOf(v)>=0)return Reflect.get(p,v,y);try{return this.getEvent(v)}catch(x){if(!as(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(p,v)=>SM.indexOf(v)>=0?Reflect.has(p,v):Reflect.has(p,v)||this.interface.hasEvent(String(v))});return an(this,{filters:h}),an(this,{fallback:a.receive||a.fallback?bCe(this):null}),new Proxy(this,{get:(p,v,y)=>{if(typeof v=="symbol"||v in p||SM.indexOf(v)>=0)return Reflect.get(p,v,y);try{return p.getFunction(v)}catch(x){if(!as(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(p,v)=>typeof v=="symbol"||v in p||SM.indexOf(v)>=0?Reflect.has(p,v):p.interface.hasFunction(v)})}connect(e){return new D_(this.target,this.interface,e)}attach(e){return new D_(e,this.interface,this.runner)}async getAddress(){return await ml(this).addrPromise}async getDeployedCode(){const e=kg(this.runner);mt(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=kg(this.runner);return mt(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,a)=>{const s=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",s)}catch(o){a(o)}};s()})}deploymentTransaction(){return ml(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),xCe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),_Ce(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");const{addr:i,addrPromise:a}=ml(this),s=i||await a,{fragment:o,topics:u}=await Dk(this,e),c={address:s,topics:u,fromBlock:t,toBlock:r},h=kg(this.runner);return mt(h,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await h.getLogs(c)).map(p=>{let v=o;if(v==null)try{v=this.interface.getEvent(p.topics[0])}catch{}if(v)try{return new Rk(p,this.interface,v)}catch(y){return new VK(p,y)}return new _S(p,h)})}async on(e,t){const r=await TH(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await TH(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await PL(this,e,t,null)}async listenerCount(e){if(e){const i=await p_(this,e);return i?i.listeners.length:0}const{subs:t}=ml(this);let r=0;for(const{listeners:i}of t.values())r+=i.length;return r}async listeners(e){if(e){const i=await p_(this,e);return i?i.listeners.map(({listener:a})=>a):[]}const{subs:t}=ml(this);let r=[];for(const{listeners:i}of t.values())r=r.concat(i.map(({listener:a})=>a));return r}async off(e,t){const r=await p_(this,e);if(!r)return this;if(t){const i=r.listeners.map(({listener:a})=>a).indexOf(t);i>=0&&r.listeners.splice(i,1)}return(t==null||r.listeners.length===0)&&(r.stop(),ml(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await p_(this,e);if(!t)return this;t.stop(),ml(this).subs.delete(t.tag)}else{const{subs:t}=ml(this);for(const{tag:r,stop:i}of t.values())i(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends D_{constructor(i,a=null){super(i,e,a)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}};let OL=D_;function ECe(){return OL}class td extends ECe(){}function DD(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):Ae(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class MCe{constructor(e){ke(this,"name");an(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const ZK=new RegExp("^(ipfs)://(.*)$","i"),CH=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ZK,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Ip,Kg,Lp,yy,i3,QK;const Cy=class Cy{constructor(e,t,r){$e(this,Lp);ke(this,"provider");ke(this,"address");ke(this,"name");$e(this,Ip);$e(this,Kg);an(this,{provider:e,address:t,name:r}),pe(this,Ip,null),pe(this,Kg,new td(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return q(this,Ip)==null&&pe(this,Ip,(async()=>{try{return await q(this,Kg).supportsInterface("0x9061b923")}catch(e){if(as(e,"CALL_EXCEPTION"))return!1;throw pe(this,Ip,null),e}})()),await q(this,Ip)}async getAddress(e){if(e==null&&(e=60),e===60)try{const a=await _t(this,Lp,yy).call(this,"addr(bytes32)");return a==null||a===vw?null:a}catch(a){if(as(a,"CALL_EXCEPTION"))return null;throw a}if(e>=0&&e<2147483648){let a=e+2147483648;const s=await _t(this,Lp,yy).call(this,"addr(bytes32,uint)",[a]);if(Gr(s,20))return br(s)}let t=null;for(const a of this.provider.plugins)if(a instanceof MCe&&a.supportsCoinType(e)){t=a;break}if(t==null)return null;const r=await _t(this,Lp,yy).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await t.decodeAddress(e,r);if(i!=null)return i;mt(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await _t(this,Lp,yy).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await _t(this,Lp,yy).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const i=t[1]==="e3010170"?"ipfs":"ipns",a=parseInt(t[4],16);if(t[5].length===a*2)return`${i}://${EAe("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;mt(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<CH.length;r++){const i=t.match(CH[r]);if(i==null)continue;const a=i[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const s=DD(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{const s=a==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:t});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const u=(i[2]||"").split("/");if(u.length!==2)return e.push({type:`!${a}caip`,value:i[2]||""}),{url:null,linkage:e};const c=u[1],h=new td(u[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(a==="erc721"){const S=await h.ownerOf(c);if(o!==S)return e.push({type:"!owner",value:S}),{url:null,linkage:e};e.push({type:"owner",value:S})}else if(a==="erc1155"){const S=await h.balanceOf(o,c);if(!S)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:S.toString()})}let p=await h[s](c);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),a==="erc1155"&&(p=p.replace("{id}",im(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=DD(p)),e.push({type:"metadata-url",value:p});let v={};const y=await new dd(p).send();y.assertOk();try{v=y.bodyJson}catch{try{e.push({type:"!metadata",value:y.bodyText})}catch{const A=y.body;return A&&e.push({type:"!metadata",value:Lt(A)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!v)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(v)});let x=v.image;if(typeof x!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!x.match(/^(https:\/\/|data:)/i)){if(x.match(ZK)==null)return e.push({type:"!imageUrl-ipfs",value:x}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:x}),x=DD(x)}return e.push({type:"url",value:x}),{linkage:e,url:x}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return mt(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async fromName(e,t){var i;let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const a=await _t(i=Cy,i3,QK).call(i,e,r);if(a!=null){const s=new Cy(e,a,t);return r!==t&&!await s.supportsWildcard()?null:s}r=r.split(".").slice(1).join(".")}}};Ip=new WeakMap,Kg=new WeakMap,Lp=new WeakSet,yy=async function(e,t){t=(t||[]).slice();const r=q(this,Kg).interface;t.unshift(EL(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),mt(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[GTe(this.name,255),r.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const a=await q(this,Kg)[e](...t);return i?r.decodeFunctionResult(i,a)[0]:a}catch(a){if(!as(a,"CALL_EXCEPTION"))throw a}return null},i3=new WeakSet,QK=async function(e,t){const r=await Cy.getEnsAddress(e);try{const a=await new td(r,["function resolver(bytes32) view returns (address)"],e).resolver(EL(t),{enableCcipRead:!0});return a===vw?null:a}catch(i){throw i}return null},$e(Cy,i3);let JC=Cy;const PH=BigInt(0);function $n(n,e){return(function(t){return t==null?e:n(t)})}function Mw(n,e){return(t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))})}function wS(n,e){return(t=>{const r={};for(const i in n){let a=i;if(e&&i in e&&!(a in t)){for(const s of e[i])if(s in t){a=s;break}}try{const s=n[i](t[a]);s!==void 0&&(r[i]=s)}catch(s){const o=s instanceof Error?s.message:"not-an-error";mt(!1,`invalid value for value.${i} (${o})`,"BAD_DATA",{value:t})}}return r})}function TCe(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}Ae(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function $b(n){return Ae(Gr(n,!0),"invalid data","value",n),n}function is(n){return Ae(Gr(n,32),"invalid hash","value",n),n}const CCe=wS({address:br,blockHash:is,blockNumber:En,data:$b,index:En,removed:$n(TCe,!1),topics:Mw(is),transactionHash:is,transactionIndex:En},{index:["logIndex"]});function PCe(n){return CCe(n)}const OCe=wS({hash:$n(is),parentHash:is,parentBeaconBlockRoot:$n(is,null),number:En,timestamp:En,nonce:$n($b),difficulty:Vt,gasLimit:Vt,gasUsed:Vt,stateRoot:$n(is,null),receiptsRoot:$n(is,null),blobGasUsed:$n(Vt,null),excessBlobGas:$n(Vt,null),miner:$n(br),prevRandao:$n(is,null),extraData:$b,baseFeePerGas:$n(Vt)},{prevRandao:["mixHash"]});function RCe(n){const e=OCe(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:JK(t)),e}const NCe=wS({transactionIndex:En,blockNumber:En,transactionHash:is,address:br,topics:Mw(is),data:$b,index:En,blockHash:is},{index:["logIndex"]});function DCe(n){return NCe(n)}const ICe=wS({to:$n(br,null),from:$n(br,null),contractAddress:$n(br,null),index:En,root:$n(Lt),gasUsed:Vt,blobGasUsed:$n(Vt,null),logsBloom:$n($b),blockHash:is,hash:is,logs:Mw(DCe),blockNumber:En,cumulativeGasUsed:Vt,effectiveGasPrice:$n(Vt),blobGasPrice:$n(Vt,null),status:$n(En),type:$n(En,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function LCe(n){return ICe(n)}function JK(n){n.to&&Vt(n.to)===PH&&(n.to="0x0000000000000000000000000000000000000000");const e=wS({hash:is,index:$n(En,void 0),type:t=>t==="0x"||t==null?0:En(t),accessList:$n(k0,null),blobVersionedHashes:$n(Mw(is,!0),null),authorizationList:$n(Mw(t=>{let r;if(t.signature)r=t.signature;else{let i=t.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},t,{yParity:i})}return{address:br(t.address),chainId:Vt(t.chainId),nonce:Vt(t.nonce),signature:Qo.from(r)}},!1),null),blockHash:$n(is,null),blockNumber:$n(En,null),transactionIndex:$n(En,null),from:br,gasPrice:$n(Vt),maxPriorityFeePerGas:$n(Vt),maxFeePerGas:$n(Vt),maxFeePerBlobGas:$n(Vt,null),gasLimit:Vt,to:$n(br,null),value:Vt,nonce:En,data:$b,creates:$n(br,null),chainId:$n(Vt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=wMe(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=Qo.from(n.signature):e.signature=Qo.from(n),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&Vt(e.blockHash)===PH&&(e.blockHash=null),e}const UCe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class SS{constructor(e){ke(this,"name");an(this,{name:e})}clone(){return new SS(this.name)}}class qP extends SS{constructor(t,r){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);ke(this,"effectiveBlock");ke(this,"txBase");ke(this,"txCreate");ke(this,"txDataZero");ke(this,"txDataNonzero");ke(this,"txAccessListStorageKey");ke(this,"txAccessListAddress");const i={effectiveBlock:t};function a(s,o){let u=(r||{})[s];u==null&&(u=o),Ae(typeof u=="number",`invalud value for ${s}`,"costs",r),i[s]=u}a("txBase",21e3),a("txCreate",32e3),a("txDataZero",4),a("txDataNonzero",16),a("txAccessListStorageKey",1900),a("txAccessListAddress",2400),an(this,i)}clone(){return new qP(this.effectiveBlock,this)}}class XP extends SS{constructor(t,r){super("org.ethers.plugins.network.Ens");ke(this,"address");ke(this,"targetNetwork");an(this,{address:t||UCe,targetNetwork:r??1})}clone(){return new XP(this.address,this.targetNetwork)}}var Lw,Uw;class kCe extends SS{constructor(t,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");$e(this,Lw);$e(this,Uw);pe(this,Lw,t),pe(this,Uw,r)}get url(){return q(this,Lw)}get processFunc(){return q(this,Uw)}clone(){return this}}Lw=new WeakMap,Uw=new WeakMap;const ID=new Map;var fb,hb,Up;const Py=class Py{constructor(e,t){$e(this,fb);$e(this,hb);$e(this,Up);pe(this,fb,e),pe(this,hb,Vt(t)),pe(this,Up,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return q(this,fb)}set name(e){pe(this,fb,e)}get chainId(){return q(this,hb)}set chainId(e){pe(this,hb,Vt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Vt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Vt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Vt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(q(this,Up).values())}attachPlugin(e){if(q(this,Up).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return q(this,Up).set(e.name,e.clone()),this}getPlugin(e){return q(this,Up).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new Py(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new qP;let r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const i=k0(e.accessList);for(const a in i)r+=t.txAccessListAddress+t.txAccessListStorageKey*i[a].storageKeys.length}return r}static from(e){if(BCe(),e==null)return Py.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=ID.get(e);if(t)return t();if(typeof e=="bigint")return new Py("unknown",e);Ae(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){Ae(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new Py(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new XP(e.ensAddress,e.ensNetwork)),t}Ae(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const r=ID.get(e);r&&Ae(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),ID.set(e,t)}};fb=new WeakMap,hb=new WeakMap,Up=new WeakMap;let Tf=Py;function OH(n,e){const t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function RH(n){return new kCe(n,async(e,t,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[a,s]=await Promise.all([r.send(),e()]);i=a;const o=i.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:OH(o.maxFee,9),maxPriorityFeePerGas:OH(o.maxPriorityFee,9)}}catch(a){mt(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:a})}})}let NH=!1;function BCe(){if(NH)return;NH=!0;function n(e,t,r){const i=function(){const a=new Tf(e,t);return r.ensNetwork!=null&&a.attachPlugin(new XP(null,r.ensNetwork)),a.attachPlugin(new qP),(r.plugins||[]).forEach(s=>{a.attachPlugin(s)}),a};Tf.register(e,i),Tf.register(t,i),r.altNames&&r.altNames.forEach(a=>{Tf.register(a,i)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("filecoin",314,{}),n("filecoin-calibration",314159,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[RH("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[RH("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function RL(n){return JSON.parse(JSON.stringify(n))}var kh,mu,kp,vf,db,qM;class FCe{constructor(e){$e(this,db);$e(this,kh);$e(this,mu);$e(this,kp);$e(this,vf);pe(this,kh,e),pe(this,mu,null),pe(this,kp,4e3),pe(this,vf,-2)}get pollingInterval(){return q(this,kp)}set pollingInterval(e){pe(this,kp,e)}start(){q(this,mu)||(pe(this,mu,q(this,kh)._setTimeout(_t(this,db,qM).bind(this),q(this,kp))),_t(this,db,qM).call(this))}stop(){q(this,mu)&&(q(this,kh)._clearTimeout(q(this,mu)),pe(this,mu,null))}pause(e){this.stop(),e&&pe(this,vf,-2)}resume(){this.start()}}kh=new WeakMap,mu=new WeakMap,kp=new WeakMap,vf=new WeakMap,db=new WeakSet,qM=async function(){try{const e=await q(this,kh).getBlockNumber();if(q(this,vf)===-2){pe(this,vf,e);return}if(e!==q(this,vf)){for(let t=q(this,vf)+1;t<=e;t++){if(q(this,mu)==null)return;await q(this,kh).emit("block",t)}pe(this,vf,e)}}catch{}q(this,mu)!=null&&pe(this,mu,q(this,kh)._setTimeout(_t(this,db,qM).bind(this),q(this,kp)))};var $g,Zg,Bp;class Ik{constructor(e){$e(this,$g);$e(this,Zg);$e(this,Bp);pe(this,$g,e),pe(this,Bp,!1),pe(this,Zg,t=>{this._poll(t,q(this,$g))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){q(this,Bp)||(pe(this,Bp,!0),q(this,Zg).call(this,-2),q(this,$g).on("block",q(this,Zg)))}stop(){q(this,Bp)&&(pe(this,Bp,!1),q(this,$g).off("block",q(this,Zg)))}pause(e){this.stop()}resume(){this.start()}}$g=new WeakMap,Zg=new WeakMap,Bp=new WeakMap;var pb,Bh;class zCe extends Ik{constructor(t,r){super(t);$e(this,pb);$e(this,Bh);pe(this,pb,r),pe(this,Bh,-2)}pause(t){t&&pe(this,Bh,-2),super.pause(t)}async _poll(t,r){const i=await r.getBlock(q(this,pb));i!=null&&(q(this,Bh)===-2?pe(this,Bh,i.number):i.number>q(this,Bh)&&(r.emit(q(this,pb),i.number),pe(this,Bh,i.number)))}}pb=new WeakMap,Bh=new WeakMap;var a3;class GCe extends Ik{constructor(t,r){super(t);$e(this,a3);pe(this,a3,RL(r))}async _poll(t,r){throw new Error("@TODO")}}a3=new WeakMap;var mb;class HCe extends Ik{constructor(t,r){super(t);$e(this,mb);pe(this,mb,r)}async _poll(t,r){const i=await r.getTransactionReceipt(q(this,mb));i&&r.emit(q(this,mb),i)}}mb=new WeakMap;var Fh,gb,vb,Fp,gu,s3,e$;class Lk{constructor(e,t){$e(this,s3);$e(this,Fh);$e(this,gb);$e(this,vb);$e(this,Fp);$e(this,gu);pe(this,Fh,e),pe(this,gb,RL(t)),pe(this,vb,_t(this,s3,e$).bind(this)),pe(this,Fp,!1),pe(this,gu,-2)}start(){q(this,Fp)||(pe(this,Fp,!0),q(this,gu)===-2&&q(this,Fh).getBlockNumber().then(e=>{pe(this,gu,e)}),q(this,Fh).on("block",q(this,vb)))}stop(){q(this,Fp)&&(pe(this,Fp,!1),q(this,Fh).off("block",q(this,vb)))}pause(e){this.stop(),e&&pe(this,gu,-2)}resume(){this.start()}}Fh=new WeakMap,gb=new WeakMap,vb=new WeakMap,Fp=new WeakMap,gu=new WeakMap,s3=new WeakSet,e$=async function(e){if(q(this,gu)===-2)return;const t=RL(q(this,gb));t.fromBlock=q(this,gu)+1,t.toBlock=e;const r=await q(this,Fh).getLogs(t);if(r.length===0){q(this,gu)<e-60&&pe(this,gu,e-60);return}for(const i of r)q(this,Fh).emit(q(this,gb),i),pe(this,gu,i.blockNumber)};const VCe=BigInt(2),jCe=10;function AM(n){return n&&typeof n.then=="function"}function XM(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((a,s)=>(a[s]=r[s],a),{})}return r})}class t${constructor(e){ke(this,"name");an(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function WCe(n){return JSON.parse(JSON.stringify(n))}function NL(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function LD(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(Gr(n,32)){const t=n.toLowerCase();return{type:"transaction",tag:XM("tx",{hash:t}),hash:t}}if(n.orphan){const t=n;return{type:"orphan",tag:XM("orphan",t),filter:WCe(t)}}if(n.address||n.topics){const t=n,r={topics:(t.topics||[]).map(i=>i==null?null:Array.isArray(i)?NL(i.map(a=>a.toLowerCase())):i.toLowerCase())};if(t.address){const i=[],a=[],s=o=>{Gr(o)?i.push(o):a.push((async()=>{i.push(await uo(o,e))})())};Array.isArray(t.address)?t.address.forEach(s):s(t.address),a.length&&await Promise.all(a),r.address=NL(i.map(o=>o.toLowerCase()))}return{filter:r,tag:XM("event",r),type:"event"}}Ae(!1,"unknown ProviderEvent","event",n)}function UD(){return new Date().getTime()}const qCe={cacheTimeout:250,pollingInterval:4e3};var Ms,zp,Ts,yb,bl,Qg,Gp,zh,kw,vu,bb,xb,Gn,pl,DL,IL,m_,LL,g_,YM;class XCe{constructor(e,t){$e(this,Gn);$e(this,Ms);$e(this,zp);$e(this,Ts);$e(this,yb);$e(this,bl);$e(this,Qg);$e(this,Gp);$e(this,zh);$e(this,kw);$e(this,vu);$e(this,bb);$e(this,xb);if(pe(this,xb,Object.assign({},qCe,t||{})),e==="any")pe(this,Qg,!0),pe(this,bl,null);else if(e){const r=Tf.from(e);pe(this,Qg,!1),pe(this,bl,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else pe(this,Qg,!1),pe(this,bl,null);pe(this,zh,-1),pe(this,Gp,new Map),pe(this,Ms,new Map),pe(this,zp,new Map),pe(this,Ts,null),pe(this,yb,!1),pe(this,kw,1),pe(this,vu,new Map),pe(this,bb,!1)}get pollingInterval(){return q(this,xb).pollingInterval}get provider(){return this}get plugins(){return Array.from(q(this,zp).values())}attachPlugin(e){if(q(this,zp).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return q(this,zp).set(e.name,e.connect(this)),this}getPlugin(e){return q(this,zp).get(e)||null}get disableCcipRead(){return q(this,bb)}set disableCcipRead(e){pe(this,bb,!!e)}async ccipReadFetch(e,t,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),a=t.toLowerCase(),s=[];for(let o=0;o<r.length;o++){const u=r[o],c=u.replace("{sender}",i).replace("{data}",a),h=new dd(c);u.indexOf("{data}")===-1&&(h.body={data:a,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:h,index:o,urls:r});let p="unknown error",v;try{v=await h.send()}catch(y){s.push(y.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:{error:y}});continue}try{const y=v.bodyJson;if(y.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:h,result:y}),y.data;y.message&&(p=y.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:y})}catch{}mt(v.statusCode<400||v.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:u,errorMessage:p}}),s.push(p)}mt(!1,`error encountered during CCIP fetch: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,t){return new hCe(RCe(e),this)}_wrapLog(e,t){return new _S(PCe(e),this)}_wrapTransactionReceipt(e,t){return new zK(LCe(e),this)}_wrapTransactionResponse(e,t){return new Ew(JK(e),this)}_detectNetwork(){mt(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){mt(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=En(await _t(this,Gn,pl).call(this,{method:"getBlockNumber"}),"%response");return q(this,zh)>=0&&pe(this,zh,e),e}_getAddress(e){return uo(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Gr(e))return Gr(e,32)?e:oc(e);if(typeof e=="bigint"&&(e=En(e,"blockTag")),typeof e=="number")return e>=0?oc(e):q(this,zh)>=0?oc(q(this,zh)+e):this.getBlockNumber().then(t=>oc(t+e));Ae(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(u=>u==null?null:Array.isArray(u)?NL(u.map(c=>c.toLowerCase())):u.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(u,c,h)=>{let p;switch(u.length){case 0:break;case 1:p=u[0];break;default:u.sort(),p=u}if(r&&(c!=null||h!=null))throw new Error("invalid filter");const v={};return p&&(v.address=p),t.length&&(v.topics=t),c&&(v.fromBlock=c),h&&(v.toBlock=h),r&&(v.blockHash=r),v};let a=[];if(e.address)if(Array.isArray(e.address))for(const u of e.address)a.push(this._getAddress(u));else a.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),a.filter(u=>typeof u!="string").length||s!=null&&typeof s!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(a),s,o]).then(u=>i(u[0],u[1],u[2])):i(a,s,o)}_getTransactionRequest(e){const t=ZC(e),r=[];if(["to","from"].forEach(i=>{if(t[i]==null)return;const a=uo(t[i],this);AM(a)?r.push((async function(){t[i]=await a})()):t[i]=a}),t.blockTag!=null){const i=this._getBlockTag(t.blockTag);AM(i)?r.push((async function(){t.blockTag=await i})()):t.blockTag=i}return r.length?(async function(){return await Promise.all(r),t})():t}async getNetwork(){if(q(this,bl)==null){const i=(async()=>{try{const a=await this._detectNetwork();return this.emit("network",a,null),a}catch(a){throw q(this,bl)===i&&pe(this,bl,null),a}})();return pe(this,bl,i),(await i).clone()}const e=q(this,bl),[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(q(this,Qg)?(this.emit("network",r,t),q(this,bl)===e&&pe(this,bl,Promise.resolve(r))):mt(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:i,gasPrice:a,priorityFee:s}=await eo({_block:_t(this,Gn,LL).call(this,"latest",!1),gasPrice:(async()=>{try{const h=await _t(this,Gn,pl).call(this,{method:"getGasPrice"});return Vt(h,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const h=await _t(this,Gn,pl).call(this,{method:"getPriorityFee"});return Vt(h,"%response")}catch{}return null})()});let o=null,u=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(u=s??BigInt("1000000000"),o=c.baseFeePerGas*VCe+u),new EH(a,o,u)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new dd(r.url),a=await r.processFunc(t,this,i);return new EH(a.gasPrice,a.maxFeePerGas,a.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return AM(t)&&(t=await t),Vt(await _t(this,Gn,pl).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:r}=await eo({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await _t(this,Gn,IL).call(this,_t(this,Gn,DL).call(this,t,r,e.enableCcipRead?0:-1))}async getBalance(e,t){return Vt(await _t(this,Gn,m_).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return En(await _t(this,Gn,m_).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Lt(await _t(this,Gn,m_).call(this,{method:"getCode"},e,t))}async getStorage(e,t,r){const i=Vt(t,"position");return Lt(await _t(this,Gn,m_).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:i}=await eo({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),a=jC.from(e);if(a.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(a,i).replaceableTransaction(t)}async getBlock(e,t){const{network:r,params:i}=await eo({network:this.getNetwork(),params:_t(this,Gn,LL).call(this,e,!!t)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:t,params:r}=await eo({network:this.getNetwork(),params:_t(this,Gn,pl).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await eo({network:this.getNetwork(),params:_t(this,Gn,pl).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await _t(this,Gn,pl).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await eo({network:this.getNetwork(),result:_t(this,Gn,pl).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:Lt(t)}async getLogs(e){let t=this._getFilter(e);AM(t)&&(t=await t);const{network:r,params:i}=await eo({network:this.getNetwork(),params:_t(this,Gn,pl).call(this,{method:"getLogs",filter:t})});return i.map(a=>this._wrapLog(a,r))}_getProvider(e){mt(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await JC.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=br(e);const t=EL(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await JC.getEnsAddress(this),a=await new td(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(a==null||a===vw)return null;const o=await new td(a,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(o)!==e?null:o}catch(r){if(as(r,"BAD_DATA")&&r.value==="0x"||as(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,t,r){const i=t??1;return i===0?this.getTransactionReceipt(e):new Promise(async(a,s)=>{let o=null;const u=(async c=>{try{const h=await this.getTransactionReceipt(e);if(h!=null&&c-h.blockNumber+1>=i){a(h),o&&(clearTimeout(o),o=null);return}}catch(h){console.log("EEE",h)}this.once("block",u)});r!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",u),s(ri("timeout","TIMEOUT",{reason:"timeout"})))},r)),u(await this.getBlockNumber())})}async waitForBlock(e){mt(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=q(this,vu).get(e);t&&(t.timer&&clearTimeout(t.timer),q(this,vu).delete(e))}_setTimeout(e,t){t==null&&(t=0);const r=N1(this,kw)._++,i=()=>{q(this,vu).delete(r),e()};if(this.paused)q(this,vu).set(r,{timer:null,func:i,time:t});else{const a=setTimeout(i,t);q(this,vu).set(r,{timer:a,func:i,time:UD()})}return r}_forEachSubscriber(e){for(const t of q(this,Ms).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new t$(e.type);case"block":{const t=new FCe(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new zCe(this,e.type);case"event":return new Lk(this,e.filter);case"transaction":return new HCe(this,e.hash);case"orphan":return new GCe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of q(this,Ms).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),q(this,Ts)!=null&&t.pause(q(this,Ts));break}}async on(e,t){const r=await _t(this,Gn,YM).call(this,e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,q(this,Ts)!=null&&r.subscriber.pause(q(this,Ts))),this}async once(e,t){const r=await _t(this,Gn,YM).call(this,e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,q(this,Ts)!=null&&r.subscriber.pause(q(this,Ts))),this}async emit(e,...t){const r=await _t(this,Gn,g_).call(this,e,t);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:a,once:s})=>{const o=new mY(this,s?null:a,e);try{a.call(this,...t,o)}catch{}return!s}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),q(this,Ms).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await _t(this,Gn,g_).call(this,e);return r?r.listeners.length:0}let t=0;for(const{listeners:r}of q(this,Ms).values())t+=r.length;return t}async listeners(e){if(e){const r=await _t(this,Gn,g_).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let t=[];for(const{listeners:r}of q(this,Ms).values())t=t.concat(r.map(({listener:i})=>i));return t}async off(e,t){const r=await _t(this,Gn,g_).call(this,e);if(!r)return this;if(t){const i=r.listeners.map(({listener:a})=>a).indexOf(t);i>=0&&r.listeners.splice(i,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),q(this,Ms).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:i}=await _t(this,Gn,YM).call(this,e);r&&i.stop(),q(this,Ms).delete(t)}else for(const[t,{started:r,subscriber:i}]of q(this,Ms))r&&i.stop(),q(this,Ms).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return q(this,yb)}destroy(){this.removeAllListeners();for(const e of q(this,vu).keys())this._clearTimeout(e);pe(this,yb,!0)}get paused(){return q(this,Ts)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(pe(this,zh,-1),q(this,Ts)!=null){if(q(this,Ts)==!!e)return;mt(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),pe(this,Ts,!!e);for(const t of q(this,vu).values())t.timer&&clearTimeout(t.timer),t.time=UD()-t.time}resume(){if(q(this,Ts)!=null){this._forEachSubscriber(e=>e.resume()),pe(this,Ts,null);for(const e of q(this,vu).values()){let t=e.time;t<0&&(t=0),e.time=UD(),setTimeout(e.func,t)}}}}Ms=new WeakMap,zp=new WeakMap,Ts=new WeakMap,yb=new WeakMap,bl=new WeakMap,Qg=new WeakMap,Gp=new WeakMap,zh=new WeakMap,kw=new WeakMap,vu=new WeakMap,bb=new WeakMap,xb=new WeakMap,Gn=new WeakSet,pl=async function(e){const t=q(this,xb).cacheTimeout;if(t<0)return await this._perform(e);const r=XM(e.method,e);let i=q(this,Gp).get(r);return i||(i=this._perform(e),q(this,Gp).set(r,i),setTimeout(()=>{q(this,Gp).get(r)===i&&q(this,Gp).delete(r)},t)),await i},DL=async function(e,t,r){mt(r<jCe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const i=ZC(e);try{return Lt(await this._perform({method:"call",transaction:i,blockTag:t}))}catch(a){if(!this.disableCcipRead&&vk(a)&&a.data&&r>=0&&t==="latest"&&i.to!=null&&Oi(a.data,0,4)==="0x556f1830"){const s=a.data,o=await uo(i.to,this);let u;try{u=QCe(Oi(a.data,4))}catch(p){mt(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}mt(u.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:u.errorArgs}});const c=await this.ccipReadFetch(i,u.calldata,u.urls);mt(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:a.data,errorArgs:u.errorArgs}});const h={to:o,data:oi([u.selector,ZCe([c,u.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:h});try{const p=await _t(this,Gn,DL).call(this,h,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},h),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},h),error:p}),p}}throw a}},IL=async function(e){const{value:t}=await eo({network:this.getNetwork(),value:e});return t},m_=async function(e,t,r){let i=this._getAddress(t),a=this._getBlockTag(r);return(typeof i!="string"||typeof a!="string")&&([i,a]=await Promise.all([i,a])),await _t(this,Gn,IL).call(this,_t(this,Gn,pl).call(this,Object.assign(e,{address:i,blockTag:a})))},LL=async function(e,t){if(Gr(e,32))return await _t(this,Gn,pl).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await _t(this,Gn,pl).call(this,{method:"getBlock",blockTag:r,includeTransactions:t})},g_=async function(e,t){let r=await LD(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=await LD({orphan:"drop-log",log:t[0]},this)),q(this,Ms).get(r.tag)||null},YM=async function(e){const t=await LD(e,this),r=t.tag;let i=q(this,Ms).get(r);return i||(i={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},q(this,Ms).set(r,i)),i};function YCe(n,e){try{const t=UL(n,e);if(t)return GC(t)}catch{}return null}function UL(n,e){if(n==="0x")return null;try{const t=En(Oi(n,e,e+32)),r=En(Oi(n,t,t+32));return Oi(n,t+32,t+32+r)}catch{}return null}function DH(n){const e=na(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function KCe(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}const $Ce=new Uint8Array([]);function ZCe(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push($Ce),t+=32;for(let r=0;r<n.length;r++){const i=Dn(n[r]);e[r]=DH(t),e.push(DH(i.length)),e.push(KCe(i)),t+=32+Math.ceil(i.length/32)*32}return oi(e)}const IH="0x0000000000000000000000000000000000000000000000000000000000000000";function QCe(n){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};mt(Iy(n)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=Oi(n,0,32);mt(Oi(t,0,12)===Oi(IH,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Oi(t,12);try{const r=[],i=En(Oi(n,32,64)),a=En(Oi(n,i,i+32)),s=Oi(n,i+32);for(let o=0;o<a;o++){const u=YCe(s,o*32);if(u==null)throw new Error("abort");r.push(u)}e.urls=r}catch{mt(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=UL(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{mt(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}mt(Oi(n,100,128)===Oi(IH,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Oi(n,96,100);try{const r=UL(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{mt(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function hg(n,e){if(n.provider)return n.provider;mt(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function LH(n,e){let t=ZC(e);if(t.to!=null&&(t.to=uo(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),uo(r,n)]).then(([i,a])=>(Ae(i.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),i))}else t.from=n.getAddress();return await eo(t)}class JCe{constructor(e){ke(this,"provider");an(this,{provider:e||null})}async getNonce(e){return hg(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await LH(this,e)}async populateTransaction(e){const t=hg(this,"populateTransaction"),r=await LH(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const s=Vt(r.chainId);Ae(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const a=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||a)?Ae(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&a&&Ae(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const s=await t.getFeeData();mt(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice)}else{const s=await t.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(mt(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):mt(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await eo(r)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await hg(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return hg(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return hg(this,"call").call(await this.populateCall(e))}async resolveName(e){return await hg(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=hg(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=jC.from(r);return await t.broadcastTransaction(await this.signTransaction(i))}authorize(e){mt(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function e3e(n){return JSON.parse(JSON.stringify(n))}var Js,yf,Jg,Hp,e0,_b,am,kL,BL;class n${constructor(e){$e(this,am);$e(this,Js);$e(this,yf);$e(this,Jg);$e(this,Hp);$e(this,e0);$e(this,_b);pe(this,Js,e),pe(this,yf,null),pe(this,Jg,_t(this,am,kL).bind(this)),pe(this,Hp,!1),pe(this,e0,null),pe(this,_b,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){q(this,Hp)||(pe(this,Hp,!0),_t(this,am,kL).call(this,-2))}stop(){q(this,Hp)&&(pe(this,Hp,!1),pe(this,_b,!0),_t(this,am,BL).call(this),q(this,Js).off("block",q(this,Jg)))}pause(e){e&&_t(this,am,BL).call(this),q(this,Js).off("block",q(this,Jg))}resume(){this.start()}}Js=new WeakMap,yf=new WeakMap,Jg=new WeakMap,Hp=new WeakMap,e0=new WeakMap,_b=new WeakMap,am=new WeakSet,kL=async function(e){try{q(this,yf)==null&&pe(this,yf,this._subscribe(q(this,Js)));let t=null;try{t=await q(this,yf)}catch(a){if(!as(a,"UNSUPPORTED_OPERATION")||a.operation!=="eth_newFilter")throw a}if(t==null){pe(this,yf,null),q(this,Js)._recoverSubscriber(this,this._recover(q(this,Js)));return}const r=await q(this,Js).getNetwork();if(q(this,e0)||pe(this,e0,r),q(this,e0).chainId!==r.chainId)throw new Error("chaid changed");if(q(this,_b))return;const i=await q(this,Js).send("eth_getFilterChanges",[t]);await this._emitResults(q(this,Js),i)}catch(t){console.log("@TODO",t)}q(this,Js).once("block",q(this,Jg))},BL=function(){const e=q(this,yf);e&&(pe(this,yf,null),e.then(t=>{q(this,Js).destroyed||q(this,Js).send("eth_uninstallFilter",[t])}))};var t0;class t3e extends n${constructor(t,r){super(t);$e(this,t0);pe(this,t0,e3e(r))}_recover(t){return new Lk(t,q(this,t0))}async _subscribe(t){return await t.send("eth_newFilter",[q(this,t0)])}async _emitResults(t,r){for(const i of r)t.emit(q(this,t0),t._wrapLog(i,t._network))}}t0=new WeakMap;class n3e extends n${async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const r3e="bigint,boolean,function,number,string,symbol".split(/,/g);function KM(n){if(n==null||r3e.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(KM);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function i3e(n){return new Promise(e=>{setTimeout(e,n)})}function py(n){return n&&n.toLowerCase()}function UH(n){return n&&typeof n.pollingInterval=="number"}const r$={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class kD extends JCe{constructor(t,r){super(t);ke(this,"address");r=br(r),an(this,{address:r})}connect(t){mt(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const r=KM(t),i=[];if(r.from){const s=r.from;i.push((async()=>{const o=await uo(s,this.provider);Ae(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=o})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const s=r.to;i.push((async()=>{r.to=await uo(s,this.provider)})())}i.length&&await Promise.all(i);const a=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[a])}async sendTransaction(t){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(t);return await new Promise((a,s)=>{const o=[1e3,100];let u=0;const c=async()=>{try{const h=await this.provider.getTransaction(i);if(h!=null){a(h.replaceableTransaction(r));return}}catch(h){if(as(h,"CANCELLED")||as(h,"BAD_DATA")||as(h,"NETWORK_ERROR")||as(h,"UNSUPPORTED_OPERATION")){h.info==null&&(h.info={}),h.info.sendTransactionHash=i,s(h);return}if(as(h,"INVALID_ARGUMENT")&&(u++,h.info==null&&(h.info={}),h.info.sendTransactionHash=i,u>10)){s(h);return}this.provider.emit("error",ri("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:h}))}this.provider._setTimeout(()=>{c()},o.pop()||4e3)};c()})}async signTransaction(t){const r=KM(t);if(r.from){const a=await uo(r.from,this.provider);Ae(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=a}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(t){const r=typeof t=="string"?Of(t):t;return await this.provider.send("personal_sign",[Lt(r),this.address.toLowerCase()])}async signTypedData(t,r,i){const a=KM(i),s=await $C.resolveNames(t,r,a,async o=>{const u=await uo(o);return Ae(u!=null,"TypedData does not support null address","value",o),u});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify($C.getPayload(s.domain,r,s.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const r=typeof t=="string"?Of(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Lt(r)])}}var n0,wb,Gh,bf,ac,yu,Vo,Bw,FL;class a3e extends XCe{constructor(t,r){super(t,r);$e(this,Bw);$e(this,n0);$e(this,wb);$e(this,Gh);$e(this,bf);$e(this,ac);$e(this,yu);$e(this,Vo);pe(this,wb,1),pe(this,n0,Object.assign({},r$,r||{})),pe(this,Gh,[]),pe(this,bf,null),pe(this,yu,null),pe(this,Vo,null);{let a=null;const s=new Promise(o=>{a=o});pe(this,ac,{promise:s,resolve:a})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(Ae(!i||t!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&t!=null&&pe(this,yu,Tf.from(t))):i&&(Ae(t==null||i.matches(t),"staticNetwork MUST match network object","options",r),pe(this,yu,i))}_getOption(t){return q(this,n0)[t]}get _network(){return mt(q(this,yu),"network is not available yet","NETWORK_ERROR"),q(this,yu)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let i=t.transaction;if(i&&i.type!=null&&Vt(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const a=await this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(t);return r!=null?await this.send(r.method,r.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(q(this,yu))return q(this,yu)}else return t;return q(this,Vo)?await q(this,Vo):this.ready?(pe(this,Vo,(async()=>{try{const r=Tf.from(Vt(await this.send("eth_chainId",[])));return pe(this,Vo,null),r}catch(r){throw pe(this,Vo,null),r}})()),await q(this,Vo)):(pe(this,Vo,(async()=>{const r={id:N1(this,wb)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],pe(this,Vo,null)}catch(a){throw pe(this,Vo,null),this.emit("debug",{action:"receiveRpcError",error:a}),a}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Tf.from(Vt(i.result));throw this.getRpcError(r,i)})()),await q(this,Vo))}_start(){q(this,ac)==null||q(this,ac).resolve==null||(q(this,ac).resolve(),pe(this,ac,null),(async()=>{for(;q(this,yu)==null&&!this.destroyed;)try{pe(this,yu,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ri("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await i3e(1e3)}_t(this,Bw,FL).call(this)})())}async _waitUntilReady(){if(q(this,ac)!=null)return await q(this,ac).promise}_getSubscriber(t){return t.type==="pending"?new n3e(this):t.type==="event"?this._getOption("polling")?new Lk(this,t.filter):new t3e(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new t$("orphan"):super._getSubscriber(t)}get ready(){return q(this,ac)==null}getRpcTransaction(t){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(t[i]==null)return;let a=i;i==="gasLimit"&&(a="gas"),r[a]=oc(Vt(t[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{t[i]!=null&&(r[i]=Lt(t[i]))}),t.accessList&&(r.accessList=k0(t.accessList)),t.blobVersionedHashes&&(r.blobVersionedHashes=t.blobVersionedHashes.map(i=>i.toLowerCase())),t.authorizationList&&(r.authorizationList=t.authorizationList.map(i=>{const a=aK(i);return{address:a.address,nonce:oc(a.nonce),chainId:oc(a.chainId),yParity:oc(a.signature.yParity),r:oc(a.signature.r),s:oc(a.signature.s)}})),r}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[py(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[py(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[py(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[py(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(py):t.filter.address=py(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,r){const{method:i}=t,{error:a}=r;if(i==="eth_estimateGas"&&a.message){const u=a.message;if(!u.match(/revert/i)&&u.match(/insufficient funds/i))return ri("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:a}});if(u.match(/nonce/i)&&u.match(/too low/i))return ri("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:a}})}if(i==="eth_call"||i==="eth_estimateGas"){const u=zL(a),c=Aw.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",t.params[0],u?u.data:null);return c.info={error:a,payload:t},c}const s=JSON.stringify(s3e(a));if(typeof a.message=="string"&&a.message.match(/user denied|ethers-user-denied/i))return ri("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:t,error:a}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const u=t.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return ri("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:u,info:{error:a}});if(s.match(/nonce/i)&&s.match(/too low/i))return ri("nonce has already been used","NONCE_EXPIRED",{transaction:u,info:{error:a}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return ri("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:u,info:{error:a}});if(s.match(/only replay-protected/i))return ri("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:u,info:{error:a}}})}let o=!!s.match(/the method .* does not exist/i);return o||a&&a.details&&a.details.startsWith("Unauthorized method:")&&(o=!0),o?ri("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:a,payload:t}}):ri("could not coalesce error","UNKNOWN_ERROR",{error:a,payload:t})}send(t,r){if(this.destroyed)return Promise.reject(ri("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const i=N1(this,wb)._++,a=new Promise((s,o)=>{q(this,Gh).push({resolve:s,reject:o,payload:{method:t,params:r,id:i,jsonrpc:"2.0"}})});return _t(this,Bw,FL).call(this),a}async getSigner(t){t==null&&(t=0);const r=this.send("eth_accounts",[]);if(typeof t=="number"){const a=await r;if(t>=a.length)throw new Error("no such account");return new kD(this,a[t])}const{accounts:i}=await eo({network:this.getNetwork(),accounts:r});t=br(t);for(const a of i)if(br(a)===t)return new kD(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new kD(this,r))}destroy(){q(this,bf)&&(clearTimeout(q(this,bf)),pe(this,bf,null));for(const{payload:t,reject:r}of q(this,Gh))r(ri("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));pe(this,Gh,[]),super.destroy()}}n0=new WeakMap,wb=new WeakMap,Gh=new WeakMap,bf=new WeakMap,ac=new WeakMap,yu=new WeakMap,Vo=new WeakMap,Bw=new WeakSet,FL=function(){if(q(this,bf))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");pe(this,bf,setTimeout(()=>{pe(this,bf,null);const r=q(this,Gh);for(pe(this,Gh,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==q(this,n0).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(s=>s.payload)).length>q(this,n0).batchMaxSize){r.unshift(i.pop());break}(async()=>{const a=i.length===1?i[0].payload:i.map(s=>s.payload);this.emit("debug",{action:"sendRpcPayload",payload:a});try{const s=await this._send(a);this.emit("debug",{action:"receiveRpcResult",result:s});for(const{resolve:o,reject:u,payload:c}of i){if(this.destroyed){u(ri("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const h=s.filter(p=>p.id===c.id)[0];if(h==null){const p=ri("missing response for request","BAD_DATA",{value:s,info:{payload:c}});this.emit("error",p),u(p);continue}if("error"in h){u(this.getRpcError(c,h));continue}o(h.result)}}catch(s){this.emit("debug",{action:"receiveRpcError",error:s});for(const{reject:o}of i)o(s)}})()}},t))};var Vp;class i$ extends a3e{constructor(t,r){super(t,r);$e(this,Vp);let i=this._getOption("pollingInterval");i==null&&(i=r$.pollingInterval),pe(this,Vp,i)}_getSubscriber(t){const r=super._getSubscriber(t);return UH(r)&&(r.pollingInterval=q(this,Vp)),r}get pollingInterval(){return q(this,Vp)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");pe(this,Vp,t),this._forEachSubscriber(r=>{UH(r)&&(r.pollingInterval=q(this,Vp))})}}Vp=new WeakMap;var Sb;class a$ extends i${constructor(t,r,i){t==null&&(t="http://localhost:8545");super(r,i);$e(this,Sb);typeof t=="string"?pe(this,Sb,new dd(t)):pe(this,Sb,t.clone())}_getConnection(){return q(this,Sb).clone()}async send(t,r){return await this._start(),await super.send(t,r)}async _send(t){const r=this._getConnection();r.body=JSON.stringify(t),r.setHeader("content-type","application/json");const i=await r.send();i.assertOk();let a=i.bodyJson;return Array.isArray(a)||(a=[a]),a}}Sb=new WeakMap;function zL(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&Gr(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=zL(n[e]);if(t)return t}return null}if(typeof n=="string")try{return zL(JSON.parse(n))}catch{}return null}function GL(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)GL(n[t],e);if(typeof n=="string")try{return GL(JSON.parse(n),e)}catch{}}}function s3e(n){const e=[];return GL(n,e),e}var Ab,Eb;const Mg=class Mg extends i${constructor(t,r,i){const a=Object.assign({},i??{},{batchMaxCount:1});Ae(t&&t.request,"invalid EIP-1193 provider","ethereum",t);super(r,a);$e(this,Ab);$e(this,Eb);pe(this,Eb,null),i&&i.providerInfo&&pe(this,Eb,i.providerInfo),pe(this,Ab,async(s,o)=>{const u={method:s,params:o};this.emit("debug",{action:"sendEip1193Request",payload:u});try{const c=await t.request(u);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const h=new Error(c.message);throw h.code=c.code,h.data=c.data,h.payload=u,this.emit("debug",{action:"receiveEip1193Error",error:h}),h}})}get providerInfo(){return q(this,Eb)}async send(t,r){return await this._start(),await super.send(t,r)}async _send(t){Ae(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const r=await q(this,Ab).call(this,t.method,t.params||[]);return[{id:t.id,result:r}]}catch(r){return[{id:t.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(t,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(t,r)}async hasSigner(t){t==null&&(t=0);const r=await this.send("eth_accounts",[]);return typeof t=="number"?r.length>t:(t=t.toLowerCase(),r.filter(i=>i.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await q(this,Ab).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new Mg(t.provider);const r=t.window?t.window:typeof window<"u"?window:null;if(r==null)return null;const i=t.anyProvider;if(i&&r.ethereum)return new Mg(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const a=t.timeout?t.timeout:300;return a===0?null:await new Promise((s,o)=>{let u=[];const c=v=>{u.push(v.detail),i&&h()},h=()=>{if(clearTimeout(p),u.length)if(t&&t.filter){const v=t.filter(u.map(y=>Object.assign({},y.info)));if(v==null)s(null);else if(v instanceof Mg)s(v);else{let y=null;if(v.uuid&&(y=u.filter(S=>v.uuid===S.info.uuid)[0]),y){const{provider:x,info:S}=y;s(new Mg(x,void 0,{providerInfo:S}))}else o(ri("filter returned unknown info","UNSUPPORTED_OPERATION",{value:v}))}}else{const{provider:v,info:y}=u[0];s(new Mg(v,void 0,{providerInfo:y}))}else s(null);r.removeEventListener("eip6963:announceProvider",c)},p=setTimeout(()=>{h()},a);r.addEventListener("eip6963:announceProvider",c),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};Ab=new WeakMap,Eb=new WeakMap;let Zb=Mg;const kH=["function marketCount() view returns (uint256)","function markets(uint256) view returns (uint256 id, string question, uint256 yesPool, uint256 noPool, uint256 totalYesShares, uint256 totalNoShares, uint64 closeTime, uint8 status, bool outcome, bytes32 evidenceTxHash, address creator, uint64 createdAt)","function yesShares(uint256 marketId, address user) view returns (uint256)","function noShares(uint256 marketId, address user) view returns (uint256)","function claimed(uint256 marketId, address user) view returns (bool)","function createMarket(string calldata question, uint64 closeTime) external returns (uint256)","function quoteCostWei(bool sideYes, uint256 sharesToBuy, uint256 marketId) view returns (uint256)","function buyYes(uint256 marketId, uint256 sharesToBuy) payable","function buyNo(uint256 marketId, uint256 sharesToBuy) payable","function resolveMarket(uint256 marketId, bool outcome, bytes32 evidenceTxHash) external returns (bool)","function deleteMarket(uint256 marketId) external returns (bool)","function getPayoutPerShareWei(uint256 marketId) view returns (uint256)","function claim(uint256 marketId) external returns (uint256)","event MarketCreated(uint256 indexed marketId, string question, uint64 closeTime)","event SharesBought(uint256 indexed marketId, address indexed buyer, bool sideYes, uint256 shares, uint256 costWei)","event MarketResolved(uint256 indexed marketId, bool outcome, bytes32 evidenceTxHash)","event Claimed(uint256 indexed marketId, address indexed user, uint256 amountWei)","event MarketCancelled(uint256 indexed marketId)"],BH={chainId:"0x138B",chainName:"Mantle Sepolia",nativeCurrency:{name:"MNT",symbol:"MNT",decimals:18},rpcUrls:["https://rpc.sepolia.mantle.xyz"],blockExplorerUrls:["https://explorer.sepolia.mantle.xyz"]};class s${constructor(e="0x76fe9c7fA93afF8053FFfBD9995A611B49eb5C6F"){this.provider=null,this.signer=null,this.contract=null,this.userAddress=null,this.contractAddress=e}async connect(){try{if(!window.ethereum)return{success:!1,error:"Please install MetaMask!"};this.provider=new Zb(window.ethereum);const e=await window.ethereum.request({method:"eth_requestAccounts"});return this.userAddress=e[0],this.signer=await this.provider.getSigner(),(await this.provider.getNetwork()).chainId!==BigInt(5003)&&(await this.switchToMantleSepolia(),this.provider=new Zb(window.ethereum),this.signer=await this.provider.getSigner()),this.contract=new td(this.contractAddress,kH,this.signer),console.log(" PolymarketL1 connected:",this.userAddress),{success:!0,address:this.userAddress}}catch(e){return console.error(" PolymarketL1 connection failed:",e),{success:!1,error:e.message}}}async switchToMantleSepolia(){try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:BH.chainId}]})}catch(e){if(e.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[BH]});else throw e}}async createMarket(e,t){try{if(this.contract||await this.connect(),!this.contract)return{success:!1,error:"Contract not initialized"};console.log(` Creating market: ${e}`);const i=await(await this.contract.createMarket(e,t)).wait(),a=i.logs.find(o=>{try{const u=this.contract.interface.parseLog(o);return(u==null?void 0:u.name)==="MarketCreated"}catch{return!1}});let s=0;if(a){const o=this.contract.interface.parseLog(a);s=Number(o==null?void 0:o.args[0])}return console.log(` Market created: ID ${s}, TX: ${i.hash}`),{success:!0,marketId:s,txHash:i.hash}}catch(r){return console.error(" Create market failed:",r),{success:!1,error:r.message}}}async getMarket(e){try{if(!this.contract)return null;const t=await this.contract.markets(e);return{id:Number(t[0]),question:t[1],yesPool:Number(to(t[2])),noPool:Number(to(t[3])),totalYesShares:Number(t[4]),totalNoShares:Number(t[5]),closeTime:Number(t[6]),status:Number(t[7]),outcome:t[8],evidenceTxHash:t[9],creator:t[10],createdAt:Number(t[11])}}catch(t){return console.error("Get market failed:",t),null}}async quoteCost(e,t,r){try{if(!this.contract)return 0;const i=await this.contract.quoteCostWei(t,r,e);return Number(to(i))}catch(i){return console.error("Quote cost failed:",i),0}}async buyYes(e,t){try{if(!this.contract)return{success:!1,error:"Contract not initialized"};const r=await this.contract.quoteCostWei(!0,t,e);console.log(` Buying ${t} YES shares for ${to(r)} MNT`);const a=await(await this.contract.buyYes(e,t,{value:r})).wait();return console.log(` YES shares bought: TX ${a.hash}`),{success:!0,txHash:a.hash}}catch(r){return console.error(" Buy YES failed:",r),{success:!1,error:r.message}}}async buyNo(e,t){try{if(!this.contract)return{success:!1,error:"Contract not initialized"};const r=await this.contract.quoteCostWei(!1,t,e);console.log(` Buying ${t} NO shares for ${to(r)} MNT`);const a=await(await this.contract.buyNo(e,t,{value:r})).wait();return console.log(` NO shares bought: TX ${a.hash}`),{success:!0,txHash:a.hash}}catch(r){return console.error(" Buy NO failed:",r),{success:!1,error:r.message}}}async getUserShares(e,t){try{if(console.log("[getUserShares] Starting...",{marketId:e,userAddress:t}),!this.contract){console.log("[getUserShares] Contract not initialized, creating read-only provider...");const s=new a$("https://rpc.sepolia.mantle.xyz");this.contract=new td(this.contractAddress,kH,s)}if(!this.contract)return console.error("[getUserShares] Contract still not available"),{yesShares:0,noShares:0};console.log("[getUserShares] Calling contract.yesShares...");const r=await this.contract.yesShares(e,t);console.log("[getUserShares] yesShares result:",r),console.log("[getUserShares] Calling contract.noShares...");const i=await this.contract.noShares(e,t);console.log("[getUserShares] noShares result:",i);const a={yesShares:Number(r),noShares:Number(i)};return console.log("[getUserShares] Final result:",a),a}catch(r){return console.error("[getUserShares] Error:",r),{yesShares:0,noShares:0}}}async claim(e){try{if(!this.contract)return{success:!1,error:"Contract not initialized"};console.log(` Claiming rewards for market ${e}`);const r=await(await this.contract.claim(e)).wait(),i=r.logs.find(s=>{try{const o=this.contract.interface.parseLog(s);return(o==null?void 0:o.name)==="Claimed"}catch{return!1}});let a=0;if(i){const s=this.contract.interface.parseLog(i);a=Number(to(s==null?void 0:s.args[2]))}return console.log(` Rewards claimed: ${a} MNT, TX: ${r.hash}`),{success:!0,amount:a,txHash:r.hash}}catch(t){return console.error(" Claim failed:",t),{success:!1,error:t.message}}}getUserAddress(){return this.userAddress}async resolveMarket(e,t){try{if(!this.contract||!this.signer)throw new Error("Contract not initialized. Call connect() first.");console.log(`Resolving market ${e} with outcome: ${t}`);const r=Gi(Of(`market-${e}-${Date.now()}`)),i=await this.contract.resolveMarket(e,t,r);console.log("Transaction sent:",i.hash);const a=await i.wait();console.log("Market resolved! Transaction:",a.hash)}catch(r){throw console.error("Failed to resolve market:",r),r}}async claimRewards(e){try{if(!this.contract||!this.signer)throw new Error("Contract not initialized. Call connect() first.");console.log(`Claiming rewards for market ${e}`);const t=await this.contract.claim(e);console.log("Transaction sent:",t.hash);const r=await t.wait();console.log("Rewards claimed! Transaction:",r.hash);const i=r.logs.find(a=>{try{const s=this.contract.interface.parseLog(a);return s&&s.name==="RewardsClaimed"}catch{return!1}});if(i){const a=this.contract.interface.parseLog(i);return to(a.args.amount)}return"0"}catch(t){throw console.error("Failed to claim rewards:",t),t}}async deleteMarket(e){try{if(!this.contract||!this.signer)throw new Error("Contract not initialized. Call connect() first.");console.log(`Deleting market ${e}`);const t=await this.contract.deleteMarket(e);console.log("Transaction sent:",t.hash);const r=await t.wait();console.log("Market deleted! Transaction:",r.hash)}catch(t){throw console.error("Failed to delete market:",t),t}}}const ha=new s$,FH=Object.freeze(Object.defineProperty({__proto__:null,PolymarketService:s$,polymarketService:ha},Symbol.toStringTag,{value:"Module"})),o3e=["function createDeposit(string memory marketId) external payable returns (uint256)","function calculateInterest(uint256 depositId) public view returns (uint256)","function withdrawDeposit(uint256 depositId) external","function forfeitDeposit(uint256 depositId) external","function getDeposit(uint256 depositId) external view returns (address creator, uint256 amount, uint256 depositTime, uint256 withdrawTime, bool isActive, string memory marketId, uint256 currentInterest)","function getUserDeposits(address user) external view returns (uint256[] memory)","function isYieldEnabled(uint256 depositId) external view returns (bool)","function getContractBalance() external view returns (uint256)","event DepositCreated(uint256 indexed depositId, address indexed creator, uint256 amount, string marketId)","event DepositWithdrawn(uint256 indexed depositId, address indexed creator, uint256 amount, uint256 interest)","event DepositForfeited(uint256 indexed depositId, address indexed creator, uint256 amount)"],zH={chainId:"0xaa36a7",chainName:"Ethereum Sepolia",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://sepolia.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorerUrls:["https://sepolia.etherscan.io"]};class l3e{constructor(e="0xD9eB252A74057965600025023da1bDC51dE3d158"){this.provider=null,this.signer=null,this.contract=null,this.userAddress=null,this.contractAddress=e}async connect(){try{if(!window.ethereum)return{success:!1,error:"Please install MetaMask!"};this.provider=new Zb(window.ethereum);const e=await window.ethereum.request({method:"eth_requestAccounts"});return this.userAddress=e[0],this.signer=await this.provider.getSigner(),(await this.provider.getNetwork()).chainId!==BigInt(11155111)&&(await this.switchToEthereumSepolia(),this.provider=new Zb(window.ethereum),this.signer=await this.provider.getSigner()),this.contract=new td(this.contractAddress,o3e,this.signer),console.log(" DepositManager connected:",this.userAddress),{success:!0,address:this.userAddress}}catch(e){return console.error(" DepositManager connection failed:",e),{success:!1,error:e.message}}}async switchToEthereumSepolia(){try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:zH.chainId}]})}catch(e){if(e.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[zH]});else throw e}}async createDeposit(e,t){try{if(this.contract||await this.connect(),!this.contract)return{success:!1,error:"Contract not initialized"};const r=qAe(t.toString());console.log(` Creating deposit: ${t} ETH for market ${e}`);const a=await(await this.contract.createDeposit(e,{value:r})).wait(),s=a.logs.find(u=>{try{const c=this.contract.interface.parseLog(u);return(c==null?void 0:c.name)==="DepositCreated"}catch{return!1}});let o=0;if(s){const u=this.contract.interface.parseLog(s);o=Number(u==null?void 0:u.args[0])}return console.log(` Deposit created: ID ${o}, TX: ${a.hash}`),{success:!0,depositId:o,txHash:a.hash}}catch(r){return console.error(" Create deposit failed:",r),{success:!1,error:r.message}}}async calculateInterest(e){try{if(!this.contract)return 0;const t=await this.contract.calculateInterest(e);return Number(to(t))}catch(t){return console.error("Calculate interest failed:",t),0}}async getDeposit(e){try{if(!this.contract)return null;const t=await this.contract.getDeposit(e);return{creator:t[0],amount:Number(to(t[1])),depositTime:Number(t[2]),withdrawTime:Number(t[3]),isActive:t[4],marketId:t[5],currentInterest:Number(to(t[6]))}}catch(t){return console.error("Get deposit failed:",t),null}}async withdrawDeposit(e){try{if(!this.contract)return{success:!1,error:"Contract not initialized"};console.log(` Withdrawing deposit: ID ${e}`);const r=await(await this.contract.withdrawDeposit(e)).wait();return console.log(` Deposit withdrawn: TX ${r.hash}`),{success:!0,txHash:r.hash}}catch(t){return console.error(" Withdraw deposit failed:",t),{success:!1,error:t.message}}}async forfeitDeposit(e){try{if(!this.contract)return{success:!1,error:"Contract not initialized"};console.log(` Forfeiting deposit: ID ${e}`);const r=await(await this.contract.forfeitDeposit(e)).wait();return console.log(` Deposit forfeited: TX ${r.hash}`),{success:!0,txHash:r.hash}}catch(t){return console.error(" Forfeit deposit failed:",t),{success:!1,error:t.message}}}async getUserDeposits(e){try{return this.contract?(await this.contract.getUserDeposits(e)).map(r=>Number(r)):[]}catch(t){return console.error("Get user deposits failed:",t),[]}}async isYieldEnabled(e){try{return this.contract?await this.contract.isYieldEnabled(e):!1}catch(t){return console.error("Check yield enabled failed:",t),!1}}async getUserBalance(){if(!this.provider||!this.userAddress)return 0;try{const e=await this.provider.getBalance(this.userAddress);return Number(to(e))}catch(e){return console.error("Get balance failed:",e),0}}getContractAddress(){return this.contractAddress}getUserAddress(){return this.userAddress}}const HL=new l3e("0xD9eB252A74057965600025023da1bDC51dE3d158"),u3e=(n,e,t,r)=>{const[i,a]=z.useState(!1);return{isCreatingMarket:i,setIsCreatingMarket:a,handleAddMarket:async h=>{try{t("[SYSTEM] Creating market on blockchain...");let p;if(h.depositAmount&&h.depositAmount>0){t(`[ETH] Creating deposit: ${h.depositAmount} METH...`);const w=await HL.createDeposit(h.title,h.depositAmount);if(!w.success)throw new Error(w.error||"Failed to create deposit");p=w.depositId,t(`[METH] Deposit created! ID: ${p}`)}t("[MANTLE] Switching to Mantle Sepolia network..."),await ha.connect(),t("[MANTLE] Connected to Mantle Sepolia");const v=Math.floor(Date.now()/1e3)+(h.duration||86400);t("[MANTLE] Calling createMarket contract...");const y=await ha.createMarket(h.title,v);if(!y.success||!y.marketId)throw t(`[ERROR] Market creation failed: ${y.error}`),new Error(y.error||"Failed to create market");const x=y.marketId;t(`[MANTLE] Market created! ID: ${x}`);const S={...h,id:x,depositId:p,history:[{timestamp:Date.now(),probYes:em(h.yesPool,h.noPool)}]};e(w=>[...w,S]),t(`[SUCCESS] Market #${x} deployed successfully!`),a(!1),setTimeout(()=>r(),2e3)}catch(p){console.error("Failed to create market:",p),t(`[ERROR] Failed to create market: ${p.message}`),p.message.includes("user rejected")?alert(` 

`):p.message.includes("insufficient funds")?alert(` 

 Mantle Sepolia  MNT  Gas `):p.message.includes("network")?alert(` 

 Mantle Sepolia `):alert(` 

: ${p.message}

`),a(!1)}},handleResolveMarket:async(h,p)=>{const v=n.find(S=>S.id===h);if(!v)return;const y=p?"SECURE (YES)":"COMPROMISED (NO)",x=v.depositId?`

Note: You can withdraw your deposit after resolving.`:"";if(confirm(`Resolve Market #${h} as ${y}?${x}`))try{t(`[MANTLE] Resolving market #${h}...`),await ha.connect(),t("[SYSTEM] Verifying admin permissions...");const S=await window.ethereum.request({method:"eth_accounts"});t(`[INFO] Current wallet: ${S[0]}`),t("[INFO] Required admin: 0x569Fe9311d92322c3b755B426D6f8Be9d9F1f2f6"),await ha.resolveMarket(h,p),t(`[SUCCESS] Market #${h} resolved as ${y}`),e(w=>w.map(A=>A.id===h?{...A,resolved:!0,outcome:p}:A)),t("[MANTLE] Auto-claiming rewards for winners...");try{const w=await ha.claimRewards(h);t(`[SUCCESS] Claimed ${w} MNT rewards!`),t("[INFO] Rewards transferred to your wallet"),setTimeout(()=>r(),2e3)}catch(w){console.error("Auto-claim failed:",w),t(`[WARNING] Auto-claim failed: ${w.message}`),t("[INFO] You can manually claim rewards later")}v.depositId&&v.depositAmount&&t(`[INFO] Deposit ${v.depositAmount} METH + interest can be withdrawn`)}catch(S){if(console.error("Failed to resolve market:",S),t(`[ERROR] Failed to resolve market: ${S.message}`),S.message.includes("Only admin"))alert(` 



: 0x569Fe9311d92322c3b755B426D6f8Be9d9F1f2f6

 "SWITCH WALLET" `),t("[ERROR] Only admin can resolve markets"),t("[INFO] Please switch to admin wallet: 0x569Fe...f2f6");else if(S.message.includes("Market does not exist"))alert(` 



:
- 
- 

:
1. DELETE
2. 
3. 

: 0x76fe9c7fA93afF8053FFfBD9995A611B49eb5C6F`),t("[ERROR] Market does not exist on new contract"),t("[INFO] Please delete old market and create a new one");else if(S.message.includes("Too early to resolve")){const w=Math.floor(Date.now()/1e3),T=(v.createdAt?v.createdAt+(v.duration||86400):0)-w,C=Math.floor(T/3600),O=Math.floor(T%3600/60);alert(` 

: ${C} ${O}

:
1. 
2. 
3. `),t("[ERROR] Market not yet closed"),t(`[INFO] Remaining time: ${C}h ${O}m`)}else S.message.includes("user rejected")?alert(` 

`):S.message.includes("insufficient funds")?alert(` 

 MNT  Gas `):alert(` 

: ${S.message}

:
1. 
2.  (Mantle Sepolia)
3. `)}},handleClaimRewards:async h=>{try{const p=n.find(y=>y.id===h);if(!p||!p.resolved){t("[ERROR] Market must be resolved before claiming rewards");return}t(`[MANTLE] Claiming rewards for market #${h}...`),await ha.connect();const v=await ha.claimRewards(h);t(`[SUCCESS] Claimed ${v} MNT rewards!`),t("[INFO] Rewards transferred to your wallet"),setTimeout(()=>r(),2e3)}catch(p){console.error("Failed to claim rewards:",p),t(`[ERROR] Failed to claim rewards: ${p.message}`)}},handleDeleteMarket:async(h,p)=>{if(n.find(y=>y.id===h)&&confirm(` #${h}?

: `))try{t(`[MANTLE] Deleting market #${h}...`),await ha.connect(),await ha.deleteMarket(h),t(`[SUCCESS] Market #${h} deleted from blockchain`),e(y=>y.filter(x=>x.id!==h)),p(null)}catch(y){console.error("Failed to delete market:",y),t(`[ERROR] Failed to delete market: ${y.message}`),y.message.includes("Only admin")?alert(` 



: 0x569Fe9311d92322c3b755B426D6f8Be9d9F1f2f6`):y.message.includes("Market has trades")?alert(` 



`):alert(` 

: ${y.message}`)}}}},c3e=(n,e,t,r,i)=>({handleUserTrade:async(o,u,c,h)=>{var p;try{if(i){t("[SYSTEM] Submitting trade to blockchain...");const v=Math.floor(c),y=u===Wo.YES?await ha.buyYes(o,v):await ha.buyNo(o,v);if(y.success){t(`[SUCCESS] Trade confirmed: ${(p=y.txHash)==null?void 0:p.slice(0,20)}...`);const x=await ha.getMarket(o);x&&e(S=>S.map(w=>w.id===o?{...w,yesPool:x.yesPool,noPool:x.noPool,history:[...w.history,{timestamp:Date.now(),probYes:em(x.yesPool,x.noPool)}]}:w)),setTimeout(()=>r(),3e3)}else t(`[ERROR] Trade failed: ${y.error}`),alert(`Trade failed: ${y.error}`)}else e(v=>v.map(y=>{if(y.id!==o)return y;const x=u===Wo.YES?y.yesPool+c:y.yesPool,S=u===Wo.NO?y.noPool+c:y.noPool,w=em(x,S);return{...y,yesPool:x,noPool:S,history:[...y.history,{timestamp:Date.now(),probYes:w}]}})),t(`[USER] Bet ${c} MNT on ${u} for Market #${o}`)}catch(v){console.error("Trade failed:",v),t(`[ERROR] ${v.message}`)}},handleWithdrawDeposit:async o=>{var h,p;const u=n.find(v=>v.id===o);if(!u||!u.depositId){alert("No deposit found for this market");return}if(u.depositWithdrawn){alert("Deposit has already been withdrawn");return}if(!u.resolved){alert("Market must be resolved before withdrawing deposit");return}const c=(u.depositAmount||0)+(u.accumulatedYield||0);if(confirm(`Withdraw deposit for Market #${o}?

You will receive: ${u.depositAmount} METH + ${((h=u.accumulatedYield)==null?void 0:h.toFixed(6))||0} METH interest
Total: ${c.toFixed(6)} METH

This will switch to Ethereum Sepolia network.`))try{t(`[SYSTEM] Withdrawing deposit for Market #${o}...`);const v=await HL.connect();if(!v.success)throw new Error(v.error||"Failed to connect to deposit contract");t("[SYSTEM] Connected to Ethereum Sepolia...");const y=await HL.withdrawDeposit(u.depositId);if(y.success)e(x=>x.map(S=>S.id===o?{...S,depositWithdrawn:!0}:S)),t(`[SUCCESS] Deposit withdrawn: ${c.toFixed(6)} METH`),t(`[TX] ${y.txHash}`),alert(`Deposit withdrawn successfully!

Total: ${c.toFixed(6)} METH
TX: ${(p=y.txHash)==null?void 0:p.slice(0,20)}...`),setTimeout(()=>r(),3e3);else throw new Error(y.error||"Withdrawal failed")}catch(v){console.error("Withdraw deposit failed:",v),t(`[ERROR] Withdraw failed: ${v.message}`),alert(`Failed to withdraw deposit: ${v.message}`)}}});class f3e{async syncMarketsFromBlockchain(){try{await ha.connect();const e=ha.contract;if(!e)return console.warn("Contract not initialized"),[];const t=await e.marketCount(),r=Number(t);console.log(` Syncing ${r} markets from blockchain...`);const i=[];for(let a=1;a<=r;a++)try{const s=await ha.getMarket(a);if(s){const o={id:s.id,title:s.question,description:`Market #${s.id}`,yesPool:s.yesPool,noPool:s.noPool,creator:s.creator,createdAt:s.createdAt*1e3,resolved:s.status===2,outcome:s.outcome,category:"Blockchain",icon:"",duration:Math.floor((s.closeTime*1e3-Date.now())/1e3),history:[{timestamp:Date.now(),probYes:em(s.yesPool,s.noPool)}]};i.push(o)}}catch(s){console.error(`Failed to sync market ${a}:`,s)}return console.log(` Synced ${i.length} markets from blockchain`),i}catch(e){return console.error("Failed to sync markets from blockchain:",e),[]}}async getMarketDetails(e){try{const t=await ha.getMarket(e);return t?{id:t.id,title:t.question,description:`Market #${t.id}`,yesPool:t.yesPool,noPool:t.noPool,creator:t.creator,createdAt:t.createdAt*1e3,resolved:t.status===2,outcome:t.outcome,category:"Blockchain",icon:"",duration:Math.floor((t.closeTime*1e3-Date.now())/1e3),history:[{timestamp:Date.now(),probYes:em(t.yesPool,t.noPool)}]}:null}catch(t){return console.error(`Failed to get market ${e}:`,t),null}}async listenForNewMarkets(e){try{const t=ha.contract;if(!t)return;const r=t.filters.MarketCreated();t.on(r,async(i,a,s)=>{console.log(" New market detected:",Number(i));const o=await this.getMarketDetails(Number(i));o&&e(o)}),console.log(" Listening for new markets...")}catch(t){console.error("Failed to listen for new markets:",t)}}stopListening(){try{const e=ha.contract;e&&(e.removeAllListeners(),console.log(" Stopped listening for events"))}catch(e){console.error("Failed to stop listening:",e)}}}const GH=new f3e,h3e="0x76fe9c7fA93afF8053FFfBD9995A611B49eb5C6F",d3e="https://rpc.sepolia.mantle.xyz",p3e=["function marketCount() view returns (uint256)","function markets(uint256) view returns (uint256 id, string question, uint256 yesPool, uint256 noPool, uint256 totalYesShares, uint256 totalNoShares, uint64 closeTime, uint8 status, bool outcome, bytes32 evidenceTxHash, address creator, uint64 createdAt)"],HH={"Target: Lithium Reserve #L-992":" #L-992","Target: GPU Cluster Rent-Fi":"GPU","Target: CBAM Carbon Credits":"CBAM","Target: Cold Chain Logistics":"",1:"1"},VH={"Target: Lithium Reserve #L-992":"Security audit of Lithium Reserve tokenization protocol","Target: GPU Cluster Rent-Fi":"Security audit of GPU rental DeFi protocol","Target: CBAM Carbon Credits":"Security audit of Carbon Border Adjustment Mechanism credits","Target: Cold Chain Logistics":"Security audit of cold chain supply tracking protocol",1:"Test market with trading activity"},EM={"Target: Lithium Reserve #L-992":"Energy","Target: GPU Cluster Rent-Fi":"Infra","Target: CBAM Carbon Credits":"Energy","Target: Cold Chain Logistics":"SupplyChain",1:"Finance"},jH={"Target: Lithium Reserve #L-992":"","Target: GPU Cluster Rent-Fi":"","Target: CBAM Carbon Credits":"","Target: Cold Chain Logistics":"",1:""};class m3e{constructor(){this.provider=new a$(d3e),this.contract=new td(h3e,p3e,this.provider)}async loadMarketsFromContract(){try{console.log(" ...");const e=await this.contract.marketCount();console.log(`  ${e} `);const t=[];for(let r=1;r<=Number(e);r++)try{const i=await this.contract.markets(r),a=Number(i.status);if(a===2){console.log(`   #${r}`);continue}const s=i.question,o=Number(to(i.yesPool)),u=Number(to(i.noPool)),c=Number(i.createdAt),h={id:Number(i.id),title:s,titleCN:HH[s]||s,description:VH[s]||"Security audit prediction market",rwaType:EM[s]||"Finance",yesPool:o,noPool:u,resolved:a===1,outcome:i.outcome,history:[{timestamp:c,probYes:.5},{timestamp:Math.floor(Date.now()/1e3),probYes:o/(o+u+1e-4)}],imageUrl:"",activeSyndicates:[],hasZeroDayOffer:!1,depositAmount:0,yieldEnabled:!1,accumulatedYield:0,createdAt:c,depositId:0,depositWithdrawn:!1,creator:i.creator,category:EM[s]||"Finance",icon:jH[s]||"",duration:86400};t.push(h),console.log(`  #${r}: ${s}`)}catch(i){console.error(`  #${r}:`,i)}return console.log(`  ${t.length} `),t}catch(e){return console.error(" :",e),[]}}async getMarketData(e){try{const t=await this.contract.markets(e),r=Number(t.status);if(r===2)return null;const i=t.question,a=Number(to(t.yesPool)),s=Number(to(t.noPool));return{id:Number(t.id),title:i,titleCN:HH[i]||i,description:VH[i]||"Security audit prediction market",rwaType:EM[i]||"Finance",yesPool:a,noPool:s,resolved:r===1,outcome:t.outcome,history:[{timestamp:Number(t.createdAt),probYes:.5},{timestamp:Math.floor(Date.now()/1e3),probYes:a/(a+s+1e-4)}],imageUrl:"",activeSyndicates:[],hasZeroDayOffer:!1,depositAmount:0,yieldEnabled:!1,accumulatedYield:0,createdAt:Number(t.createdAt),depositId:0,depositWithdrawn:!1,creator:t.creator,category:EM[i]||"Finance",icon:jH[i]||"",duration:86400}}catch(t){return console.error(`  #${e} :`,t),null}}}const g3e=new m3e,v3e=()=>{const[n,e]=z.useState([]),[t,r]=z.useState(!0),[i,a]=z.useState(null),[s,o]=z.useState(null),[u,c]=z.useState(0),[h,p]=z.useState(5e3),[v,y]=z.useState([]),[x,S]=z.useState(!1),[w,A]=z.useState(!1),[T,C]=z.useState(null),[O,R]=z.useState(!1),[D]=z.useState(!0);Fw.useMemo(()=>bAe.map(J=>new xAe(J)),[]);const I=J=>{y(ae=>[J,...ae].slice(0,5))},F=async()=>{if(!(!T||typeof window.ethereum>"u"))try{const J=await window.ethereum.request({method:"eth_chainId"}),ae=parseInt(J,16);console.log(" Refresh Balance - ChainId:",J,"Decimal:",ae);const B=await window.ethereum.request({method:"eth_getBalance",params:[T,"latest"]}),Z=parseInt(B,16)/1e18;if(console.log(" Raw Balance:",Z),ae===5003){const le=parseFloat(Z.toFixed(4));c(le),p(Math.floor(Z)),console.log(" MNT Balance set:",le)}else console.log(" Not on Mantle Sepolia (5003), current chain:",ae)}catch(J){console.error("Failed to refresh balance:",J)}},L=async()=>{R(!0);try{if(typeof window.ethereum<"u"){const ae=(await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}).then(()=>window.ethereum.request({method:"eth_requestAccounts"})))[0];A(!0),C(ae);const B=await window.ethereum.request({method:"eth_chainId"}),Z=parseInt(B,16),le=await window.ethereum.request({method:"eth_getBalance",params:[ae,"latest"]}),he=parseInt(le,16)/1e18;if(console.log(" Connect Wallet - ChainId:",B,"Decimal:",Z),console.log(" Balance:",he),Z===5003){const ve=parseFloat(he.toFixed(4));c(ve),p(Math.floor(he)),console.log(" Set MNT Balance:",ve),I(`[SYSTEM] Wallet connected: ${ae.slice(0,6)}...${ae.slice(-4)}`),I(`[SYSTEM] Balance: ${ve.toFixed(4)} MNT`),I("[SYSTEM] Network: Mantle Sepolia (Chain ID: 5003)"),I("[SYSTEM] Syncing markets from blockchain...");try{const ue=await GH.syncMarketsFromBlockchain();ue.length>0?(e(ue),I(`[SUCCESS] Synced ${ue.length} markets from chain`),GH.listenForNewMarkets(ce=>{e(Se=>[...Se,ce]),I(`[NEW] Market #${ce.id} created: ${ce.title}`)})):I("[INFO] No markets found on chain, using local data")}catch(ue){console.error("Failed to sync markets:",ue),I(`[WARNING] Could not sync from chain: ${ue.message}`)}}else{console.log(" Wrong network. Expected: 5003, Got:",Z),I(`[SYSTEM] Wallet connected: ${ae.slice(0,6)}...${ae.slice(-4)}`),I(`[WARNING] Wrong network detected (Chain ID: ${Z})`),I("[SYSTEM] Switching to Mantle Sepolia...");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x138B"}]}),I("[SUCCESS] Switched to Mantle Sepolia"),setTimeout(()=>{L()},1e3)}catch(ve){if(ve.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x138B",chainName:"Mantle Sepolia",nativeCurrency:{name:"MNT",symbol:"MNT",decimals:18},rpcUrls:["https://rpc.sepolia.mantle.xyz"],blockExplorerUrls:["https://explorer.sepolia.mantle.xyz"]}]}),I("[SUCCESS] Mantle Sepolia network added"),setTimeout(()=>{L()},1e3)}catch(ue){console.error("Failed to add network:",ue),I(`[ERROR] Failed to add network: ${ue.message}`)}else console.error("Failed to switch network:",ve),I(`[ERROR] Failed to switch network: ${ve.message}`)}}}else alert("Please install MetaMask!")}catch(J){console.error("Wallet connection failed:",J),I("[ERROR] Wallet connection failed")}finally{R(!1)}},{isCreatingMarket:k,setIsCreatingMarket:V,handleAddMarket:j,handleResolveMarket:Y,handleClaimRewards:re,handleDeleteMarket:Q}=u3e(n,e,I,F),{handleUserTrade:W,handleWithdrawDeposit:X}=c3e(n,e,I,F,D);z.useEffect(()=>{const J=async()=>{r(!0),I("[SYSTEM] Loading markets from contract...");try{const B=await g3e.loadMarketsFromContract();e(B),I(`[SUCCESS] Loaded ${B.length} markets from contract`)}catch(B){console.error("Failed to load markets from contract:",B),I("[ERROR] Failed to load markets from contract")}finally{r(!1)}};J();const ae=setInterval(J,5e3);return()=>clearInterval(ae)},[]);const se=n.find(J=>J.id===i);return K.jsxs("div",{className:"relative w-full h-screen bg-black text-white font-sans overflow-hidden select-none",children:[K.jsx(Ele,{markets:n,activeMarketId:i,hoveredMarketId:s,onMarketSelect:a}),K.jsxs("div",{className:"absolute top-0 left-0 w-full p-4 z-20 flex justify-between items-center pointer-events-none",children:[K.jsxs("div",{className:"flex flex-col",children:[K.jsxs("h1",{className:"text-2xl font-mono font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-mantle-accent tracking-tighter flex items-center gap-2",children:[K.jsx(ZSe,{size:24,className:"text-red-500"})," MANTLE CYBER-WARFARE"]}),K.jsx("p",{className:"text-gray-500 text-[10px] font-mono tracking-[0.3em] ml-8",children:"RWA AUDIT PROTOCOL // DECENTRALIZED RED TEAMING"})]}),K.jsxs("div",{className:"flex gap-4 pointer-events-auto",children:[w?K.jsx("button",{onClick:()=>!k&&S(!0),disabled:k,className:"flex items-center gap-2 bg-red-600/80 hover:bg-red-500/80 disabled:bg-blue-600/80 backdrop-blur border border-red-400 disabled:border-blue-400 px-4 py-2 rounded-none text-sm font-mono transition-all shadow-[0_0_10px_rgba(255,0,0,0.3)] hover:shadow-[0_0_20px_rgba(255,0,0,0.5)] disabled:shadow-[0_0_10px_rgba(59,130,246,0.3)]",children:k?K.jsxs(K.Fragment,{children:[K.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),K.jsx("span",{className:"text-white font-bold",children:"CREATING..."})]}):K.jsxs(K.Fragment,{children:[K.jsx(GSe,{size:16,className:"text-white"}),K.jsx("span",{className:"text-white font-bold",children:"NEW TARGET"})]})}):K.jsx("button",{onClick:L,disabled:O,className:"flex items-center gap-2 bg-green-600/80 hover:bg-green-500/80 disabled:bg-gray-600/80 backdrop-blur border border-green-400 disabled:border-gray-400 px-4 py-2 rounded-none text-sm font-mono transition-all shadow-[0_0_10px_rgba(34,197,94,0.3)] hover:shadow-[0_0_20px_rgba(34,197,94,0.5)]",children:O?K.jsxs(K.Fragment,{children:[K.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),K.jsx("span",{className:"text-white font-bold",children:"CONNECTING..."})]}):K.jsxs(K.Fragment,{children:[K.jsx(vD,{size:16,className:"text-white"}),K.jsx("span",{className:"text-white font-bold",children:"CONNECT WALLET"})]})}),K.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gray-900/80 backdrop-blur border border-gray-700 px-4 py-2 rounded-none text-sm font-mono",children:[K.jsx(OSe,{size:16,className:"text-green-400"}),K.jsx("span",{className:"text-gray-400",children:"CITADEL:"}),K.jsx("span",{className:"text-white font-bold",children:"ONLINE"})]}),w&&T&&K.jsxs(K.Fragment,{children:[K.jsxs("div",{className:"flex items-center gap-2 bg-gray-900/80 backdrop-blur border border-green-500/50 px-4 py-2 rounded-none text-sm font-mono shadow-[0_0_10px_rgba(34,197,94,0.3)]",children:[K.jsx(vD,{size:16,className:"text-green-500"}),K.jsxs("span",{className:"text-gray-400",children:[T.slice(0,6),"...",T.slice(-4)]}),K.jsx("span",{className:"text-gray-600",children:"|"}),K.jsxs("span",{className:"text-white font-bold",children:[u.toFixed(4)," MNT"]})]}),K.jsxs("button",{onClick:()=>{A(!1),C(null),c(0)},className:"flex items-center gap-2 bg-orange-600/80 hover:bg-orange-500/80 backdrop-blur border border-orange-400 px-4 py-2 rounded-none text-sm font-mono transition-all shadow-[0_0_10px_rgba(251,146,60,0.3)] hover:shadow-[0_0_20px_rgba(251,146,60,0.5)]",title:"",children:[K.jsx(vD,{size:16,className:"text-white"}),K.jsx("span",{className:"text-white font-bold",children:"SWITCH WALLET"})]})]})]})]}),!se&&K.jsx(gAe,{markets:n,onSelect:a,onHover:o,hoveredMarketId:s}),K.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none z-10 px-6 pb-2 flex items-end justify-center",children:K.jsxs("div",{className:"w-full max-w-4xl border-t border-gray-800 pt-2",children:[K.jsx("div",{className:"flex justify-between items-center mb-1",children:K.jsxs("h3",{className:"text-[10px] font-mono text-gray-500 flex items-center gap-2",children:[K.jsx(kSe,{size:10})," GLOBAL THREAT FEED"]})}),K.jsx("div",{className:"flex gap-4 overflow-hidden mask-linear-fade",children:v.length===0?K.jsx("span",{className:"text-xs font-mono text-gray-700",children:"Waiting for cyber-kinetic intercepts..."}):v.slice(0,1).map((J,ae)=>K.jsxs("div",{className:"text-xs font-mono text-green-400 animate-pulse",children:[">"," ",J]},ae))})]})}),se&&se.id&&K.jsx("div",{className:"absolute inset-0 z-20",children:K.jsx(mAe,{market:se,userBalance:h,onClose:()=>{console.log("Closing market terminal"),a(null)},onTrade:(J,ae,B)=>W(J,ae,B,h),userAddress:T,onDelete:J=>Q(J,a),onResolve:Y,onWithdrawDeposit:X,onClaimRewards:re})}),se&&!se.id&&K.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/90",children:K.jsxs("div",{className:"text-white text-center p-8 border border-red-500",children:[K.jsx("p",{className:"text-xl mb-4",children:" Market Data Error"}),K.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Market ID is missing"}),K.jsx("button",{onClick:()=>a(null),className:"px-4 py-2 bg-red-600 hover:bg-red-500 text-white",children:"Close"})]})}),x&&K.jsx(yAe,{onAddMarket:j,onClose:()=>S(!1),onStartCreating:()=>{V(!0),S(!1),I("[SYSTEM] AI analyzing new target...")},userAddress:T})]})},o$=document.getElementById("root");if(!o$)throw new Error("Could not find root element to mount to");const y3e=eZ.createRoot(o$);y3e.render(K.jsx(Fw.StrictMode,{children:K.jsx(v3e,{})}));
